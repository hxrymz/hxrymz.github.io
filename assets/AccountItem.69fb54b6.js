import{x as A,y as N,z as y,B as I,r as i,g as _,b as C,j as u,a as e,u as o}from"./index.3f35067f.js";/* empty css                   */import{OpenModal as r}from"./DialogHRM.569f666c.js";import{b as k,g as z,a as O}from"./server_fetching.271dc31e.js";/* empty css                  */const F=A(),U=N(),H=y(),J=I(),D=({data:t,elmId:M,openUpdateView:j})=>{var h;const[b,v]=i.exports.useState(!1),[w,d]=i.exports.useState(0);i.exports.useEffect(()=>{b||(v(!0),d(_()))});const p=()=>{d(_())},l=()=>{z(p)},S=()=>{O(p)},f=async()=>{o("upd_account",t),o("upd_account_bck",JSON.parse(JSON.stringify(t)));let c={};c.zIndex=450,c.height="80vh",c.props={minHeight:"1vh",overlay:!0},c.content=e(F,{confirm:S}),r(c)},g=()=>{o("account_rel_subacc",t);let c={};c.zIndex=450,c.height="80vh",c.props={minHeight:"1vh",overlay:!0},c.content=e(U,{confirm:l}),r(c)},m=c=>{let n={account:t.accountId};c&&(n.subAccount=c),o("account_sub_mayor",t);let a={};a.zIndex=450,a.height="80vh",a.props={minHeight:"1vh",overlay:!0},a.content=e(J,{confirm:l,accountForm:n}),r(a)},x=async c=>{o("account_rel_subacc",t),o("upd_sub_account",c),o("upd_sub_account_bck",JSON.parse(JSON.stringify(c)));let n={};n.zIndex=450,n.height="80vh",n.props={minHeight:"1vh",overlay:!0},n.content=e(H,{confirm:l}),r(n)};let s=k((h=C("sub_account_group"))==null?void 0:h[t.accountId],"subAccount");return u("div",{className:"item_acc",children:[u("div",{className:"_dsplFlx account_item_box account_header",children:[u("div",{className:"_dsplFlx",onClick:f,children:[e("div",{className:"code",children:t==null?void 0:t.code}),e("div",{className:"name",children:t==null?void 0:t.name})]}),e("div",{className:"flexSpace"}),e("div",{className:" addSbAcc purple",onClick:g,children:"Agregar SubCuenta"}),e("div",{className:" addSbAcc purple",onClick:()=>m(null),children:"Submayor"})]}),(s==null?void 0:s.length)&&e("div",{children:s==null?void 0:s.map(c=>c.subAccount?u("div",{className:"_dsplFlx account_item_box",style:{marginLeft:"35px"},children:[u("div",{className:"_dsplFlx",onClick:()=>x(c),children:[e("div",{className:"code",children:c.subAccount}),e("div",{className:"name",children:c.subAccountName})]}),e("div",{className:"flexSpace"}),e("div",{className:" addSbAcc purple",onClick:()=>m(c.sub_accountId),children:"Submayor"})]},c.sub_accountId):null)})]})};export{D as default};
