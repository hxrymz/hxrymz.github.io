import{I as T,l as P,_ as X,K as G,z as J,U,r as x,j as t,a as l,k as i,p as O,B as A,H as r,Q,n as v,G as S,Y as R,O as W}from"./index.2dd67c8e.js";const z=T(),Y=P(()=>X(()=>import("./PickAccount.dca08b4c.js"),["assets/PickAccount.dca08b4c.js","assets/index.2dd67c8e.js","assets/index.1aca3d94.css"])),Z=G(),ee=J(),f=U(),s="add_entries_manually",ae=({data:y,close:h,item:m})=>{var $,I,k,F,B,E,M,L;const[g,o]=x.exports.useState(!1),[p,C]=x.exports.useState([]),[te,N]=x.exports.useState(0),u=(n,e)=>{let a=i(s)||{};a[n]=e,v(s,a),g&&o(!1),N(S())},D=(n,e)=>A("getAccountId_"+n,[i("sub_cuentas_dict"),n,e],()=>{var d,_;let a=(d=i("sub_cuentas_dict"))==null?void 0:d[n],c=(_=i("cuentaslist"))==null?void 0:_[a==null?void 0:a.accountId];return c==null?void 0:c.accountId}),j=n=>A("getSubAccountNameByK"+n,[i("sub_cuentas_dict"),n],()=>{var c,d;let e=(c=i("sub_cuentas_dict"))==null?void 0:c[n],a=(d=i("cuentaslist"))==null?void 0:d[e==null?void 0:e.accountId];return`${a==null?void 0:a.name}${e!=null&&e.subAccountName?" - "+(e==null?void 0:e.subAccountName):""}`}),b=(n,e)=>A("getSubAccountView_"+n,[i("sub_cuentas_dict"),n,e],()=>{var d,_;let a=(d=i("sub_cuentas_dict"))==null?void 0:d[n],c=(_=i("cuentaslist"))==null?void 0:_[a==null?void 0:a.accountId];return e?a!=null&&a.subAccount?a==null?void 0:a.subAccount:"":c==null?void 0:c.code}),w=()=>{let n=i(s)||{},e={...n};if(e.account&&e.amount>0){e.isDebt?(e.debitSubAccount=e.account,e.debitAccount=D(e.account)):(e.creditSubAccount=e.account,e.creditAccount=D(e.account));let a=i("list_entries")||{};a[e.account]=e,v("list_entries",a),n.isDebt=!0,n.account="",n.amount="",v(s,n),N(S())}else C(["Su registro contiene errores","escoja una cuenta y el importe debe ser mayor a 0"]),o(!0),R({text:"error en el registro a guardar"})},K=n=>{let e=i("list_entries")||{};delete e[n],v("list_entries",e),N(S())},V=n=>{u("date",new Date(n).getTime())},q=()=>{var e;let n={};n.zIndex=450,n.props={minHeight:"1vh",overlay:!0,zIndex:99999},n.content=t(Z,{valueUpdate:V,initValue:(e=i(s))==null?void 0:e.date}),W(n)},H=n=>{let e={};e.zIndex=450,e.props={zIndex:999,minHeight:"1vh",overlay:!0},e.content=t(Y,{updFrm:u,field:n}),W(e)};return x.exports.useEffect(()=>(u("isDebt",!0),()=>{}),[m]),t("div",{className:"pym81b sendBx upd_alert_bx",style:{background:"var(--color_backgrond_input)",maxWidth:"860px",margin:"10px 0 30px"},children:l("div",{className:"sendBtn  _mrgSwith  margin_form hybrid_login_form ",style:{minHeight:120,padding:"20px 68px 40px",minWidth:720,marginBottom:"1px"},children:[t("div",{className:"X_close ",style:{marginLeft:1,textAlign:"right"},onClick:h,children:t("div",{children:"X"})}),t("div",{className:"login_title ",style:{marginLeft:1,textAlign:"left"},children:t("div",{children:"Asiento Manual"})}),t("div",{className:"login_title ",style:{marginLeft:1,textAlign:"right"},children:t("div",{children:m==null?void 0:m.name})}),l("div",{className:"_dsplFlx  ",children:[t("div",{style:{margin:"0px 0 20px ",maxWidth:"50%"},children:l("div",{className:"cuenta_asiento _dsplFlx",onClick:q,children:[t("div",{style:{padding:"2px 7px 2px 0"},children:t(z,{name:"calendar",size:24,color:"#b00000"})}),t("div",{children:($=i(s))!=null&&$.date?O((I=i(s))==null?void 0:I.date):O(Date.now())})]})}),t("div",{className:"flexSpace"}),t("div",{style:{maxWidth:"50%"},children:t(f,{validationMsg:"debe contener entre 6 y 50 caracteres.",validation:{reqired:!0,minLength:6,maxLength:50},type:"text",placeholder:"Documento",updChange:n=>u("document",n)})})]}),t(f,{validationMsg:"debe contener menos de 200 caracteres.",validation:{reqired:!0,maxLength:200},type:"text",placeholder:"Descripcion",updChange:n=>u("description",n)}),l("div",{className:"box_border",children:[l("div",{className:"_dsplFlx  ",children:[l("div",{className:"in_stock_switch _dsplFlx",style:{marginTop:10},children:[t("span",{className:"sw_rgh_span",style:{margin:"2px 5px 0 0"},children:"Credito"}),t("div",{className:"in_stock_switch_btn",children:t(ee,{initvalue:(k=i(s))==null?void 0:k.isDebt,keyCode:77,updChange:n=>u("isDebt",n)})}),t("span",{className:"sw_rgh_span",style:{margin:"2px 0 0 5px"},children:"Debito"})]}),t("div",{style:{minWidth:"70%"},children:t("div",{className:" year_container  ",style:{maxWidth:"fit-content",marginBottom:25},children:t("div",{className:"cuenta_asiento",onClick:()=>H("account"),children:(F=i(s))!=null&&F.account?j((B=i(s))==null?void 0:B.account):"escoja una cuenta"})})})]}),l("div",{className:"_dsplFlx  ",children:[t("div",{style:{maxWidth:"40%"},children:((E=i(s))==null?void 0:E.account)&&t(f,{init:(M=i(s))==null?void 0:M.amount,validationMsg:"debe ser mayor que 0.",validation:{reqired:!0,minValue:.01,number:!0},type:"number",placeholder:"Importe",updChange:n=>u("amount",n)})}),t("div",{className:"flexSpace"}),t("div",{style:{maxWidth:"30%"},children:t("button",{className:"btn login_button btn_submit btn_small",style:{margin:0},type:"submit",autocomplete:"off",tabindex:"0","data-uia":"login-submit-button",onClick:w,children:"Agregar"})})]}),g&&l("div",{"data-uia":"error_message_container",className:"ui_message_container ui_message_error",children:[t("div",{className:"ui_message_icon"}),t("div",{className:"multi_msg",children:p.map(n=>t("div",{"data-uia":"text",className:"ui_message_contents",children:n}))})]}),l("div",{className:"_dsplFlx cuenta_asiento",style:{margin:"20px 0 10px"},children:[t("div",{className:"",style:{width:r()?60:120,padding:7},children:"Cuenta"}),t("div",{className:"",style:{width:r()?60:120,padding:7},children:"Sub Cuenta"}),t("div",{className:"",style:{width:r()?60:120,padding:7,textAlign:"right"},children:"Debito"}),t("div",{className:"",style:{width:r()?60:120,padding:7,textAlign:"right"},children:"Credito"})]}),(L=Q(i("list_entries")||{}))==null?void 0:L.map(n=>{var a;let e=(a=i("list_entries"))==null?void 0:a[n];return console.log(e),l("div",{className:"_dsplFlx ",children:[t("div",{className:"_asiento_item",style:{width:r()?60:120,padding:7},children:e.debitSubAccount?b(e.debitSubAccount):e.creditSubAccount?b(e.creditSubAccount):""}),t("div",{className:"_asiento_item",style:{width:r()?60:120,padding:7},children:e.debitSubAccount?b(e.debitSubAccount,!0):e.creditSubAccount?b(e.creditSubAccount,!0):""}),t("div",{className:"_asiento_item",style:{width:r()?60:120,textAlign:"right",padding:7},children:e.isDebt?`$${(e.amount*1).toFixed(2)}`:""}),t("div",{className:"_asiento_item",style:{width:r()?60:120,textAlign:"right",padding:7},children:e.isDebt?"":`$${(e.amount*1).toFixed(2)}`}),t("div",{className:"flexSpace"}),t("div",{className:"_dsplFlx delete_icon",onClick:()=>K(n),children:t(z,{name:"delete",size:24,color:"#b00000"})})]})})]}),t("button",{className:"btn login_button btn_submit btn_small",type:"submit",autocomplete:"off",tabindex:"0","data-uia":"login-submit-button",onClick:w,children:"Guardar"})]})})};function ie(y,h,m){let g=JSON.parse(m),o=null;return y&&y.map((p,C)=>{h[p]!==g[p]&&(o||(o={}),o[p]=h[p])}),o}export{ie as compareJson,ae as default};
