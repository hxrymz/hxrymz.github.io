import{I as D,b as z,w as U,S as H,l as k,_ as F,r as f,a as o,j as e,e as c,B as T,E as B,h,H as E,G as O,O as I,p as S,k as P,J}from"./index.5d7f8be5.js";const L=D(),M=z(),V=U(),j=H(),q=k(()=>F(()=>import("./AddAsientosContables.abd9864f.js"),["assets/AddAsientosContables.abd9864f.js","assets/loginScreen.811cabed.css","assets/index.5d7f8be5.js","assets/index.95310fc6.css","assets/LoginInput.ab67b996.js","assets/validations.6c3f96aa.js"])),Q=k(()=>F(()=>import("./UpdateAsientosContables.63041443.js"),["assets/UpdateAsientosContables.63041443.js","assets/loginScreen.811cabed.css","assets/index.5d7f8be5.js","assets/index.95310fc6.css","assets/LoginInput.ab67b996.js","assets/validations.6c3f96aa.js"])),R=k(()=>F(()=>import("./AsientosRegistro.c63b0a4d.js"),["assets/AsientosRegistro.c63b0a4d.js","assets/loginScreen.811cabed.css","assets/index.5d7f8be5.js","assets/index.95310fc6.css","assets/ModalDate.c2bfca1b.js","assets/ModalDate.eabf8345.css","assets/validations.6c3f96aa.js","assets/LoginInput.ab67b996.js"])),C="ctscont",W=({view:t})=>{var N,A;const[a,r]=f.exports.useState(""),[_,d]=f.exports.useState(""),i=async()=>{let n={query:"getAllAccountingEntries",params:{businessId:c("businessId")}};const u=await B(S(),n);u&&u.data&&(h("asientoslist",u.data),d(E()))},b=async()=>{let n={query:"getAllAccountsByUserId",params:{businessId:c("businessId")}};const u=await B(S(),n);u&&u.data&&h("cuentaslist",O(u.data,"accountId"));let w={query:"getAllSubAccounts",params:{businessId:c("businessId")}};const v=await B(S(),w);v&&v.data&&(h("sub_cuentas_list",v.data),h("sub_cuentas_dict",O(v.data,"sub_accountId")))};f.exports.useEffect(()=>()=>{},[]);const s=n=>{let m={};m.zIndex=450,m.props={item:n,minHeight:"700px",overlay:!0},m.content=e(q,{refreshlist:i}),I(m)},l=()=>T("asientosListFilter",[c("asientoslist"),a,c("showAll_asientos")],()=>{var w;let n="name";const m=p=>{var g,x;let v=(a==null?void 0:a.toLowerCase())&&((x=(g=p==null?void 0:p[n])==null?void 0:g.toLowerCase())==null?void 0:x.indexOf(a.toLowerCase()))>=0;if(c("showAll_asientos")||v)return p},u=(p,v)=>{console.log(p);let g=p[n],x=v[n];return g<x?-1:g>x?1:0};return(w=c("asientoslist"))==null?void 0:w.filter(m).sort(u)});f.exports.useEffect(()=>{setTimeout(()=>{window.scrollTo(0,0),b(),i()},170)},[t]);const y=n=>{h("showAll_asientos",n),d(E())};return o("div",{className:"",style:{marginLeft:"2vw"},children:[e("div",{className:"login_title ",children:e("div",{children:"Asientos"})}),o("div",{className:"_dsplFlx ",children:[e("div",{className:"login_title ",children:e(M,{lbl:"Agregar Asiento",icon:"account",theme:"",updChanges:s})}),e("div",{className:"sendBtn _dsplFlx spaceAround ",style:{marginTop:8},children:o("div",{className:"in_stock_switch _dsplFlx",children:[e("div",{className:"in_stock_switch_btn",children:e(V,{initvalue:c("showAll_asientos"),keyCode:77,updChange:y})}),e("span",{className:"sw_rgh_span",children:"Mostrar Todas"})]})}),e("div",{className:"flexSpace"})]}),e("div",{className:" _search_MrgV  ",children:c("showAll_asientos")?null:e("div",{className:"years_card ",style:{marginLeft:"2vw"},children:e(j,{updChanges:r,placeholderCode:"buscar..."})})}),e("div",{className:"_dsplFlx  ",children:e("div",{className:"_dsplFlx cuenta_bx_details header",children:o("div",{className:"_dsplFlx ",children:[e("div",{className:"_header_item",style:{width:300},children:e("div",{children:"Nombre Asiento"})}),e("div",{className:"_header_item",style:{width:450},children:o("div",{children:["Debito"," "]})}),e("div",{className:"_header_item",style:{width:450},children:e("div",{children:"Credito"})})]})})}),e("div",{className:"asientoslist",children:((N=l())==null?void 0:N.length)>0&&((A=l())==null?void 0:A.map(n=>n&&e($,{item:n,refreshlist:i})))})]})},$=({item:t,refreshlist:a})=>{const r=async(s,l)=>{},_=s=>T("getSubAccountByK_"+s,[c("sub_cuentas_dict"),s],()=>{var N,A;let l=(N=c("sub_cuentas_dict"))==null?void 0:N[s],y=(A=c("cuentaslist"))==null?void 0:A[l==null?void 0:l.accountId];return`${y==null?void 0:y.name}${l!=null&&l.subAccountName?" - "+(l==null?void 0:l.subAccountName):""}`}),d=()=>{h(C,t),h(C+"_backUp",JSON.stringify(t));let s={};s.zIndex=450,s.props={item:t,minHeight:"1vh",overlay:!0},s.content=e(Q,{updAsientos:r,refreshlist:a}),I(s)},i=()=>{h(C,t),h(C+"_backUp",JSON.stringify(t));let s={};s.zIndex=450,s.props={minHeight:"1vh",overlay:!0},s.content=e(R,{refreshlist:a,item:t}),I(s)},b=()=>{let s={};s.zIndex=450,s.props={item:t,minHeight:"1vh",overlay:!0},s.content=e(K,{confirm:()=>a()}),I(s)};return e("div",{className:"_dsplFlx cuenta_details ",style:{},children:o("div",{className:"_dsplFlx cuenta_bx_details ",style:{},children:[o("div",{className:"_dsplFlx ",onClick:d,children:[e("div",{className:"_asiento_item",style:{width:300},children:e("div",{children:t.name})}),e("div",{className:"_asiento_item",style:{width:450},children:o("div",{children:[_(t.debitAccount)," "]})}),e("div",{className:"_asiento_item",style:{width:450},children:e("div",{children:_(t.creditAccount)})})]}),e("div",{className:"flexSpace"}),o("div",{className:"_dsplFlx",children:[e("div",{className:"_dsplFlx delete_icon launcicon",style:{marginRight:17},onClick:i,children:e(L,{name:"send",size:24,color:"#fff"})}),e("div",{className:"_dsplFlx delete_icon",onClick:b,children:e(L,{name:"delete",size:24,color:"#b00000"})})]})]})})},K=({data:t,confirm:a})=>{const{modalID:r,item:_}=t||{},d=async()=>{let i={query:"deleteAsientoss",params:{id:_.id}};const s=await P(S(),i);s&&s.data&&(J({id:r}),a(_))};return o("div",{...r?{"dialog-key-id":r}:"",className:"pym81b sendBx upd_alert_bx",style:{background:"var(--color_backgrond_input)"},children:[e("div",{className:"login_title ",style:{margin:"1vw"},children:e("div",{children:`Borrar Asiento "${_.name}"`})}),e("div",{className:"delete_alert_t2 ",children:e("div",{children:"Una vez borrado no podras recuperarlo"})}),e("div",{className:"sendBtn _dsplFlx spaceAround",children:e("div",{className:"play-button-wrapper",style:{margin:"2vw 1vw 0"},children:e("div",{className:"play-button",onClick:d,children:e("div",{className:"lbl",children:"Borrar"})})})})]})};function X(t,a,r){let _=JSON.parse(r),d=null;return t&&t.map((i,b)=>{a[i]!==_[i]&&(d||(d={}),d[i]=a[i])}),d}export{X as compareJson,W as default};
