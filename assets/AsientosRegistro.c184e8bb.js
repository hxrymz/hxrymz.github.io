import{r as y,j as t,a as f,f as n,X as A,n as I,N,H as O,K as w,P as F,O as L,v as q}from"./index.514a39b7.js";import B from"./ModalDate.bc53e39e.js";import{I as g}from"./LoginInput.bf0d7509.js";import"./validations.6c3f96aa.js";/* empty css                    */const s="add_entries",E=({data:u,refreshlist:p,item:a})=>{var h,x;const{modalID:l}=u||{},[i,d]=y.exports.useState(!1),[S,D]=y.exports.useState(0),m=(e,o)=>{let r=n(s)||{};r[e]=o,I(s,r),i&&d(!1),D(N())},b=(e,o)=>O("getAccountId_"+e,[n("sub_cuentas_dict"),e,o],()=>{var v,_;let r=(v=n("sub_cuentas_dict"))==null?void 0:v[e],c=(_=n("cuentaslist"))==null?void 0:_[r==null?void 0:r.accountId];return c==null?void 0:c.accountId}),C=async()=>{let e=n(s)||{};e.operationId=N(),e.creditSubAccount=a.creditAccount,e.debitSubAccount=a.debitAccount,e.creditAccount=b(a.creditAccount),e.debitAccount=b(a.debitAccount),e.entryName=a.name,e!=null&&e.date||(e.date=Date.now());let o={query:"addOperationsHRG",params:{businessId:n("businessId")},form:e};const c=await w(q(),o);c&&c.data&&(I(s,{}),F({id:l}),p())},M=e=>{m("date",new Date(e).getTime())},k=()=>{var o;let e={};e.zIndex=450,e.props={minHeight:"1vh",overlay:!0,zIndex:99999},e.content=t(B,{valueUpdate:M,initValue:(o=n(s))==null?void 0:o.date}),L(e)};return t("div",{...l?{"dialog-key-id":l}:"",className:"pym81b sendBx upd_alert_bx",style:{background:"var(--color_backgrond_input)"},children:f("div",{className:"sendBtn  _mrgSwith  margin_form hybrid_login_form ",style:{minHeight:120,padding:"20px 68px 40px",minWidth:720},children:[t("div",{className:"login_title ",style:{marginLeft:1,textAlign:"left"},children:t("div",{children:"Registrando asiento"})}),t("div",{className:"login_title ",style:{marginLeft:1,textAlign:"right"},children:t("div",{children:a==null?void 0:a.name})}),f("div",{className:"cuenta_asiento _dsplFlx",onClick:k,style:{margin:"10px 0 20px "},children:[t("div",{children:"Fecha"}),t("div",{className:"flexSpace"}),t("div",{children:(h=n(s))!=null&&h.date?A((x=n(s))==null?void 0:x.date):A(Date.now())})]}),t(g,{validationMsg:"debe contener entre 6 y 50 caracteres.",validation:{reqired:!0,minLength:6,maxLength:50},type:"text",placeholder:"Documento",updChange:e=>m("document",e)}),t(g,{validationMsg:"debe contener entre 6 y 200 caracteres.",validation:{reqired:!0,minValue:.01,number:!0},type:"number",placeholder:"Importe",updChange:e=>m("amount",e)}),t(g,{validationMsg:"debe contener menos de 200 caracteres.",validation:{reqired:!0,maxLength:200},type:"text",placeholder:"Descripcion",updChange:e=>m("description",e)}),t("button",{className:"btn login_button btn_submit btn_small",type:"submit",autocomplete:"off",tabindex:"0","data-uia":"login-submit-button",onClick:C,children:"Agregar"})]})})};function J(u,p,a){let l=JSON.parse(a),i=null;return u&&u.map((d,S)=>{p[d]!==l[d]&&(i||(i={}),i[d]=p[d])}),i}export{J as compareJson,E as default};
