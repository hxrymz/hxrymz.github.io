import{e as K,G as U,H as $,S as E,P as G,o as L,r as d,b as i,g as c,j as s,a as l,h as T,u as p}from"./index.4583f769.js";import{OpenModal as W}from"./DialogHRM.74ea5c4e.js";/* empty css               */import{S as q,g as w}from"./server_fetching.d2615810.js";import{g as J}from"./server_fetching.53e5e63d.js";/* empty css                  */K();const Q=U(),R=$();E();const t="Acc2Collect",X=G(),Y=L(),de=({data:F,elmId:Z,updObs:D})=>{var _,u,h,x,b,N,g,y,C,f,v,S,A;const[k,P]=d.exports.useState(!1),[ee,n]=d.exports.useState(0),[ce,j]=d.exports.useState(!1);d.exports.useEffect(()=>{k||(P(!0),n(i()),J())});const H=()=>{setAddview(!1),setUpdview(!0)},M=()=>{let e={};e.zIndex=450,e.height="93vh",e.props={minHeight:"1vh",overlay:!0},e.content=l(R,{confirm:V,item:F}),W(e)},V=e=>{w(m)},m=async(e,I)=>{n(i()),j(!1)},z=e=>{let I={account:e==null?void 0:e.account,subAccount:e==null?void 0:e.subAccount,customerId:e==null?void 0:e.customerId};p(t,I),w(m)},B=()=>{p(t,null),n(i())},O=e=>{p("list_show_type_collect",e),n(i())};let o=(u=c("account_ids"))==null?void 0:u[(_=c(t))==null?void 0:_.account],a=(x=c("sub_account_ids"))==null?void 0:x[(h=c(t))==null?void 0:h.subAccount],r=((b=c(t))==null?void 0:b.account)+"_"+((N=c(t))==null?void 0:N.subAccount);return s("div",{className:"",children:[l("div",{className:"accounts_header",children:l("h2",{children:"Cobros"})}),l("div",{className:"",style:{maxWidth:"720px",padding:16},children:(g=c(t))!=null&&g.account?s("div",{className:"_dsplFlx ",style:{margin:"18px 0"},children:[s("div",{className:" acc_dtls",children:[s("div",{className:"_dsplFlx",children:[l("div",{className:"code",style:{color:"#646cff",cursor:"pointer"},onClick:B,children:o==null?void 0:o.code}),l("div",{className:"name",children:o==null?void 0:o.name})]}),l("div",{className:"flexSpace"}),a?s("div",{className:"_dsplFlx",style:{margin:"10px 0 0 18px"},children:[l("div",{className:"code",children:a==null?void 0:a.subAccount}),l("div",{className:"name",children:a==null?void 0:a.subAccountName})]}):null,((y=c(t))==null?void 0:y.account)&&q(c("collect_by_doc"),"amount")?l("div",{className:"_dsplFlx ",children:s("div",{className:"_dsplFlx ",style:{padding:"35px 18px 10px "},children:[l("div",{className:"flexSpace"}),l(Y,{data:[{label:"Pendientes",id:"pending"},{label:"Cobrados",id:"done"}],active:c("list_show_type_collect")||"pending",updSelect:e=>O(e)}),l("div",{className:"flexSpace"})]})}):null]}),l("div",{className:"flexSpace"}),s("div",{children:[s("div",{className:"_dsplFlx acc_dtls",children:[l("div",{className:"name",children:"Por Cobrar:"}),l("div",{className:"code",style:{margin:"0px 0 0 7px",color:"#646cff"},children:((C=c("rec_by_acc"))==null?void 0:C[r])&&!isNaN(((f=c("rec_by_acc"))==null?void 0:f[r])*1)?` $${(((v=c("rec_by_acc"))==null?void 0:v[r])*1).toFixed(2)}`:null})]}),s("div",{className:"_dsplFlx",style:{margin:"10px 0 0 18px"},children:[l("div",{className:"flexSpace"}),l("p",{className:"group_title addBtn purple",onClick:M,children:"Hacer un Cobro"})]})]})]}):l(X,{placeholder:"buscar un cliente",width:420,handleClick:z})}),l("div",{className:"accounts_container scollVh scoll_CP_Height",children:((S=c(t))==null?void 0:S.account)&&c("collect_by_doc")&&((A=T(c("collect_by_doc")))==null?void 0:A.map(e=>c("list_show_type_collect")==="done"&&c("collect_by_doc")[e].amount===0||c("list_show_type_collect")==="pending"&&c("collect_by_doc")[e].amount>0?l(Q,{data:c("collect_by_doc")[e],elmId:e,openUpdateView:H},e):null))})]})};export{de as default};
