import{j as a,a as s,K as y,k as E,r as p,J as T,E as k,L as b,b as u,u as h,G as H,g as z}from"./index.8616bca9.js";/* empty css               */import{CloseModal as F,OpenModal as _}from"./DialogHRM.dd19080e.js";import{g as Y,d as j}from"./server_fetching.cd64659d.js";/* empty css                  */const O=({data:e,confirm:v,handleClick:f,close:C})=>{const{modalID:m}=e,d=t=>{F({id:m})};return a("div",{style:{maxHeight:"40vh",minHeight:"28vh",overflow:"auto",background:"#fff",borderRadius:13,padding:"10px 19px"},children:[a("div",{className:"_dsplFlx ",children:[s("p",{className:"form_title",children:"Eliminar Comprobante"}),s("div",{className:"flexSpace"})]}),s("div",{className:"_dsplFlx ",children:s("span",{children:"Una vez eliminado no podra ser recuperado"})}),a("div",{className:"_dsplFlx ",style:{padding:"15px 10px"},children:[s("div",{className:"flexSpace"}),s("p",{className:"group_title addBtn",onClick:d,children:"Cancelar"}),s("p",{className:"group_title addBtn red",onClick:()=>{v(),d()},children:"Eliminar"})]})]})},V=y(),A=E(),Q=({data:e,elmId:v,handleRefreshAll:f})=>{const[C,m]=p.exports.useState(!1),[d,x]=p.exports.useState(0);let t=T();const N=k();p.exports.useEffect(()=>{C||(m(!0),setTimeout(()=>{var i,r;const n=(r=(i=t.search)==null?void 0:i.split("?"))==null?void 0:r[1],l=b(n);(l==null?void 0:l.cId)&&(l==null?void 0:l.cId)===e.comprobanteId&&(g(),window.scrollTo(0,0))},350))},[t.search]);const I=()=>{x(z())},w=()=>{Y(I)},D=()=>{N({search:""})},g=()=>{var l,i;let n=u("lastTimeCallModal")||0;if(Date.now()>n){h("lastTimeCallModal",Date.now()+320);const r=(i=(l=t.search)==null?void 0:l.split("?"))==null?void 0:i[1],o=b(r);(o==null?void 0:o.cId)&&(o==null?void 0:o.cId)===e.comprobanteId||N({search:`?cId=${e.comprobanteId}`}),h("show_comprobante",e);let c={};c.zIndex=450,c.height="80vh",c.props={minHeight:"1vh",overlay:!0,closeEvent:D},c.content=s(V,{confirm:w,item:e}),_(c)}},M=()=>{j(e==null?void 0:e.operations,f)},S=()=>{let n=u("lastTimeCallModal")||0;if(Date.now()>n){h("lastTimeCallModal",Date.now()+320);let l={};l.zIndex=450,l.height="40vh",l.props={minHeight:"1vh",overlay:!0,closeEvent:()=>{}},l.content=s(O,{confirm:M,item:e}),_(l)}};return s("div",{className:"item_acc",children:a("div",{className:"_dsplFlx operation_item_box",children:[a("div",{className:"_dsplFlx ",onClick:g,children:[s("div",{className:"date",children:H(e==null?void 0:e.date)}),s("div",{className:"name",children:e==null?void 0:e.comprobanteId}),s("div",{className:"entryName",children:e==null?void 0:e.entryName}),s("div",{className:"flexSpace"}),s("div",{className:"code",children:e==null?void 0:e.amount})]}),s("div",{className:"flexSpace"}),s("div",{className:"icon",onClick:S,children:s(A,{name:"outline_delete",color:"#c62828"})})]})})};export{Q as default};
