import{A as k,B as Q,S as ee,l as f,_ as x,r as _,D as se,j as e,a as m,k as n,E as te,G as q,o as y,H as z,O as G,J as ae,x as $}from"./index.80f87a12.js";const K=k(),le=Q(),ne=ee(),ie=f(()=>x(()=>import("./AddCuentasContables.59354598.js"),["assets/AddCuentasContables.59354598.js","assets/index.80f87a12.js","assets/index.1aca3d94.css"])),re=f(()=>x(()=>import("./AddSubCuentasContables.6d88be77.js"),["assets/AddSubCuentasContables.6d88be77.js","assets/index.80f87a12.js","assets/index.1aca3d94.css"])),oe=f(()=>x(()=>import("./Item_cuentas.63bfeb8e.js"),["assets/Item_cuentas.63bfeb8e.js","assets/index.80f87a12.js","assets/index.1aca3d94.css","assets/calbacks.1d1358f3.js"])),ce=f(()=>x(()=>import("./CuentasSubmayor.1220b711.js"),["assets/CuentasSubmayor.1220b711.js","assets/index.80f87a12.js","assets/index.1aca3d94.css","assets/calbacks.1d1358f3.js"])),ue=({view:p})=>{var E,T;const[i,S]=_.exports.useState(null),[s,o]=_.exports.useState(""),[c,L]=_.exports.useState(""),W=window.location.hash.split("?")[1]?window.location.hash.split("?")[1]:null,A=se(W),C=async()=>{let t={query:"getAllAccountsByUserId",params:{businessId:n("businessId")}};const d=await q($(),t);d&&d.data&&y("cuentaslist",z(d.data,"accountId"));let I={query:"getAllSubAccounts",params:{businessId:n("businessId")}};const r=await q($(),I);r&&r.data&&(S(r.data),y("sub_cuentas_list",r.data),y("sub_cuentas_dict",z(r.data,"sub_accountId")))};_.exports.useEffect(()=>()=>{},[]);const X=()=>{let t={};t.zIndex=450,t.props={minHeight:"1vh",overlay:!0},t.content=e(ie,{refreshlist:C}),G(t)},Y=()=>{let t={};t.zIndex=450,t.props={minHeight:"1vh",overlay:!0},t.content=e(re,{refreshlist:C}),G(t)},O=()=>te("cuentasListFilter",[i,s,n("showAll")],()=>{let t="name",v="code",d="subAccount",I="subAccountName";const V=a=>{var u,h,B,F,D,P,j,H,M,R,J,U;let l=(u=n("cuentaslist"))==null?void 0:u[a==null?void 0:a.accountId],w=(s==null?void 0:s.toLowerCase())&&((B=(h=l==null?void 0:l[t])==null?void 0:h.toLowerCase())==null?void 0:B.indexOf(s.toLowerCase()))>=0,b=(s==null?void 0:s.toLowerCase())&&((P=(D=(F=l==null?void 0:l[v])==null?void 0:F.toString())==null?void 0:D.toLowerCase())==null?void 0:P.indexOf(s.toLowerCase()))>=0,N=(s==null?void 0:s.toLowerCase())&&((M=(H=(j=a==null?void 0:a[d])==null?void 0:j.toString())==null?void 0:H.toLowerCase())==null?void 0:M.indexOf(s.toLowerCase()))>=0,g=(s==null?void 0:s.toLowerCase())&&((U=(J=(R=a==null?void 0:a[I])==null?void 0:R.toString())==null?void 0:J.toLowerCase())==null?void 0:U.indexOf(s.toLowerCase()))>=0;if(n("showAll")||w||b||N||g)return a},r=(a,l)=>{var N,g,u,h;let w=(g=(N=n("cuentaslist"))==null?void 0:N[a==null?void 0:a.accountId])==null?void 0:g[v],b=(h=(u=n("cuentaslist"))==null?void 0:u[l==null?void 0:l.accountId])==null?void 0:h[v];return w<b?-1:w>b?1:0};return i==null?void 0:i.filter(V).sort(r)});_.exports.useEffect(()=>{setTimeout(()=>{window.scrollTo(0,0),C()},170)},[p]);const Z=t=>{y("showAll",t),L(ae())};return(A==null?void 0:A.view)==="submayor"?e(ce,{}):m("div",{className:"",children:[e("div",{className:"login_title ",children:e("div",{children:"Cuentas"})}),m("div",{className:"_dsplFlx ",children:[e("div",{className:"login_title ",children:e(K,{lbl:"Agregar Cuenta",icon:"account",theme:"",updChanges:X})}),e("div",{className:"sendBtn _dsplFlx spaceAround ",style:{marginTop:8},children:m("div",{className:"in_stock_switch _dsplFlx",children:[e("div",{className:"in_stock_switch_btn",children:e(le,{initvalue:n("showAll"),keyCode:77,updChange:Z})}),e("span",{className:"sw_rgh_span",children:"Mostrar Todas"})]})}),e("div",{className:"login_title ",children:e(K,{lbl:"Agregar SubCuenta",icon:"account",theme:"",updChanges:Y})}),e("div",{className:"flexSpace"})]}),e("div",{className:" _search_MrgV  ",children:n("showAll")?null:e("div",{className:"years_card ",style:{marginLeft:"2vw"},children:e(ne,{updChanges:o,placeholderCode:"buscar..."})})}),e("div",{className:"_dsplFlx  ",children:e("div",{className:"_dsplFlx cuenta_bx_details header",children:m("div",{className:"_dsplFlx ",children:[e("div",{className:"_header_item",style:{width:140},children:e("div",{className:"",children:"Tipo de Cuenta"})}),e("div",{className:"_header_item",style:{width:50},children:e("div",{children:"Cuenta"})}),e("div",{className:"_header_item",style:{width:300},children:e("div",{children:"Nombre Cuenta"})}),e("div",{className:"_header_item",style:{width:100},children:m("div",{children:["Sub Cuenta"," "]})}),e("div",{className:"_header_item",style:{width:300},children:e("div",{children:"Nombre Sub Cuenta"})})]})})}),e("div",{className:"cuentaslist",children:((E=O())==null?void 0:E.length)>0&&((T=O())==null?void 0:T.map(t=>t&&e(oe,{item:t,refreshlist:C})))})]})};function he(p,i,S){let s=JSON.parse(S),o=null;return p&&p.map((c,L)=>{i[c]!==s[c]&&(o||(o={}),o[c]=i[c])}),o}export{he as compareJson,ue as default};
