import{m as Z,G as k,S as Q,I as ee,l as b,_ as N,r as d,H as se,j as e,a as u,k as n,J as te,n as H,o as g,q as M,w as R,g as ae,t as q}from"./index.9c26ac31.js";const U=Z(),le=k(),ne=Q();ee();const ie=b(()=>N(()=>import("./AddCuentasContables.160a368a.js"),["assets/AddCuentasContables.160a368a.js","assets/index.9c26ac31.js","assets/index.6ae0e3ca.css"])),oe=b(()=>N(()=>import("./AddSubCuentasContables.ba46d740.js"),["assets/AddSubCuentasContables.ba46d740.js","assets/index.9c26ac31.js","assets/index.6ae0e3ca.css"])),re=b(()=>N(()=>import("./Item_cuentas.ccb6fd9d.js"),["assets/Item_cuentas.ccb6fd9d.js","assets/index.9c26ac31.js","assets/index.6ae0e3ca.css","assets/calbacks.a1df4bca.js"])),ce=b(()=>N(()=>import("./CuentasSubmayor.cf05e52f.js"),["assets/CuentasSubmayor.cf05e52f.js","assets/index.9c26ac31.js","assets/index.6ae0e3ca.css","assets/calbacks.a1df4bca.js"])),he=({view:z})=>{var I,S;const[h,G]=d.exports.useState(null),[t,J]=d.exports.useState(""),[de,$]=d.exports.useState(""),K=window.location.hash.split("?")[1]?window.location.hash.split("?")[1]:null,f=se(K),_=async()=>{let s={query:"getAllAccountsByUserId",params:{businessId:n("businessId")}};const o=await H(q(),s);o&&o.data&&g("cuentaslist",M(o.data,"accountId"));let x={query:"getAllSubAccounts",params:{businessId:n("businessId")}};const i=await H(q(),x);i&&i.data&&(G(i.data),g("sub_cuentas_list",i.data),g("sub_cuentas_dict",M(i.data,"sub_accountId")))};d.exports.useEffect(()=>()=>{},[]);const W=()=>{let s={};s.zIndex=450,s.props={minHeight:"1vh",overlay:!0},s.content=e(ie,{refreshlist:_}),R(s)},X=()=>{let s={};s.zIndex=450,s.props={minHeight:"1vh",overlay:!0},s.content=e(oe,{refreshlist:_}),R(s)},y=()=>te("cuentasListFilter",[h,t,n("showAll")],()=>{let s="name",m="code",o="subAccount",x="subAccountName";const A=a=>{var r,c,L,O,T,E,V,B,F,P,D,j;let l=(r=n("cuentaslist"))==null?void 0:r[a==null?void 0:a.accountId],p=(t==null?void 0:t.toLowerCase())&&((L=(c=l==null?void 0:l[s])==null?void 0:c.toLowerCase())==null?void 0:L.indexOf(t.toLowerCase()))>=0,C=(t==null?void 0:t.toLowerCase())&&((E=(T=(O=l==null?void 0:l[m])==null?void 0:O.toString())==null?void 0:T.toLowerCase())==null?void 0:E.indexOf(t.toLowerCase()))>=0,v=(t==null?void 0:t.toLowerCase())&&((F=(B=(V=a==null?void 0:a[o])==null?void 0:V.toString())==null?void 0:B.toLowerCase())==null?void 0:F.indexOf(t.toLowerCase()))>=0,w=(t==null?void 0:t.toLowerCase())&&((j=(D=(P=a==null?void 0:a[x])==null?void 0:P.toString())==null?void 0:D.toLowerCase())==null?void 0:j.indexOf(t.toLowerCase()))>=0;if(n("showAll")||p||C||v||w)return a},i=(a,l)=>{var v,w,r,c;let p=(w=(v=n("cuentaslist"))==null?void 0:v[a==null?void 0:a.accountId])==null?void 0:w[m],C=(c=(r=n("cuentaslist"))==null?void 0:r[l==null?void 0:l.accountId])==null?void 0:c[m];return p<C?-1:p>C?1:0};return h==null?void 0:h.filter(A).sort(i)});d.exports.useEffect(()=>{setTimeout(()=>{window.scrollTo(0,0),_()},170)},[z]);const Y=s=>{g("showAll",s),$(ae())};return(f==null?void 0:f.view)==="submayor"?e(ce,{}):u("div",{className:"",children:[e("div",{className:"login_title ",children:e("div",{children:"Cuentas"})}),u("div",{className:"_dsplFlx ",children:[e("div",{className:"login_title ",children:e(U,{lbl:"Agregar Cuenta",icon:"account",theme:"",updChanges:W})}),e("div",{className:"sendBtn _dsplFlx spaceAround ",style:{marginTop:8},children:u("div",{className:"in_stock_switch _dsplFlx",children:[e("div",{className:"in_stock_switch_btn",children:e(le,{initvalue:n("showAll"),keyCode:77,updChange:Y})}),e("span",{className:"sw_rgh_span",children:"Mostrar Todas"})]})}),e("div",{className:"login_title ",children:e(U,{lbl:"Agregar SubCuenta",icon:"account",theme:"",updChanges:X})}),e("div",{className:"flexSpace"})]}),e("div",{className:" _search_MrgV  ",children:n("showAll")?null:e("div",{className:"years_card ",style:{marginLeft:"2vw"},children:e(ne,{updChanges:J,placeholderCode:"buscar..."})})}),e("div",{className:"_dsplFlx  ",children:u("div",{className:"_dsplFlx cuenta_bx_details header",children:[e("div",{className:"_header_item",style:{width:42,padding:"7px 0"},children:e("div",{className:""})}),u("div",{className:"_dsplFlx ",children:[e("div",{className:"_header_item",style:{width:140},children:e("div",{className:"",children:"Tipo de Cuenta"})}),e("div",{className:"_header_item",style:{width:50},children:e("div",{children:"Cuenta"})}),e("div",{className:"_header_item",style:{width:300},children:e("div",{children:"Nombre Cuenta"})})]})]})}),e("div",{className:"cuentaslist",children:((I=y())==null?void 0:I.length)>0&&((S=y())==null?void 0:S.map(s=>s&&e(re,{item:s,refreshlist:_},s.sub_accountId)))})]})};export{he as default};
