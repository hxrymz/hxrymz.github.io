import{I as se,b as ae,w as ne,M as ie,S as ce,l as de,_ as le,r as x,a as v,j as e,e as t,B as re,D as V,E as F,h as f,G as oe,O as U,H as D,p as M,J as H}from"./index.20bf7686.js";import{I as k}from"./LoginInput.8253be71.js";import"./validations.6c3f96aa.js";/* empty css                    */se();const Z=ae(),z=ne();ie();const ue=ce(),ee=de(()=>le(()=>import("./HRpopUp.5a85d7a1.js"),["assets/HRpopUp.5a85d7a1.js","assets/index.20bf7686.js","assets/index.95310fc6.css"])),g="ctscont",m="sub_ctscont",Ne=({view:s})=>{var u,n;const[b,h]=x.exports.useState(null),[i,_]=x.exports.useState(""),[w,C]=x.exports.useState(""),l=async()=>{let a={query:"getAllAccountsByUserId",params:{businessId:t("businessId")}};const A=await F(M(),a);A&&A.data&&f("cuentaslist",oe(A.data,"accountId"));let d={query:"getAllSubAccounts",params:{businessId:t("businessId")}};const y=await F(M(),d);y&&y.data&&(h(y.data),f("sub_cuentas_list",y.data))};x.exports.useEffect(()=>()=>{},[]);const I=a=>{let r={};r.zIndex=450,r.props={minHeight:"1vh",overlay:!0},r.content=e(he,{refreshlist:l}),U(r)},S=a=>{let r={};r.zIndex=450,r.props={minHeight:"1vh",overlay:!0},r.content=e(be,{refreshlist:l}),U(r)},o=()=>re("cuentasListFilter",[b,i,t("showAll")],()=>{let a="name",r="code",A="subAccount",d="subAccountName";const L=p=>{var O,$,W,j,J,P,R,G,K,X,Q,Y;let N=(O=t("cuentaslist"))==null?void 0:O[p==null?void 0:p.accountId],q=(i==null?void 0:i.toLowerCase())&&((W=($=N==null?void 0:N[a])==null?void 0:$.toLowerCase())==null?void 0:W.indexOf(i.toLowerCase()))>=0,B=(i==null?void 0:i.toLowerCase())&&((P=(J=(j=N==null?void 0:N[r])==null?void 0:j.toString())==null?void 0:J.toLowerCase())==null?void 0:P.indexOf(i.toLowerCase()))>=0,E=(i==null?void 0:i.toLowerCase())&&((K=(G=(R=p==null?void 0:p[A])==null?void 0:R.toString())==null?void 0:G.toLowerCase())==null?void 0:K.indexOf(i.toLowerCase()))>=0,T=(i==null?void 0:i.toLowerCase())&&((Y=(Q=(X=p==null?void 0:p[d])==null?void 0:X.toString())==null?void 0:Q.toLowerCase())==null?void 0:Y.indexOf(i.toLowerCase()))>=0;if(t("showAll")||q||B||E||T)return p},y=(p,N)=>{var E,T,O,$;let q=(T=(E=t("cuentaslist"))==null?void 0:E[p==null?void 0:p.accountId])==null?void 0:T[r],B=($=(O=t("cuentaslist"))==null?void 0:O[N==null?void 0:N.accountId])==null?void 0:$[r];return q<B?-1:q>B?1:0};return b==null?void 0:b.filter(L).sort(y)});x.exports.useEffect(()=>{setTimeout(()=>{window.scrollTo(0,0),l()},170)},[s]);const c=a=>{f("showAll",a),C(D())};return v("div",{className:"",children:[e("div",{className:"login_title ",children:e("div",{children:"Cuentas"})}),v("div",{className:"_dsplFlx ",children:[e("div",{className:"login_title ",children:e(Z,{lbl:"Agregar Cuenta",icon:"account",theme:"",updChanges:I})}),e("div",{className:"sendBtn _dsplFlx spaceAround ",style:{marginTop:8},children:v("div",{className:"in_stock_switch _dsplFlx",children:[e("div",{className:"in_stock_switch_btn",children:e(z,{initvalue:t("showAll"),keyCode:77,updChange:c})}),e("span",{className:"sw_rgh_span",children:"Mostrar Todas"})]})}),e("div",{className:"login_title ",children:e(Z,{lbl:"Agregar SubCuenta",icon:"account",theme:"",updChanges:S})}),e("div",{className:"flexSpace"})]}),e("div",{className:" _search_MrgV  ",children:t("showAll")?null:e("div",{className:"years_card ",style:{marginLeft:"2vw"},children:e(ue,{updChanges:_,placeholderCode:"buscar..."})})}),e("div",{className:"_dsplFlx  ",children:e("div",{className:"_dsplFlx cuenta_bx_details header",children:v("div",{className:"_dsplFlx ",children:[e("div",{className:"_header_item",style:{width:140},children:e("div",{className:"",children:"Tipo de Cuenta"})}),e("div",{className:"_header_item",style:{width:50},children:e("div",{children:"Cuenta"})}),e("div",{className:"_header_item",style:{width:300},children:e("div",{children:"Nombre Cuenta"})}),e("div",{className:"_header_item",style:{width:100},children:v("div",{children:["Sub Cuenta"," "]})}),e("div",{className:"_header_item",style:{width:300},children:e("div",{children:"Nombre Sub Cuenta"})})]})})}),e("div",{className:"cuentaslist",children:((u=o())==null?void 0:u.length)>0&&((n=o())==null?void 0:n.map(a=>a&&e(_e,{item:a,refreshlist:l})))})]})},he=({data:s,refreshlist:b})=>{var S;const{modalID:h}=s||{},[i,_]=x.exports.useState(!1),[w,C]=x.exports.useState(0),l=(o,c)=>{let u=t(g)||{};u[o]=c,f(g,u),i&&_(!1),C(D())},I=async()=>{let o=t(g)||{};o.accountId=D();let c={query:"addAccounts",params:{businessId:t("businessId")},form:o};const n=await F(M(),c);n&&n.data&&(f(g,{}),H({id:h}),b())};return e("div",{...h?{"dialog-key-id":h}:"",className:"pym81b sendBx upd_alert_bx",style:{background:"var(--color_backgrond_input)"},children:v("div",{className:"sendBtn  _mrgSwith  margin_form hybrid_login_form ",style:{minHeight:120,padding:"20px 68px 40px",minWidth:560},children:[e("div",{className:"login_title ",style:{marginLeft:1,textAlign:"left"},children:e("div",{children:"Crear Nueva Cuenta"})}),e(k,{validationMsg:"debe contener entre 3 y 5 caracteres numericos.",validation:{reqired:!0,minLength:3,maxLength:5},type:"number",placeholder:"Cuenta",updChange:o=>l("code",o)}),e(k,{validationMsg:"debe contener entre 6 y 200 caracteres.",validation:{reqired:!0,minLength:6},type:"text",placeholder:"Nombre de cuenta",updChange:o=>l("name",o)}),v("div",{className:"in_stock_switch _dsplFlx",style:{marginTop:10},children:[e("div",{className:"in_stock_switch_btn",children:e(z,{initvalue:(S=t(g))==null?void 0:S.isDebt,keyCode:77,updChange:o=>l("isDebt",o)})}),e("span",{className:"sw_rgh_span",children:"Es una Cuenta de Debito"})]}),e("button",{className:"btn login_button btn_submit btn_small",type:"submit",autocomplete:"off",tabindex:"0","data-uia":"login-submit-button",onClick:I,children:"Agregar"})]})})},me=({data:s,refreshlist:b})=>{var o,c,u;const{modalID:h}=s||{},[i,_]=x.exports.useState(!1),[w,C]=x.exports.useState(0),l=(n,a)=>{let r=t(g)||{};r[n]=a,f(g,r),i&&_(!1),C(D())};let I=["code","name","isDebt"];const S=async()=>{var a,r;let n={query:"updateAccounts",params:{accountId:(a=t(g))==null?void 0:a.accountId,businessId:t("businessId")},data2update:te(I,t(g),t(g+"_backUp"))};if(console.log(n),(r=t(g))!=null&&r.accountId){const d=await F(M(),n);d&&d.data&&(H({id:h}),b())}};return e("div",{...h?{"dialog-key-id":h}:"",className:"pym81b sendBx upd_alert_bx",style:{background:"var(--color_backgrond_input)"},children:v("div",{className:"sendBtn  _mrgSwith  margin_form hybrid_login_form ",style:{minHeight:120,padding:"20px 68px 40px",minWidth:560},children:[e("div",{className:"login_title ",style:{marginLeft:1,textAlign:"left"},children:e("div",{children:"Actualizar Cuenta"})}),e(k,{init:(o=t(g))==null?void 0:o.code,validationMsg:"debe contener entre 3 y 5 caracteres numericos.",validation:{reqired:!0,minLength:3,maxLength:5},type:"number",placeholder:"Cuenta",updChange:n=>l("code",n)}),e(k,{init:(c=t(g))==null?void 0:c.name,validationMsg:"debe contener entre 6 y 200 caracteres.",validation:{reqired:!0,minLength:6},type:"text",placeholder:"Nombre de cuenta",updChange:n=>l("name",n)}),v("div",{className:"in_stock_switch _dsplFlx",style:{marginTop:10},children:[e("div",{className:"in_stock_switch_btn",children:e(z,{initvalue:(u=t(g))==null?void 0:u.isDebt,keyCode:77,updChange:n=>l("isDebt",n)})}),e("span",{className:"sw_rgh_span",children:"Es una Cuenta de Debito"})]}),e("button",{className:"btn login_button btn_submit btn_small",type:"submit",autocomplete:"off",tabindex:"0","data-uia":"login-submit-button",onClick:S,children:"Actualizar"})]})})},be=({data:s,refreshlist:b})=>{var o;const{modalID:h}=s||{},[i,_]=x.exports.useState(!1),[w,C]=x.exports.useState(0),l=(c,u)=>{let n=t(m)||{};n[c]=u,f(m,n),i&&_(!1),C(D())},I=async()=>{let c=t(m)||{};c.sub_accountId=D();let u={query:"addSubAccounts",params:{businessId:t("businessId")},form:c};const a=await F(M(),u);a&&a.data&&(f(m,{}),H({id:h}),b())};return e("div",{...h?{"dialog-key-id":h}:"",className:"pym81b sendBx upd_alert_bx",style:{background:"var(--color_backgrond_input)"},children:v("div",{className:"sendBtn  _mrgSwith  margin_form hybrid_login_form ",style:{minHeight:120,padding:"20px 68px 40px",minWidth:560},children:[e("div",{className:"login_title ",style:{marginLeft:1,textAlign:"left"},children:e("div",{children:"Crear Nueva SubCuenta"})}),e("div",{className:" year_container  ",style:{maxWidth:"fit-content",margin:"15px 0"},children:e(ee,{data:(()=>{const c=u=>{var n,a;return{id:u,lbl:(a=(n=t("cuentaslist"))==null?void 0:n[u])==null?void 0:a.name}};return V(t("cuentaslist")).map(c)})(),value:(o=t(m))==null?void 0:o.accountId,updValue:c=>l("accountId",c)})}),e(k,{validationMsg:"debe contener entre 2 y 5 caracteres numericos.",validation:{reqired:!0,minLength:2,maxLength:5},type:"number",placeholder:"Sub Cuenta",updChange:c=>l("subAccount",c)}),e(k,{validationMsg:"debe contener entre 6 y 200 caracteres.",validation:{reqired:!0,minLength:6},type:"text",placeholder:"Nombre de sub cuenta",updChange:c=>l("subAccountName",c)}),e("button",{className:"btn login_button btn_submit btn_small",type:"submit",autocomplete:"off",tabindex:"0","data-uia":"login-submit-button",onClick:I,children:"Agregar"})]})})},pe=({data:s,refreshlist:b})=>{var c,u,n,a,r,A;const{modalID:h}=s||{},[i,_]=x.exports.useState(!1),[w,C]=x.exports.useState(0),l=(d,L)=>{let y=t(m)||{};y[d]=L,f(m,y),i&&_(!1),C(D())};let I=["accountId","isDebt","subAccount","subAccountName"];const S=async()=>{var L,y;let d={query:"updateSubAccounts",params:{sub_accountId:(L=t(m))==null?void 0:L.sub_accountId,businessId:t("businessId")},data2update:te(I,t(m),t(m+"_backUp"))};if((y=t(m))!=null&&y.sub_accountId){const N=await F(M(),d);N&&N.data&&(H({id:h}),b())}};return e("div",{...h?{"dialog-key-id":h}:"",className:"pym81b sendBx upd_alert_bx",style:{background:"var(--color_backgrond_input)"},children:v("div",{className:"sendBtn  _mrgSwith  margin_form hybrid_login_form ",style:{minHeight:120,padding:"20px 68px 40px",minWidth:560},children:[e("div",{className:"login_title ",style:{marginLeft:1,textAlign:"left"},children:e("div",{children:"Actualizar Sub-Cuenta"})}),e("div",{className:" year_container  ",style:{maxWidth:"fit-content"},children:e(ee,{data:(()=>{const d=L=>{var y,p;return{id:L,lbl:(p=(y=t("cuentaslist"))==null?void 0:y[L])==null?void 0:p.name}};return V(t("cuentaslist")).map(d)})(),value:(c=t(m))==null?void 0:c.accountId,updValue:d=>l("accountId",d)})}),e(k,{init:(u=t(m))==null?void 0:u.code,validationMsg:"debe contener entre 3 y 5 caracteres numericos.",validation:{reqired:!0,minLength:3,maxLength:5},type:"number",placeholder:"Cuenta",updChange:d=>l("code",d)}),e(k,{init:(n=t(m))==null?void 0:n.name,validationMsg:"debe contener entre 6 y 200 caracteres.",validation:{reqired:!0,minLength:6},type:"text",placeholder:"Nombre de cuenta",updChange:d=>l("name",d)}),e(k,{init:(a=t(m))==null?void 0:a.subAccount,validationMsg:"debe contener entre 2 y 5 caracteres numericos.",validation:{reqired:!0,minLength:2,maxLength:5},type:"number",placeholder:"Sub Cuenta",updChange:d=>l("subAccount",d)}),e(k,{init:(r=t(m))==null?void 0:r.subAccountName,validationMsg:"debe contener entre 6 y 200 caracteres.",validation:{reqired:!0,minLength:6},type:"text",placeholder:"Nombre de sub cuenta",updChange:d=>l("subAccountName",d)}),v("div",{className:"in_stock_switch _dsplFlx",style:{marginTop:10},children:[e("div",{className:"in_stock_switch_btn",children:e(z,{initvalue:(A=t(m))==null?void 0:A.isDebt,keyCode:77,updChange:d=>l("isDebt",d)})}),e("span",{className:"sw_rgh_span",children:"Es una Cuenta de Debito"})]}),e("button",{className:"btn login_button btn_submit btn_small",type:"submit",autocomplete:"off",tabindex:"0","data-uia":"login-submit-button",onClick:S,children:"Actualizar"})]})})},_e=({item:s,refreshlist:b})=>{var _,w,C,l,I,S,o,c,u,n;(_=s==null?void 0:s.sections)!=null&&_.active&&V((w=s==null?void 0:s.sections)==null?void 0:w.active).length>0;const h=()=>{f(m,s),f(m+"_backUp",JSON.stringify(s));let a={};a.zIndex=450,a.props={item:s,minHeight:"1vh",overlay:!0},a.content=e(pe,{refreshlist:b}),U(a)};return e("div",{className:"_dsplFlx cuenta_details ",style:{},children:v("div",{className:"_dsplFlx cuenta_bx_details ",style:{},children:[v("div",{className:"_dsplFlx ",onClick:()=>{var r,A,d;f(g,(r=t("cuentaslist"))==null?void 0:r[s==null?void 0:s.accountId]),f(g+"_backUp",JSON.stringify((A=t("cuentaslist"))==null?void 0:A[s==null?void 0:s.accountId]));let a={};a.zIndex=450,a.props={item:(d=t("cuentaslist"))==null?void 0:d[s==null?void 0:s.accountId],minHeight:"1vh",overlay:!0},a.content=e(me,{refreshlist:b}),U(a)},children:[e("div",{className:"_asiento_item",style:{width:140},children:e("div",{className:(l=(C=t("cuentaslist"))==null?void 0:C[s==null?void 0:s.accountId])!=null&&l.isDebt?"_deb":"_cred",children:(S=(I=t("cuentaslist"))==null?void 0:I[s==null?void 0:s.accountId])!=null&&S.isDebt?"Cuenta de Debito":"Cuenta de Credito"})}),e("div",{className:"_asiento_item",style:{width:50},children:e("div",{children:(c=(o=t("cuentaslist"))==null?void 0:o[s==null?void 0:s.accountId])==null?void 0:c.code})}),e("div",{className:"_asiento_item",style:{width:300},children:e("div",{children:(n=(u=t("cuentaslist"))==null?void 0:u[s==null?void 0:s.accountId])==null?void 0:n.name})})]}),v("div",{className:"_dsplFlx ",onClick:h,children:[e("div",{className:"_asiento_item",style:{width:100},children:v("div",{children:[s.subAccount," "]})}),e("div",{className:"_asiento_item",style:{width:300},children:e("div",{children:s.subAccountName})})]}),e("div",{className:"flexSpace"})]})})};function te(s,b,h){let i=JSON.parse(h),_=null;return s&&s.map((w,C)=>{b[w]!==i[w]&&(_||(_={}),_[w]=b[w])}),_}export{te as compareJson,Ne as default};
