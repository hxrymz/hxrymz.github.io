import{A as Z,B as k,S as Q,l as g,_ as N,r as c,D as ee,j as e,a as u,k as i,E as se,G as H,o as b,H as M,O as R,J as te,x as U}from"./index.99da3eb9.js";const q=Z(),ae=k(),le=Q(),ie=g(()=>N(()=>import("./AddCuentasContables.61109abd.js"),["assets/AddCuentasContables.61109abd.js","assets/index.99da3eb9.js","assets/index.f65525d5.css"])),ne=g(()=>N(()=>import("./AddSubCuentasContables.a4119e1e.js"),["assets/AddSubCuentasContables.a4119e1e.js","assets/index.99da3eb9.js","assets/index.f65525d5.css"])),re=g(()=>N(()=>import("./Item_cuentas.a42ef25c.js"),["assets/Item_cuentas.a42ef25c.js","assets/index.99da3eb9.js","assets/index.f65525d5.css","assets/calbacks.839edcf1.js"])),oe=g(()=>N(()=>import("./CuentasSubmayor.b166ea15.js"),["assets/CuentasSubmayor.b166ea15.js","assets/index.99da3eb9.js","assets/index.f65525d5.css","assets/calbacks.839edcf1.js"])),ue=({view:z})=>{var S,A;const[h,G]=c.exports.useState(null),[t,J]=c.exports.useState(""),[de,$]=c.exports.useState(""),K=window.location.hash.split("?")[1]?window.location.hash.split("?")[1]:null,f=ee(K),_=async()=>{let s={query:"getAllAccountsByUserId",params:{businessId:i("businessId")}};const r=await H(U(),s);r&&r.data&&b("cuentaslist",M(r.data,"accountId"));let y={query:"getAllSubAccounts",params:{businessId:i("businessId")}};const n=await H(U(),y);n&&n.data&&(G(n.data),b("sub_cuentas_list",n.data),b("sub_cuentas_dict",M(n.data,"sub_accountId")))};c.exports.useEffect(()=>()=>{},[]);const W=()=>{let s={};s.zIndex=450,s.props={minHeight:"1vh",overlay:!0},s.content=e(ie,{refreshlist:_}),R(s)},X=()=>{let s={};s.zIndex=450,s.props={minHeight:"1vh",overlay:!0},s.content=e(ne,{refreshlist:_}),R(s)},x=()=>se("cuentasListFilter",[h,t,i("showAll")],()=>{let s="name",m="code",r="subAccount",y="subAccountName";const I=a=>{var o,d,L,O,E,T,V,B,F,D,P,j;let l=(o=i("cuentaslist"))==null?void 0:o[a==null?void 0:a.accountId],p=(t==null?void 0:t.toLowerCase())&&((L=(d=l==null?void 0:l[s])==null?void 0:d.toLowerCase())==null?void 0:L.indexOf(t.toLowerCase()))>=0,C=(t==null?void 0:t.toLowerCase())&&((T=(E=(O=l==null?void 0:l[m])==null?void 0:O.toString())==null?void 0:E.toLowerCase())==null?void 0:T.indexOf(t.toLowerCase()))>=0,v=(t==null?void 0:t.toLowerCase())&&((F=(B=(V=a==null?void 0:a[r])==null?void 0:V.toString())==null?void 0:B.toLowerCase())==null?void 0:F.indexOf(t.toLowerCase()))>=0,w=(t==null?void 0:t.toLowerCase())&&((j=(P=(D=a==null?void 0:a[y])==null?void 0:D.toString())==null?void 0:P.toLowerCase())==null?void 0:j.indexOf(t.toLowerCase()))>=0;if(i("showAll")||p||C||v||w)return a},n=(a,l)=>{var v,w,o,d;let p=(w=(v=i("cuentaslist"))==null?void 0:v[a==null?void 0:a.accountId])==null?void 0:w[m],C=(d=(o=i("cuentaslist"))==null?void 0:o[l==null?void 0:l.accountId])==null?void 0:d[m];return p<C?-1:p>C?1:0};return h==null?void 0:h.filter(I).sort(n)});c.exports.useEffect(()=>{setTimeout(()=>{window.scrollTo(0,0),_()},170)},[z]);const Y=s=>{b("showAll",s),$(te())};return(f==null?void 0:f.view)==="submayor"?e(oe,{}):u("div",{className:"",children:[e("div",{className:"login_title ",children:e("div",{children:"Cuentas"})}),u("div",{className:"_dsplFlx ",children:[e("div",{className:"login_title ",children:e(q,{lbl:"Agregar Cuenta",icon:"account",theme:"",updChanges:W})}),e("div",{className:"sendBtn _dsplFlx spaceAround ",style:{marginTop:8},children:u("div",{className:"in_stock_switch _dsplFlx",children:[e("div",{className:"in_stock_switch_btn",children:e(ae,{initvalue:i("showAll"),keyCode:77,updChange:Y})}),e("span",{className:"sw_rgh_span",children:"Mostrar Todas"})]})}),e("div",{className:"login_title ",children:e(q,{lbl:"Agregar SubCuenta",icon:"account",theme:"",updChanges:X})}),e("div",{className:"flexSpace"})]}),e("div",{className:" _search_MrgV  ",children:i("showAll")?null:e("div",{className:"years_card ",style:{marginLeft:"2vw"},children:e(le,{updChanges:J,placeholderCode:"buscar..."})})}),e("div",{className:"_dsplFlx  ",children:e("div",{className:"_dsplFlx cuenta_bx_details header",children:u("div",{className:"_dsplFlx ",children:[e("div",{className:"_header_item",style:{width:140},children:e("div",{className:"",children:"Tipo de Cuenta"})}),e("div",{className:"_header_item",style:{width:50},children:e("div",{children:"Cuenta"})}),e("div",{className:"_header_item",style:{width:300},children:e("div",{children:"Nombre Cuenta"})}),e("div",{className:"_header_item",style:{width:100},children:u("div",{children:["Sub Cuenta"," "]})}),e("div",{className:"_header_item",style:{width:300},children:e("div",{children:"Nombre Sub Cuenta"})})]})})}),e("div",{className:"cuentaslist",children:((S=x())==null?void 0:S.length)>0&&((A=x())==null?void 0:A.map(s=>s&&e(re,{item:s,refreshlist:_})))})]})};export{ue as default};
