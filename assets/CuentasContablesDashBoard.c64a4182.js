import{I as se,b as ae,z as ne,M as ce,S as ie,l as de,_ as re,r as I,a as C,j as e,f as s,H as le,J as V,K as F,n as w,L as oe,O as T,N as D,v as q,P as U}from"./index.514a39b7.js";import{I as k}from"./LoginInput.bf0d7509.js";import"./validations.6c3f96aa.js";/* empty css                    */const ue=se(),Z=ae(),z=ne();ce();const he=ie(),ee=de(()=>re(()=>import("./HRpopUp.9fdb13a8.js"),["assets/HRpopUp.9fdb13a8.js","assets/index.514a39b7.js","assets/index.f55f9e34.css"])),y="ctscont",m="sub_ctscont",xe=({view:t})=>{var u,c;const[p,h]=I.exports.useState(null),[n,g]=I.exports.useState(""),[S,x]=I.exports.useState(""),l=async()=>{let r={query:"getAllAccountsByUserId",params:{businessId:s("businessId")}};const N=await F(q(),r);N&&N.data&&w("cuentaslist",oe(N.data,"accountId"));let i={query:"getAllSubAccounts",params:{businessId:s("businessId")}};const _=await F(q(),i);_&&_.data&&(h(_.data),w("sub_cuentas_list",_.data))};I.exports.useEffect(()=>()=>{},[]);const A=r=>{let a={};a.zIndex=450,a.props={minHeight:"1vh",overlay:!0},a.content=e(be,{refreshlist:l}),T(a)},L=r=>{let a={};a.zIndex=450,a.props={minHeight:"1vh",overlay:!0},a.content=e(pe,{refreshlist:l}),T(a)},o=()=>le("cuentasListFilter",[p,n,s("showAll")],()=>{let r="name",a="code",N="subAccount",i="subAccountName";const v=b=>{var M,O,W,j,J,P,R,K,G,Q,X,Y;let f=(M=s("cuentaslist"))==null?void 0:M[b==null?void 0:b.accountId],$=(n==null?void 0:n.toLowerCase())&&((W=(O=f==null?void 0:f[r])==null?void 0:O.toLowerCase())==null?void 0:W.indexOf(n.toLowerCase()))>=0,E=(n==null?void 0:n.toLowerCase())&&((P=(J=(j=f==null?void 0:f[a])==null?void 0:j.toString())==null?void 0:J.toLowerCase())==null?void 0:P.indexOf(n.toLowerCase()))>=0,B=(n==null?void 0:n.toLowerCase())&&((G=(K=(R=b==null?void 0:b[N])==null?void 0:R.toString())==null?void 0:K.toLowerCase())==null?void 0:G.indexOf(n.toLowerCase()))>=0,H=(n==null?void 0:n.toLowerCase())&&((Y=(X=(Q=b==null?void 0:b[i])==null?void 0:Q.toString())==null?void 0:X.toLowerCase())==null?void 0:Y.indexOf(n.toLowerCase()))>=0;if(s("showAll")||$||E||B||H)return b},_=(b,f)=>{var B,H,M,O;let $=(H=(B=s("cuentaslist"))==null?void 0:B[b==null?void 0:b.accountId])==null?void 0:H[a],E=(O=(M=s("cuentaslist"))==null?void 0:M[f==null?void 0:f.accountId])==null?void 0:O[a];return $<E?-1:$>E?1:0};return p==null?void 0:p.filter(v).sort(_)});I.exports.useEffect(()=>{setTimeout(()=>{window.scrollTo(0,0),l()},170)},[t]);const d=r=>{w("showAll",r),x(D())};return C("div",{className:"",children:[e("div",{className:"login_title ",children:e("div",{children:"Cuentas"})}),C("div",{className:"_dsplFlx ",children:[e("div",{className:"login_title ",children:e(Z,{lbl:"Agregar Cuenta",icon:"account",theme:"",updChanges:A})}),e("div",{className:"sendBtn _dsplFlx spaceAround ",style:{marginTop:8},children:C("div",{className:"in_stock_switch _dsplFlx",children:[e("div",{className:"in_stock_switch_btn",children:e(z,{initvalue:s("showAll"),keyCode:77,updChange:d})}),e("span",{className:"sw_rgh_span",children:"Mostrar Todas"})]})}),e("div",{className:"login_title ",children:e(Z,{lbl:"Agregar SubCuenta",icon:"account",theme:"",updChanges:L})}),e("div",{className:"flexSpace"})]}),e("div",{className:" _search_MrgV  ",children:s("showAll")?null:e("div",{className:"years_card ",style:{marginLeft:"2vw"},children:e(he,{updChanges:g,placeholderCode:"buscar..."})})}),e("div",{className:"_dsplFlx  ",children:e("div",{className:"_dsplFlx cuenta_bx_details header",children:C("div",{className:"_dsplFlx ",children:[e("div",{className:"_header_item",style:{width:140},children:e("div",{className:"",children:"Tipo de Cuenta"})}),e("div",{className:"_header_item",style:{width:50},children:e("div",{children:"Cuenta"})}),e("div",{className:"_header_item",style:{width:300},children:e("div",{children:"Nombre Cuenta"})}),e("div",{className:"_header_item",style:{width:100},children:C("div",{children:["Sub Cuenta"," "]})}),e("div",{className:"_header_item",style:{width:300},children:e("div",{children:"Nombre Sub Cuenta"})})]})})}),e("div",{className:"cuentaslist",children:((u=o())==null?void 0:u.length)>0&&((c=o())==null?void 0:c.map(r=>r&&e(ge,{item:r,refreshlist:l})))})]})},be=({data:t,refreshlist:p})=>{var L;const{modalID:h}=t||{},[n,g]=I.exports.useState(!1),[S,x]=I.exports.useState(0),l=(o,d)=>{let u=s(y)||{};u[o]=d,w(y,u),n&&g(!1),x(D())},A=async()=>{let o=s(y)||{};o.accountId=D();let d={query:"addAccounts",params:{businessId:s("businessId")},form:o};const c=await F(q(),d);c&&c.data&&(w(y,{}),U({id:h}),p())};return e("div",{...h?{"dialog-key-id":h}:"",className:"pym81b sendBx upd_alert_bx",style:{background:"var(--color_backgrond_input)"},children:C("div",{className:"sendBtn  _mrgSwith  margin_form hybrid_login_form ",style:{minHeight:120,padding:"20px 68px 40px",minWidth:560},children:[e("div",{className:"login_title ",style:{marginLeft:1,textAlign:"left"},children:e("div",{children:"Crear Nueva Cuenta"})}),e(k,{validationMsg:"debe contener entre 3 y 5 caracteres numericos.",validation:{reqired:!0,minLength:3,maxLength:5},type:"number",placeholder:"Cuenta",updChange:o=>l("code",o)}),e(k,{validationMsg:"debe contener entre 6 y 200 caracteres.",validation:{reqired:!0,minLength:6},type:"text",placeholder:"Nombre de cuenta",updChange:o=>l("name",o)}),C("div",{className:"in_stock_switch _dsplFlx",style:{marginTop:10},children:[e("div",{className:"in_stock_switch_btn",children:e(z,{initvalue:(L=s(y))==null?void 0:L.isDebt,keyCode:77,updChange:o=>l("isDebt",o)})}),e("span",{className:"sw_rgh_span",children:"Es una Cuenta de Debito"})]}),e("button",{className:"btn login_button btn_submit btn_small",type:"submit",autocomplete:"off",tabindex:"0","data-uia":"login-submit-button",onClick:A,children:"Agregar"})]})})},me=({data:t,refreshlist:p})=>{var o,d,u;const{modalID:h}=t||{},[n,g]=I.exports.useState(!1),[S,x]=I.exports.useState(0),l=(c,r)=>{let a=s(y)||{};a[c]=r,w(y,a),n&&g(!1),x(D())};let A=["code","name","isDebt"];const L=async()=>{var r,a;let c={query:"updateAccounts",params:{accountId:(r=s(y))==null?void 0:r.accountId,businessId:s("businessId")},data2update:te(A,s(y),s(y+"_backUp"))};if((a=s(y))!=null&&a.accountId){const i=await F(q(),c);i&&i.data&&(U({id:h}),p())}};return e("div",{...h?{"dialog-key-id":h}:"",className:"pym81b sendBx upd_alert_bx",style:{background:"var(--color_backgrond_input)"},children:C("div",{className:"sendBtn  _mrgSwith  margin_form hybrid_login_form ",style:{minHeight:120,padding:"20px 68px 40px",minWidth:560},children:[e("div",{className:"login_title ",style:{marginLeft:1,textAlign:"left"},children:e("div",{children:"Actualizar Cuenta"})}),e(k,{init:(o=s(y))==null?void 0:o.code,validationMsg:"debe contener entre 3 y 5 caracteres numericos.",validation:{reqired:!0,minLength:3,maxLength:5},type:"number",placeholder:"Cuenta",updChange:c=>l("code",c)}),e(k,{init:(d=s(y))==null?void 0:d.name,validationMsg:"debe contener entre 6 y 200 caracteres.",validation:{reqired:!0,minLength:6},type:"text",placeholder:"Nombre de cuenta",updChange:c=>l("name",c)}),C("div",{className:"in_stock_switch _dsplFlx",style:{marginTop:10},children:[e("div",{className:"in_stock_switch_btn",children:e(z,{initvalue:(u=s(y))==null?void 0:u.isDebt,keyCode:77,updChange:c=>l("isDebt",c)})}),e("span",{className:"sw_rgh_span",children:"Es una Cuenta de Debito"})]}),e("button",{className:"btn login_button btn_submit btn_small",type:"submit",autocomplete:"off",tabindex:"0","data-uia":"login-submit-button",onClick:L,children:"Actualizar"})]})})},pe=({data:t,refreshlist:p})=>{var o;const{modalID:h}=t||{},[n,g]=I.exports.useState(!1),[S,x]=I.exports.useState(0),l=(d,u)=>{let c=s(m)||{};c[d]=u,w(m,c),n&&g(!1),x(D())},A=async()=>{let d=s(m)||{};d.sub_accountId=D();let u={query:"addSubAccounts",params:{businessId:s("businessId")},form:d};const r=await F(q(),u);r&&r.data&&(w(m,{}),U({id:h}),p())};return e("div",{...h?{"dialog-key-id":h}:"",className:"pym81b sendBx upd_alert_bx",style:{background:"var(--color_backgrond_input)"},children:C("div",{className:"sendBtn  _mrgSwith  margin_form hybrid_login_form ",style:{minHeight:120,padding:"20px 68px 40px",minWidth:560},children:[e("div",{className:"login_title ",style:{marginLeft:1,textAlign:"left"},children:e("div",{children:"Crear Nueva SubCuenta"})}),e("div",{className:" year_container  ",style:{maxWidth:"fit-content",margin:"15px 0"},children:e(ee,{data:(()=>{const d=u=>{var c,r;return{id:u,lbl:(r=(c=s("cuentaslist"))==null?void 0:c[u])==null?void 0:r.name}};return V(s("cuentaslist")).map(d)})(),value:(o=s(m))==null?void 0:o.accountId,updValue:d=>l("accountId",d)})}),e(k,{validationMsg:"debe contener entre 2 y 5 caracteres numericos.",validation:{reqired:!0,minLength:2,maxLength:5},type:"number",placeholder:"Sub Cuenta",updChange:d=>l("subAccount",d)}),e(k,{validationMsg:"debe contener entre 6 y 200 caracteres.",validation:{reqired:!0,minLength:6},type:"text",placeholder:"Nombre de sub cuenta",updChange:d=>l("subAccountName",d)}),e("button",{className:"btn login_button btn_submit btn_small",type:"submit",autocomplete:"off",tabindex:"0","data-uia":"login-submit-button",onClick:A,children:"Agregar"})]})})},_e=({data:t,refreshlist:p})=>{var d,u,c,r,a,N;const{modalID:h}=t||{},[n,g]=I.exports.useState(!1),[S,x]=I.exports.useState(0),l=(i,v)=>{let _=s(m)||{};_[i]=v,w(m,_),n&&g(!1),x(D())};let A=["accountId","isDebt","subAccount","subAccountName"];const L=async()=>{var v,_;let i={query:"updateSubAccounts",params:{sub_accountId:(v=s(m))==null?void 0:v.sub_accountId,businessId:s("businessId")},data2update:te(A,s(m),s(m+"_backUp"))};if((_=s(m))!=null&&_.sub_accountId){const f=await F(q(),i);f&&f.data&&(U({id:h}),p())}};return e("div",{...h?{"dialog-key-id":h}:"",className:"pym81b sendBx upd_alert_bx",style:{background:"var(--color_backgrond_input)"},children:C("div",{className:"sendBtn  _mrgSwith  margin_form hybrid_login_form ",style:{minHeight:120,padding:"20px 68px 40px",minWidth:560},children:[e("div",{className:"login_title ",style:{marginLeft:1,textAlign:"left"},children:e("div",{children:"Actualizar Sub-Cuenta"})}),e("div",{className:" year_container  ",style:{maxWidth:"fit-content"},children:e(ee,{data:(()=>{const i=v=>{var _,b;return{id:v,lbl:(b=(_=s("cuentaslist"))==null?void 0:_[v])==null?void 0:b.name}};return V(s("cuentaslist")).map(i)})(),value:(d=s(m))==null?void 0:d.accountId,updValue:i=>l("accountId",i)})}),e(k,{init:(u=s(m))==null?void 0:u.code,validationMsg:"debe contener entre 3 y 5 caracteres numericos.",validation:{reqired:!0,minLength:3,maxLength:5},type:"number",placeholder:"Cuenta",updChange:i=>l("code",i)}),e(k,{init:(c=s(m))==null?void 0:c.name,validationMsg:"debe contener entre 6 y 200 caracteres.",validation:{reqired:!0,minLength:6},type:"text",placeholder:"Nombre de cuenta",updChange:i=>l("name",i)}),e(k,{init:(r=s(m))==null?void 0:r.subAccount,validationMsg:"debe contener entre 2 y 5 caracteres numericos.",validation:{reqired:!0,minLength:2,maxLength:5},type:"number",placeholder:"Sub Cuenta",updChange:i=>l("subAccount",i)}),e(k,{init:(a=s(m))==null?void 0:a.subAccountName,validationMsg:"debe contener entre 6 y 200 caracteres.",validation:{reqired:!0,minLength:6},type:"text",placeholder:"Nombre de sub cuenta",updChange:i=>l("subAccountName",i)}),C("div",{className:"in_stock_switch _dsplFlx",style:{marginTop:10},children:[e("div",{className:"in_stock_switch_btn",children:e(z,{initvalue:(N=s(m))==null?void 0:N.isDebt,keyCode:77,updChange:i=>l("isDebt",i)})}),e("span",{className:"sw_rgh_span",children:"Es una Cuenta de Debito"})]}),e("button",{className:"btn login_button btn_submit btn_small",type:"submit",autocomplete:"off",tabindex:"0","data-uia":"login-submit-button",onClick:L,children:"Actualizar"})]})})},ge=({item:t,refreshlist:p})=>{var S,x,l,A,L,o,d,u,c,r;(S=t==null?void 0:t.sections)!=null&&S.active&&V((x=t==null?void 0:t.sections)==null?void 0:x.active).length>0;const h=()=>{w(m,t),w(m+"_backUp",JSON.stringify(t));let a={};a.zIndex=450,a.props={item:t,minHeight:"1vh",overlay:!0},a.content=e(_e,{refreshlist:p}),T(a)},n=()=>{var N,i,v;w(y,(N=s("cuentaslist"))==null?void 0:N[t==null?void 0:t.accountId]),w(y+"_backUp",JSON.stringify((i=s("cuentaslist"))==null?void 0:i[t==null?void 0:t.accountId]));let a={};a.zIndex=450,a.props={item:(v=s("cuentaslist"))==null?void 0:v[t==null?void 0:t.accountId],minHeight:"1vh",overlay:!0},a.content=e(me,{refreshlist:p}),T(a)},g=async()=>{var _,b;let a=(b=(_=s("cuentaslist"))==null?void 0:_[t==null?void 0:t.accountId])==null?void 0:b.accountId;t!=null&&t.subAccount&&(a=t==null?void 0:t.sub_accountId);let N={query:"getOperationsHRGSubMayor",params:{businessId:s("businessId"),":search":a},queryString:"!* contain :search"};const v=await F(q(),N);v&&v.data};return e("div",{className:"_dsplFlx cuenta_details ",style:{},children:C("div",{className:"_dsplFlx cuenta_bx_details ",style:{},children:[C("div",{className:"_dsplFlx ",onClick:n,children:[e("div",{className:"_asiento_item",style:{width:140},children:e("div",{className:(A=(l=s("cuentaslist"))==null?void 0:l[t==null?void 0:t.accountId])!=null&&A.isDebt?"_deb":"_cred",children:(o=(L=s("cuentaslist"))==null?void 0:L[t==null?void 0:t.accountId])!=null&&o.isDebt?"Cuenta de Debito":"Cuenta de Credito"})}),e("div",{className:"_asiento_item",style:{width:50},children:e("div",{children:(u=(d=s("cuentaslist"))==null?void 0:d[t==null?void 0:t.accountId])==null?void 0:u.code})}),e("div",{className:"_asiento_item",style:{width:300},children:e("div",{children:(r=(c=s("cuentaslist"))==null?void 0:c[t==null?void 0:t.accountId])==null?void 0:r.name})})]}),C("div",{className:"_dsplFlx ",onClick:h,children:[e("div",{className:"_asiento_item",style:{width:100},children:C("div",{children:[t.subAccount," "]})}),e("div",{className:"_asiento_item",style:{width:300},children:e("div",{children:t.subAccountName})})]}),e("div",{className:"_dsplFlx",children:e("div",{className:"_dsplFlx delete_icon launcicon",style:{marginRight:17},onClick:g,children:e(ue,{name:"send",size:24,color:"#fff"})})}),e("div",{className:"flexSpace"})]})})};function te(t,p,h){let n=JSON.parse(h),g=null;return t&&t.map((S,x)=>{p[S]!==n[S]&&(g||(g={}),g[S]=p[S])}),g}export{te as compareJson,xe as default};
