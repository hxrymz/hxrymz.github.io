import{Q as S,S as f,r as h,D as b,k as n,a as l,j as a,P as A,L as F,G as I,o as p,J as D,O as C,x as M}from"./index.99da3eb9.js";import{s as g}from"./calbacks.839edcf1.js";S();const O=f(),w="ctscont",H=({view:s})=>{var N,x;h.exports.useState(null);const[_,u]=h.exports.useState(""),[o,r]=h.exports.useState(""),e=window.location.hash.split("?")[1]?window.location.hash.split("?")[1]:null,c=b(e),t=async()=>{let i={query:"getOperationsHRGSubMayor",params:{businessId:n("businessId"),":search":c==null?void 0:c.acc},queryString:"!* contain :search"};const v=await I(M(),i);v&&v.data&&(p("submayor_list",v.data),r(D()))};h.exports.useEffect(()=>{setTimeout(()=>{window.scrollTo(0,0),t()},170)},[s]);let d=n("submayor_item"),y=d!=null&&d.subAccount?(d==null?void 0:d.code)+" "+(d==null?void 0:d.name)+" - "+(d==null?void 0:d.subAccount)+" "+(d==null?void 0:d.subAccountName):(d==null?void 0:d.code)+" "+(d==null?void 0:d.name);return l("div",{className:"",children:[l("div",{className:"login_title ",children:[a("div",{children:"Sub Mayor"}),a("div",{className:"acc_title",children:y})]}),a("div",{className:" _search_MrgV  ",children:n("showAll")?null:a("div",{className:"years_card ",style:{marginLeft:"2vw"},children:a(O,{updChanges:u,placeholderCode:"buscar..."})})}),a("div",{className:"_dsplFlx  ",children:a("div",{className:"_dsplFlx cuenta_bx_details header",children:l("div",{className:"_dsplFlx ",children:[a("div",{className:"_header_item",style:{width:150},children:a("div",{className:"",children:"Fecha"})}),a("div",{className:"_header_item",style:{width:120},children:a("div",{children:"Documento"})}),a("div",{className:"_header_item",style:{width:300},children:a("div",{children:"Descripcion"})}),a("div",{className:"_header_item",style:{width:100,textAlign:"right"},children:l("div",{children:["Debito"," "]})}),a("div",{className:"_header_item",style:{width:100,textAlign:"right"},children:a("div",{children:"Credito"})}),a("div",{className:"_header_item",style:{width:100,textAlign:"right"},children:a("div",{children:"Saldo"})})]})})}),a("div",{className:"cuentaslist",children:((N=g(c==null?void 0:c.acc))==null?void 0:N.length)>0&&((x=g(c==null?void 0:c.acc))==null?void 0:x.map(i=>i&&a(Q,{item:i,refreshlist:t})))})]})},Q=({item:s,refreshlist:_})=>{var o,r;return(o=s==null?void 0:s.sections)!=null&&o.active&&A((r=s==null?void 0:s.sections)==null?void 0:r.active).length>0,a("div",{className:"_dsplFlx cuenta_details ",style:{},children:l("div",{className:"_dsplFlx cuenta_bx_details ",style:{},children:[l("div",{className:"_dsplFlx ",onClick:()=>{var c,t,d;p(w,(c=n("cuentaslist"))==null?void 0:c[s==null?void 0:s.accountId]),p(w+"_backUp",JSON.stringify((t=n("cuentaslist"))==null?void 0:t[s==null?void 0:s.accountId]));let e={};e.zIndex=450,e.props={item:(d=n("cuentaslist"))==null?void 0:d[s==null?void 0:s.accountId],minHeight:"1vh",overlay:!0},e.content=a(UpdateCuentas,{refreshlist:_}),C(e)},children:[a("div",{className:"_asiento_item",style:{width:150},children:a("div",{children:F(s==null?void 0:s.date)})}),a("div",{className:"_asiento_item",style:{width:120},children:a("div",{children:s==null?void 0:s.document})}),a("div",{className:"_asiento_item",style:{width:300},children:a("div",{children:s==null?void 0:s.description})}),a("div",{className:"_asiento_item",style:{width:100,textAlign:"right"},children:a("div",{children:s!=null&&s.debit?((s==null?void 0:s.debit)*1).toFixed(2):""})}),a("div",{className:"_asiento_item",style:{width:100,textAlign:"right"},children:a("div",{children:s!=null&&s.credit?((s==null?void 0:s.credit)*1>0?(s==null?void 0:s.credit)*1:(s==null?void 0:s.credit)*-1).toFixed(2):""})}),a("div",{className:"_asiento_item",style:{width:100,textAlign:"right"},children:l("div",{children:[s!=null&&s.saldo?((s==null?void 0:s.saldo)*1).toFixed(2):""," "]})})]}),a("div",{className:"flexSpace"})]})})};export{H as default};
