import{P as f,S,I,r as o,D as F,k as n,a as c,j as a,L as b,K as C,G as A,o as v,g as D,O as M,x as O}from"./index.2d0b3e7c.js";import{s as x}from"./calbacks.a2cd6492.js";f();const T=S(),j=I(),w="ctscont",L=({view:s})=>{var g,N;o.exports.useState(null);const[_,u]=o.exports.useState(""),[h,r]=o.exports.useState(""),d=window.location.hash.split("?")[1]?window.location.hash.split("?")[1]:null,e=F(d),t=async()=>{let i={query:"getOperationsHRGSubMayor",params:{businessId:n("businessId"),":search":e==null?void 0:e.acc},queryString:"!* contain :search"};const p=await A(O(),i);p&&p.data&&(v("submayor_list",p.data),r(D()))};o.exports.useEffect(()=>{setTimeout(()=>{window.scrollTo(0,0),t()},170)},[s]);let l=n("submayor_item"),y=l!=null&&l.subAccount?(l==null?void 0:l.code)+" "+(l==null?void 0:l.name)+" - "+(l==null?void 0:l.subAccount)+" "+(l==null?void 0:l.subAccountName):(l==null?void 0:l.code)+" "+(l==null?void 0:l.name);return c("div",{className:"",children:[c("div",{className:"login_title ",children:[a("div",{children:"Sub Mayor"}),c("div",{className:"_dsplFlx",children:[a("div",{className:"_dsplFlx delete_icon launcicon",style:{marginRight:25,marginTop:10},children:a(j,{name:"printer",size:24,color:"#fff",tip:!0,tipMessage:"Imprimir",backgroundColorTooltip:"#f8f8f8",textColorTooltip:"#080808"})}),a("div",{className:"acc_title",children:y})]})]}),a("div",{className:" _search_MrgV  ",children:n("showAll")?null:a("div",{className:"years_card ",style:{marginLeft:"2vw"},children:a(T,{updChanges:u,placeholderCode:"buscar..."})})}),a("div",{className:"_dsplFlx  ",children:a("div",{className:"_dsplFlx cuenta_bx_details header",children:c("div",{className:"_dsplFlx ",children:[a("div",{className:"_header_item",style:{width:150},children:a("div",{className:"",children:"Fecha"})}),a("div",{className:"_header_item",style:{width:120},children:a("div",{children:"Documento"})}),a("div",{className:"_header_item",style:{width:300},children:a("div",{children:"Descripcion"})}),a("div",{className:"_header_item",style:{width:100,textAlign:"right"},children:c("div",{children:["Debito"," "]})}),a("div",{className:"_header_item",style:{width:100,textAlign:"right"},children:a("div",{children:"Credito"})}),a("div",{className:"_header_item",style:{width:100,textAlign:"right"},children:a("div",{children:"Saldo"})})]})})}),a("div",{className:"cuentaslist",children:((g=x(e==null?void 0:e.acc))==null?void 0:g.length)>0&&((N=x(e==null?void 0:e.acc))==null?void 0:N.map(i=>i&&a(k,{item:i,refreshlist:t})))})]})},k=({item:s,refreshlist:_})=>{var h,r;return(h=s==null?void 0:s.sections)!=null&&h.active&&b((r=s==null?void 0:s.sections)==null?void 0:r.active).length>0,a("div",{className:"_dsplFlx cuenta_details ",style:{},children:c("div",{className:"_dsplFlx cuenta_bx_details ",style:{},children:[c("div",{className:"_dsplFlx ",onClick:()=>{var e,t,l;v(w,(e=n("cuentaslist"))==null?void 0:e[s==null?void 0:s.accountId]),v(w+"_backUp",JSON.stringify((t=n("cuentaslist"))==null?void 0:t[s==null?void 0:s.accountId]));let d={};d.zIndex=450,d.props={item:(l=n("cuentaslist"))==null?void 0:l[s==null?void 0:s.accountId],minHeight:"1vh",overlay:!0},d.content=a(UpdateCuentas,{refreshlist:_}),M(d)},children:[a("div",{className:"_asiento_item",style:{width:150},children:a("div",{children:C(s==null?void 0:s.date)})}),a("div",{className:"_asiento_item",style:{width:120},children:a("div",{children:s==null?void 0:s.document})}),a("div",{className:"_asiento_item",style:{width:300},children:a("div",{children:s==null?void 0:s.description})}),a("div",{className:"_asiento_item",style:{width:100,textAlign:"right"},children:a("div",{children:s!=null&&s.debit?((s==null?void 0:s.debit)*1).toFixed(2):""})}),a("div",{className:"_asiento_item",style:{width:100,textAlign:"right"},children:a("div",{children:s!=null&&s.credit?((s==null?void 0:s.credit)*1>0?(s==null?void 0:s.credit)*1:(s==null?void 0:s.credit)*-1).toFixed(2):""})}),a("div",{className:"_asiento_item",style:{width:100,textAlign:"right"},children:c("div",{children:[s!=null&&s.saldo?((s==null?void 0:s.saldo)*1).toFixed(2):""," "]})})]}),a("div",{className:"flexSpace"})]})})};export{L as default};
