import{j as i,a as e,S,a9 as I,aa as E,r as m,b as y,g as f,u as n}from"./index.d7d73e67.js";/* empty css                   */import{CloseModal as k,OpenModal as p}from"./DialogHRM.96df4305.js";import{a as M,g as z,d as w}from"./server_fetching.88717878.js";/* empty css                *//* empty css                  */const A=({data:l,confirm:d,handleClick:h,close:u})=>{const{modalID:t}=l,a=c=>{k({id:t})};return i("div",{style:{maxHeight:"40vh",minHeight:"28vh",overflow:"auto",background:"#fff",borderRadius:13,padding:"10px 19px"},children:[i("div",{className:"_dsplFlx ",children:[e("p",{className:"form_title",children:"Eliminar Comprobante"}),e("div",{className:"flexSpace"})]}),e("div",{className:"_dsplFlx ",children:e("span",{children:"Una vez eliminado no podra ser recuperado"})}),i("div",{className:"_dsplFlx ",style:{padding:"15px 10px"},children:[e("div",{className:"flexSpace"}),e("p",{className:"group_title addBtn",onClick:a,children:"Cancelar"}),e("p",{className:"group_title addBtn red",onClick:()=>{d(),a()},children:"Eliminar"})]})]})},D=S(),F=I(),H=E(),V=({data:l,elmId:d,handleRefreshAll:h})=>{var v;const[u,t]=m.exports.useState(!1),[a,r]=m.exports.useState(0);m.exports.useEffect(()=>{u||(t(!0),r(y()))});const c=()=>{r(y())},_=()=>{getall_subemployee(c)},g=()=>{z(c)},x=async()=>{n("upd_employee",l),n("upd_employee_bck",JSON.parse(JSON.stringify(l)));let s={};s.zIndex=450,s.height="80vh",s.props={minHeight:"1vh",overlay:!0},s.content=e(F,{confirm:g}),p(s)},b=s=>{n("employee_sub_mayor",l);let o={};o.zIndex=450,o.height="80vh",o.props={minHeight:"1vh",overlay:!0},o.content=e(H,{confirm:_,item:l}),p(o)},C=()=>{w(l==null?void 0:l.employeeId,h)},N=()=>{let s=f("lastTimeCallModal")||0;if(Date.now()>s){n("lastTimeCallModal",Date.now()+320);let o={};o.zIndex=450,o.height="40vh",o.props={minHeight:"1vh",overlay:!0,closeEvent:()=>{}},o.content=e(A,{confirm:C,item:l}),p(o)}};return M((v=f("sub_employee_group"))==null?void 0:v[l.employeeId],"subEmployee"),e("div",{className:"item_acc",children:i("div",{className:"_dsplFlx item_box employee_header",children:[i("div",{className:"_dsplFlx",onClick:x,children:[e("div",{className:"code"}),e("div",{className:"name",children:l==null?void 0:l.name}),e("div",{className:"unit",children:l==null?void 0:l.unit})]}),e("div",{className:"flexSpace"}),e("div",{className:" addSbAcc purple",onClick:()=>b(),children:"Submayor"}),e("div",{className:"icon",style:{marginLeft:19},onClick:N,children:e(D,{name:"outline_delete",color:"#c62828"})})]})})};export{V as default};
