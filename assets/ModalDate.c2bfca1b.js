import{u as L,f as U,r,e as P,Q as B,T as $,j as t,F as q,a as x,J as A}from"./index.5d7f8be5.js";import{i as H,a as X}from"./validations.6c3f96aa.js";const J=n=>{L(U);const{placeholder:S,dob:T,color:s,data:d,initValue:y}=n;d.item;let u=d.modalID;d.dID;var m=new Date,g=m.getFullYear(),D=g+50;D=m.getFullYear()+100,g=m.getFullYear()-100;const[a,M]=r.exports.useState(null),[o,h]=r.exports.useState(null),[l,b]=r.exports.useState(null),[C,k]=r.exports.useState(!1),[Y,V]=r.exports.useState(!1);r.exports.useEffect(()=>{Y||(V(!0),setTimeout(()=>{var e=new Date;P("date")&&(e=new Date(P("date"))),y&&(e=new Date(y)),M(e.getFullYear()),h(e.getMonth()+1),b(e.getDate()),p(a,o,l)},250))});var _={color:s},c=B(a,o),N=t("div",{className:"button disable",children:t("div",{className:"cc",children:"Salvar "})}),w="";const F=e=>{var i=new Date;i.getFullYear(),i.getFullYear()+100,i.getFullYear()-100,e=parseInt(e),M(e),p(e,o,l)},z=e=>{e=parseInt(e),12>=e&&1<=e?(h(e),p(a,e,l)):(h(null),p(a,e,l))},v=e=>{e=parseInt(e);var i=B(a,o);i>=e&&1<=e?(b(e),p(a,o,e)):(b(null),p(a,o,e))},j=()=>{var e=`${o}/${l}/${a}`;typeof n.valueUpdate=="function"&&n.valueUpdate(e),A({id:u})},R=(e,i,f)=>{A({id:u})},p=(e,i,f)=>{if(H(e,i,f)){X(i)&&i<10&&(i="0"+i),X(f)&&f<10&&(f="0"+f);var I=new Date;I.getFullYear(),B(e,i),I.getFullYear()+100,I.getFullYear()-100,k(!0)}else k(!1)};let O=`${o}/${l}/${a}`;return C?(w=$(new Date(O).getTime()),N=t("div",{className:"button",onClick:()=>j(),style:_,children:t("div",{className:"cc",children:"Salvar "})})):a&&o&&l&&(w=$(new Date(O).getTime())),t(q,{children:x("div",{className:"DateModalWrapp",...d.modalID?{"dialog-key-id":d.modalID}:"",children:[t("div",{className:"headerDateModal",style:{backgroundColor:s},children:x("div",{className:"Title",children:[S,t("div",{className:"date",children:w})]})}),t("div",{className:"bodyDateModal",children:x("div",{className:"formCont",children:[t(E,{color:s,label:"a\xF1o",_maxLengt:4,_text:a,_minValue:g,_maxValue:D,minValueError:"the year is too old",maxValueError:`the year need be less or equal to ${D}`,OnChange:e=>F(e)}),t(E,{color:s,label:"mes",_maxLengt:2,_text:o,_minValue:1,_maxValue:12,minValueError:"the month is invalid",maxValueError:`the month need be less or equal to ${12}`,OnChange:e=>z(e)}),t(E,{color:s,label:"dia",_maxLengt:2,_text:l,_minValue:1,_maxValue:c,minValueError:"the day is invalid",maxValueError:`the day need be less or equal to ${c}`,OnChange:e=>v(e)})]})}),x("div",{className:"actionContainer",children:[t("div",{className:"button",onClick:()=>R(),style:_,children:t("div",{className:"cc",children:"cancelar"})}),N]})]})})},E=n=>{const{label:S,_maxLengt:T,color:s,_text:d}=n,[y,u]=r.exports.useState(null),[m,g]=r.exports.useState(""),[D,a]=r.exports.useState(!1),[M,o]=r.exports.useState("");var h=m||d||"",l={},b=s||"#b00000",C={},k="borderBottomActive";y&&(l={color:b},k="borderBottomActive load",C={backgroundColor:b});const Y=()=>{u(!0)},V=()=>{u(!1)},_=c=>{const{_minValue:N,_maxValue:w,minValueError:F,maxValueError:z}=n;var v=parseInt(c.target.value);g(c.target.value),parseInt(w)<v?(a(!0),o(z),typeof n.OnChange=="function"&&n.OnChange(null)):parseInt(N)>v?(a(!0),o(F),typeof n.OnChange=="function"&&n.OnChange(null)):(a(!1),o(null),typeof n.OnChange=="function"&&n.OnChange(v))};return t("div",{className:"inputDatePick",children:t("div",{className:"base",children:x("div",{className:"date",children:[x("div",{className:"inputCont",children:[t("input",{type:"number",tabIndex:"0","aria-label":"A\xF1o",maxLength:T,value:h,onFocus:()=>Y(),onChange:c=>_(c),onBlur:()=>V()}),t("div",{className:"label",style:l,children:S})]}),t("div",{className:"borderBottom"}),t("div",{className:k,style:C})]})})})};export{J as default};
