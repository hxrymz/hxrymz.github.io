import{j as t,a as e,S as y,a8 as I,a9 as k,r as d,b as f,g as _,u as r}from"./index.1ea4e0d9.js";/* empty css                   */import{CloseModal as M,OpenModal as p}from"./DialogHRM.70227492.js";import{a as z,g as w,d as A}from"./server_fetching.0d554ed2.js";/* empty css                *//* empty css                  */const D=({data:o,confirm:m,handleClick:u,close:h})=>{const{modalID:c}=o,i=a=>{M({id:c})};return t("div",{style:{maxHeight:"40vh",minHeight:"28vh",overflow:"auto",background:"#fff",borderRadius:13,padding:"10px 19px"},children:[t("div",{className:"_dsplFlx ",children:[e("p",{className:"form_title",children:"Eliminar Comprobante"}),e("div",{className:"flexSpace"})]}),e("div",{className:"_dsplFlx ",children:e("span",{children:"Una vez eliminado no podra ser recuperado"})}),t("div",{className:"_dsplFlx ",style:{padding:"15px 10px"},children:[e("div",{className:"flexSpace"}),e("p",{className:"group_title addBtn",onClick:i,children:"Cancelar"}),e("p",{className:"group_title addBtn red",onClick:()=>{m(),i()},children:"Eliminar"})]})]})},F=y(),H=I(),O=k(),J=({data:o,elmId:m,handleRefreshAll:u})=>{var v;const[h,c]=d.exports.useState(!1),[i,n]=d.exports.useState(0);d.exports.useEffect(()=>{h||(c(!0),n(f()))});const a=()=>{n(f())},g=()=>{getall_subproduct(a)},x=()=>{w(a)},b=async()=>{r("upd_product",o),r("upd_product_bck",JSON.parse(JSON.stringify(o)));let s={};s.zIndex=450,s.height="80vh",s.props={minHeight:"1vh",overlay:!0},s.content=e(H,{confirm:x}),p(s)},C=s=>{r("product_sub_mayor",o);let l={};l.zIndex=450,l.height="80vh",l.props={minHeight:"1vh",overlay:!0},l.content=e(O,{confirm:g,item:o}),p(l)},N=()=>{A(o==null?void 0:o.productId,u)},S=()=>{let s=_("lastTimeCallModal")||0;if(Date.now()>s){r("lastTimeCallModal",Date.now()+320);let l={};l.zIndex=450,l.height="40vh",l.props={minHeight:"1vh",overlay:!0,closeEvent:()=>{}},l.content=e(D,{confirm:N,item:o}),p(l)}};return z((v=_("sub_product_group"))==null?void 0:v[o.productId],"subProduct"),e("div",{className:"item_acc",children:t("div",{className:"_dsplFlx item_box product_header",children:[t("div",{className:"_dsplFlx",onClick:b,children:[e("div",{className:"code"}),e("div",{className:"name",children:o==null?void 0:o.name}),e("div",{className:"unit",children:o==null?void 0:o.unit})]}),e("div",{className:"flexSpace"}),e("div",{className:" addSbAcc purple",onClick:()=>C(),children:"Submayor"}),e("div",{className:"icon",style:{marginLeft:19},onClick:S,children:e(F,{name:"outline_delete",color:"#c62828"})})]})})};export{J as default};
