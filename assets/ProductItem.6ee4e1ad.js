import{j as r,a as e,S as I,a5 as k,a6 as M,r as p,b as _,g,u as c}from"./index.b7d6b41c.js";/* empty css                   */import{CloseModal as z,OpenModal as m}from"./DialogHRM.7a3190e8.js";import{a as F,g as P,d as w}from"./server_fetching.e6c5f735.js";/* empty css                *//* empty css                  */const A=({data:o,confirm:u,handleClick:h,close:v})=>{const{modalID:i}=o,n=a=>{z({id:i})};return r("div",{style:{maxHeight:"40vh",minHeight:"28vh",overflow:"auto",background:"#fff",borderRadius:13,padding:"10px 19px"},children:[r("div",{className:"_dsplFlx ",children:[e("p",{className:"form_title",children:"Eliminar Comprobante"}),e("div",{className:"flexSpace"})]}),e("div",{className:"_dsplFlx ",children:e("span",{children:"Una vez eliminado no podra ser recuperado"})}),r("div",{className:"_dsplFlx ",style:{padding:"15px 10px"},children:[e("div",{className:"flexSpace"}),e("p",{className:"group_title addBtn",onClick:n,children:"Cancelar"}),e("p",{className:"group_title addBtn red",onClick:()=>{u(),n()},children:"Eliminar"})]})]})},D=I(),H=k(),O=M(),V=({data:o,elmId:u,handleRefreshAll:h})=>{var f;const[v,i]=p.exports.useState(!1),[n,d]=p.exports.useState(0);p.exports.useEffect(()=>{v||(i(!0),d(_()))});const a=()=>{d(_())},x=()=>{getall_subproduct(a)},b=()=>{P(a)},C=async()=>{c("upd_product",o),c("upd_product_bck",JSON.parse(JSON.stringify(o)));let l={};l.zIndex=450,l.height="80vh",l.props={minHeight:"1vh",overlay:!0},l.content=e(H,{confirm:b}),m(l)},N=l=>{let s={product:o.productId};l&&(s.subProduct=l),c("product_sub_mayor",o);let t={};t.zIndex=450,t.height="80vh",t.props={minHeight:"1vh",overlay:!0},t.content=e(O,{confirm:x,productForm:s}),m(t)},S=()=>{w(o==null?void 0:o.productId,h)},y=()=>{let l=g("lastTimeCallModal")||0;if(Date.now()>l){c("lastTimeCallModal",Date.now()+320);let s={};s.zIndex=450,s.height="40vh",s.props={minHeight:"1vh",overlay:!0,closeEvent:()=>{}},s.content=e(A,{confirm:S,item:o}),m(s)}};return F((f=g("sub_product_group"))==null?void 0:f[o.productId],"subProduct"),e("div",{className:"item_acc",children:r("div",{className:"_dsplFlx item_box product_header",children:[r("div",{className:"_dsplFlx",onClick:C,children:[e("div",{className:"code"}),e("div",{className:"name",children:o==null?void 0:o.name}),e("div",{className:"unit",children:o==null?void 0:o.unit})]}),e("div",{className:"flexSpace"}),e("div",{className:" addSbAcc purple",onClick:()=>N(null),children:"Submayor"}),e("div",{className:"icon",style:{marginLeft:19},onClick:y,children:e(D,{name:"outline_delete",color:"#c62828"})})]})})};export{V as default};
