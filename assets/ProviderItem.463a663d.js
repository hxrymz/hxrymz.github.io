import{j as c,a as o,S as y,ad as I,ae as A,r as m,t as k,b as f,g,u as r}from"./index.921eeb0e.js";/* empty css                   */import{CloseModal as P,OpenModal as _}from"./DialogHRM.281c65d9.js";import{a as M,g as z,d as D}from"./server_fetching.7ae681c1.js";/* empty css                */import{a as F,g as O}from"./server_fetching.26656a3e.js";/* empty css                  */const w=({data:e,confirm:u,handleClick:v,close:d})=>{const{modalID:i}=e,n=t=>{P({id:i})};return c("div",{style:{maxHeight:"40vh",minHeight:"28vh",overflow:"auto",background:"#fff",borderRadius:13,padding:"10px 19px"},children:[c("div",{className:"_dsplFlx ",children:[o("p",{className:"form_title",children:"Eliminar Comprobante"}),o("div",{className:"flexSpace"})]}),o("div",{className:"_dsplFlx ",children:o("span",{children:"Una vez eliminado no podra ser recuperado"})}),c("div",{className:"_dsplFlx ",style:{padding:"15px 10px"},children:[o("div",{className:"flexSpace"}),o("p",{className:"group_title addBtn",onClick:n,children:"Cancelar"}),o("p",{className:"group_title addBtn red",onClick:()=>{u(),n()},children:"Eliminar"})]})]})},E=y(),H=I();A();const V=({data:e,elmId:u,handleRefreshAll:v})=>{var h;const[d,i]=m.exports.useState(!1),[n,p]=m.exports.useState(0),t=k();m.exports.useEffect(()=>{d||(i(!0),p(f()))});const C=()=>{p(f())},b=()=>{z(C)},x=async()=>{r("upd_provider",e),r("upd_provider_bck",JSON.parse(JSON.stringify(e)));let l={};l.zIndex=450,l.height="80vh",l.props={minHeight:"1vh",overlay:!0},l.content=o(H,{confirm:b}),_(l)},a=l=>{if((e==null?void 0:e.type)==="provider"){let s={account:e==null?void 0:e.account,subAccount:e==null?void 0:e.subAccount,customerId:e==null?void 0:e.customerId};r("Acc2Pay",s),F(()=>{t({pathname:"/pay"})})}else if((e==null?void 0:e.type)==="customer"){let s={account:e==null?void 0:e.account,subAccount:e==null?void 0:e.subAccount,customerId:e==null?void 0:e.customerId};r("Acc2Collect",s),O(()=>{t({pathname:"/collect"})})}},N=()=>{D(e==null?void 0:e.providerId,v)},S=()=>{let l=g("lastTimeCallModal")||0;if(Date.now()>l){r("lastTimeCallModal",Date.now()+320);let s={};s.zIndex=450,s.height="40vh",s.props={minHeight:"1vh",overlay:!0,closeEvent:()=>{}},s.content=o(w,{confirm:N,item:e}),_(s)}};return M((h=g("sub_provider_group"))==null?void 0:h[e.providerId],"subProvider"),o("div",{className:"item_acc",children:c("div",{className:"_dsplFlx item_box provider_header",children:[c("div",{className:"_dsplFlx",onClick:x,children:[o("div",{className:"code"}),o("div",{className:"name",children:e==null?void 0:e.name}),o("div",{className:"unit",children:e==null?void 0:e.unit})]}),o("div",{className:"flexSpace"}),o("div",{className:" addSbAcc purple",onClick:()=>a(),children:(e==null?void 0:e.type)==="provider"?"Cuentas por Pagar":"Cuentas por Cobrar"}),o("div",{className:"icon",style:{marginLeft:19},onClick:S,children:o(E,{name:"outline_delete",color:"#c62828"})})]})})};export{V as default};
