import{d as pe,T as me,P as ue,r as v,g as y,b as i,j as o,a as t,O as fe,u as A,f as Ne,c as Ce}from"./index.9d7fe9a9.js";import{OpenModal as ge}from"./DialogHRM.05276544.js";/* empty css                  *//* empty css                  */const be=pe(),l=me(),ve=ue(),a="upd_client",xe=({data:C,elmId:n,updObs:u,close:h})=>{var x,O,I,B,S,P,k,F,z,M,T,$,H,J,q,E,D,K,L,R,G,Q,V,W,X,Y,Z,U,j,ee,te,ae,ie,re,se,le;const[f,g]=v.exports.useState(!1),[s,p]=v.exports.useState(0);v.exports.useEffect(()=>{f||(g(!0),p(y()))});const r=(e,d,c)=>{let m=i(a)||{};c?(m[c]||(m[c]={}),m[c][e]=d):m[e]=d,A(a,m),p(y())},N=async()=>{let e=i(a);if(e&&e.dateOfBirth){let ne=new Date(e.dateOfBirth).getTime();ne&&(e.dob=ne)}let d=ce(_,i(a),i(a+"_bck")),c={query:"updateClientNotary",params:{clientNotaryId:e.clientNotaryId},data2update:d.data};const de=await Ne(Ce(),c);de&&de.data&&(A(a,{}),A(a+"_bck",{}),p(y()),h(!0))};let _=["phoneNumber","firstName","middleName","lastName","dateOfBirth","genre","placeOfBirth","currentAddress","father","mother"],b=ce(_,i(a),i(a+"_bck"));const oe=e=>{r("genre",e?"Male":"Female")},he=(e,d)=>{r(d,e.clientNotaryId)},w=e=>{let d={};d.zIndex=450,d.props={minHeight:"1vh",overlay:!0},d.content=t(ve,{handleClick:c=>he(c,e)}),ge(d)};return o("div",{children:[o("div",{className:"_dsplFlx ",children:[t("p",{className:"form_title ",children:"Actualizar Formulario Cliente"}),t("div",{className:"flexSpace"}),t("p",{className:"group_title addBtn",onClick:()=>h(!1),children:"cerrar"})]}),t(l,{init:(x=i(a))==null?void 0:x.phoneNumber,label:"Telefono",width:320,updChanges:e=>r("phoneNumber",e)}),t(l,{init:(O=i(a))==null?void 0:O.firstName,label:"Nombre",width:520,updChanges:e=>r("firstName",e)}),t(l,{init:(I=i(a))==null?void 0:I.middleName,label:"Segundo Nombre",width:520,updChanges:e=>r("middleName",e)}),t(l,{init:(B=i(a))==null?void 0:B.lastName,label:"Apellidos",width:520,updChanges:e=>r("lastName",e)}),t("p",{className:"group_title",children:"Sexo"}),o("div",{className:"_dsplFlx ",children:[t("span",{className:"checklabel",children:"Mujer"}),t(be,{initvalue:((S=i(a))==null?void 0:S.genre)==="Male",keyCode:77,updChange:oe}),t("span",{className:"checklabel",children:"Hombre"})]}),t(l,{init:(P=i(a))==null?void 0:P.dateOfBirth,label:"Fecha de nacimiento",width:360,updChanges:e=>r("dateOfBirth",e)}),t("p",{className:"group_title",children:"Lugar de Nacimiento"}),t(l,{init:(F=(k=i(a))==null?void 0:k.placeOfBirth)==null?void 0:F.city,label:"Municipio",width:360,updChanges:e=>r("city",e,"placeOfBirth")}),t(l,{init:(M=(z=i(a))==null?void 0:z.placeOfBirth)==null?void 0:M.state,label:"Provincia",width:360,updChanges:e=>r("state",e,"placeOfBirth")}),t("div",{className:"separator"}),t("p",{className:"group_title",children:"Recidencia Actual"}),o("div",{className:"_dsplFlx spaceAround",children:[t(l,{init:($=(T=i(a))==null?void 0:T.currentAddress)==null?void 0:$.No,label:"No Casa",width:60,updChanges:e=>r("No",e,"currentAddress")}),t(l,{init:(J=(H=i(a))==null?void 0:H.currentAddress)==null?void 0:J.apto,label:"Apt  (opt)",width:60,updChanges:e=>r("apto",e,"currentAddress")}),t(l,{init:(E=(q=i(a))==null?void 0:q.currentAddress)==null?void 0:E.zipcode,label:"Codigo Postal",width:60,updChanges:e=>r("zipcode",e,"currentAddress")})]}),t(l,{init:(K=(D=i(a))==null?void 0:D.currentAddress)==null?void 0:K.street,label:"Calle",width:520,updChanges:e=>r("street",e,"currentAddress")}),t(l,{init:(R=(L=i(a))==null?void 0:L.currentAddress)==null?void 0:R.city,label:"Ciudad o Municipio",width:520,updChanges:e=>r("city",e,"currentAddress")}),t(l,{init:(Q=(G=i(a))==null?void 0:G.currentAddress)==null?void 0:Q.state,label:"Estado o Provincia",width:520,updChanges:e=>r("state",e,"currentAddress")}),t("div",{className:"separator"}),t("p",{className:"group_title",children:"Padres"}),o("div",{children:[t("p",{className:"label",onClick:()=>w("father"),children:"Padre"}),(V=i(a))!=null&&V.father?t("div",{style:{width:520},className:"r7gAOb yyJm8b",children:((X=(W=i(a))==null?void 0:W.fatherInfo)==null?void 0:X.firstName)&&`${(Z=(Y=i(a))==null?void 0:Y.fatherInfo)==null?void 0:Z.firstName} ${(j=(U=i(a))==null?void 0:U.fatherInfo)==null?void 0:j.lastName}`}):null]}),o("div",{children:[t("p",{className:"label",onClick:()=>w("mother"),children:"Madre"}),(ee=i(a))!=null&&ee.mother?t("div",{style:{width:520},className:"r7gAOb yyJm8b",children:((ae=(te=i(a))==null?void 0:te.motherInfo)==null?void 0:ae.firstName)&&`${(re=(ie=i(a))==null?void 0:ie.motherInfo)==null?void 0:re.firstName} ${(le=(se=i(a))==null?void 0:se.motherInfo)==null?void 0:le.lastName}`}):null]}),b!=null&&b.hasChange?o("div",{className:"_dsplFlx ",children:[t("div",{className:"flexSpace"}),t("div",{className:"card",children:t("button",{onClick:N,children:"Actualizar"})})]}):null]})},ce=(C,n,u)=>{let h=0,f={};for(let g in C){let s=C[g];n[s]&&(typeof n[s]=="object"?fe(n[s]).map(p=>{var r,N;((r=n==null?void 0:n[s])==null?void 0:r[p])!==((N=u==null?void 0:u[s])==null?void 0:N[p])&&(h=1,f[s]=n[s])}):n[s]&&n[s]!==u[s]&&(h=1,f[s]=n[s]))}return{data:f,hasChange:h}};export{xe as default};
