import{C as j,T as B,o as E,a3 as T,r as h,b as u,p as g,g as c,j as n,a as s,u as d,i as q}from"./index.1ea4e0d9.js";/* empty css                   */import{CloseModal as H}from"./DialogHRM.70227492.js";/* empty css                  */j();const I=B(),P=E(),R=T(),e="upd_provider",L=({data:o,confirm:f})=>{var x,v,_,N,C,y,S;const[k,w]=h.exports.useState(!1),[U,r]=h.exports.useState(0);h.exports.useEffect(()=>{k||(w(!0),r(u()))});const p=(a,l,t)=>{let i=c(e)||{};t?(i[t]||(i[t]={}),i[t][a]=l):i[a]=l,d(e,i),r(u())};let b=["type","name","description","account","subAccount"];const F=async()=>{var A;let a=c(e),l=g(b,c(e),c(e+"_bck")),t={query:"updateProvidersHRG",params:{accountId:a.accountId,businessId:(A=c("profileUser"))==null?void 0:A.businessId},data2update:l.data};await q(t)&&(d(e,{}),d(e+"_bck",{}),f&&f(),o!=null&&o.modalID&&H({id:o==null?void 0:o.modalID}))};let m=g(b,c(e),c(e+"_bck"));const D=(a,l)=>{let t=c(e)||{};t.account=a,t.subAccount=l,d(e,t),r(u())},z=(a,l)=>{let t=c(e)||{};t.account=null,t.subAccount=null,d(e,t),r(u())};return n("div",{style:{maxHeight:"80vh",width:"560px",overflow:"auto",background:"#fff",borderRadius:13,padding:"10px 19px 25px"},children:[n("div",{className:"_dsplFlx ",children:[s("p",{className:"form_title",children:"Actualizar Empleado"}),s("div",{className:"flexSpace"})]}),s(I,{init:(x=c(e))==null?void 0:x.name,label:"Nombre",width:520,updChanges:a=>p("name",a)}),s("div",{className:"extra_container",children:(v=c(e))!=null&&v.account?n("div",{className:"",children:[n("div",{className:"_dsplFlx",children:[s("div",{className:"employee_title",style:{color:"#646cff",cursor:"pointer"},onClick:()=>z(),children:"Cuenta:"}),s("div",{className:"employee_name",children:(_=c("account_ids")[c(e).account])==null?void 0:_.name})]}),(N=c(e))!=null&&N.subAccount?n("div",{className:"_dsplFlx",children:[s("div",{className:"employee_title",style:{color:"#646cff",cursor:"pointer"},children:"SubCuenta:"}),s("div",{className:"employee_name",children:(C=c("sub_account_ids")[c(e).subAccount])==null?void 0:C.subAccountName})]}):null]}):s(R,{placeholder:"buscar una cuenta",width:420,handleClick:D})}),s(I,{init:(y=c(e))==null?void 0:y.description,label:"Descripcion",width:520,updChanges:a=>p("description",a)}),n("div",{className:"_dsplFlx ",style:{padding:"18px"},children:[s("div",{className:"flexSpace"}),s(P,{data:[{label:"Provedor",id:"provider"},{label:"Cliente",id:"customer"}],active:(S=c(e))==null?void 0:S.type,updSelect:a=>p("type",a)}),s("div",{className:"flexSpace"})]}),n("div",{className:"_dsplFlx ",children:[s("div",{className:"flexSpace"}),m!=null&&m.hasChange?s("div",{className:"card",children:s("button",{onClick:F,children:"Actualizar"})}):null]})]})};export{L as default};
