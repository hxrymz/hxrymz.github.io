import{o as w,k as d,p as O,I as $,l as D,m as B,_ as N,r as S,j as h,a as g,t as C,O as K,q as v,g as A,w as I,v as m}from"./index.81185f1e.js";const V=()=>w("accountList2Dp",[d("sub_cuentas_list")],()=>{const l=e=>{var t;let a=(t=d("cuentaslist"))==null?void 0:t[e==null?void 0:e.accountId];if(!(a!=null&&a.isNominal)){let F=e!=null&&e.subAccountName?e==null?void 0:e.sub_accountId:e==null?void 0:e.accountId,_=`${a==null?void 0:a.name}${e!=null&&e.subAccountName?" - "+(e==null?void 0:e.subAccountName):""}`;return{id:F,lbl:_}}return null},s=e=>e;return d("sub_cuentas_list").map(l).filter(s)}),k=(l,s)=>w("sumArrayKeys_"+l,[s,d("general_balance")],()=>{let e=0;const a=t=>{var F,_;(F=d("general_balance"))!=null&&F[t]&&(e+=(_=d("general_balance"))==null?void 0:_[t])};return s.map(a),e.toFixed(2)});function X(l,s,e){let a=null;return l&&l.map(t=>{(s==null?void 0:s[t])!==(e==null?void 0:e[t])&&(a||(a={}),a[t]=s[t])}),a}function H(l,s){let e=null;return l&&l.map(a=>{s!=null&&s[a]&&(e||(e={}),e[a]=s[a])}),e}function q(l){const s=localStorage.getItem("pgSz")||"a4",e=new window.jsPDF({orientation:"portrait",format:s});e.setFontSize(14),e.setFontType("bold"),e.setTextColor(10,10,10),e.setFontSize(23),e.text(69,30,"Balance General "),e.setFontType("normal"),e.setTextColor(10,10,10),e.setFontSize(11),e.text("Fecha de cierre:",206,10,{align:"right"}),e.setFontType("bold"),e.text(`${O(Date.now())}`,206,15,{align:"right"}),e.setFontSize(12),e.setFontType("normal"),e.text("Moneda:",196,20,{align:"right"}),e.setFontSize(12),e.setFontType("bold"),e.text("CUP",206,20,{align:"right"}),e.setFontSize(12),e.setFontType("normal"),e.text("Codigo NIT:",6,10,{align:"left"}),e.setFontSize(13),e.setFontType("bold"),e.text("34434",30,10,{align:"left"});let a=10,t=6;e.setDrawColor(0),e.setFillColor(174,174,174),e.rect(4,a+24,202,8,"F"),e.setFontType("bold"),e.setTextColor(10,10,10),e.setFontSize(17),e.text("Activos",t,a+30,{align:"left"});let F=k("TotalActivoCirculante",["key_a_1","key_a_2","key_a_3","key_a_4","key_a_5"]),_=200,f=a+38,o=a+38;if(F>0){e.setFontType("bold"),e.setFontSize(12),e.text("Activos Circulantes",t+5,o,{align:"left"}),e.setFontSize(11),e.setFontType("normal");let p=["key_a_1","key_a_2","key_a_3","key_a_4","key_a_5"],u=["Efectivo en Caja","Efectivo en Banco","Inversiones a corto plazo","Cuentas por cobrar","Inventario"];p.map((n,i)=>{o=f+(i+1)*7,e.text(u[i],t+10,o,{align:"left"}),e.text(l[n]?(l[n]*1).toFixed(2):"0.00",_,o,{align:"right"})})}let y=o+10;if(k("TotalActivoFijo",["key_a_6","key_a_7","key_a_8","key_a_9","key_a_10","key_a_11"])>0){e.setFontType("bold"),e.setFontSize(12),e.text("Activos Fijos",t+5,y,{align:"left"}),e.setFontSize(11),e.setFontType("normal");let p=["key_a_6","key_a_7","key_a_8","key_a_9","key_a_10","key_a_11"],u=["Edificios","Terreno","Mobiliaria y equipos","Equipos de transporte","Equipos de computo","Depreciacion acumulada"];p.map((n,i)=>{o=y+(i+1)*7,e.text(u[i],t+10,o,{align:"left"}),e.text(l[n]?(l[n]*1).toFixed(2):"0.00",_,o,{align:"right"})})}let b=o+10;if(k("TotalActivo_diferido",["key_a_12"])>0){e.setFontType("bold"),e.setFontSize(12),e.text("Activos Diferido",20,b,{align:"left"}),e.setFontSize(11),e.setFontType("normal");let p=["key_a_12"],u=["Rentas pagadas por anticipado"];p.map((n,i)=>{o=b+(i+1)*7,e.text(u[i],25,o,{align:"left"}),e.text(l[n]?(l[n]*1).toFixed(2):"0.00",_,o,{align:"right"})})}e.setDrawColor(0),e.setFillColor(224,224,224),e.rect(t+3,o+2,193,7,"F"),e.setFontSize(12),e.setFontType("bold"),e.text("Total de Activos",t+5,o+7,{align:"left"}),e.text(` ${k("TotalActivoss",["key_a_1","key_a_2","key_a_3","key_a_4","key_a_5","key_a_6","key_a_7","key_a_8","key_a_9","key_a_10","key_a_11","key_a_12"])}`,_,o+7,{align:"right"}),o=o+7,e.setDrawColor(0),e.setFillColor(174,174,174),e.rect(4,o+9,202,8,"F"),e.setFontType("bold"),e.setTextColor(10,10,10),e.setFontSize(17),e.text("Pasivos",t,o+15,{align:"left"});let z=o+17,r=o+17;if(k("TotalPasivoCirculante",["key_p_1","key_p_2","key_p_3","key_p_4","key_p_5"])>0){e.setFontType("bold"),e.setFontSize(12),e.text("Pasivos Circulantes",t+5,z,{align:"left"}),e.setFontSize(11),e.setFontType("normal");let p=["key_p_1","key_p_2","key_p_3","key_p_4"],u=["Provedores","Acreedores","Intereses e impuestos por pagar","Obligaciones bancarias a corto plazo"];p.map((n,i)=>{r=z+(i+1)*7,e.text(u[i],t+10,r,{align:"left"}),e.text(l[n]?(l[n]*1).toFixed(2):"0.00",_,r,{align:"right"})})}let P=r+10;if(k("TotalPasivoCirculante",["key_p_5"])>0){e.setFontType("bold"),e.setFontSize(12),e.text("Pasivos Circulantes",t+5,P,{align:"left"}),e.setFontSize(11),e.setFontType("normal");let p=["key_p_5"],u=["Obligaciones bancarias a largo plazo"];p.map((n,i)=>{r=P+(i+1)*7,e.text(u[i],t+10,r,{align:"left"}),e.text(l[n]?(l[n]*1).toFixed(2):"0.00",_,r,{align:"right"})})}e.setDrawColor(0),e.setFillColor(224,224,224),e.rect(t+3,r+2,193,7,"F"),e.setFontSize(12),e.setFontType("bold"),e.text("Total de Pasivos",t+5,r+7,{align:"left"}),e.text(` ${k("TotalPasivoss",["key_p_1","key_p_2","key_p_3","key_p_4","key_p_5"])}`,_,r+7,{align:"right"}),r=r+7,e.setDrawColor(0),e.setFillColor(174,174,174),e.rect(4,r+9,202,8,"F"),e.setFontType("bold"),e.setTextColor(10,10,10),e.setFontSize(17),e.text("Patrimonio",t,r+15,{align:"left"});let E=r+15,c=r+15;if(k("totalCapital",["key_c_1","key_c_2","key_c_3","key_c_4","key_c_5","key_c_6"])>0){e.setFontType("normal");let p=["key_c_1","key_c_2","key_c_3","key_c_4","key_c_5","key_c_6"],u=["Saldo del patrimonio al inicio del ejercicio contable","Incremento de aportes en el ejercicio contable","Erogaciones efectuadas en el ejercicio contable","Pagos de cuotas del Impuesto Sobre Ingresos Personales","Contribuci\xF3n a la Seguridad Social","Utilidad Neta o Perdida"];p.map((n,i)=>{e.setFontSize(11),c=E+(i+1)*7,e.text(u[i],t+10,c,{align:"left"}),e.text(l[n]?(l[n]*1).toFixed(2):"0.00",_,c,{align:"right"})})}e.setDrawColor(0),e.setFillColor(224,224,224),e.rect(t+3,c+2,193,7,"F"),e.setFontSize(12),e.setFontType("bold"),e.text("Total de Patrimonio",t+5,c+7,{align:"left"}),e.text(` ${k("TotaPatrimonios",["key_c_1","key_c_2","key_c_3","key_c_4","key_c_5","key_c_6"])}`,_,c+7,{align:"right"}),c=c+7,e.setDrawColor(0),e.setFillColor(224,224,224),e.rect(t+3,c+3,193,7,"F"),e.setFontType("bold"),e.setFontSize(12),e.text("Total de Pasivo + Patrimonio",t+5,c+8,{align:"left"}),e.text(` ${k("TotaPatrimonios",["key_p_1","key_p_2","key_p_3","key_p_4","key_p_5","key_c_1","key_c_2","key_c_3","key_c_4","key_c_5","key_c_6"])}`,_,c+8,{align:"right"}),c=c+8,e.save(`general_balance_sheet_${new Date().getTime()}.pdf`)}const j=$(),U=D(),L=B(()=>N(()=>import("./balance_sheet_parametrizar.670b5360.js"),["assets/balance_sheet_parametrizar.670b5360.js","assets/index.81185f1e.js","assets/index.ed13fd6f.css"])),M=B(()=>N(()=>import("./balance_sheet_preview.e178f388.js"),["assets/balance_sheet_preview.e178f388.js","assets/index.81185f1e.js","assets/index.ed13fd6f.css"])),R=({view:l})=>{S.exports.useState(null),S.exports.useState("");const[s,e]=S.exports.useState(""),a=async()=>{var T,b;let f={query:"getScanBalanceSheet",params:{businessId:d("businessId"),":type":"GBS"},queryString:"type = :type"};const y=await C(m(),f);if(y&&y.data){let x=(T=K(y.data||{}))==null?void 0:T[0];v("balance_sheet_frm",(b=y.data)==null?void 0:b[x]),e(A())}},t=async()=>{let f={query:"getAllAccountsByUserId",params:{businessId:d("businessId")}};const y=await C(m(),f);y&&y.data&&v("cuentaslist",I(y.data,"accountId"));let T={query:"getAllSubAccounts",params:{businessId:d("businessId")}};const x=await C(m(),T);x&&x.data&&(v("sub_cuentas_list",x.data),v("sub_cuentas_dict",I(x.data,"sub_accountId")))};S.exports.useEffect(()=>()=>{},[]),S.exports.useEffect(()=>{setTimeout(()=>{window.scrollTo(0,0),t(),a()},170)},[l]);const F=f=>{v("show_bal_form",f);let o=d("balance_sheet_frm")||{};v("balance_sheet_frm_backUp",{...o}),e(A())};return h("div",{className:"",style:{marginLeft:"2vw"},children:[h("div",{className:"_dsplFlx ",style:{margin:"5px 15px 35px 0"},children:[g("div",{className:"_dsplFlx delete_icon launcicon",style:{marginRight:15,marginTop:5},onClick:f=>{q(d("general_balance"))},children:g(j,{name:"printer",size:24,color:"#fff",tip:!0,tipMessage:"Imprimir",backgroundColorTooltip:"#f8f8f8",textColorTooltip:"#080808"})}),g("div",{className:"balance_title ",children:g("div",{children:"Balance General"})}),g("div",{className:"flexSpace"}),g("div",{className:"sendBtn _dsplFlx spaceAround ",style:{marginTop:4},children:h("div",{className:"in_stock_switch _dsplFlx",children:[g("div",{className:"in_stock_switch_btn",children:g(U,{initvalue:d("show_bal_form"),keyCode:77,updChange:F})}),g("span",{className:"sw_rgh_span",children:"Parametrizar Balance"})]})})]}),d("show_bal_form")?g(L,{refreshlist:a}):g(M,{})]})};var W=Object.freeze(Object.defineProperty({__proto__:null,default:R},Symbol.toStringTag,{value:"Module"}));export{V as a,W as b,X as c,k as s,H as v};
