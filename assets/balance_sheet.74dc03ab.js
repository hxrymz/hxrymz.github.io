import{m as I,k as d,U as D,p as E,I as O,H as $,l as B,_ as N,r as S,a as h,j as u,o as C,O as K,q as v,g as w,t as A,v as m}from"./index.6441d54b.js";const X=()=>I("accountList2Dp",[d("sub_cuentas_list")],()=>{const o=e=>{var t;let l=(t=d("cuentaslist"))==null?void 0:t[e==null?void 0:e.accountId];if(!(l!=null&&l.isNominal)){let F=e!=null&&e.subAccountName?e==null?void 0:e.sub_accountId:e==null?void 0:e.accountId,n=`${l==null?void 0:l.name}${e!=null&&e.subAccountName?" - "+(e==null?void 0:e.subAccountName):""}`;return{id:F,lbl:n}}return null},s=e=>e;return d("sub_cuentas_list").map(o).filter(s)}),g=(o,s)=>I("sumArrayKeys_"+o,[s,d("general_balance")],()=>{let e=0;const l=t=>{var F,n;(F=d("general_balance"))!=null&&F[t]&&(e+=(n=d("general_balance"))==null?void 0:n[t])};return s.map(l),e.toFixed(2)});function W(o,s,e){let l=null;return o&&o.map(t=>{(s==null?void 0:s[t])!==(e==null?void 0:e[t])&&(l||(l={}),l[t]=s[t])}),l}function Z(o,s){let e=null;return o&&o.map(l=>{s!=null&&s[l]&&(e||(e={}),e[l]=s[l])}),e}function q(o){if(window.jsPDF)return 1;D("https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.4.1/jspdf.debug.js",()=>1)}function U(o){const s=localStorage.getItem("pgSz")||"a4",e=new window.jsPDF({orientation:"portrait",format:s});e.setFontSize(14),e.setFontType("bold"),e.setTextColor(10,10,10),e.setFontSize(23),e.text(69,30,"Balance General "),e.setFontType("normal"),e.setTextColor(10,10,10),e.setFontSize(11),e.text("Fecha de cierre:",206,10,{align:"right"}),e.setFontType("bold"),e.text(`${E(Date.now())}`,206,15,{align:"right"}),e.setFontSize(12),e.setFontType("normal"),e.text("Moneda:",196,20,{align:"right"}),e.setFontSize(12),e.setFontType("bold"),e.text("CUP",206,20,{align:"right"}),e.setFontSize(12),e.setFontType("normal"),e.text("Codigo NIT:",6,10,{align:"left"}),e.setFontSize(13),e.setFontType("bold"),e.text("34434",30,10,{align:"left"});let l=10,t=6;e.setDrawColor(0),e.setFillColor(174,174,174),e.rect(4,l+24,202,8,"F"),e.setFontType("bold"),e.setTextColor(10,10,10),e.setFontSize(17),e.text("Activos",t,l+30,{align:"left"});let F=g("TotalActivoCirculante",["key_a_1","key_a_2","key_a_3","key_a_4","key_a_5"]),n=200,z=l+38,a=l+38;if(F>0){e.setFontType("bold"),e.setFontSize(12),e.text("Activos Circulantes",t+5,a,{align:"left"}),e.setFontSize(11),e.setFontType("normal");let p=["key_a_1","key_a_2","key_a_3","key_a_4","key_a_5"],y=["Efectivo en Caja","Efectivo en Banco","Inversiones a corto plazo","Cuentas por cobrar","Inventario"];p.map((i,_)=>{a=z+(_+1)*7,e.text(y[_],t+10,a,{align:"left"}),e.text(o[i]?(o[i]*1).toFixed(2):"0.00",n,a,{align:"right"})})}let b=a+10;if(g("TotalActivoFijo",["key_a_6","key_a_7","key_a_8","key_a_9","key_a_10","key_a_11"])>0){e.setFontType("bold"),e.setFontSize(12),e.text("Activos Fijos",t+5,b,{align:"left"}),e.setFontSize(11),e.setFontType("normal");let p=["key_a_6","key_a_7","key_a_8","key_a_9","key_a_10","key_a_11"],y=["Edificios","Terreno","Mobiliaria y equipos","Equipos de transporte","Equipos de computo","Depreciacion acumulada"];p.map((i,_)=>{a=b+(_+1)*7,e.text(y[_],t+10,a,{align:"left"}),e.text(o[i]?(o[i]*1).toFixed(2):"0.00",n,a,{align:"right"})})}let x=a+10;if(g("TotalActivo_diferido",["key_a_12"])>0){e.setFontType("bold"),e.setFontSize(12),e.text("Activos Diferido",20,x,{align:"left"}),e.setFontSize(11),e.setFontType("normal");let p=["key_a_12"],y=["Rentas pagadas por anticipado"];p.map((i,_)=>{a=x+(_+1)*7,e.text(y[_],25,a,{align:"left"}),e.text(o[i]?(o[i]*1).toFixed(2):"0.00",n,a,{align:"right"})})}e.setDrawColor(0),e.setFillColor(224,224,224),e.rect(t+3,a+2,193,7,"F"),e.setFontSize(12),e.setFontType("bold"),e.text("Total de Activos",t+5,a+7,{align:"left"}),e.text(` ${g("TotalActivoss",["key_a_1","key_a_2","key_a_3","key_a_4","key_a_5","key_a_6","key_a_7","key_a_8","key_a_9","key_a_10","key_a_11","key_a_12"])}`,n,a+7,{align:"right"}),a=a+7,e.setDrawColor(0),e.setFillColor(174,174,174),e.rect(4,a+9,202,8,"F"),e.setFontType("bold"),e.setTextColor(10,10,10),e.setFontSize(17),e.text("Pasivos",t,a+15,{align:"left"});let k=a+17,r=a+17;if(g("TotalPasivoCirculante",["key_p_1","key_p_2","key_p_3","key_p_4","key_p_5"])>0){e.setFontType("bold"),e.setFontSize(12),e.text("Pasivos Circulantes",t+5,k,{align:"left"}),e.setFontSize(11),e.setFontType("normal");let p=["key_p_1","key_p_2","key_p_3","key_p_4"],y=["Provedores","Acreedores","Intereses e impuestos por pagar","Obligaciones bancarias a corto plazo"];p.map((i,_)=>{r=k+(_+1)*7,e.text(y[_],t+10,r,{align:"left"}),e.text(o[i]?(o[i]*1).toFixed(2):"0.00",n,r,{align:"right"})})}let P=r+10;if(g("TotalPasivoCirculante",["key_p_5"])>0){e.setFontType("bold"),e.setFontSize(12),e.text("Pasivos Circulantes",t+5,P,{align:"left"}),e.setFontSize(11),e.setFontType("normal");let p=["key_p_5"],y=["Obligaciones bancarias a largo plazo"];p.map((i,_)=>{r=P+(_+1)*7,e.text(y[_],t+10,r,{align:"left"}),e.text(o[i]?(o[i]*1).toFixed(2):"0.00",n,r,{align:"right"})})}e.setDrawColor(0),e.setFillColor(224,224,224),e.rect(t+3,r+2,193,7,"F"),e.setFontSize(12),e.setFontType("bold"),e.text("Total de Pasivos",t+5,r+7,{align:"left"}),e.text(` ${g("TotalPasivoss",["key_p_1","key_p_2","key_p_3","key_p_4","key_p_5"])}`,n,r+7,{align:"right"}),r=r+7,e.setDrawColor(0),e.setFillColor(174,174,174),e.rect(4,r+9,202,8,"F"),e.setFontType("bold"),e.setTextColor(10,10,10),e.setFontSize(17),e.text("Patrimonio",t,r+15,{align:"left"});let j=r+15,c=r+15;if(g("totalCapital",["key_c_1","key_c_2","key_c_3","key_c_4","key_c_5","key_c_6"])>0){e.setFontType("normal");let p=["key_c_1","key_c_2","key_c_3","key_c_4","key_c_5","key_c_6"],y=["Saldo del patrimonio al inicio del ejercicio contable","Incremento de aportes en el ejercicio contable","Erogaciones efectuadas en el ejercicio contable","Pagos de cuotas del Impuesto Sobre Ingresos Personales","Contribuci\xF3n a la Seguridad Social","Utilidad Neta o Perdida"];p.map((i,_)=>{e.setFontSize(11),c=j+(_+1)*7,e.text(y[_],t+10,c,{align:"left"}),e.text(o[i]?(o[i]*1).toFixed(2):"0.00",n,c,{align:"right"})})}e.setDrawColor(0),e.setFillColor(224,224,224),e.rect(t+3,c+2,193,7,"F"),e.setFontSize(12),e.setFontType("bold"),e.text("Total de Patrimonio",t+5,c+7,{align:"left"}),e.text(` ${g("TotaPatrimonios",["key_c_1","key_c_2","key_c_3","key_c_4","key_c_5","key_c_6"])}`,n,c+7,{align:"right"}),c=c+7,e.setDrawColor(0),e.setFillColor(224,224,224),e.rect(t+3,c+3,193,7,"F"),e.setFontType("bold"),e.setFontSize(12),e.text("Total de Pasivo + Patrimonio",t+5,c+8,{align:"left"}),e.text(` ${g("TotaPatrimonios",["key_p_1","key_p_2","key_p_3","key_p_4","key_p_5","key_c_1","key_c_2","key_c_3","key_c_4","key_c_5","key_c_6"])}`,n,c+8,{align:"right"}),c=c+8,e.save(`general_balance_sheet_${new Date().getTime()}.pdf`)}const L=O(),M=$(),R=B(()=>N(()=>import("./balance_sheet_parametrizar.e22b3e63.js"),["assets/balance_sheet_parametrizar.e22b3e63.js","assets/index.6441d54b.js","assets/index.6ae0e3ca.css"])),Y=B(()=>N(()=>import("./balance_sheet_preview.2d28bb1d.js"),["assets/balance_sheet_preview.2d28bb1d.js","assets/index.6441d54b.js","assets/index.6ae0e3ca.css"])),G=({view:o})=>{S.exports.useState(null),S.exports.useState("");const[s,e]=S.exports.useState(""),l=async()=>{var x,T;let a={query:"getScanBalanceSheet",params:{businessId:d("businessId"),":type":"GBS"},queryString:"type = :type"};const f=await C(m(),a);if(f&&f.data){let k=(x=K(f.data||{}))==null?void 0:x[0];v("balance_sheet_frm",(T=f.data)==null?void 0:T[k]),e(w())}},t=async()=>{let a={query:"getAllAccountsByUserId",params:{businessId:d("businessId")}};const f=await C(m(),a);f&&f.data&&v("cuentaslist",A(f.data,"accountId"));let x={query:"getAllSubAccounts",params:{businessId:d("businessId")}};const k=await C(m(),x);k&&k.data&&(v("sub_cuentas_list",k.data),v("sub_cuentas_dict",A(k.data,"sub_accountId")))};S.exports.useEffect(()=>()=>{},[]);const F=async()=>{q()};S.exports.useEffect(()=>{setTimeout(()=>{window.scrollTo(0,0),F(),t(),l()},170)},[o]);const n=a=>{v("show_bal_form",a);let b=d("balance_sheet_frm")||{};v("balance_sheet_frm_backUp",{...b}),e(w())};return h("div",{className:"",style:{marginLeft:"2vw"},children:[h("div",{className:"_dsplFlx ",style:{margin:"5px 15px 35px 0"},children:[u("div",{className:"_dsplFlx delete_icon launcicon",style:{marginRight:15,marginTop:5},onClick:a=>{U(d("general_balance"))},children:u(L,{name:"printer",size:24,color:"#fff",tip:!0,tipMessage:"Imprimir",backgroundColorTooltip:"#f8f8f8",textColorTooltip:"#080808"})}),u("div",{className:"balance_title ",children:u("div",{children:"Balance General"})}),u("div",{className:"flexSpace"}),u("div",{className:"sendBtn _dsplFlx spaceAround ",style:{marginTop:4},children:h("div",{className:"in_stock_switch _dsplFlx",children:[u("div",{className:"in_stock_switch_btn",children:u(M,{initvalue:d("show_bal_form"),keyCode:77,updChange:n})}),u("span",{className:"sw_rgh_span",children:"Parametrizar Balance"})]})})]}),d("show_bal_form")?u(R,{refreshlist:l}):u(Y,{})]})};var ee=Object.freeze(Object.defineProperty({__proto__:null,default:G},Symbol.toStringTag,{value:"Module"}));export{X as a,ee as b,W as c,g as s,Z as v};
