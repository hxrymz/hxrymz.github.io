import{p as I,l as w,I as z,m as v,_ as C,r as f,j as k,a as o,k as _,t as F,O as A,q as d,g as h,w as S,v as x}from"./index.81185f1e.js";import{s as b}from"./Balance_Dash.8d67ba1b.js";function P(c){const T=localStorage.getItem("pgSz")||"a4",e=new window.jsPDF({orientation:"portrait",format:T});e.setFontSize(14),e.setFontType("bold"),e.setTextColor(10,10,10),e.setFontSize(23),e.text(69,30,"Estado Resultado "),e.setFontType("normal"),e.setTextColor(10,10,10),e.setFontSize(11),e.text("Fecha de cierre:",206,10,{align:"right"}),e.setFontType("bold"),e.text(`${I(Date.now())}`,206,15,{align:"right"}),e.setFontSize(12),e.setFontType("normal"),e.text("Moneda:",196,20,{align:"right"}),e.setFontSize(12),e.setFontType("bold"),e.text("CUP",206,20,{align:"right"}),e.setFontSize(12),e.setFontType("normal"),e.text("Codigo NIT:",6,10,{align:"left"}),e.setFontSize(13),e.setFontType("bold"),e.text("34434",30,10,{align:"left"});let a=10,l=6;e.setDrawColor(0),e.setFillColor(174,174,174),e.rect(4,a+24,202,8,"F"),e.setFontType("bold"),e.setTextColor(10,10,10),e.setFontSize(17),e.text("Ingresos",l,a+30,{align:"left"}),a=40,e.setDrawColor(0),e.setFillColor(174,174,174),e.rect(4,a+24,202,8,"F"),e.setFontType("bold"),e.setTextColor(10,10,10),e.setFontSize(17),e.text("Gastos",l,a+30,{align:"left"});let m=b("TotalActivoCirculante",["key_g_1","key_g_2","key_g_3","key_g_4","key_g_5","key_g_6"]),u=200,n=a+38,t=a+38;if(m>0){e.setFontType("bold"),e.setFontSize(12),e.text("Gastos de Operaciones",l+5,t,{align:"left"}),e.setFontSize(11),e.setFontType("normal");let r=["key_g_1","key_g_2","key_g_3","key_g_4","key_g_5","key_g_6","key_g_7"],i=["Materia Prima y Materiales","Mercanc\xEDa para la Venta","Combustible","Energ\xEDa El\xE9ctrica","Remuneraci\xF3n al personal contratado","Depreciaci\xF3n de AFT","Otros gastos monetarios y financieros"];r.map((p,y)=>{t=n+(y+1)*7,e.text(i[y],l+10,t,{align:"left"}),e.text(c[p]?(c[p]*1).toFixed(2):"0.00",u,t,{align:"right"})})}let s=t+10;if(b("TotalActivoFijo",["key_g_8","key_g_9","key_g_10","key_g_11","key_g_12","key_g_13","key_g_14"])>0){e.setFontType("bold"),e.setFontSize(12),e.text("Pagos de Tributos",l+5,s,{align:"left"}),e.setFontSize(11),e.setFontType("normal");let r=["key_g_8","key_g_9","key_g_10","key_g_11","key_g_12","key_g_13","key_g_14"],i=["Impuesto sobre los ingresos personales (5%)","Impuestos sobre las ventas o servicios (10%)","Contribuci\xF3n especial a la seguridad social","Impuesto por la utilizaci\xF3n de la Fza. de trabajo","Tasa por radicaci\xF3n de anuncios y propagandas","Retenciones al personal contratado","Impuesto sobre los ingresos personales (Liq. Adicional)"];r.map((p,y)=>{t=s+(y+1)*7,e.text(i[y],l+10,t,{align:"left"}),e.text(c[p]?(c[p]*1).toFixed(2):"0.00",u,t,{align:"right"})})}e.setDrawColor(0),e.setFillColor(224,224,224),e.rect(l+3,t+2,193,7,"F"),e.setFontSize(12),e.setFontType("bold"),e.text("Total de Gastos",l+5,t+7,{align:"left"}),e.text(` ${b("TotalExpenses",["key_g_1","key_g_2","key_g_3","key_g_4","key_g_5","key_g_6","key_g_7","key_g_8","key_g_9","key_g_10","key_g_11","key_g_12","key_g_13","key_g_14"])}`,u,t+7,{align:"right"}),t=t+7,e.save(`profit_loss_sheet_${new Date().getTime()}.pdf`)}const B=w(),E=z(),N=v(()=>C(()=>import("./profit_loss_parametrizar.f4dde587.js"),["assets/profit_loss_parametrizar.f4dde587.js","assets/index.81185f1e.js","assets/index.ed13fd6f.css","assets/Balance_Dash.8d67ba1b.js"])),j=v(()=>C(()=>import("./profit_loss_preview.a447016e.js"),["assets/profit_loss_preview.a447016e.js","assets/index.81185f1e.js","assets/index.ed13fd6f.css"])),O=({view:c})=>{const[T,e]=f.exports.useState(""),a=async()=>{var g,r;let n={query:"getScanBalanceSheet",params:{businessId:_("businessId"),":type":"PLS"},queryString:"type = :type"};const s=await F(x(),n);if(s&&s.data){let i=(g=A(s.data||{}))==null?void 0:g[0];d("profit_lose_frm",(r=s.data)==null?void 0:r[i]),e(h())}},l=async()=>{let n={query:"getAllAccountsByUserId",params:{businessId:_("businessId")}};const s=await F(x(),n);s&&s.data&&d("cuentaslist",S(s.data,"accountId"));let g={query:"getAllSubAccounts",params:{businessId:_("businessId")}};const i=await F(x(),g);i&&i.data&&(d("sub_cuentas_list",i.data),d("sub_cuentas_dict",S(i.data,"sub_accountId")))};f.exports.useEffect(()=>()=>{},[]),f.exports.useEffect(()=>{setTimeout(()=>{window.scrollTo(0,0),l(),a()},170)},[c]);const m=n=>{d("show_bal_form",n);let t=_("profit_lose_frm")||{};d("profit_lose_frm_backUp",{...t}),e(h())};return k("div",{className:"",children:[k("div",{className:"_dsplFlx ",style:{margin:"5px 15px 35px 0"},children:[o("div",{className:"_dsplFlx delete_icon launcicon",style:{marginRight:15,marginTop:5},onClick:n=>{P(_("profit_lose_result"))},children:o(E,{name:"printer",size:24,color:"#fff",tip:!0,tipMessage:"Imprimir",backgroundColorTooltip:"#f8f8f8",textColorTooltip:"#080808"})}),o("div",{className:"balance_title ",children:o("div",{children:"Balance Resultado"})}),o("div",{className:"flexSpace"}),o("div",{className:"sendBtn _dsplFlx spaceAround ",style:{marginTop:4},children:k("div",{className:"in_stock_switch _dsplFlx",children:[o("div",{className:"in_stock_switch_btn",children:o(B,{initvalue:_("show_bal_form"),keyCode:77,updChange:m})}),o("span",{className:"sw_rgh_span",children:"Parametrizar Balance Resultado"})]})})]}),_("show_bal_form")?o(N,{refreshlist:a}):o(j,{})]})};export{O as default};
