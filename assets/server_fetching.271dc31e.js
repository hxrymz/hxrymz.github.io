import{b as u,p as i,u as a,q as b,s as d,t as l,O as y}from"./index.3f35067f.js";const p=async t=>{var c;let e={query:"getAllAccountsByUserId",params:{limit:250,businessId:(c=u("profileUser"))==null?void 0:c.businessId,":search":u("searchQry")},queryString:"!* contain :search"};const s=await i(e);s&&(a("account_list",g(s,"code")),a("account_ids",b(s,"accountId")),t&&t())},I=async t=>{var c;let e={query:"getAllSubAccounts",params:{limit:250,businessId:(c=u("profileUser"))==null?void 0:c.businessId},queryString:"!* contain :search"};const s=await i(e);s&&(a("sub_account_list",m(s,"subAccount")),a("sub_account_group",d(s,"accountId")),a("sub_account_ids",b(s,"sub_accountId")),p(),t&&t())},q=async t=>{var c;let e={query:"getScanAccounts",params:{limit:250,businessId:(c=u("profileUser"))==null?void 0:c.businessId,":search":u("searchQry")},queryString:"!* contain :search"};const s=await i(e);s&&(a("account_list",s),t&&t())},S=async(t,e)=>{let r={query:"getScanOperationsHRG",params:{limit:250,businessId:u("profileUser").businessId,":account":t.account},queryString:"account = :account"};t!=null&&t.subAccount&&(r.params[":sub_account"]=t==null?void 0:t.subAccount,r.queryString+=" AND subAccount contain :sub_account");const c=await i(r);c&&!c.error&&(a("submayor_list",c),a("submayor_group",A(c))),e&&e()};function A(t,e){var r={operations:[]};let s=0,c=t&&y(t);return c.length>0?c.map(o=>{let n=t[o];n.type&&(e?s+=n.type==="debit"?n.amount*-1:n.amount*1:s+=n.type==="credit"?n.amount*-1:n.amount*1,r.operations.push(_(n)))}):r=null,r}function _(t){var r,s;let e={};return e.account=(r=u("account_ids"))==null?void 0:r[t.account],e.sub_account=(s=u("sub_account_ids"))==null?void 0:s[t.subAccount],e.comprobanteId=t.comprobanteId,e.date=t.date,t.type==="credit"?(e.debit=0,e.credit=t.amount):t.type==="debit"&&(e.credit=0,e.debit=t.amount),e}const g=(t,e)=>l("sortAccounts",[t],()=>t.sort((s,c)=>{let o=s[e]*1,n=c[e]*1;return o<n?-1:o>n?1:0})),m=(t,e)=>l("sortSubAccounts",[t],()=>t.sort((s,c)=>{let o=s[e]*1,n=c[e]*1;return o<n?-1:o>n?1:0})),h=t=>l("sortComprobantesByDate",[t],()=>{let e="date";return t.sort((s,c)=>{let o=new Date(s[e]).getTime(),n=new Date(c[e]).getTime();return o<n?-1:o>n?1:0})});export{p as a,m as b,S as c,h as d,I as g,q as s};
