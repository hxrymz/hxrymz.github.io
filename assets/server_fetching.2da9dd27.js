import{b as u,p as i,u as r,O as y}from"./index.7f0cdf89.js";const _=async e=>{var a,s,c;let o={query:"getScanOperationsHRG",params:{limit:250,businessId:(a=u("profileUser"))==null?void 0:a.businessId,":collect":"collect",":account":(s=u("Acc2Collect"))==null?void 0:s.account,":sub_account":(c=u("Acc2Collect"))==null?void 0:c.subAccount},queryString:"payOrCollect = :collect  AND account = :account AND subAccount contain :sub_account"};const t=await i(o);t&&!t.error&&(r("collect_list",t),r("collect_by_doc",d(t))),e&&e()},g=async e=>{var a,s,c;let o={query:"getScanOperationsHRG",params:{limit:250,businessId:(a=u("profileUser"))==null?void 0:a.businessId,":collect":"pay",":account":(s=u("Acc2Pay"))==null?void 0:s.account,":sub_account":(c=u("Acc2Pay"))==null?void 0:c.subAccount},queryString:"payOrCollect = :collect  AND account = :account AND subAccount contain :sub_account"};const t=await i(o);t&&!t.error&&(r("toPay_list",t),r("toPay_by_doc",d(t,!0))),e&&e()};function d(e,o){let n="document";var t={};let a=e&&y(e);return a.length>0?a.map(s=>{let c=e[s];t[c[n]]||(t[c[n]]={},["date","description","document","entryName"].forEach(l=>{t[c[n]][l]=c[l]}),t[c[n]].amount=0,t[c[n]].operations=[]),c.type&&(o?t[c[n]].amount+=c.type==="debit"?c.amount*-1:c.amount*1:t[c[n]].amount+=c.type==="credit"?c.amount*-1:c.amount*1,t[c[n]].operations.push(b(c)))}):t=null,t}function b(e){var n,t;let o={};return o.account=(n=u("account_ids"))==null?void 0:n[e.account],o.sub_account=(t=u("sub_account_ids"))==null?void 0:t[e.subAccount],o.comprobanteId=e.comprobanteId,o.date=e.date,e.type==="credit"?(o.debit=0,o.credit=e.amount):e.type==="debit"&&(o.credit=0,o.debit=e.amount),o}export{g as a,_ as g};
