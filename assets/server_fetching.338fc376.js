import{m as y,g as s,i,u as r,h as d}from"./index.b7d6b41c.js";const _=async t=>{var u,n,a;let o={query:"getScanOperationsHRG",params:{limit:250,businessId:(u=s("profileUser"))==null?void 0:u.businessId,":collect":"collect",":account":(n=s("Acc2Collect"))==null?void 0:n.account,":sub_account":(a=s("Acc2Collect"))==null?void 0:a.subAccount},queryString:"payOrCollect = :collect  AND account = :account AND subAccount contain :sub_account"};const e=await i(o);e&&!e.error&&(r("collect_list",e),r("collect_by_doc",m(e))),t&&t()},f=async t=>{var u,n,a;let o={query:"getScanOperationsHRG",params:{limit:250,businessId:(u=s("profileUser"))==null?void 0:u.businessId,":collect":"pay",":account":(n=s("Acc2Pay"))==null?void 0:n.account,":sub_account":(a=s("Acc2Pay"))==null?void 0:a.subAccount},queryString:"payOrCollect = :collect  AND account = :account AND subAccount contain :sub_account"};const e=await i(o);e&&!e.error&&(r("toPay_list",e),r("toPay_by_doc",m(e,!0))),t&&t()};function m(t,o){var c={};let e=t&&d(t);return e.length>0?e.map(u=>{let n=t[u],a=n.document;c[a]||(c[a]={},["date","description","document","entryName"].forEach(l=>{c[a][l]=n[l]}),c[a].amount=0,c[a].operations=[]),n.type&&(o?c[a].amount+=n.type==="debit"?n.amount*-1:n.amount*1:c[a].amount+=n.type==="credit"?n.amount*-1:n.amount*1,c[a].operations.push(p(n)))}):c=null,c}function p(t){var c,e;let o={};return o.account=(c=s("account_ids"))==null?void 0:c[t.account],o.sub_account=(e=s("sub_account_ids"))==null?void 0:e[t.subAccount],o.comprobanteId=t.comprobanteId,o.date=t.date,t.type==="credit"?(o.debit=0,o.credit=t.amount):t.type==="debit"&&(o.credit=0,o.debit=t.amount),o}const A=(t,o)=>y("SumDocuments",[t,o],()=>{var e;let c=0;return t&&((e=d(t))==null||e.map((u,n)=>{c+=t[u]*1})),c});export{A as S,f as a,_ as g};
