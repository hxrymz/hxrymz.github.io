import{m as y,g as s,i as d,u as l,h as m}from"./index.1ea4e0d9.js";const _=async t=>{var u,o,n;let c={query:"getScanOperationsHRG",params:{limit:250,businessId:(u=s("profileUser"))==null?void 0:u.businessId,":collect":"collect",":account":(o=s("Acc2Collect"))==null?void 0:o.account,":sub_account":(n=s("Acc2Collect"))==null?void 0:n.subAccount},queryString:"payOrCollect = :collect  AND account = :account AND subAccount contain :sub_account"};const e=await d(c);e&&!e.error&&(l("collect_list",e),l("collect_by_doc",p(e))),t&&t()},f=async t=>{var u,o,n,r;let c={query:"getScanOperationsHRG",params:{limit:250,businessId:(u=s("profileUser"))==null?void 0:u.businessId,":collect":"pay",":account":(o=s("Acc2Pay"))==null?void 0:o.account,":sub_account":(n=s("Acc2Pay"))==null?void 0:n.subAccount,":providerId":(r=s("Acc2Pay"))==null?void 0:r.providerId},queryString:"payOrCollect = :collect  AND account = :account AND subAccount contain :sub_account"};const e=await d(c);e&&!e.error&&(l("toPay_list",e),l("toPay_by_doc",p(e,!0))),t&&t()};function p(t,c){var a={};let e=t&&m(t);return e.length>0?e.map(u=>{let o=t[u],n=o.document;a[n]||(a[n]={},["date","description","document","entryName"].forEach(i=>{a[n][i]=o[i]}),a[n].amount=0,a[n].operations=[]),o.type&&(c?a[n].amount+=o.type==="debit"?o.amount*-1:o.amount*1:a[n].amount+=o.type==="credit"?o.amount*-1:o.amount*1,a[n].operations.push(b(o)))}):a=null,a}function b(t){var a,e;let c={};return c.account=(a=s("account_ids"))==null?void 0:a[t.account],c.sub_account=(e=s("sub_account_ids"))==null?void 0:e[t.subAccount],c.comprobanteId=t.comprobanteId,c.date=t.date,t.type==="credit"?(c.debit=0,c.credit=t.amount):t.type==="debit"&&(c.credit=0,c.debit=t.amount),c}const A=(t,c,a)=>y("SumDocuments",[t,c,a],()=>{var u;let e=0;return t&&((u=m(t))==null||u.map((o,n)=>{var r;e+=((r=t[o])==null?void 0:r[c])*1})),e});export{A as S,f as a,_ as g};
