import{b as r,p as l,u as s,O as d}from"./index.dd640a53.js";const y=async c=>{var a,e,u;let t={query:"getScanOperationsHRG",params:{limit:250,businessId:(a=r("profileUser"))==null?void 0:a.businessId,":collect":"collect",":account":(e=r("Acc2Collect"))==null?void 0:e.account,":sub_account":(u=r("Acc2Collect"))==null?void 0:u.subAccount},queryString:"payOrCollect = :collect  AND account = :account AND subAccount contain :sub_account"};const o=await l(t);o&&!o.error&&(s("collect_list",o),s("collect_by_doc",p(o))),c&&c()},_=async c=>{var a;let t={query:"getScanOperationsHRG",params:{limit:250,businessId:(a=r("profileUser"))==null?void 0:a.businessId,":search":r("search_acc_record")},queryString:"!* contain :search"};const o=await l(t);o&&!o.error&&(s("comprobante_list",o),s("comprobante_by_doc",p(o))),c&&c()};function p(c){let t="document";var n={};let o=c&&d(c);return o.length>0?o.map(a=>{let e=c[a];n[e[t]]||(n[e[t]]={},["date","description","document","entryName"].forEach(i=>{n[e[t]][i]=e[i]}),n[e[t]].amount=0,n[e[t]].operations=[]),e.type&&(n[e[t]].amount+=e.type==="credit"?e.amount*-1:e.amount*1,n[e[t]].operations.push(b(e)))}):n=null,n}function b(c){var n,o;let t={};return t.account=(n=r("account_ids"))==null?void 0:n[c.account],t.sub_account=(o=r("sub_account_ids"))==null?void 0:o[c.subAccount],t.comprobanteId=c.comprobanteId,c.type==="credit"?(t.debit=0,t.credit=c.amount):c.type==="debit"&&(t.credit=0,t.debit=c.amount),t}export{y as g,_ as s};
