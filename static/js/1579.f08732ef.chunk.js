"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[1579,9760],{9760:(e,t,i)=>{i.r(t),i.d(t,{CloseModal:()=>c,OpenModal:()=>r,default:()=>s});var l=i(2791),o=i(5408),a=i(2350),d=i(184);const n="listDialog_mdh392",s=()=>{const e=(0,a.bh)("listDialog")||{};(0,o.Z)(n);let t=Object.keys(e);return(0,d.jsx)(d.Fragment,{children:t.map(((t,i)=>{let o=e[t];if(o&&o.visible){let e={};o.height&&(e.heigth=o.height),o.width,o.zIndex&&(e.zIndex=o.zIndex-1);let i={zIndex:o.zIndex},a=null,n=o.data;return o.content&&(a=l.cloneElement(o.content,{data:n})),(0,d.jsxs)("div",{className:"ltr-1kbnjow",style:e,children:[(0,d.jsx)("div",{className:"ltr-hoe9xz",children:(0,d.jsx)("div",{className:"ltr-1wao6ny",style:i,id:t,children:a})}),o.data.overlay?(0,d.jsx)("div",{className:"DialogHRMOverlay ".concat(o.visible?"active":""),onClick:()=>{var e;e=t,document.getElementsByTagName("html")[0].classList.remove("has-level-two"),c({id:e})}}):null]},t)}}))})},r=e=>{let t=(0,a.bh)("listDialog")||{},i=(0,a.M5)();t[i]||(t[i]={}),t[i].visible=!0;let l={};e.props?(l=e.props,l.modalID=i):l.modalID=i;let o=document.getElementsByTagName("body")[0];null!==o&&void 0!==o&&o.style&&(o.style.overflowY="hidden"),t[i].isView=e.isView,t[i].observeResize=e.observeResize,t[i].observeResize&&(t[i].observeInterval=setInterval((()=>{let e=document.querySelector("[dialog-key-id='".concat(i,"']")),l=e&&e.getBoundingClientRect();l&&(l.width===t[i].width&&l.height===t[i].height||(t[i].height=l.height+10,t[i].width=l.width,(0,a.Rz)("listDialog",t),(0,a.wt)(n)))}),200)),t[i].display=!0,e.zIndex&&(t[i].zIndex=e.zIndex),e.height&&(t[i].height=e.height),e.width&&(t[i].width=e.width),e.content&&(t[i].content=e.content),t[i].data=l,(0,a.Rz)("listDialog",t),(0,a.wt)(n),setTimeout((()=>{document.getElementsByTagName("html")[0].classList.add("has-level-two"),(0,a.Rz)("modalOpen",i),(0,a.wt)(n)}),125)},c=e=>{let t=(0,a.bh)("listDialog")||{},i=e.id;if(t[i]){var l,o,d;t[i].observeResize&&t[i].observeInterval&&clearInterval(t[i].observeInterval),t[i].display=!1,null===(l=t[i])||void 0===l||null===(o=l.data)||void 0===o||null===(d=o.closeEvent)||void 0===d||d.call(o),(0,a.Rz)("listDialog",t),delete t[i],document.getElementsByTagName("body")[0].style.overflowY=null,(0,a.wt)(n),setTimeout((()=>{delete t[i],document.getElementsByTagName("html")[0].classList.remove("has-level-two"),(0,a.Rz)("modalOpen",null)}),750)}}},3796:(e,t,i)=>{i.d(t,{$F:()=>u,$Y:()=>n,G1:()=>m,QB:()=>v,TQ:()=>p,VU:()=>o,XX:()=>d,cC:()=>s,km:()=>a,mH:()=>c,se:()=>h,t8:()=>r});var l=i(4382);function o(){return(0,l.ZP)((()=>i.e(2580).then(i.bind(i,2580))))}function a(){return(0,l.ZP)((()=>i.e(6459).then(i.bind(i,6459))))}function d(){return(0,l.ZP)((()=>Promise.all([i.e(1276),i.e(1205),i.e(5530)]).then(i.bind(i,5530))))}function n(){return(0,l.ZP)((()=>i.e(9522).then(i.bind(i,9522))))}function s(){return(0,l.ZP)((()=>Promise.all([i.e(2670),i.e(4430)]).then(i.bind(i,4430))))}function r(){return(0,l.ZP)((()=>Promise.all([i.e(2670),i.e(2135)]).then(i.bind(i,2135))))}function c(){return(0,l.ZP)((()=>Promise.all([i.e(1276),i.e(1205),i.e(5905)]).then(i.bind(i,5905))))}function u(){return(0,l.ZP)((()=>i.e(6632).then(i.bind(i,6632))))}function h(){return(0,l.ZP)((()=>i.e(2613).then(i.bind(i,2613))))}function v(){return(0,l.ZP)((()=>i.e(4946).then(i.bind(i,4946))))}function m(){return(0,l.ZP)((()=>i.e(9669).then(i.bind(i,9669))))}function p(){return(0,l.ZP)((()=>Promise.all([i.e(2670),i.e(710)]).then(i.bind(i,710))))}},1579:(e,t,i)=>{i.r(t),i.d(t,{default:()=>g});var l=i(2791),o=i(2350),a=i(6963);async function d(e,t,i){var l;let d=(null===(l=(0,o.bh)("print_structure"))||void 0===l?void 0:l.marriage_struct_print)||[];(0,o._2)(e).map((t=>{d[t]&&e[t]&&(d[t].text=e[t])}));const n=await fetch("https://www.hrmfinance.com/data/marriage_certificate.pdf").then((e=>e.arrayBuffer())),s=await a.PDFDocument.load(n,{ignoreEncryption:!0}),r=await s.embedFont(a.StandardFonts.Helvetica);let c=(0,o.bh)("b64_signature"),u=null;if(c){const e=await fetch(c).then((e=>e.arrayBuffer()));u=await s.embedPng(e)}const h=s.getPages(),v=h[0],{width:m,height:p}=v.getSize();if((0,o.Rz)("pdfSize",{width:m,height:p,pages:h.length}),i&&d&&(0,o._2)(d).map((e=>{let t=d[e];if(t){var i;let e=t.pageNo,d=null===h||void 0===h||null===(i=h[e])||void 0===i?void 0:i.getSize();if("text"===t.type){var l;null===(l=h[e])||void 0===l||l.drawText(t.text?t.text.toString():"",{x:t.x,y:d.height-t.y,size:t.size||10,font:r,color:t.color?(0,a.rgb)(t.color[0]/255,t.color[1]/255,t.color[2]/255):(0,a.rgb)(0,.1,.1)})}else if("textboxn"===t.type){let i=(t.text?t.text.toString():t.id.toString()).split("");null===i||void 0===i||i.map(((i,l)=>{var o;null===(o=h[e])||void 0===o||o.drawText(i,{x:t.x+l*t.space,y:d.height-t.y,size:t.size||10,font:r,color:t.color?(0,a.rgb)(t.color[0]/255,t.color[1]/255,t.color[2]/255):(0,a.rgb)(0,.1,.1)})}))}else if("checkBox"===t.type){var o,n;let i=(null===d||void 0===d?void 0:d.height)-t.y,l="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z";null===(o=h[e])||void 0===o||o.moveTo(t.x+2,i),null===(n=h[e])||void 0===n||n.drawSvgPath(l,{borderColor:t.color?(0,a.rgb)(t.color[0]/255,t.color[1]/255,t.color[2]/255):(0,a.rgb)(0,0,0),borderWidth:1,scale:.5})}else"image"===t.type&&u&&h[e].drawImage(u,{x:t.x,y:d.height-t.y,width:t.w,height:t.h})}})),t){return function(e){let t=new Blob([e],{type:"application/pdf"});return(window.URL||window.webkitURL).createObjectURL(t)}(await s.save())}return s.saveAsBase64({dataUri:!0})}var n=i(2647),s=i(3796),r=i(9760),c=i(24),u=i(184);const h=(0,n.Np)(),v="marriage_certificate",m=(0,s.$Y)(),p=(0,c.f_)(),f=(0,s.t8)();let b=["folio","tomo","state_registration","registration_officer","revised_by","prepared_by","city_office","state_office","city_registration","dop","dom","marriage_registration_officer","spouse2Id"];const g=e=>{var t,i,a,n,s,c,g,_,N,w,j,I,z,C;let{data:T,elmId:M,updObs:R}=e;const[B,D]=(0,l.useState)(!1),[O,k]=(0,l.useState)(0);(0,l.useEffect)((()=>{B||(D(!0),setTimeout((()=>{(async()=>{let e={query:"getScanDocumentsNotary",params:{":customerId":(0,o.bh)("upd_client").clientNotaryId,":documentType":"MCT"},queryString:"!* contain :customerId AND documentType contain :documentType"};const t=(0,o.Bm)((0,o.uG)(),e),i=await t;if(i&&!i.error){let e=(0,o._2)(i.data)[0],t=(0,o.bh)("upd_client");if(i.data[e]){var l,a;(0,o.Rz)(v,i.data[e]),(0,o.Rz)(v+"_bck",JSON.parse(JSON.stringify(i.data[e])));let s=y(t);if((null===(l=i.data[e])||void 0===l?void 0:l.spouse1Id)===t.clientNotaryId){var d;(0,o.Rz)("MCT_spouse1",s);let t=y(null===(d=i.data[e])||void 0===d?void 0:d.spouse2Info);(0,o.Rz)("MCT_spouse1",s),(0,o.Rz)("MCT_spouse2",t)}else if((null===(a=i.data[e])||void 0===a?void 0:a.spouse2Id)===t.clientNotaryId){var n;let t=y(null===(n=i.data[e])||void 0===n?void 0:n.spouse1Info);(0,o.Rz)("MCT_spouse2",s),(0,o.Rz)("MCT_spouse1",t)}k((0,o.M5)())}else(0,o.Rz)("MCT_spouse1",null)}})()}),50),k((0,o.M5)()))}));const P=(e,t)=>{let i=(0,o.bh)(v)||{};i[e]=t,(0,o.Rz)(v,i),k((0,o.M5)())},S=()=>{(null===T||void 0===T?void 0:T.modalID)&&(0,r.CloseModal)({id:null===T||void 0===T?void 0:T.modalID})},F=e=>{let t={zIndex:450,props:{minHeight:"1vh",overlay:!0}};t.content=(0,u.jsx)(m,{handleClick:t=>((e,t)=>{P(t,e.clientNotaryId);let i=y(e);(0,o.Rz)("MCT_spouse2",i)})(t,e)}),(0,r.OpenModal)(t)},Z=e=>{let t={zIndex:450,height:"93vh",props:{minHeight:"1vh",overlay:!0}};t.content=(0,u.jsx)(f,{updObs:k,confirm:t=>((e,t)=>{P(e,t)})(e,t)}),(0,r.OpenModal)(t)};let L=(0,o.vy)(b,(0,o.bh)(v),(0,o.bh)(v+"_bck"));return(0,u.jsxs)("div",{style:{maxHeight:"80vh",width:"800px",overflow:"auto",background:"var(--hrm_palette-general-background-b)",borderRadius:13,padding:"10px 19px 30px"},children:[(0,u.jsxs)("div",{className:"_dsplFlx ",children:[(0,u.jsx)("p",{className:"form_title",children:"Traducion de Certificacion de Matrimonio"}),(0,u.jsx)("div",{className:"flexSpace"}),(0,u.jsx)("button",{className:"group_title purple addBtn",onClick:async()=>{let e={};["name","city_pob","state_pob","dob","dateOfBirth","fatherName","motherName"].map((t=>{e[t+"_sp2"]=(0,o.bh)("MCT_spouse2")[t]}));let t=Object.assign({},(0,o.bh)(v),(0,o.bh)("MCT_spouse1"),e);if(t.dom){let e=new Date(t.dom).getTime();e&&(t.date_of_married=(0,o.sG)(e))}if(t.dop){let e=new Date(t.dop).getTime();e&&(t.date_of_peticion=(0,o.sG)(e))}t.dateOfBirth&&(t.dob_p=(0,o.sG)(t.dateOfBirth)),t.dateOfBirth_sp2&&(t.dob_p_sp2=(0,o.sG)(t.dateOfBirth_sp2)),t.city2_registration=t.city_registration,t.state2_registration=t.state_registration,t.todayDate=(0,o.sJ)((new Date).getTime());let i=await d(t,!0,!0);window.open(i)},children:"Imprimir"})]}),(0,u.jsx)("p",{className:"group_title",children:"Lugar y datos del Matrimonio"}),(0,u.jsxs)("div",{className:"_dsplFlx spaceAround",children:[(0,u.jsx)(h,{init:null===(t=(0,o.bh)(v))||void 0===t?void 0:t.folio,label:"Folio",width:60,updChanges:e=>P("folio",e)}),(0,u.jsx)(h,{init:null===(i=(0,o.bh)(v))||void 0===i?void 0:i.tomo,label:"Tomo",width:60,updChanges:e=>P("tomo",e)}),(0,u.jsx)(p,{init:null===(a=(0,o.bh)(v))||void 0===a?void 0:a.dom,label:"Fecha de matrimonio",updDate:e=>P("dom",e)}),(0,u.jsx)("div",{className:"_dsplFlx ",children:(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"label",onClick:()=>Z("marriage_registration_officer"),children:"Nombre de la Notaria:"}),(0,u.jsx)("div",{className:"date2Upd",children:null===(n=(0,o.bh)(v))||void 0===n?void 0:n.marriage_registration_officer})]})})]}),(0,u.jsxs)("div",{className:"_dsplFlx spaceAround",children:[(0,u.jsx)(h,{init:null===(s=(0,o.bh)(v))||void 0===s?void 0:s.city_registration,label:"Municipio",width:240,updChanges:e=>P("city_registration",e)}),(0,u.jsx)(h,{init:null===(c=(0,o.bh)(v))||void 0===c?void 0:c.state_registration,label:"Provincia",width:240,updChanges:e=>P("state_registration",e)})]}),(0,u.jsx)("div",{className:"separator"}),(0,u.jsx)("p",{className:"group_title",children:"Oficina donde se solitito el Documento"}),(0,u.jsxs)("div",{className:"_dsplFlx spaceAround",children:[(0,u.jsx)(p,{init:null===(g=(0,o.bh)(v))||void 0===g?void 0:g.dop,label:"Fecha de solicitud",updDate:e=>P("dop",e)}),(0,u.jsx)(h,{init:null===(_=(0,o.bh)(v))||void 0===_?void 0:_.city_office,label:"Municipio",width:240,updChanges:e=>P("city_office",e)}),(0,u.jsx)(h,{init:null===(N=(0,o.bh)(v))||void 0===N?void 0:N.state_office,label:"Provincia",width:240,updChanges:e=>P("state_office",e)})]}),(0,u.jsxs)("div",{className:"_dsplFlx spaceAround flxWrp",style:{margin:"22px 0 12px"},children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"label",onClick:()=>Z("prepared_by"),children:"Preparado por:"}),(0,u.jsx)("div",{className:"date2Upd",children:null===(w=(0,o.bh)(v))||void 0===w?void 0:w.prepared_by})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"label",onClick:()=>Z("revised_by"),children:"Revisado por:"}),(0,u.jsx)("div",{className:"date2Upd",children:null===(j=(0,o.bh)(v))||void 0===j?void 0:j.revised_by})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"label",onClick:()=>Z("registration_officer"),children:"Firmado por:"}),(0,u.jsx)("div",{className:"date2Upd",children:null===(I=(0,o.bh)(v))||void 0===I?void 0:I.registration_officer})]})]}),(0,u.jsx)("div",{className:"separator"}),(0,u.jsxs)("div",{className:"_dsplFlx ",style:{margin:"9px 0"},children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"group_title",children:"Conyuge (1)"}),(0,u.jsx)(x,{init:null===(z=(0,o.bh)("MCT_spouse1"))||void 0===z?void 0:z.name,label:"Nombre",width:240})]}),(0,u.jsx)("div",{className:"flexSpace"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"group_title",onClick:()=>F("spouse2Id"),children:"Conyuge (2)"}),(0,u.jsx)(x,{init:null===(C=(0,o.bh)("MCT_spouse2"))||void 0===C?void 0:C.name,label:"Nombre",width:240})]})]}),(0,u.jsxs)("div",{className:"_dsplFlx ",children:[(0,u.jsx)("div",{className:"flexSpace"}),null!==L&&void 0!==L&&L.hasChange?(0,u.jsx)("button",{className:"group_title purple addBtn",onClick:async()=>{let e=(0,o.bh)(v),t={};if(e.documentNotaryId){let i=(0,o.vy)(b,(0,o.bh)(v),(0,o.bh)(v+"_bck"));t={query:"updateDocumentsNotary",params:{documentNotaryId:e.documentNotaryId},data2update:i.data}}else e.spouse1Id=(0,o.bh)("upd_client").clientNotaryId,e.documentType="MCT",e.documentNotaryId=(0,o.M5)(),t={query:"addDocumentsNotary",form:e};const i=(0,o.Bm)((0,o.uG)(),t),l=await i;l&&l.data&&((0,o.Rz)(v,l.data),k((0,o.M5)())),S(!0)},children:"Guardar"}):null]})]})},x=e=>{let{init:t,label:i,width:a}=e;const[d,n]=(0,l.useState)(!1),[s,r]=(0,l.useState)(0);return(0,l.useEffect)((()=>{d||(n(!0),r((0,o.M5)()))})),t?(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"label",children:i}),(0,u.jsx)("div",{style:a?{width:a}:null,className:"r7gAOb yyJm8b",children:t})]}):null},y=e=>{var t,i,l,a,d,n,s,r,c,u,h,v;return{city_pob:null===e||void 0===e||null===(t=e.placeOfBirth)||void 0===t?void 0:t.city,state_pob:null===e||void 0===e||null===(i=e.placeOfBirth)||void 0===i?void 0:i.state,fatherName:null!==e&&void 0!==e&&null!==(l=e.fatherInfo)&&void 0!==l&&l.firstName?"".concat(null===e||void 0===e||null===(a=e.fatherInfo)||void 0===a?void 0:a.firstName," ").concat(null!==e&&void 0!==e&&null!==(d=e.fatherInfo)&&void 0!==d&&d.middleName?(null===e||void 0===e||null===(n=e.fatherInfo)||void 0===n?void 0:n.middleName)+" ":"").concat(null===e||void 0===e||null===(s=e.fatherInfo)||void 0===s?void 0:s.lastName," "):"",dob:null===e||void 0===e?void 0:e.dateOfBirth,dateOfBirth:(0,o.sG)(null===e||void 0===e?void 0:e.dateOfBirth),motherName:null!==e&&void 0!==e&&null!==(r=e.motherInfo)&&void 0!==r&&r.firstName?"".concat(null===e||void 0===e||null===(c=e.motherInfo)||void 0===c?void 0:c.firstName," ").concat(null!==e&&void 0!==e&&null!==(u=e.motherInfo)&&void 0!==u&&u.middleName?(null===e||void 0===e||null===(h=e.motherInfo)||void 0===h?void 0:h.middleName)+" ":"").concat(null===e||void 0===e||null===(v=e.motherInfo)||void 0===v?void 0:v.lastName," "):"",name:null!==e&&void 0!==e&&e.firstName?"".concat(null===e||void 0===e?void 0:e.firstName," ").concat(null!==e&&void 0!==e&&e.middleName?(null===e||void 0===e?void 0:e.middleName)+" ":"").concat(null===e||void 0===e?void 0:e.lastName," "):""}}}}]);
//# sourceMappingURL=1579.f08732ef.chunk.js.map