"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[1610],{2825:function(e,i,n){var l=n(9439),t=n(2791),s=n(9760),a=n(2647),d=n(2350),o=n(5143),r=n(184);(0,a.Np)(),(0,a.JY)(),(0,a.LA)();i.Z=function(e){var i,n=e.data,a=e.confirm,v=e.type,u=(0,t.useState)(!1),m=(0,l.Z)(u,2),h=m[0],x=m[1],p=(0,t.useState)(1),f=(0,l.Z)(p,2),g=(f[0],f[1]),j=function(){g((0,d.M5)())};(0,t.useEffect)((function(){h||(x(!0),g((0,d.M5)()),(0,o.bM)(j))}));var _=function(e){g((0,d.M5)()),(0,d.Ey)(a)&&(b(),a(e))},b=function(){(null===n||void 0===n?void 0:n.modalID)&&(0,s.CloseModal)({id:null===n||void 0===n?void 0:n.modalID})},y=(0,d.bh)("categories_list");return(0,r.jsxs)("div",{style:{height:"80vh",width:"80vw",overflow:"auto",background:"var(--dark-800)",borderRadius:13,padding:"10px 19px"},children:[(0,r.jsxs)("div",{className:"_dsplFlx ",children:[(0,r.jsx)("p",{className:"form_title blue30",children:"Categories"}),(0,r.jsx)("div",{className:"flexSpace"})]}),(0,r.jsx)("div",{className:" spaceAround flxWrp scollVh",style:{marginTop:20,maxHeight:"calc( 78vh - 70px)"},children:y&&(null===(i=(0,d._2)(y))||void 0===i?void 0:i.map((function(e){return(0,r.jsx)(c,{data:y[e],elmId:y[e].categoryId,label:y[e].name,clickHandler:_,active:(0,d.bh)("category_filter"),type:v},y[e].categoryId)})))})]})};var c=function(e){var i=e.clickHandler,n=e.label,l=e.active,t=e.elmId,s=e.data,a=e.type,d=l===t?null:t;return s.type!==a?null:(0,r.jsx)("div",{className:" btn_filter itmMrg ".concat(l===t?"active":""," "),onClick:function(){return i(d)},children:n})}},1291:function(e,i,n){n.r(i);var l=n(1413),t=n(4165),s=n(5861),a=n(9439),d=n(2791),o=(n(5868),n(2647)),r=n(7689),c=n(2350),v=n(5143),u=n(9760),m=n(2825),h=n(6514),x=n(184),p=(0,o.Np)(),f=(0,o.PU)(),g=(0,o.tW)(),j=((0,o.pz)(),(0,o.LA)()),_=(0,c.Ks)()+"_add";i.default=function(e){var i,n,l=e.data,t=(e.description,(0,d.useState)(1)),s=(0,a.Z)(t,2),o=(s[0],s[1],(0,d.useState)(1)),v=(0,a.Z)(o,2),m=v[0],h=v[1],p=(0,r.TH)(),g=((0,r.s0)(),null===(i=p.search)||void 0===i||null===(n=i.split("?"))||void 0===n?void 0:n[1]),j=(0,c.mB)(g),_=null===j||void 0===j?void 0:j.cId;(0,d.useEffect)((function(){}),[_]);var N=function(){(null===l||void 0===l?void 0:l.modalID)&&(0,u.CloseModal)({id:null===l||void 0===l?void 0:l.modalID})},k=function(e){h(e)};return(0,x.jsx)("div",{style:{height:"86vh",width:"94vw",overflow:"auto",background:"var(--dark-800)",borderRadius:13,padding:"10px 6px"},children:(0,x.jsxs)("div",{className:" ",children:[(0,x.jsxs)("div",{className:"h23g9woI",children:[(0,x.jsxs)("div",{className:"jKZvHt ",onClick:N,children:[(0,x.jsx)(f,{name:"arrowBack",size:22,color:"var(--light-200)"}),(0,x.jsx)("div",{className:"eULkqP"})]}),(0,x.jsx)("div",{className:"flexSpace"}),(0,x.jsx)("div",{className:"icon_action ".concat(1===m?"active":""," "),onClick:function(){return k(1)},children:(0,x.jsx)(f,{name:"image_outline",color:"var(--light-200)"})}),(0,x.jsx)("div",{className:"icon_action ".concat(2===m?"active":""," "),onClick:function(){return k(2)},children:(0,x.jsx)(f,{name:"list_form",color:"var(--light-200)"})})]}),(0,x.jsx)("div",{style:{paddingTop:4}}),(0,x.jsx)(w,{viewId:1,activeView:m,children:(0,x.jsx)(b,{})}),(0,x.jsx)(w,{viewId:2,activeView:m,children:(0,x.jsx)(y,{close:N})})]})})};var b=function(e){e.activeView,e.children;var i=(0,d.useState)(1),n=(0,a.Z)(i,2),l=(n[0],n[1]),o=(0,d.useState)(""),r=(0,a.Z)(o,2),u=r[0],m=r[1],p=function(){l((0,c.M5)())},j=function(e,i){(0,c.Rz)("image_mov_add_text",i.textAnnotations),(0,c.Rz)("loading_image_text",!1),p()},b=function(e,i){var n=(0,c.bh)(_)||{};n[e]=i,(0,c.Rz)(_,n),l((0,c.M5)())},y=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(i,n){var l;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,v.Rh)(i,n,(function(e){(0,v.F2)(e,i,(function(){b("imagePath",n),w(n)}))}),null===(l=(0,c.bh)("profileUser"))||void 0===l?void 0:l.businessId);case 1:case"end":return e.stop()}}),e)})));return function(i,n){return e.apply(this,arguments)}}(),w=function(e){var i,n=(0,c.LH)(e);(0,v.Qq)(null===(i=(0,c.bh)("profileUser"))||void 0===i?void 0:i.businessId,e,(function(e){return N(e,n)}))},N=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(i,n){var l;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.Em)(i,n);case 2:l=e.sent,(0,c.Rz)("image_url_mov_add",i),(0,c.Rz)("image_preview_mov_add",l),I(l);case 6:case"end":return e.stop()}}),e)})));return function(i,n){return e.apply(this,arguments)}}(),I=function(e){var i=new Image;i.onload=function(){var e={oh:i.height,ow:i.width,h:i.height,w:i.width};(0,c.Rz)("preview_mov_dmz_add",e),(0,c.Rz)("loading_image_upload",!1),p()},e&&(i.src=e)};return(0,x.jsxs)("div",{style:{maxWidth:560,height:"90vmin",padding:"5px!important"},children:[(0,x.jsxs)("div",{className:"_dsplFlx ",style:{padding:9},children:[(0,x.jsx)("div",{style:{marginBottom:10},children:(0,c.bh)("loading_image_upload")?(0,x.jsxs)("div",{className:"icon_compr _dsplFlx",style:{marginTop:10},children:[(0,x.jsx)("div",{className:"lbl_saving ",children:"Uploading image ..."}),(0,x.jsx)(g,{stroke:"var(--partial-success)",size:24,strokeW:8})]}):(0,x.jsxs)("div",{className:"_dsplFlx upl",style:{margin:"6px 6px 5px"},children:[(0,x.jsx)("div",{className:"lbl_saving ",style:{margin:"4px 20px 0 0"},children:"Upload"}),(0,x.jsxs)("div",{className:"btn_icon",children:[(0,x.jsx)("div",{className:"icon_absol inside ",style:{top:"1px",right:"9px"},children:(0,x.jsx)(f,{name:"image_outline",color:"var(--light-300)",size:12})}),(0,x.jsx)("div",{className:"icon_absol ",style:{top:"-4px"},children:(0,x.jsx)(f,{name:"weather-cloudy",color:"var(--partial-success)",size:30})})]}),(0,x.jsx)("input",{id:"fileupload",type:"file",onChange:function(e){(0,c.Rz)("loading_image_upload",!0),l((0,c.M5)());var i=e.target.files[0],n=new FileReader,t=(0,c.M5)()+"_"+i.name;y(i,t),n.addEventListener("load",(function(){}),!1),i&&n.readAsDataURL(i)}})]})}),(0,x.jsx)("div",{className:"flexSpace"}),(0,c.bh)("image_url_mov_add")?(0,x.jsx)("div",{style:{marginBottom:10},children:(0,c.bh)("loading_image_text")?(0,x.jsxs)("div",{className:"icon_compr _dsplFlx",style:{marginTop:10},children:[(0,x.jsx)("div",{className:"lbl_saving ",children:"scanning image ..."}),(0,x.jsx)(g,{stroke:"var(--partial-success)",size:24,strokeW:8})]}):(0,x.jsxs)("div",{className:"_dsplFlx",style:{margin:"6px 20px 5px"},onClick:function(e){(0,c.Rz)("loading_image_text",!0),p(),(0,v.sV)((0,c.bh)("image_url_mov_add"),j)},children:[(0,x.jsx)("div",{className:"lbl_saving ",style:{margin:"4px 20px 0 0"},children:"Scan"}),(0,x.jsxs)("div",{className:"btn_icon",children:[(0,x.jsx)("div",{className:"icon_absol inside ",children:(0,x.jsx)(f,{name:"image_outline",color:"var(--light-300)",size:20})}),(0,x.jsx)("div",{className:"icon_absol ",children:(0,x.jsx)(f,{name:"scan-helper",color:"var(--partial-success)",size:28})})]})]})}):null]}),u?(0,x.jsxs)("div",{className:"imagePreview",children:[(0,x.jsxs)("div",{className:"_dsplFlx",onClick:function(){return m(null)},children:[(0,x.jsx)("div",{className:"lbl_dtls",children:"Text to Copy:"}),(0,x.jsx)("div",{className:"text2link",children:u})]}),(0,x.jsx)(k,{title:"Title:",frmNm:_,keyfld:"title",updObs:p,newValue:u,confirm:m,join:" "}),(0,x.jsx)(k,{title:"Amount:",frmNm:_,keyfld:"amount",updObs:p,newValue:u,confirm:m,replace:!0}),(0,x.jsx)(k,{title:"Descripcion:",frmNm:_,keyfld:"description",updObs:p,newValue:u,confirm:m,join:"; "}),(0,x.jsx)(k,{title:"Document:",frmNm:_,keyfld:"document",updObs:p,newValue:u,confirm:m,join:"; "})]}):(0,x.jsx)("div",{className:"imagePreview",children:(0,c.bh)("preview_mov_dmz_add")?(0,x.jsx)(h.d$,{children:(0,x.jsx)(h.Uv,{children:(0,x.jsx)(z,{image:(0,c.bh)("image_preview_mov_add"),updTxt:m})})}):null})]})},y=function(e){e.activeView;var i,n,o,r,v,h=e.close,p=(0,c.bh)("movement_type"),f=(0,d.useState)(1),g=(0,a.Z)(f,2),b=(g[0],g[1]),y=function(){b((0,c.M5)())},w=(0,c.vy)(["title","description","document","amount","categoryId"],(0,c.bh)(_),(0,c.bh)(_+"_bck")),k=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(i){var n,l;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,c.I7)(i),e.next=3,n;case 3:(l=e.sent)&&!l.error&&h(!0);case 5:case"end":return e.stop()}}),e)})));return function(i){return e.apply(this,arguments)}}(),z=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(){var i,n,s,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(s=(0,c.bh)(_)).movementId=(0,c.M5)(),s.date?s.date=new Date(s.date).getTime():s.date=(new Date).getTime()+800,s.movementType=p.slice(0,p.length-1),(a=(0,l.Z)({},null===(i=(0,c.bh)((0,c.hQ)()))||void 0===i?void 0:i.add__incms_expns)).params={businessId:null===(n=(0,c.bh)("profileUser"))||void 0===n?void 0:n.businessId},a.form=s,k(a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(e,i){var n=(0,c.bh)(_)||{};n[e]=i,(0,c.Rz)(_,n),b((0,c.M5)())},Z=function(e){C("date",e.initDate+800)},T=function(e){C("categoryId",e)},M=null!==(i=(0,c.bh)(_))&&void 0!==i&&i.date?(0,c.sG)(null===(n=(0,c.bh)(_))||void 0===n?void 0:n.date):(0,c.sG)(new Date),R=null===(o=(0,c.bh)("categories_ids"))||void 0===o||null===(r=o[null===(v=(0,c.bh)(_))||void 0===v?void 0:v.categoryId])||void 0===r?void 0:r.name;return(0,x.jsxs)("div",{style:{maxWidth:560,height:"90vmin",padding:"5px!important"},children:[(0,x.jsxs)("div",{className:"_dsplFlx ",style:{padding:9},children:[(0,x.jsx)("div",{className:"flexSpace"}),w.hasChange?(0,x.jsx)("div",{className:"",children:(0,x.jsx)(I,{label:"Guardar",clickHandler:z})}):null]}),(0,x.jsxs)("div",{children:[(0,x.jsx)(N,{title:"Title:",frmNm:_,keyfld:"title",updObs:y}),(0,x.jsx)(N,{title:"Amount:",frmNm:_,keyfld:"amount",updObs:y}),(0,x.jsx)(N,{title:"Descripcion:",frmNm:_,keyfld:"description",updObs:y}),(0,x.jsx)(N,{title:"Document:",frmNm:_,keyfld:"document",updObs:y}),(0,x.jsxs)("div",{className:" dtls minhh",children:[(0,x.jsx)("div",{className:"lbl_h_dtls",style:{marginTop:8,textAlign:"left"},children:"Date"}),(0,x.jsx)("div",{className:"lbl_dtls",style:{marginTop:8,textAlign:"left"},onClick:function(e){var i,n={zIndex:950,height:"80vh",props:{minHeight:"1vh",overlay:!0}};n.content=(0,x.jsx)(j,{onConfirm:Z,colors:{"--calendar-primary-color":"var(--primary-blue--backg-30)","--calendar-primary-backcolor":"var(--primary-blue--hover-back-30)","--calendar-selected_lbl_color":"var(--primary-blue--color-30)"},init:null===(i=(0,c.bh)(_))||void 0===i?void 0:i.date}),(0,u.OpenModal)(n)},children:M})]}),(0,x.jsxs)("div",{className:" dtls minhh",children:[(0,x.jsx)("div",{className:"lbl_h_dtls",style:{marginTop:8,textAlign:"left"},children:"Categories"}),(0,x.jsx)("div",{className:"lbl_dtls",style:{marginTop:8,textAlign:"left"},onClick:function(e){var i={zIndex:480,props:{minHeight:"1vh",overlay:!0}};i.content=(0,x.jsx)(m.Z,{type:p,confirm:T}),(0,u.OpenModal)(i)},children:R||"click to type"})]})]})]})},w=function(e){var i=e.viewId,n=e.activeView,l=e.children;return(0,x.jsx)("div",{className:"opacityView",style:{opacity:i===n?1:0,marginTop:2},children:i===n?l:null})},N=function(e){var i,n=e.title,l=e.keyfld,t=e.updObs,s=e.frmNm,o=(0,d.useState)(!1),r=(0,a.Z)(o,2),v=r[0],u=r[1],m=(0,d.useState)(1),h=(0,a.Z)(m,2),g=(h[0],h[1]),j=function(){t&&t(),u(!1)},_=null===(i=(0,c.bh)(s))||void 0===i?void 0:i[l];return(0,x.jsxs)("div",{className:" dtls minhh",children:[(0,x.jsx)("div",{className:"lbl_h_dtls",style:{marginTop:8,textAlign:"left"},children:n}),v?(0,x.jsxs)("div",{className:"_dsplFlx",children:[(0,x.jsx)("div",{className:"lbl_dtls",children:(0,x.jsx)(p,{init:_,width:"68vw",updChanges:function(e){return function(e,i){var n=(0,c.bh)(s)||{};n[e]=i,(0,c.Rz)(s,n),g((0,c.M5)())}(l,e)},onEnter:j})}),(0,x.jsx)("div",{className:"icon_image ",onClick:j,children:(0,x.jsx)(f,{name:"success",color:"var(--success)"})})]}):(0,x.jsx)("div",{className:"lbl_dtls",style:{marginTop:8,textAlign:"left"},onClick:function(){return u(!0)},children:_||"click to type"})]})},k=function(e){var i,n=e.title,l=e.keyfld,t=e.replace,s=e.frmNm,o=e.newValue,r=e.confirm,v=e.join,u=(0,d.useState)(1),m=(0,a.Z)(u,2),h=(m[0],m[1]),p=function(){!function(e,i){var n=(0,c.bh)(s)||{};n[e]=i||(0,c.fY)(n[e])+v+o,(0,c.Rz)(s,n),h((0,c.M5)())}(l,t?o:null),(0,c.Ey)(r)&&r()},f=null===(i=(0,c.bh)(s))||void 0===i?void 0:i[l];return(0,x.jsxs)("div",{className:" dtls minhh",onClick:function(){return p()},children:[(0,x.jsx)("div",{className:"lbl_h_dtls",style:{marginTop:8,textAlign:"left"},children:n}),(0,x.jsx)("div",{className:"lbl_dtls",style:{marginTop:8,textAlign:"left"},children:f||"click to type"}),"}"]})},I=function(e){var i=e.clickHandler,n=e.label;return(0,x.jsx)("div",{className:" jaqJnq_hrm1",children:(0,x.jsx)("button",{className:"gHAsFI_hrm1 dqnOfN jUrKkb",onClick:i,children:(0,x.jsx)("span",{className:" jaqJnq_hrm1",children:n})})})},z=function(e){var i,n=e.image,l=e.updTxt,t=(0,c.bh)("preview_mov_dmz_add");return(0,x.jsxs)("svg",{id:"ssg_business_card_front",xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 ".concat(null===t||void 0===t?void 0:t.w," ").concat(null===t||void 0===t?void 0:t.h),preserveAspectRatio:"xMidYMid meet",children:[(0,x.jsx)("style",{type:"text/css",children:'@font-face {\n\t\t\t\tfont-family: "Google Sans";\n\t\t\t\tsrc: url(http://fonts.gstatic.com/s/googlesans/v14/4UabrENHsxJlGDuGo1OIlLU94YtzCwY.woff2)\n\n\t\t\t}'}),(0,x.jsx)("rect",{width:null===t||void 0===t?void 0:t.w,height:null===t||void 0===t?void 0:t.h,fill:"#ffffff"}),(0,x.jsx)("image",{width:null===t||void 0===t?void 0:t.w,height:null===t||void 0===t?void 0:t.h,x:0,y:0,xmlnsXlink:"http://www.w3.org/1999/xlink",xlinkHref:n}),null===(i=(0,c.bh)("image_mov_add_text"))||void 0===i?void 0:i.map((function(e,i){return(0,x.jsx)(C,{idKey:i+"_tann",item:e,index:i,updTxt:l},i+"_tann")}))]})},C=function(e){var i,n,l,t,s,a,d=e.item,o=e.index,r=(e.idKey,e.updTxt),v=d.description,u=d.boundingPoly,m=null===u||void 0===u?void 0:u.vertices,h=(null===m||void 0===m||null===(i=m[3])||void 0===i?void 0:i.y)-(null===m||void 0===m||null===(n=m[0])||void 0===n?void 0:n.y),p=(null===m||void 0===m||null===(l=m[1])||void 0===l?void 0:l.x)-(null===m||void 0===m||null===(t=m[0])||void 0===t?void 0:t.x);return 0!==o&&null!==m&&void 0!==m&&m[1]?(0,x.jsx)("rect",{onClick:function(e){e.stopPropagation(),e.preventDefault(),r(v),(0,c.vQ)(v,1)},onContextMenu:function(e){e.stopPropagation(),e.preventDefault()},width:p,height:h,fill:"#646cff",fillOpacity:"50%",x:null===m||void 0===m||null===(s=m[0])||void 0===s?void 0:s.x,y:null===m||void 0===m||null===(a=m[0])||void 0===a?void 0:a.y}):null}},5868:function(){}}]);
//# sourceMappingURL=1610.7d65dbae.chunk.js.map