"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[1666],{1666:(l,e,a)=>{a.r(e),a.d(e,{default:()=>p});var s=a(2791),d=a(2350),c=a(2647),i=(a(9803),a(9760)),n=a(9661),o=a(7689),t=a(4050),u=a(24),v=a(184);(0,c.PU)(),(0,n.FC)();const r=(0,u.f_)(),m="new_deposit_fee",x="multi_new_deposit_fee",p=l=>{var e,a,c,n,u,p,h,_,b,j,N;let{data:f,feeAmount:g,description:F}=l;const k=(0,s.useRef)(!1),[,y]=(0,s.useState)(0),R=(0,o.s0)();(0,s.useEffect)((()=>{k.current||(k.current=!0,(0,t.Ht)("global_accounts","global_account_params",w),(0,d.Rz)("PamentMethodAccount",null),(0,d.Rz)(x,null),(0,d.Rz)("accountPicker",{}),y((0,d.M5)()))}));const w=()=>{y((0,d.M5)())},S=()=>{let l=(0,d.bh)(m)||{};return l.date||(l.date=(new Date).getTime()+4800),"fee "+(0,d.sJ)(l.date)};let D=null===(e=(0,d.bh)("global_account_params"))||void 0===e?void 0:e.cash_bank,I=null===(a=(0,d.bh)("global_account_params"))||void 0===a?void 0:a.bankComisions;return(0,v.jsxs)("div",{style:{maxHeight:"90vh",minHeight:"88vh",width:"840px",overflow:"auto",background:"var(--hrm_palette-general-background-b)",borderRadius:13,padding:"10px 19px"},children:[(0,v.jsxs)("div",{className:"_dsplFlx ",children:[(0,v.jsx)("p",{className:"form_title",children:"Registrando Deposito"}),(0,v.jsx)("div",{className:"flexSpace"})]}),(0,v.jsxs)("div",{className:"_dsplFlx",style:{marginTop:25},children:[(0,v.jsx)("div",{className:"flexSpace"}),null!==D&&void 0!==D&&D.account?(0,v.jsxs)("div",{className:" acc_dtls",children:[(0,v.jsxs)("div",{className:"_dsplFlx",children:[(0,v.jsx)("div",{className:"code",style:{color:"#646cff"},children:null===(c=(0,d.bh)("account_ids"))||void 0===c||null===(n=c[null===D||void 0===D?void 0:D.account])||void 0===n?void 0:n.code}),(0,v.jsx)("div",{className:"name",children:null===(u=(0,d.bh)("account_ids"))||void 0===u||null===(p=u[null===D||void 0===D?void 0:D.account])||void 0===p?void 0:p.name})]}),(0,v.jsx)("div",{className:"flexSpace"})]}):null]}),(0,v.jsxs)("div",{className:"_dsplFlx ",children:[(0,v.jsx)("div",{className:"flexSpace"}),(0,v.jsxs)("div",{className:"_dsplFlx align_itm",children:[(0,v.jsx)("p",{className:"key_docL",children:"Documento:"}),(0,v.jsx)("p",{className:"value_docL",children:S()})]}),(0,v.jsx)("div",{className:"_dsplFlx align_itm",style:{paddingLeft:8},children:(0,v.jsx)("p",{className:"amount_docL",children:"$"+g})})]}),(0,v.jsxs)("div",{className:"_dsplFlx",children:[(0,v.jsx)("div",{className:"flexSpace"}),null!==D&&void 0!==D&&D.account?(0,v.jsxs)("div",{className:" acc_dtls",children:[(0,v.jsxs)("div",{className:"_dsplFlx",children:[(0,v.jsx)("div",{className:"code",style:{color:"#646cff"},children:null===(h=(0,d.bh)("account_ids"))||void 0===h||null===(_=h[null===I||void 0===I?void 0:I.account])||void 0===_?void 0:_.code}),(0,v.jsx)("div",{className:"name",children:null===(b=(0,d.bh)("account_ids"))||void 0===b||null===(j=b[null===I||void 0===I?void 0:I.account])||void 0===j?void 0:j.name})]}),(0,v.jsx)("div",{className:"flexSpace"})]}):null]}),(0,v.jsxs)("div",{className:"_dsplFlx ",children:[(0,v.jsx)("div",{className:"flexSpace"}),(0,v.jsxs)("div",{className:"_dsplFlx align_itm",children:[(0,v.jsx)("p",{className:"key_docL",children:"Documento:"}),(0,v.jsx)("p",{className:"value_docL",children:S()})]}),(0,v.jsx)("div",{className:"_dsplFlx align_itm",style:{paddingLeft:8},children:(0,v.jsx)("p",{className:"amount_docL",children:"$"+g})})]}),(0,v.jsx)("div",{className:"separator"}),(0,v.jsxs)("div",{className:"_dsplFlx ",children:[(0,v.jsx)(r,{init:null===(N=(0,d.bh)(m))||void 0===N?void 0:N.date,updDate:l=>((l,e,a)=>{let s=(0,d.bh)(m)||{};a?(s[a]||(s[a]={}),s[a][l]=e):s[l]=e,(0,d.Rz)(m,s),y((0,d.M5)())})("date",l)}),(0,v.jsx)("div",{className:"flexSpace"})]}),(0,v.jsx)("div",{className:"value_docL",style:{textAlign:"left"},children:F}),(0,v.jsxs)("div",{className:"_dsplFlx ",children:[(0,v.jsx)("div",{className:"flexSpace"}),(0,v.jsx)("div",{className:"card",children:(0,v.jsx)("button",{onClick:async()=>{var l,e,a,s;let c=(0,d.bh)(m)||{},n=[];c.date||(c.date=(new Date).getTime()+4800);let o=await(0,d.fN)(c.date),t=null===(l=(0,d.bh)("global_account_params"))||void 0===l?void 0:l.bankComisions,u={};u.document="fee "+(0,d.sJ)(c.date),u.account=null===t||void 0===t?void 0:t.account,u.subAccount=null===t||void 0===t?void 0:t.subAccount,u.type="debit",u.amount=g,u.operationId=(0,d.M5)(),n.push(u);let v=null===(e=(0,d.bh)("global_account_params"))||void 0===e?void 0:e.cash_bank,r={};r.document="fee "+(0,d.sJ)(c.date),r.account=null===v||void 0===v?void 0:v.account,r.subAccount=null===v||void 0===v?void 0:v.subAccount,r.type="credit",r.amount=g,r.operationId=(0,d.M5)(),n.push(r);let p={date:c.date,comprobanteId:o,description:F,businessId:null===(a=(0,d.bh)("profileUser"))||void 0===a?void 0:a.businessId,year:new Date(c.date).getFullYear()};delete c.date;let h={...null===(s=(0,d.bh)((0,d.hQ)()))||void 0===s?void 0:s.add_multi_opera};h.params=p,h.form=n;const _=(0,d.I7)(h);await _&&setTimeout((()=>{var l,e;(0,d.Rz)(x,null),null===(l=(0,d.bh)(m))||void 0===l||null===(e=l.transactions)||void 0===e||e.map((l=>{const e=l.processorTransactionReference;(0,d.Rz)(e,null)})),(0,d.Rz)("multi_deposit_anticipo_by_doc",null),(0,d.Rz)(m,null),(null===f||void 0===f?void 0:f.modalID)&&(0,i.CloseModal)({id:null===f||void 0===f?void 0:f.modalID}),R({pathname:"/accounting-ledger",search:"?cId=".concat(o)})}),400)},children:"Guardar"})})]})]})}},9803:()=>{}}]);
//# sourceMappingURL=1666.b67f5145.chunk.js.map