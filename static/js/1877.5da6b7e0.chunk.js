"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[1877,9760],{9760:(l,e,a)=>{a.r(e),a.d(e,{CloseModal:()=>r,OpenModal:()=>c,default:()=>n});var d=a(2791),i=a(5408),o=a(2350),t=a(184);const s="listDialog_mdh392",n=()=>{const l=(0,o.bh)("listDialog")||{};(0,i.Z)(s);let e=Object.keys(l);return(0,t.jsx)(t.Fragment,{children:e.map(((e,a)=>{let i=l[e];if(i&&i.visible){let l={};i.height&&(l.heigth=i.height),i.width,i.zIndex&&(l.zIndex=i.zIndex-1);let a={zIndex:i.zIndex},o=null,s=i.data;return i.content&&(o=d.cloneElement(i.content,{data:s})),(0,t.jsxs)("div",{className:"ltr-1kbnjow",style:l,children:[(0,t.jsx)("div",{className:"ltr-hoe9xz",children:(0,t.jsx)("div",{className:"ltr-1wao6ny",style:a,id:e,children:o})}),i.data.overlay?(0,t.jsx)("div",{className:"DialogHRMOverlay ".concat(i.visible?"active":""),onClick:()=>{var l;l=e,document.getElementsByTagName("html")[0].classList.remove("has-level-two"),r({id:l})}}):null]},e)}}))})},c=l=>{let e=(0,o.bh)("listDialog")||{},a=(0,o.M5)();e[a]||(e[a]={}),e[a].visible=!0;let d={};l.props?(d=l.props,d.modalID=a):d.modalID=a;let i=document.getElementsByTagName("body")[0];null!==i&&void 0!==i&&i.style&&(i.style.overflowY="hidden"),e[a].isView=l.isView,e[a].observeResize=l.observeResize,e[a].observeResize&&(e[a].observeInterval=setInterval((()=>{let l=document.querySelector("[dialog-key-id='".concat(a,"']")),d=l&&l.getBoundingClientRect();d&&(d.width===e[a].width&&d.height===e[a].height||(e[a].height=d.height+10,e[a].width=d.width,(0,o.Rz)("listDialog",e),(0,o.wt)(s)))}),200)),e[a].display=!0,l.zIndex&&(e[a].zIndex=l.zIndex),l.height&&(e[a].height=l.height),l.width&&(e[a].width=l.width),l.content&&(e[a].content=l.content),e[a].data=d,(0,o.Rz)("listDialog",e),(0,o.wt)(s),setTimeout((()=>{document.getElementsByTagName("html")[0].classList.add("has-level-two"),(0,o.Rz)("modalOpen",a),(0,o.wt)(s)}),125)},r=l=>{let e=(0,o.bh)("listDialog")||{},a=l.id;if(e[a]){var d,i,t;e[a].observeResize&&e[a].observeInterval&&clearInterval(e[a].observeInterval),e[a].display=!1,null===(d=e[a])||void 0===d||null===(i=d.data)||void 0===i||null===(t=i.closeEvent)||void 0===t||t.call(i),(0,o.Rz)("listDialog",e),delete e[a],document.getElementsByTagName("body")[0].style.overflowY=null,(0,o.wt)(s),setTimeout((()=>{delete e[a],document.getElementsByTagName("html")[0].classList.remove("has-level-two"),(0,o.Rz)("modalOpen",null)}),750)}}},3990:(l,e,a)=>{a.d(e,{Z:()=>p});var d=a(2791),i=a(2350),o=a(2647),t=(a(6021),a(9760)),s=a(9661),n=a(184);const c=(0,o.PU)(),r=(0,o.Np)(),u=(0,s.a)(),v=(0,o.JC)(),m=(0,o.tL)(),h=l=>{var e,a,o,s,c,v,h,b;let{data:p,collectionName:x,confirm:_}=l;const[,j]=(0,d.useState)(0);let y=null===(e=(0,i.bh)("account_ids"))||void 0===e?void 0:e[null===(a=(0,i.bh)("extraAccountPicker"))||void 0===a?void 0:a.account],N=null===(o=(0,i.bh)("sub_account_ids"))||void 0===o?void 0:o[null===(s=(0,i.bh)("extraAccountPicker"))||void 0===s?void 0:s.subAccount];const g=(l,e,a)=>{let d=(0,i.bh)("extraAccountPicker")||{};a?(d[a]||(d[a]={}),d[a][l]=e):d[l]=e,(0,i.Rz)("extraAccountPicker",d),j((0,i.M5)())};return(0,n.jsxs)("div",{style:{maxHeight:"80vh",width:"560px",overflow:"auto",background:"var(--hrm_palette-general-background-b)",borderRadius:13,padding:"10px 19px"},children:[(0,n.jsxs)("div",{className:"_dsplFlx ",children:[(0,n.jsx)("p",{className:"form_title",children:"Agregar gastos extras"}),(0,n.jsx)("div",{className:"flexSpace"})]}),null!==(c=(0,i.bh)("extraAccountPicker"))&&void 0!==c&&c.account?(0,n.jsx)("div",{className:"_dsplFlx ",style:{margin:"18px 0"},children:(0,n.jsxs)("div",{className:" acc_dtls",children:[(0,n.jsxs)("div",{className:"_dsplFlx",onClick:()=>{(0,i.Rz)("extraAccountPicker",null),j((0,i.M5)())},children:[(0,n.jsx)("div",{className:"code",style:{color:"#646cff"},children:null===y||void 0===y?void 0:y.upc_barcode}),(0,n.jsx)("div",{className:"name",children:null===y||void 0===y?void 0:y.name})]}),N?(0,n.jsxs)("div",{className:"_dsplFlx",style:{margin:"10px 0 0 18px"},children:[(0,n.jsx)("div",{className:"code",children:null===N||void 0===N?void 0:N.subAccount}),(0,n.jsx)("div",{className:"name",children:null===N||void 0===N?void 0:N.subAccountName})]}):null,(0,n.jsx)("div",{className:"flexSpace"})]})}):(0,n.jsx)(u,{width:420,handleClick:(l,e)=>{let a={account:l,subAccount:e};(0,i.Rz)("extraAccountPicker",a),j((0,i.M5)())}}),(0,n.jsxs)("div",{className:"_dsplFlx spaceAround flxWrp",style:{marginLeft:7},children:[(0,n.jsxs)("div",{className:"_dsplFlx ",style:{padding:"18px"},children:[(0,n.jsx)("div",{className:"flexSpace"}),(0,n.jsx)(m,{data:[{label:"Deudoras",id:"debit"},{label:"Acredoras",id:"credit"}],active:null===(v=(0,i.bh)("extraAccountPicker"))||void 0===v?void 0:v.type,updSelect:l=>g("type",l)}),(0,n.jsx)("div",{className:"flexSpace"})]}),(0,n.jsx)(r,{init:null===(h=(0,i.bh)("extraAccountPicker"))||void 0===h?void 0:h.document,label:"Documento",width:220,updChanges:l=>g("document",l)}),(0,n.jsx)(r,{init:null===(b=(0,i.bh)("extraAccountPicker"))||void 0===b?void 0:b.amount,label:"Importe",width:120,type:"number",updChanges:l=>g("amount",l)})]}),(0,n.jsx)("div",{className:"card",children:(0,n.jsx)("button",{onClick:()=>{let l={...(0,i.bh)("extraAccountPicker")}||{},e={...(0,i.bh)(x)}||{},a=(0,i.M5)();l.type||(l.type="debit"),l.amount=1*l.amount,e[a]=l,(0,i.Rz)(x,e),(0,i.Rz)("extraAccountPicker",null),j((0,i.M5)()),_&&_(),(0,t.CloseModal)({id:p.modalID})},children:"Agregar"})})]})},b=l=>{var e,a;let{data:d,deleteItem:o,idKey:t}=l,s=null===(e=(0,i.bh)("account_ids"))||void 0===e?void 0:e[null===d||void 0===d?void 0:d.account],r=null===(a=(0,i.bh)("sub_account_ids"))||void 0===a?void 0:a[null===d||void 0===d?void 0:d.subAccount];return(0,n.jsxs)("div",{className:"_dsplFlx hdr_bar",children:[(0,n.jsx)("div",{className:"tr_bar tr_bar_25",children:(0,n.jsx)(v,{data:s,labelField:"code",infoField:"name"})}),(0,n.jsx)("div",{className:"tr_bar tr_bar_25",children:(0,n.jsx)(v,{data:r,labelField:"subAccount",infoField:"subAccountName"})}),(0,n.jsx)("div",{className:"tr_bar tr_bar_25",children:null===d||void 0===d?void 0:d.document}),(0,n.jsx)("div",{className:"tr_bar tr_bar_25",children:(0,i.Zv)(null===d||void 0===d?void 0:d.amount,2)}),(0,n.jsx)("div",{className:"flexSpace"}),(0,n.jsx)("div",{className:"icon",onClick:()=>{o(t)},children:(0,n.jsx)(c,{name:"outline_delete",color:"#c62828"})})]})},p=l=>{var e;let{collectionName:a}=l;const[,o]=(0,d.useState)(0),s=()=>{o((0,i.M5)())},c=l=>{let e=(0,i.bh)(a)||{};delete e[l],(0,i.Rz)(a,e),o((0,i.M5)())};return(0,n.jsxs)("div",{className:"boxAddAcc",style:{margin:"18px 0"},children:[(0,n.jsx)("div",{className:"_dsplFlx",children:(0,n.jsx)("p",{className:"group_title addBtn purple",onClick:()=>{let l={zIndex:450,height:"80vh",props:{minHeight:"1vh",overlay:!0}};l.content=(0,n.jsx)(h,{collectionName:a,confirm:s}),(0,t.OpenModal)(l)},children:"Agregar gastos"})}),(0,n.jsxs)("div",{className:"_dsplFlx hdr_bar purple",style:{margin:"18px 0"},children:[(0,n.jsx)("div",{className:"tr_bar tr_bar_25",children:"Cuenta"}),(0,n.jsx)("div",{className:"tr_bar tr_bar_25",children:"Sub Cuenta"}),(0,n.jsx)("div",{className:"tr_bar tr_bar_25",children:"Documento"}),(0,n.jsx)("div",{className:"tr_bar tr_bar_25",children:"Monto"})]}),(0,i.bh)(a)&&(null===(e=(0,i._2)((0,i.bh)(a)))||void 0===e?void 0:e.map(((l,e)=>(0,n.jsx)(b,{idKey:l,data:(0,i.bh)(a)[l],deleteItem:c},l))))]})}},1877:(l,e,a)=>{a.r(e),a.d(e,{default:()=>A});var d=a(2791),i=a(2350),o=a(2647),t=(a(6021),a(9760)),s=a(1232),n=a(9661),c=a(7689),r=a(24),u=a(3990),v=a(4050),m=a(184);const h=(0,o.PU)(),b=(0,o.Np)(),p=(0,n.LZ)(),x=(0,r.f_)(),_=(0,o.JC)(),j="new_multi_pay_prov",y="Acc2MPay",N="multi_pay_by_prov_Doc",g="toPay_by_docM",f="multi_pay_2S",I="extraAccountListOnPay",A=l=>{var e,a,o,s,n,r,h,p,_,A,R;let{data:D,confirm:F}=l;const[C,M]=(0,d.useState)(!1),[P,S]=(0,d.useState)(0),O=(0,c.s0)(),T=()=>{S((0,i.M5)())};(0,d.useEffect)((()=>{C||(M(!0),(0,v.Ht)("global_accounts","global_account_params",T),(0,i.Rz)(f,null),(0,i.Rz)(g,null),(0,i.Rz)(N,null),(0,i.Rz)("accountPicker",{}),S((0,i.M5)()))}));const L=(l,e,a)=>{let d=(0,i.bh)(j)||{};a?(d[a]||(d[a]={}),d[a][l]=e):d[l]=e,(0,i.Rz)(j,d),S((0,i.M5)())};let B=null===(e=(0,i.bh)("global_account_params"))||void 0===e?void 0:e.cash_bank;const U=()=>{let l={...(0,i.bh)(N)}||{},e={...(0,i.bh)(f)}||{};(0,i._2)(l).map((a=>{var d,o;let t=(null===(d=(0,i.bh)(y))||void 0===d?void 0:d.account)+"_"+(null===(o=(0,i.bh)(y))||void 0===o?void 0:o.subAccount)+"_"+a,s={...(0,i.bh)(y)};e[t]={},e[t].amount=1*l[a],e[t].document=a,e[t].type="debit",e[t].account=null===s||void 0===s?void 0:s.account,e[t].providerId=null===s||void 0===s?void 0:s.providerId,e[t].subAccount=null===s||void 0===s?void 0:s.subAccount})),(0,i.Rz)(f,e),(0,i.Rz)(N,null),(0,i.Rz)(y,null),S((0,i.M5)())};return(0,m.jsxs)("div",{style:{maxHeight:"90vh",minHeight:"88vh",width:"720px",overflow:"auto",background:"var(--hrm_palette-general-background-b)",borderRadius:13,padding:"10px 19px"},children:[(0,m.jsxs)("div",{className:"_dsplFlx ",children:[(0,m.jsx)("p",{className:"form_title",children:"Registrando Pago"}),(0,m.jsx)("div",{className:"flexSpace"})]}),(0,m.jsxs)("div",{className:"_dsplFlx",children:[(0,m.jsx)("div",{className:"flexSpace"}),null!==B&&void 0!==B&&B.account?(0,m.jsxs)("div",{className:" acc_dtls",children:[(0,m.jsxs)("div",{className:"_dsplFlx",children:[(0,m.jsx)("div",{className:"code",style:{color:"#646cff"},children:null===(a=(0,i.bh)("account_ids"))||void 0===a||null===(o=a[null===B||void 0===B?void 0:B.account])||void 0===o?void 0:o.code}),(0,m.jsx)("div",{className:"name",children:null===(s=(0,i.bh)("account_ids"))||void 0===s||null===(n=s[null===B||void 0===B?void 0:B.account])||void 0===n?void 0:n.name})]}),(0,m.jsx)("div",{className:"flexSpace"})]}):null]}),(0,m.jsxs)("div",{className:"_dsplFlx ",children:[(0,m.jsx)(x,{init:null===(r=(0,i.bh)(j))||void 0===r?void 0:r.date,updDate:l=>L("date",l)}),(0,m.jsx)("div",{className:"flexSpace"}),(0,m.jsx)(b,{init:null===(h=(0,i.bh)(j))||void 0===h?void 0:h.paymentDocument,label:"Documento de Pago",width:200,updChanges:l=>L("paymentDocument",l)})]}),(0,m.jsx)(b,{init:null===(p=(0,i.bh)(j))||void 0===p?void 0:p.description,label:"Descripcion",width:520,updChanges:l=>L("description",l)}),(0,m.jsxs)("div",{className:" _dsplFlx",children:[(0,m.jsx)("div",{className:"flexSpace"}),(0,m.jsx)("p",{className:"group_title addBtn purple",onClick:()=>{let l={zIndex:450,height:"93vh",props:{minHeight:"1vh",overlay:!0}};l.content=(0,m.jsx)(z,{updObs:S,confirm:U}),(0,t.OpenModal)(l)},children:"Provedores"})]}),(0,i.bh)(f)&&(0,i._2)((0,i.bh)(f)).length>0?(0,m.jsxs)("div",{className:"boxAddAcc",style:{margin:"18px 0"},children:[(0,m.jsxs)("div",{className:"_dsplFlx hdr_bar purple",style:{margin:"18px 0"},children:[(0,m.jsx)("div",{className:"tr_bar tr_bar_25",children:"Cuenta"}),(0,m.jsx)("div",{className:"tr_bar tr_bar_25",children:"Sub Cuenta"}),(0,m.jsx)("div",{className:"tr_bar tr_bar_25",children:"Documento"}),(0,m.jsx)("div",{className:"tr_bar tr_bar_25",children:"Balance"})]}),(0,i.bh)(f)&&(null===(_=(0,i._2)((0,i.bh)(f)))||void 0===_?void 0:_.map(((l,e)=>(0,m.jsx)(w,{idKey:l,data:(0,i.bh)(f)[l],updObs:S},l)))),(0,m.jsx)(w,{data:{account:null===B||void 0===B?void 0:B.account,amount:k((0,i.bh)(f)),type:"credit",document:null===(A=(0,i.bh)(j))||void 0===A?void 0:A.paymentDocument},updObs:S})]}):null,(0,m.jsx)(u.Z,{collectionName:I}),null!==(R=(0,i.bh)(j))&&void 0!==R&&R.paymentDocument&&k((0,i.bh)(f))>0?(0,m.jsxs)("div",{className:"_dsplFlx ",children:[(0,m.jsx)("div",{className:"flexSpace"}),(0,m.jsx)("div",{className:"card",children:(0,m.jsx)("button",{onClick:async()=>{var l,e,a;let d=(0,i.bh)(j)||{},o=[];d.date?d.date=new Date(d.date).getTime():d.date=(new Date).getTime()+800;let s=await(0,i.fN)(d.date);d.comprobanteId=s;let n="",c=(0,i.bh)(f)&&(0,i._2)((0,i.bh)(f));c&&(null===c||void 0===c||c.map(((l,e)=>{var a,t;let s={...d},c=(0,i.bh)(f)[l];s.document=null===c||void 0===c?void 0:c.document,n+=(null===c||void 0===c?void 0:c.document)+" ; ",s.account=null===c||void 0===c?void 0:c.account,s.subAccount=null===c||void 0===c?void 0:c.subAccount,s.providerId=null===c||void 0===c?void 0:c.providerId,s.type=null===c||void 0===c?void 0:c.type,s.amount=null===c||void 0===c?void 0:c.amount,s.payOrCollect="pay",s.operationId=(0,i.M5)();let r={...null===(a=(0,i.bh)((0,i.hQ)()))||void 0===a?void 0:a.add_opera};r.params={businessId:null===(t=(0,i.bh)("profileUser"))||void 0===t?void 0:t.businessId},r.form=s,o.push(r)})));let r=(0,i.bh)(I)&&(0,i._2)((0,i.bh)(I));r&&(null===r||void 0===r||r.map(((l,e)=>{var a,t,s,c;let r={...d},u=(0,i.bh)(I)[l];r.document=r.paymentDocument,r.account=null===u||void 0===u?void 0:u.account,r.subAccount=null===u||void 0===u?void 0:u.subAccount,r.type="debit",r.amount=null===u||void 0===u?void 0:u.amount,r.operationId=(0,i.M5)();let v={...null===(a=(0,i.bh)((0,i.hQ)()))||void 0===a?void 0:a.add_opera};v.params={businessId:null===(t=(0,i.bh)("profileUser"))||void 0===t?void 0:t.businessId},v.form=r,o.push(v);let m={...d};m.document=m.paymentDocument,m.paymentDocument=n,m.account=null===B||void 0===B?void 0:B.account,m.type="credit",m.amount=1*(null===u||void 0===u?void 0:u.amount),m.operationId=(0,i.M5)();let h={...null===(s=(0,i.bh)((0,i.hQ)()))||void 0===s?void 0:s.add_opera};h.params={businessId:null===(c=(0,i.bh)("profileUser"))||void 0===c?void 0:c.businessId},h.form=m,o.push(h)})));let u={...d},v=k((0,i.bh)(f));u.document=u.paymentDocument,u.paymentDocument=n,u.account=null===B||void 0===B?void 0:B.account;let m=null===(l=(0,i.bh)("account_ids"))||void 0===l?void 0:l[u.account];m.payOrCollect&&(u.payOrCollect=m.payOrCollect),u.type="credit",u.amount=1*v,u.operationId=(0,i.M5)();let h={...null===(e=(0,i.bh)((0,i.hQ)()))||void 0===e?void 0:e.add_opera};h.params={businessId:null===(a=(0,i.bh)("profileUser"))||void 0===a?void 0:a.businessId},h.form=u,o.push(h);const b=o.map((async l=>{const e=(0,i.I7)(l);await e}));await Promise.all(b),setTimeout((()=>{(0,i.Rz)(N,null),(0,i.Rz)(j,null),(null===D||void 0===D?void 0:D.modalID)&&(0,t.CloseModal)({id:null===D||void 0===D?void 0:D.modalID}),O({pathname:"/accounting-ledger",search:"?cId=".concat(s)})}),400)},children:"Guardar"})})]}):null]})},w=l=>{var e,a;let{data:d}=l;return 1*(null===d||void 0===d?void 0:d.amount)===0?null:(0,m.jsxs)("div",{className:"_dsplFlx hdr_bar",children:[(0,m.jsx)("div",{className:"tr_bar tr_bar_25",style:{marginTop:10},children:(0,m.jsx)(_,{data:null===(e=(0,i.bh)("account_ids"))||void 0===e?void 0:e[null===d||void 0===d?void 0:d.account],color:"debit"===d.type?"#009688":"#c62828",labelField:"code",infoField:"name"})}),(0,m.jsx)("div",{className:"tr_bar tr_bar_25",style:{marginTop:10},children:null!==d&&void 0!==d&&d.subAccount?(0,m.jsx)(_,{data:null===(a=(0,i.bh)("sub_account_ids"))||void 0===a?void 0:a[null===d||void 0===d?void 0:d.subAccount],color:"debit"===d.type?"#009688":"#c62828",labelField:"subAccount",infoField:"subAccountName"}):null}),(0,m.jsx)("div",{className:"tr_bar tr_bar_25",style:{marginTop:10},children:null===d||void 0===d?void 0:d.document}),(0,m.jsxs)("div",{className:"tr_bar tr_bar_25",style:{marginTop:10},children:["$",(1*(null===d||void 0===d?void 0:d.amount)).toFixed(2)]})]})},z=l=>{var e,a,o,n,c,r,u,v,h,b,x,_,j,N,f,I;let{data:A,confirm:w}=l;const[z,k]=(0,d.useState)(0),D=()=>{k((0,i.M5)())};return(0,m.jsxs)("div",{style:{maxHeight:"92vh",minHeight:"90vh",width:"720px",overflow:"auto",background:"#fff",borderRadius:13,padding:"10px 19px"},children:[(0,m.jsxs)("div",{className:"_dsplFlx ",children:[(0,m.jsx)("p",{className:"form_title",children:"Pagos por Provedores"}),(0,m.jsx)("div",{className:"flexSpace"})]}),(0,m.jsx)("div",{style:{margin:"18px 0"},children:null!==(e=(0,i.bh)(y))&&void 0!==e&&e.account?(0,m.jsxs)("div",{children:[(0,m.jsxs)("div",{className:" acc_dtls",children:[(0,m.jsxs)("div",{className:"_dsplFlx",children:[(0,m.jsx)("div",{className:"code",style:{color:"#646cff"},onClick:()=>{(0,i.Rz)(y,null),k((0,i.M5)())},children:null===(a=(0,i.bh)("account_ids"))||void 0===a||null===(o=a[null===(n=(0,i.bh)(y))||void 0===n?void 0:n.account])||void 0===o?void 0:o.code}),(0,m.jsx)("div",{className:"name",children:null===(c=(0,i.bh)("account_ids"))||void 0===c||null===(r=c[null===(u=(0,i.bh)(y))||void 0===u?void 0:u.account])||void 0===r?void 0:r.name})]}),(0,m.jsx)("div",{className:"flexSpace"}),null!==(v=(0,i.bh)(y))&&void 0!==v&&v.subAccount?(0,m.jsxs)("div",{className:"_dsplFlx",style:{margin:"10px 0 0 18px"},children:[(0,m.jsx)("div",{className:"code",children:null===(h=(0,i.bh)("sub_account_ids"))||void 0===h||null===(b=h[null===(x=(0,i.bh)(y))||void 0===x?void 0:x.subAccount])||void 0===b?void 0:b.subAccount}),(0,m.jsx)("div",{className:"name",children:null===(_=(0,i.bh)("sub_account_ids"))||void 0===_||null===(j=_[null===(N=(0,i.bh)(y))||void 0===N?void 0:N.subAccount])||void 0===j?void 0:j.subAccountName})]}):null]}),(0,m.jsxs)("div",{className:"boxAddAcc",style:{margin:"18px 0"},children:[(0,m.jsxs)("div",{className:"_dsplFlx hdr_bar purple",style:{margin:"18px 0"},children:[(0,m.jsx)("div",{className:"tr_bar tr_bar_50",children:"Documento"}),(0,m.jsx)("div",{className:"tr_bar tr_bar_20",children:"Balance"}),(0,m.jsx)("div",{className:"tr_bar tr_bar_5"}),(0,m.jsx)("div",{className:"tr_bar tr_bar_25",children:"Por Pagar"})]}),(0,i.bh)(g)&&(null===(f=(0,i._2)((0,i.bh)(g)))||void 0===f?void 0:f.map(((l,e)=>(0,m.jsx)(R,{idKey:l,data:(0,i.bh)(g)[l],updObs:k},l))))]})]}):(0,m.jsx)(p,{placeholder:"buscar un provedor",width:420,handleClick:l=>{let e={account:null===l||void 0===l?void 0:l.account,subAccount:null===l||void 0===l?void 0:l.subAccount,providerId:null===l||void 0===l?void 0:l.providerId};(0,i.Rz)(y,e),(0,s.nr)(e,D)}})}),null!==(I=(0,i.bh)(y))&&void 0!==I&&I.subAccount?(0,m.jsxs)("div",{className:"_dsplFlx ",children:[(0,m.jsx)("div",{className:"flexSpace"}),(0,m.jsx)("p",{className:"group_title addBtn purple",onClick:()=>{w&&w(),(null===A||void 0===A?void 0:A.modalID)&&(0,t.CloseModal)({id:null===A||void 0===A?void 0:A.modalID})},children:"Guardar"})]}):null]})},R=l=>{let{data:e,updObs:a,idKey:o}=l;const[t,s]=(0,d.useState)(0),n=(l,e,a)=>{let d=(0,i.bh)(N)||{};a?(d[a]||(d[a]={}),d[a][l]=e):d[l]=e,(0,i.Rz)(N,d)};return 1*(null===e||void 0===e?void 0:e.amount)===0?null:(0,m.jsxs)("div",{className:"_dsplFlx hdr_bar",children:[(0,m.jsx)("div",{className:"tr_bar tr_bar_50",style:{marginTop:10},children:null===e||void 0===e?void 0:e.document}),(0,m.jsxs)("div",{className:"tr_bar tr_bar_20",style:{marginTop:10},children:["$",(1*(null===e||void 0===e?void 0:e.amount)).toFixed(2)]}),(0,m.jsx)("div",{className:"tr_bar tr_bar_5",style:{marginTop:10},children:t>(null===e||void 0===e?void 0:e.amount)?(0,m.jsx)("div",{className:"icon",children:(0,m.jsx)(h,{name:"alert",color:"#c62828"})}):null}),(0,m.jsx)("div",{className:"tr_bar tr_bar_25",children:(0,m.jsx)(b,{init:t,width:80,updChanges:l=>{return s(d=l),n(null===e||void 0===e?void 0:e.document,d),void a((0,i.M5)());var d}})})]})},k=l=>{var e;let a=0;return l&&(null===(e=(0,i._2)(l))||void 0===e||e.map(((e,d)=>{var o;a+=1*(0,i.Zv)(null===(o=l[e])||void 0===o?void 0:o.amount,2)}))),a}},1232:(l,e,a)=>{a.d(e,{GP:()=>n,N$:()=>t,hF:()=>r,i7:()=>i,nr:()=>o,pj:()=>u});var d=a(2350);const i=async(l,e)=>{var a,i;let o={...null===(a=(0,d.bh)((0,d.hQ)()))||void 0===a?void 0:a.filter_search_opera};o.params={businessId:null===(i=(0,d.bh)("profileUser"))||void 0===i?void 0:i.businessId,":account":null===l||void 0===l?void 0:l.account,":subAccount":null===l||void 0===l?void 0:l.subAccount};const t=(0,d.I7)(o),n=await t;if((0,d.wL)("getall_collects"),(0,d.wL)(o),(0,d.wL)(n),n&&!n.error){(0,d.Rz)("collect_list",n),(0,d.Rz)("collect_by_doc",s(n)),(0,d.Rz)("collect_by_docM",s(n));let e=(null===l||void 0===l?void 0:l.account)+"_"+(null===l||void 0===l?void 0:l.subAccount);c(n,e)}e&&e()},o=async(l,e)=>{var a,i;let o={...null===(a=(0,d.bh)((0,d.hQ)()))||void 0===a?void 0:a.filter_search_opera};o.params={businessId:null===(i=(0,d.bh)("profileUser"))||void 0===i?void 0:i.businessId,":account":null===l||void 0===l?void 0:l.account,":subAccount":null===l||void 0===l?void 0:l.subAccount};const t=(0,d.I7)(o),n=await t;if((0,d.wL)("getall_toPay"),(0,d.wL)(o),(0,d.wL)(n),n&&!n.error){(0,d.Rz)("toPay_list",n),(0,d.Rz)("toPay_by_doc",s(n,!0)),(0,d.Rz)("toPay_by_docM",s(n,!0));let e=(null===l||void 0===l?void 0:l.account)+"_"+(null===l||void 0===l?void 0:l.subAccount);c(n,e)}e&&e()},t=async l=>{var e,a;let i={...null===(e=(0,d.bh)((0,d.hQ)()))||void 0===e?void 0:e.search_opera};i.params={businessId:null===(a=(0,d.bh)("profileUser"))||void 0===a?void 0:a.businessId,":search":(0,d.bh)("search_acc_record")};const o=(0,d.I7)(i),t=await o;t&&!t.error&&((0,d.Rz)("comprobante_list",t),(0,d.Rz)("comprobante_by_doc",s(t))),l&&l()};function s(l,e){var a={};let i=l&&(0,d._2)(l);return i.length>0?i.map((i=>{var o;let t=l[i],s=null===(o=t.document)||void 0===o?void 0:o.trim();if(!a[s]){a[s]={},["date","description","document","entryName"].forEach((l=>{a[s][l]=t[l]})),a[s].amount=0,a[s].operations=[]}if(t.type){let l=(0,d.Zv)(t.amount,2),i=(0,d.Zv)(a[s].amount,2),o=0;o=e?1*i+l*("debit"===t.type?-1:1):1*i+l*("credit"===t.type?-1:1),a[s].amount=(0,d.Zv)(o,2),a[s].operations.push(function(l){var e,a;let i={};i.account=null===(e=(0,d.bh)("account_ids"))||void 0===e?void 0:e[l.account],i.sub_account=null===(a=(0,d.bh)("sub_account_ids"))||void 0===a?void 0:a[l.subAccount],i.comprobanteId=l.comprobanteId,i.date=l.date,i.description=l.description;let o=(0,d.Zv)(l.amount,2);"credit"===l.type?(i.debit=0,i.credit=o):"debit"===l.type&&(i.credit=0,i.debit=o);return i}(t))}})):a=null,a}const n=(l,e,a)=>(0,d.MV)("SumDocuments",[l,e,a],(()=>{var a;let i=0;return l&&(null===(a=(0,d._2)(l))||void 0===a||a.map(((a,d)=>{var o;i+=1*(null===(o=l[a])||void 0===o?void 0:o[e])}))),i})),c=async(l,e,a)=>{let i=(0,d.bh)("rec_by_acc")||{};i[e]=((l,e,a)=>{var i;let o=0;return l&&(null===(i=(0,d._2)(l))||void 0===i||i.map(((e,a)=>{var i;let t=(0,d.Zv)(l[e].amount,2);o+=t*("credit"===(null===(i=l[e])||void 0===i?void 0:i.type)?-1:1)}))),o})(l)||"no",(0,d.Rz)("rec_by_acc",i),a&&a()},r=async(l,e,a)=>{var i,o;let t={...null===(i=(0,d.bh)((0,d.hQ)()))||void 0===i?void 0:i.filter_search_opera};t.params={businessId:null===(o=(0,d.bh)("profileUser"))||void 0===o?void 0:o.businessId,":account":null===l||void 0===l?void 0:l.account,":subAccount":null===l||void 0===l?void 0:l.subAccount};const s=(0,d.I7)(t),n=await s;n&&!n.error&&c(n,e),a&&a()},u=async(l,e,a)=>{var i,o;let t={...null===(i=(0,d.bh)((0,d.hQ)()))||void 0===i?void 0:i.search_subacc_acc};t.params={businessId:null===(o=(0,d.bh)("profileUser"))||void 0===o?void 0:o.businessId,":account":l,":search":e};const s=(0,d.I7)(t),n=await s;if((0,d.wL)("searchSubAccbyCode"),(0,d.wL)(t),(0,d.wL)(n),n&&!n.error){var c;let l=null===(c=(0,d._2)(n))||void 0===c?void 0:c[0];a&&a(n[l])}}},6021:()=>{}}]);
//# sourceMappingURL=1877.5da6b7e0.chunk.js.map