"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[1879,9760],{9760:(e,o,t)=>{t.r(o),t.d(o,{CloseModal:()=>c,OpenModal:()=>r,default:()=>a});var i=t(2791),l=t(5408),d=t(2350),s=t(184);const n="listDialog_mdh392",a=()=>{const e=(0,d.bh)("listDialog")||{};(0,l.Z)(n);let o=Object.keys(e);return(0,s.jsx)(s.Fragment,{children:o.map(((o,t)=>{let l=e[o];if(l&&l.visible){let e={};l.height&&(e.heigth=l.height),l.width,l.zIndex&&(e.zIndex=l.zIndex-1);let t={zIndex:l.zIndex},d=null,n=l.data;return l.content&&(d=i.cloneElement(l.content,{data:n})),(0,s.jsxs)("div",{className:"ltr-1kbnjow",style:e,children:[(0,s.jsx)("div",{className:"ltr-hoe9xz",children:(0,s.jsx)("div",{className:"ltr-1wao6ny",style:t,id:o,children:d})}),l.data.overlay?(0,s.jsx)("div",{className:"DialogHRMOverlay ".concat(l.visible?"active":""),onClick:()=>{var e;e=o,document.getElementsByTagName("html")[0].classList.remove("has-level-two"),c({id:e})}}):null]},o)}}))})},r=e=>{let o=(0,d.bh)("listDialog")||{},t=(0,d.M5)();o[t]||(o[t]={}),o[t].visible=!0;let i={};e.props?(i=e.props,i.modalID=t):i.modalID=t;let l=document.getElementsByTagName("body")[0];null!==l&&void 0!==l&&l.style&&(l.style.overflowY="hidden"),o[t].isView=e.isView,o[t].observeResize=e.observeResize,o[t].observeResize&&(o[t].observeInterval=setInterval((()=>{let e=document.querySelector("[dialog-key-id='".concat(t,"']")),i=e&&e.getBoundingClientRect();i&&(i.width===o[t].width&&i.height===o[t].height||(o[t].height=i.height+10,o[t].width=i.width,(0,d.Rz)("listDialog",o),(0,d.wt)(n)))}),200)),o[t].display=!0,e.zIndex&&(o[t].zIndex=e.zIndex),e.height&&(o[t].height=e.height),e.width&&(o[t].width=e.width),e.content&&(o[t].content=e.content),o[t].data=i,(0,d.Rz)("listDialog",o),(0,d.wt)(n),setTimeout((()=>{document.getElementsByTagName("html")[0].classList.add("has-level-two"),(0,d.Rz)("modalOpen",t),(0,d.wt)(n)}),125)},c=e=>{let o=(0,d.bh)("listDialog")||{},t=e.id;if(o[t]){var i,l,s;o[t].observeResize&&o[t].observeInterval&&clearInterval(o[t].observeInterval),o[t].display=!1,null===(i=o[t])||void 0===i||null===(l=i.data)||void 0===l||null===(s=l.closeEvent)||void 0===s||s.call(l),(0,d.Rz)("listDialog",o),delete o[t],document.getElementsByTagName("body")[0].style.overflowY=null,(0,d.wt)(n),setTimeout((()=>{delete o[t],document.getElementsByTagName("html")[0].classList.remove("has-level-two"),(0,d.Rz)("modalOpen",null)}),750)}}},1879:(e,o,t)=>{t.r(o),t.d(o,{default:()=>_});var i=t(2791),l=t(2350),d=t(2647),s=(t(1534),t(9760)),n=t(7689),a=t(9661),r=t(24),c=t(713),u=t(184);const v=(0,d.PU)(),p=(0,d.Np)(),h=(0,r.f_)(),m=(0,a.FC)(),b=(0,r.Az)(),I="new_product_out_comprobante",_=e=>{var o,t,d,a,r,c,v,m;let{data:b,confirm:_}=e;const[f,g]=(0,i.useState)(!1),[j,k]=(0,i.useState)(0),z=(0,n.s0)();(0,i.useEffect)((()=>{f||(g(!0),(0,l.Rz)("accountPicker",{}),k((0,l.M5)()))}));const w=(e,o,t)=>{let i=(0,l.bh)(I)||{};t?(i[t]||(i[t]={}),i[t][e]=o):i[e]=o,(0,l.Rz)(I,i),k((0,l.M5)())};return(0,u.jsxs)("div",{style:{maxHeight:"90vh",minHeight:"88vh",width:"750px",overflow:"auto",background:"var(--hrm_palette-general-background-b)",borderRadius:13,padding:"10px 19px"},children:[(0,u.jsxs)("div",{className:"_dsplFlx ",children:[(0,u.jsx)("p",{className:"form_title",children:"Salida de Mercancias"}),(0,u.jsx)("div",{className:"flexSpace"})]}),(0,u.jsxs)("div",{className:"_dsplFlx ",children:[(0,u.jsx)(h,{init:null===(o=(0,l.bh)(I))||void 0===o?void 0:o.date,updDate:e=>w("date",e)}),(0,u.jsx)("div",{className:"flexSpace"}),(0,u.jsx)(p,{init:null===(t=(0,l.bh)(I))||void 0===t?void 0:t.document,label:"Documento",width:120,updChanges:e=>w("document",e)}),(0,u.jsx)("div",{className:"flexSpace"}),(0,u.jsx)(p,{init:null===(d=(0,l.bh)(I))||void 0===d?void 0:d.amount,label:"Importe de la venta",width:120,updChanges:e=>w("amount",e)})]}),(0,u.jsx)(p,{init:null===(a=(0,l.bh)(I))||void 0===a?void 0:a.description,label:"Descripcion",width:520,updChanges:e=>w("description",e)}),(0,u.jsxs)("div",{className:"_dsplFlx ",style:{margin:"18px 0"},children:[(0,u.jsx)("div",{className:"flexSpace"}),(0,u.jsx)(y,{})]}),(0,u.jsx)(x,{}),(0,u.jsxs)("div",{className:"_dsplFlx ",children:[(0,u.jsx)("div",{className:"flexSpace"}),null!==(r=(0,l.bh)(I))&&void 0!==r&&r.document&&null!==(c=(0,l.bh)(I))&&void 0!==c&&c.amount&&null!==(v=(0,l.bh)("customerOutPicker"))&&void 0!==v&&v.account&&(null===(m=(0,l._2)((0,l.bh)("productListOnOut")))||void 0===m?void 0:m.length)>0?(0,u.jsx)("div",{className:"card",children:(0,u.jsx)("button",{onClick:async()=>{var e;let o=(0,l.bh)(I),t=(new Date).getTime()+800;if(o.date){let e=new Date(o.date).getTime();t=e||t}o.date=t;let i=[],d=await(0,l.fN)(o.date);o.comprobanteId=d;let n=0,a=0,r=(0,l.bh)("global_account_params"),c=(0,l.bh)("productListOnOut")&&(0,l._2)((0,l.bh)("productListOnOut"));if(c&&(null===c||void 0===c||c.map((async(e,d)=>{var s,r;let c={...(0,l.bh)("productListOnOut")[e]},u={...c};u.document=o.document.trim(),u.date=t,u.price=1*c.price,u.qty=-1*c.qty,u.comprobanteId=o.comprobanteId,u.inventoryId=(0,l.M5)(),delete u.product,delete u.account,delete u.subAccount;let v=1*c.qty*(1*c.price);n+=v,a+=v,u.amount=-1*v;let p={...null===(s=(0,l.bh)((0,l.hQ)()))||void 0===s?void 0:s.add_inventory};p.params={businessId:null===(r=(0,l.bh)("profileUser"))||void 0===r?void 0:r.businessId},p.form=u,i.push(p)}))),a>0){var u,v,p,h,m,y;let e={...o};e.type="credit",e.account=null===r||void 0===r||null===(u=r.inventory)||void 0===u?void 0:u.account,e.amount=a,e.operationId=(0,l.M5)();let t={...null===(v=(0,l.bh)((0,l.hQ)()))||void 0===v?void 0:v.add_opera};t.params={businessId:null===(p=(0,l.bh)("profileUser"))||void 0===p?void 0:p.businessId},t.form=e,i.push(t);let d={...o};d.type="debit",d.account=null===r||void 0===r||null===(h=r.inventory_expensess)||void 0===h?void 0:h.account,d.amount=a,d.operationId=(0,l.M5)();let s={...null===(m=(0,l.bh)((0,l.hQ)()))||void 0===m?void 0:m.add_opera};s.params={businessId:null===(y=(0,l.bh)("profileUser"))||void 0===y?void 0:y.businessId},s.form=d,i.push(s)}if(n>0&&(0,l.bh)("customerOutPicker").account){var x,f,g,j,w,R,N;let e={...o};e.type="debit",e.account=null===(x=(0,l.bh)("customerOutPicker"))||void 0===x?void 0:x.account,e.subAccount=null===(f=(0,l.bh)("customerOutPicker"))||void 0===f?void 0:f.subAccount,e.providerId=null===(g=(0,l.bh)("customerOutPicker"))||void 0===g?void 0:g.providerId,e.operationId=(0,l.M5)();let t=null===(j=(0,l.bh)("account_ids"))||void 0===j?void 0:j[null===(w=(0,l.bh)("customerOutPicker"))||void 0===w?void 0:w.account];t&&t.payOrCollect&&(e.payOrCollect=t.payOrCollect),e.amount=1*e.amount;let d={...null===(R=(0,l.bh)((0,l.hQ)()))||void 0===R?void 0:R.add_opera};d.params={businessId:null===(N=(0,l.bh)("profileUser"))||void 0===N?void 0:N.businessId},d.form=e,i.push(d)}if(null!==r&&void 0!==r&&null!==(e=r.sales_income)&&void 0!==e&&e.account){var O,Q,P;let e={...o};e.type="credit",e.account=null===r||void 0===r||null===(O=r.sales_income)||void 0===O?void 0:O.account,e.operationId=(0,l.M5)(),e.amount=1*e.amount;let t={...null===(Q=(0,l.bh)((0,l.hQ)()))||void 0===Q?void 0:Q.add_opera};t.params={businessId:null===(P=(0,l.bh)("profileUser"))||void 0===P?void 0:P.businessId},t.form=e,i.push(t)}const M=i.map((async e=>{const o=(0,l.I7)(e);await o}));await Promise.all(M),(null===b||void 0===b?void 0:b.modalID)&&(0,s.CloseModal)({id:null===b||void 0===b?void 0:b.modalID}),setTimeout((()=>{(0,l.Rz)("extraAccountListOnCmp",null),(0,l.Rz)("productListOnOut",null),(0,l.Rz)("customerOutPicker",null),(0,l.Rz)(I,null),k((0,l.M5)()),_&&_(),z({pathname:"/accounting-ledger",search:"?cId=".concat(d)})}),400)},children:"Guardar"})}):null]})]})},y=e=>{var o,t;let{}=e;const[d,s]=(0,i.useState)(0);let n=null===(o=(0,l.bh)("providers_ids"))||void 0===o?void 0:o[null===(t=(0,l.bh)("customerOutPicker"))||void 0===t?void 0:t.providerId];return(0,u.jsx)("div",{children:null!==n&&void 0!==n&&n.name?(0,u.jsx)("div",{className:"_dsplFlx ",style:{margin:"18px 0"},children:(0,u.jsxs)("div",{className:" acc_dtls",children:[(0,u.jsx)("div",{className:"_dsplFlx",children:(0,u.jsx)("div",{className:"code",style:{color:"#646cff"},onClick:()=>{(0,l.Rz)("customerOutPicker",null),s((0,l.M5)())},children:null===n||void 0===n?void 0:n.name})}),(0,u.jsx)("div",{className:"flexSpace"})]})}):(0,u.jsx)(m,{placeholder:"buscar una provedor",width:320,handleClick:e=>{let o={providerId:e.providerId,account:e.account,subAccount:e.subAccount};(0,l.Rz)("customerOutPicker",o),s((0,l.M5)())}})})},x=e=>{var o,t,d,s,n,a,r,v,h,m,I,_,y;let{}=e;const[x,g]=(0,i.useState)(0),j=()=>{g((0,l.M5)())};let k=null===(o=(0,l.bh)("products_ids"))||void 0===o?void 0:o[null===(t=(0,l.bh)("productPicker"))||void 0===t?void 0:t.productId];const z=e=>{let o=(0,l.bh)("productListOnOut")||{};delete o[e],(0,l.Rz)("productListOnOut",o),g((0,l.M5)())};return(0,u.jsxs)("div",{className:"boxAddAcc",style:{margin:"18px 0"},children:[null!==(d=(0,l.bh)("productPicker"))&&void 0!==d&&d.productId?(0,u.jsx)("div",{className:"_dsplFlx ",style:{margin:"18px 0"},children:(0,u.jsxs)("div",{className:" acc_dtls",children:[(0,u.jsxs)("div",{className:"_dsplFlx",onClick:e=>{(0,l.Rz)("productPicker",null),g((0,l.M5)())},children:[(0,u.jsx)("div",{className:"code",style:{color:"#646cff"},children:null===k||void 0===k?void 0:k.upc_barcode}),(0,u.jsx)("div",{className:"name",children:null===k||void 0===k?void 0:k.name})]}),(0,u.jsx)("div",{className:"flexSpace"})]})}):(0,u.jsx)(b,{width:420,handleClick:e=>{let o={productId:e.productId,product:e.product,subAccount:e.subAccount};(0,l.Rz)("productPicker",o),(0,c.Rd)(e.productId,j)}}),null!==(s=(0,l.bh)("products_stock"))&&void 0!==s&&null!==(n=s[null===(a=(0,l.bh)("productPicker"))||void 0===a?void 0:a.productId])&&void 0!==n&&n.qty?(0,u.jsxs)("div",{className:"_dsplFlx ",children:[(0,u.jsx)(p,{init:null===(r=(0,l.bh)("productPicker"))||void 0===r?void 0:r.qty,label:"Cantidad",width:120,type:"number",updChanges:e=>((e,o,t)=>{let i=(0,l.bh)("productPicker")||{};t?(i[t]||(i[t]={}),i[t][e]=o):i[e]=o,(0,l.Rz)("productPicker",i),g((0,l.M5)())})("qty",e)}),(0,u.jsx)("div",{className:"flexSpace"}),null!==(v=(0,l.bh)("productPicker"))&&void 0!==v&&v.qty&&(null===(h=(0,l.bh)("productPicker"))||void 0===h?void 0:h.qty)<=(null===(m=(0,l.bh)("products_stock"))||void 0===m||null===(I=m[null===(_=(0,l.bh)("productPicker"))||void 0===_?void 0:_.productId])||void 0===I?void 0:I.qty)?(0,u.jsx)("div",{style:{marginTop:38},children:(0,u.jsx)("button",{onClick:()=>{var e,o,t,i,d,s;let n={...(0,l.bh)("productPicker")}||{},a={...(0,l.bh)("productPicker")}||{},r={...(0,l.bh)("productListOnOut")}||{},c=n.productId,u=(null===(e=(0,l.bh)("products_stock"))||void 0===e||null===(o=e[null===(t=(0,l.bh)("productPicker"))||void 0===t?void 0:t.productId])||void 0===o?void 0:o.amount)/(null===(i=(0,l.bh)("products_stock"))||void 0===i||null===(d=i[null===(s=(0,l.bh)("productPicker"))||void 0===s?void 0:s.productId])||void 0===d?void 0:d.qty);n.price=u,r[c]=n,(0,l.Rz)("productListOnOut",r),a.productId=null,a.qty="",a.price="",(0,l.Rz)("productPicker",a),g((0,l.M5)())},children:"Agregar"})}):null]}):null,(0,u.jsxs)("div",{className:"_dsplFlx hdr_bar purple",style:{margin:"18px 0"},children:[(0,u.jsx)("div",{className:"tr_bar tr_bar_50 ",children:"Producto"}),(0,u.jsx)("div",{className:"tr_bar tr_bar_20",children:"Qty"}),(0,u.jsx)("div",{className:"tr_bar tr_bar_20",children:"Costo (un)"}),(0,u.jsx)("div",{className:"tr_bar tr_bar_5"})]}),(0,l.bh)("productListOnOut")&&(null===(y=(0,l._2)((0,l.bh)("productListOnOut")))||void 0===y?void 0:y.map(((e,o)=>(0,u.jsx)(f,{idKey:e,data:(0,l.bh)("productListOnOut")[e],deleteItem:z},e))))]})},f=e=>{var o;let{data:t,deleteItem:i,idKey:d}=e,s=null===(o=(0,l.bh)("products_ids"))||void 0===o?void 0:o[null===t||void 0===t?void 0:t.productId];return(0,u.jsxs)("div",{className:"_dsplFlx hdr_bar",children:[(0,u.jsx)("div",{className:"tr_bar tr_bar_50",children:null===s||void 0===s?void 0:s.name}),(0,u.jsx)("div",{className:"tr_bar tr_bar_20",children:(0,l.Zv)(null===t||void 0===t?void 0:t.qty,2)}),(0,u.jsx)("div",{className:"tr_bar tr_bar_20",children:(0,l.Zv)(null===t||void 0===t?void 0:t.price,2)}),(0,u.jsx)("div",{className:"flexSpace"}),(0,u.jsx)("div",{className:"icon",onClick:()=>{i(d)},children:(0,u.jsx)(v,{name:"outline_delete",color:"#c62828"})})]})}},713:(e,o,t)=>{t.d(o,{$P:()=>b,B8:()=>f,IR:()=>u,N0:()=>d,QJ:()=>m,Rd:()=>r,VI:()=>x,Ve:()=>h,WA:()=>y,ZW:()=>a,Zj:()=>I,fK:()=>s,g5:()=>l,ii:()=>p,nj:()=>_,qT:()=>c,qv:()=>v,yk:()=>n});var i=t(2350);const l={WH:"Almacen",PR:"Production",PT:"Patio"},d=async e=>{var o,t;let l={...null===(o=(0,i.bh)((0,i.hQ)()))||void 0===o?void 0:o.scan_area_location};l.params={businessId:null===(t=(0,i.bh)("profileUser"))||void 0===t?void 0:t.businessId,limit:120};const d=(0,i.I7)(l),s=await d;s?((0,i.Rz)("locations_ids",s),(0,i.Rz)("locations_list",I((0,i.jQ)(s),"areaLocationId")),e&&e()):e&&e()},s=async(e,o)=>{var t,l;let d={...null===(t=(0,i.bh)((0,i.hQ)()))||void 0===t?void 0:t.scan_voucher_production};d.params={businessId:null===(l=(0,i.bh)("profileUser"))||void 0===l?void 0:l.businessId,":search0":e};const s=(0,i.I7)(d),n=await s;n&&!n.error&&(0,i._2)(n)&&(0,i._2)(n).length>0?o&&o(n):o&&o(null)},n=async e=>{var o,t;let l={...null===(o=(0,i.bh)((0,i.hQ)()))||void 0===o?void 0:o.scan_voucher_production};if(l.params={businessId:null===(t=(0,i.bh)("profileUser"))||void 0===t?void 0:t.businessId,limit:120},(0,i.bh)("searchVoucherQry")&&(0,i.bh)("searchVoucherQry").length>1){(0,i.bh)("searchVoucherQry").split(" ").map(((e,o)=>{e&&(l.params[":search"+o]=e.trim())}));const o=(0,i.I7)(l),t=await o;t&&((0,i.Rz)("voucher_production",t),(0,i.Rz)("vouchers_list",I((0,i.jQ)(t),"voucherId")),e&&e())}else(0,i.Rz)("vouchers_list",null),e&&e()},a=async(e,o)=>{var t,l;let d={...null===(t=(0,i.bh)((0,i.hQ)()))||void 0===t?void 0:t.get_inventory_prod};d.params={businessId:null===(l=(0,i.bh)("profileUser"))||void 0===l?void 0:l.businessId,":productId":e};const s=(0,i.I7)(d),n=await s;n&&((0,i.Rz)("inv_products_list",I((0,i.jQ)(n.list),"name")),(0,i.Rz)("inv_products_stock",n.stock),o&&o())},r=async(e,o)=>{var t,l;let d={...null===(t=(0,i.bh)((0,i.hQ)()))||void 0===t?void 0:t.get_prod_stock};d.params={businessId:null===(l=(0,i.bh)("profileUser"))||void 0===l?void 0:l.businessId,productId:e};const s=(0,i.I7)(d),n=await s;if(n){let t={...(0,i.bh)("products_stock")};t[e]=n.stock,(0,i.Rz)("products_stock",t),o&&o()}},c=async e=>{var o,t;let l={...null===(o=(0,i.bh)((0,i.hQ)()))||void 0===o?void 0:o.all_prods};l.params={businessId:null===(t=(0,i.bh)("profileUser"))||void 0===t?void 0:t.businessId},l.subQuerys={},l.subQuerys.stock=1;const d=(0,i.I7)(l),s=await d;if(s){let o={},t=[],l=0;s.map((e=>{var d;if(null!==e&&void 0!==e&&null!==(d=e.inventory)&&void 0!==d&&d.qty){var s,n,a;if(l+=1*(0,i.Zv)(null===e||void 0===e||null===(s=e.inventory)||void 0===s?void 0:s.amount,2),o[e.unit])o[e.unit]+=null===e||void 0===e||null===(n=e.inventory)||void 0===n?void 0:n.qty;else o[e.unit]=null===e||void 0===e||null===(a=e.inventory)||void 0===a?void 0:a.qty;t.push({productId:e.productId,name:e.name,unit:e.unit,qty:(1*e.inventory.qty).toFixed(2),amount:(1*e.inventory.amount).toFixed(2),cost:(e.inventory.amount/e.inventory.qty*1).toFixed(2)})}})),(0,i.Ey)(e)&&e({list:I(t,"name"),total:l,units:o})}},u=async(e,o)=>{var t,l;let d={...null===(t=(0,i.bh)((0,i.hQ)()))||void 0===t?void 0:t.group_prod_stock};d.params={businessId:null===(l=(0,i.bh)("profileUser"))||void 0===l?void 0:l.businessId};const s=(0,i.I7)(d),n=await s;if(n){let t=(0,i._I)(n.comps),l=0,d=0,s=0,a=[],r=[];(0,i._2)(e).map((o=>{let c={...e[o]},u=("debit"===e[o].type?1:-1)*e[o].amount,v=1*(0,i.Zv)(u,2);if(l+=v,n.comps[e[o].comprobanteId]){c.inventory=n.comps[e[o].comprobanteId];let l=0;if((0,i._2)(n.comps[e[o].comprobanteId]).map((t=>{l=1*(0,i.Zv)(l,2)+1*(0,i.Zv)(n.comps[e[o].comprobanteId][t],2)})),l=l<0?-1*l:l,l=1*(0,i.Zv)(l,2),c.inventoryAmount=l,d+=l,v=v<0?-1*v:v,v-l!==0){let e=v-l;s+=e,r.push(c),console.log("diff",c,v,l,e)}else a.push(c);delete t[e[o].comprobanteId]}else s+=u,r.push(c)}));let c=0;(0,i._2)(t).map((e=>{let o=0;(0,i._2)(t[e]).map((l=>{o=1*(0,i.Zv)(o,2)+1*(0,i.Zv)(t[e][l],2)})),c+=o})),console.log("inventoryBack",t,"inventoryBackTotal",c),(0,i.Rz)("inv_comprobantes_compare",{hasError:r,success:a,inventoryBack:t}),(0,i.Ey)(o)&&o()}},v=async e=>{var o,t,l;let d={...null===(o=(0,i.bh)((0,i.hQ)()))||void 0===o?void 0:o.filter_search_opera};d.params={businessId:null===(t=(0,i.bh)("profileUser"))||void 0===t?void 0:t.businessId,year:(0,i.bh)("date_current_year"),":account":null===(l=(0,i.bh)("global_account_params"))||void 0===l?void 0:l.inventory.account};const s=(0,i.I7)(d),n=await s;n&&!n.error&&(0,i.Ey)(e)&&e(I((0,i.jQ)(n),"date"))},p=async e=>{var o,t;let l={...null===(o=(0,i.bh)((0,i.hQ)()))||void 0===o?void 0:o.all_prods};l.params={businessId:null===(t=(0,i.bh)("profileUser"))||void 0===t?void 0:t.businessId};const d=(0,i.I7)(l),s=await d;s&&((0,i.Rz)("products_list",I(s,"name")),(0,i.Rz)("products_ids",(0,i.ME)((0,i.jQ)(s),"productId")),e&&e())},h=async e=>{var o,t;let l={...null===(o=(0,i.bh)((0,i.hQ)()))||void 0===o?void 0:o.search_prod};if(l.params={businessId:null===(t=(0,i.bh)("profileUser"))||void 0===t?void 0:t.businessId,limit:120},(0,i.bh)("searchQry").length>1){(0,i.bh)("searchQry").split(" ").map(((e,o)=>{e&&(l.params[":search"+o]=e.trim())}));const o=(0,i.I7)(l),t=await o;t&&((0,i.Rz)("products_list",I((0,i.jQ)(t),"code")),e&&e())}else(0,i.Rz)("products_list",null),e&&e()},m=async e=>{var o,t;let l={...null===(o=(0,i.bh)((0,i.hQ)()))||void 0===o?void 0:o.all_entry_invoices};l.params={businessId:null===(t=(0,i.bh)("profileUser"))||void 0===t?void 0:t.businessId};const d=(0,i.I7)(l),s=await d;s&&((0,i.Rz)("movements_list",I(s,"date")),(0,i.Rz)("movements_ids",(0,i.ME)((0,i.jQ)(s),"inventoryId")),e&&e())},b=async e=>{var o;if((null===(o=(0,i.bh)("searchMovQry"))||void 0===o?void 0:o.length)>1){var t,l;let o={...null===(t=(0,i.bh)((0,i.hQ)()))||void 0===t?void 0:t.search_inventory};o.params={businessId:null===(l=(0,i.bh)("profileUser"))||void 0===l?void 0:l.businessId,":search0":(0,i.bh)("searchMovQry")};const d=(0,i.I7)(o),s=await d;s&&((0,i.Rz)("movements_list",function(e){var o={};let t=e&&(0,i._2)(e);t.length>0?t.map((t=>{let i=e[t];o[i.comprobanteId]||(o[i.comprobanteId]={},o[i.comprobanteId].amount=0,o[i.comprobanteId].document=i.document,o[i.comprobanteId].date=i.date,o[i.comprobanteId].comprobanteId=i.comprobanteId,o[i.comprobanteId].products=[]),o[i.comprobanteId].amount+=i.qty*i.price,o[i.comprobanteId].products.push({productId:i.productId,qty:i.qty,price:i.price,inventoryId:i.inventoryId})})):o=null;return o}(s)),(0,i.Rz)("movements_ids",s),e&&e())}else(0,i.Rz)("movements_list",[]),(0,i.Rz)("movements_ids",{}),e&&e()};const I=(e,o)=>(0,i.MV)("sortProducts",[e],(()=>e&&e.sort(((e,t)=>{let i=e[o],l=t[o];return i<l?-1:i>l?1:0})))),_=async(e,o)=>{var t,l;let d={...null===(t=(0,i.bh)((0,i.hQ)()))||void 0===t?void 0:t.delete_prod};d.params={businessId:null===(l=(0,i.bh)("profileUser"))||void 0===l?void 0:l.businessId,productId:e};const s=(0,i.I7)(d);await s&&o&&o()},y=async(e,o)=>{var t,l;let d={...null===(t=(0,i.bh)((0,i.hQ)()))||void 0===t?void 0:t.delete_inventory};d.params={businessId:null===(l=(0,i.bh)("profileUser"))||void 0===l?void 0:l.businessId,inventoryId:e};const s=(0,i.I7)(d);await s&&o&&o()},x=async(e,o)=>{var t,l;({...null===(t=(0,i.bh)((0,i.hQ)()))||void 0===t?void 0:t.entry_invoice_acc_2}).params={businessId:null===(l=(0,i.bh)("profileUser"))||void 0===l?void 0:l.businessId,entriesInvoiceId:e}},f=(e,o)=>(0,i.MV)("rangeProdArr",[e,o],(()=>e?(0,i._2)(e).slice(0,o):[]))},1534:()=>{}}]);
//# sourceMappingURL=1879.012d9211.chunk.js.map