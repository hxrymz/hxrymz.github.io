"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[1905,9760],{9760:function(e,t,n){n.r(t),n.d(t,{CloseModal:function(){return c},OpenModal:function(){return s},default:function(){return d}});var i=n(2791),r=n(5408),o=n(2350),a=n(184),l="listDialog_mdh392",d=function(){var e=(0,o.bh)("listDialog")||{},t=((0,r.Z)(l),Object.keys(e));return(0,a.jsx)(a.Fragment,{children:t.map((function(t,n){var r=e[t];if(r&&r.visible){var o={};r.height&&(o.heigth=r.height),r.width,r.zIndex&&(o.zIndex=r.zIndex-1);var l={zIndex:r.zIndex},d=null,s=r.data;return r.content&&(d=i.cloneElement(r.content,{data:s})),(0,a.jsxs)("div",{className:"ltr-1kbnjow",style:o,children:[(0,a.jsx)("div",{className:"ltr-hoe9xz",children:(0,a.jsx)("div",{className:"ltr-1wao6ny",style:l,id:t,children:d})}),r.data.overlay?(0,a.jsx)("div",{className:"DialogHRMOverlay ".concat(r.visible?"active":""),onClick:function(){var e;e=t,document.getElementsByTagName("html")[0].classList.remove("has-level-two"),c({id:e})}}):null]},t)}}))})},s=function(e){var t=(0,o.bh)("listDialog")||{},n=(0,o.M5)();t[n]||(t[n]={}),t[n].visible=!0;var i={};e.props?(i=e.props).modalID=n:i.modalID=n;var r=document.getElementsByTagName("body")[0];null!==r&&void 0!==r&&r.style&&(r.style.overflowY="hidden"),t[n].isView=e.isView,t[n].observeResize=e.observeResize,t[n].observeResize&&(t[n].observeInterval=setInterval((function(){var e=document.querySelector("[dialog-key-id='".concat(n,"']")),i=e&&e.getBoundingClientRect();i&&(i.width===t[n].width&&i.height===t[n].height||(t[n].height=i.height+10,t[n].width=i.width,(0,o.Rz)("listDialog",t),(0,o.wt)(l)))}),200)),t[n].display=!0,e.zIndex&&(t[n].zIndex=e.zIndex),e.height&&(t[n].height=e.height),e.width&&(t[n].width=e.width),e.content&&(t[n].content=e.content),t[n].data=i,(0,o.Rz)("listDialog",t),(0,o.wt)(l),setTimeout((function(){document.getElementsByTagName("html")[0].classList.add("has-level-two"),(0,o.Rz)("modalOpen",n),(0,o.wt)(l)}),125)},c=function(e){var t,n,i,r=(0,o.bh)("listDialog")||{},a=e.id;r[a]&&(r[a].observeResize&&r[a].observeInterval&&clearInterval(r[a].observeInterval),r[a].display=!1,null===(t=r[a])||void 0===t||null===(n=t.data)||void 0===n||null===(i=n.closeEvent)||void 0===i||i.call(n),(0,o.Rz)("listDialog",r),delete r[a],document.getElementsByTagName("body")[0].style.overflowY=null,(0,o.wt)(l),setTimeout((function(){delete r[a],document.getElementsByTagName("html")[0].classList.remove("has-level-two"),(0,o.Rz)("modalOpen",null)}),750))}},1905:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var i=n(6459),r=n(4165),o=n(1413),a=n(5861),l=n(9439),d=n(2791),s=n(2350),c=n(2647),u=(n(1534),n(9760)),v=n(7689),h=n(9661),p=n(24),x=n(6824),m=n(184),b=(0,c.Np)(),f=function(e){var t=e.data,n=e.confirm,i=e.label,r=(e.close,(0,d.useState)(0)),o=(0,l.Z)(r,2),a=o[0],s=o[1],c=t.modalID,v=function(e){(0,u.CloseModal)({id:c})};return(0,m.jsxs)("div",{style:{maxHeight:"40vh",minHeight:"28vh",overflow:"auto",background:"#fff",borderRadius:13,padding:"10px 19px"},children:[(0,m.jsxs)("div",{className:"_dsplFlx ",children:[(0,m.jsx)("p",{className:"form_title",children:i}),(0,m.jsx)("div",{className:"flexSpace"})]}),(0,m.jsx)("div",{className:"_dsplFlx ",children:(0,m.jsx)("span",{children:"Cuantas copias deseas hacer"})}),(0,m.jsxs)("div",{className:"_dsplFlx ",style:{padding:"15px 10px 0"},children:[(0,m.jsx)("div",{className:"flexSpace"}),(0,m.jsx)(b,{init:a,width:100,type:"number",updChanges:function(e){return s(1*e)}}),(0,m.jsx)("div",{className:"flexSpace"})]}),(0,m.jsxs)("div",{className:"_dsplFlx ",style:{padding:"15px 10px"},children:[(0,m.jsx)("div",{className:"flexSpace"}),(0,m.jsx)("p",{className:"group_title addBtn",onClick:v,children:"Cancelar"}),(0,m.jsx)("p",{className:"group_title addBtn ",onClick:function(){n(1*a),v()},children:"Crear Copias"})]})]})},_=(0,c.PU)(),g=((0,c.YZ)(),(0,c.Np)()),y=(0,h.a)(),j=(0,c.JC)(),w=(0,h.LZ)(),N=(0,p.Az)(),z=(0,p.f_)(),C="new_product_entry_comprobante",k=function(e){var t,n,i,c,h,p,x,b,f,_,y=e.data,j=e.confirm,w=(0,d.useState)(!1),N=(0,l.Z)(w,2),k=N[0],O=N[1],R=(0,d.useState)(0),A=(0,l.Z)(R,2),B=(A[0],A[1]);(0,v.s0)();(0,d.useEffect)((function(){k||(O(!0),(0,s.Rz)("accountPicker",{}),B((0,s.M5)()))}));var T=function(e,t,n){var i=(0,s.bh)(C)||{};n?(i[n]||(i[n]={}),i[n][e]=t):i[e]=t,(0,s.Rz)(C,i),B((0,s.M5)())},F=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t,n,i,l,d,c,v,h,p,x,m,b,f,_,g,w,N,z,k,S,I,O,R,A;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=(0,s.bh)(C),d=(new Date).getTime()+800,l.date&&(c=new Date(l.date).getTime(),d=c||d),l.date=d,[],v=0,h=[],p=[],x=[],(m=(0,s.bh)("extraAccountListOnCmp")&&(0,s._2)((0,s.bh)("extraAccountListOnCmp")))&&(null===m||void 0===m||m.map(function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var i,a,d,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=(0,o.Z)({},l),d=(0,o.Z)({},(0,s.bh)("extraAccountListOnCmp")[t]),a.account=d.account,(c=null===(i=(0,s.bh)("account_ids"))||void 0===i?void 0:i[d.account]).payOrCollect&&(a.payOrCollect=c.payOrCollect),a.subAccount=d.subAccount,a.type=d.type,a.amount=1*d.amount,a.operationId=(0,s.M5)(),v+=1*d.amount,h.push(a),p.push(a);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())),b=0,(0,s.bh)("productListOnCmp")&&(null===(t=(0,s.bh)("productListOnCmp"))||void 0===t||t.map(function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var i,a,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=(0,o.Z)({},t),a=(0,o.Z)({},i),s=1*i.qty*(1*i.price),a.amount=s,a.document=l.document.trim(),a.date=d,v+=s,b+=s,x.push(a);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())),b>0&&((_=(0,o.Z)({},l)).type="debit",_.account=null===(f=(0,s.bh)("global_account_params"))||void 0===f?void 0:f.inventory.account,_.amount=b,_.operationId=(0,s.M5)(),p.push(_)),v>0&&(0,s.bh)("provider_picker").account&&((I=(0,o.Z)({},l)).type="credit",I.account=null===(g=(0,s.bh)("provider_picker"))||void 0===g?void 0:g.account,I.subAccount=null===(w=(0,s.bh)("provider_picker"))||void 0===w?void 0:w.subAccount,I.providerId=null===(N=(0,s.bh)("provider_picker"))||void 0===N?void 0:N.providerId,l.providerId=null===(z=(0,s.bh)("provider_picker"))||void 0===z?void 0:z.providerId,I.amount=1*v,I.operationId=(0,s.M5)(),(O=null===(k=(0,s.bh)("account_ids"))||void 0===k?void 0:k[null===(S=(0,s.bh)("provider_picker"))||void 0===S?void 0:S.account])&&O.payOrCollect&&(I.payOrCollect=O.payOrCollect),p.push(I)),l.extrasEntries=h,l.inventoryEntries=x,l.comprobantesEntries=p,l.entriesInvoiceId=(0,s.M5)(),(R=(0,o.Z)({},null===(n=(0,s.bh)((0,s.hQ)()))||void 0===n?void 0:n.add_entry_invoice)).params={businessId:null===(i=(0,s.bh)("profileUser"))||void 0===i?void 0:i.businessId},R.form=l,(0,s.wL)(R),A=(0,s.I7)(R),e.next=26,A;case 26:e.sent,(null===y||void 0===y?void 0:y.modalID)&&(0,u.CloseModal)({id:null===y||void 0===y?void 0:y.modalID}),setTimeout((function(){(0,s.Rz)("extraAccountListOnCmp",null),(0,s.Rz)("productListOnCmp",null),(0,s.Rz)("provider_picker",null),(0,s.Rz)(C,null),B((0,s.M5)()),j&&j()}),400);case 30:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();null===(t=(0,s.bh)("account_ids"))||void 0===t||t[null===(n=(0,s.bh)("accountPicker"))||void 0===n?void 0:n.account],null===(i=(0,s.bh)("sub_account_ids"))||void 0===i||i[null===(c=(0,s.bh)("accountPicker"))||void 0===c?void 0:c.subAccount];return(0,m.jsxs)("div",{style:{maxHeight:"90vh",minHeight:"88vh",width:"860px",overflow:"auto",background:"var(--hrm_palette-general-background-b)",borderRadius:13,padding:"10px 19px"},children:[(0,m.jsxs)("div",{className:"_dsplFlx ",children:[(0,m.jsx)("p",{className:"form_title",children:"Entrada de Mercancias"}),(0,m.jsx)("div",{className:"flexSpace"})]}),(0,m.jsxs)("div",{className:"_dsplFlx ",children:[(0,m.jsx)(z,{init:null===(h=(0,s.bh)(C))||void 0===h?void 0:h.date,updDate:function(e){return T("date",e)}}),(0,m.jsx)("div",{className:"flexSpace"}),(0,m.jsx)(g,{init:null===(p=(0,s.bh)(C))||void 0===p?void 0:p.document,label:"Documento",width:120,updChanges:function(e){return T("document",e)}})]}),(0,m.jsx)(g,{init:null===(x=(0,s.bh)(C))||void 0===x?void 0:x.description,label:"Descripcion",width:520,updChanges:function(e){return T("description",e)}}),(0,m.jsxs)("div",{className:"_dsplFlx ",style:{margin:"18px 0"},children:[(0,m.jsx)("div",{className:"flexSpace"}),(0,m.jsx)(S,{})]}),(0,m.jsx)(I,{}),(0,m.jsx)(Z,{}),(0,m.jsxs)("div",{className:"_dsplFlx ",children:[(0,m.jsx)("div",{className:"flexSpace"}),null!==(b=(0,s.bh)(C))&&void 0!==b&&b.document&&null!==(f=(0,s.bh)("provider_picker"))&&void 0!==f&&f.account&&(null===(_=(0,s._2)((0,s.bh)("productListOnCmp")))||void 0===_?void 0:_.length)>0?(0,m.jsx)("div",{className:"card",children:(0,m.jsx)("button",{onClick:F,children:"Guardar"})}):null]})]})},S=function(e){var t,n,i=(0,d.useState)(0),r=(0,l.Z)(i,2),o=(r[0],r[1]),a=null===(t=(0,s.bh)("providers_ids"))||void 0===t?void 0:t[null===(n=(0,s.bh)("provider_picker"))||void 0===n?void 0:n.providerId];return(0,m.jsx)("div",{children:null!==a&&void 0!==a&&a.name?(0,m.jsx)("div",{className:"_dsplFlx ",style:{margin:"18px 0"},children:(0,m.jsxs)("div",{className:" acc_dtls",children:[(0,m.jsx)("div",{className:"_dsplFlx",children:(0,m.jsx)("div",{className:"code",style:{color:"#646cff"},onClick:function(){(0,s.Rz)("provider_picker",null),o((0,s.M5)())},children:null===a||void 0===a?void 0:a.name})}),(0,m.jsx)("div",{className:"flexSpace"})]})}):(0,m.jsx)(w,{placeholder:"buscar una provedor",width:320,handleClick:function(e){var t={providerId:e.providerId,account:e.account,subAccount:e.subAccount};(0,s.Rz)("provider_picker",t),o((0,s.M5)())}})})},I=function(e){var t,n,r,a,c,u,v,h,p,b,f;(0,i.Z)(e);var y=(0,d.useState)(0),j=(0,l.Z)(y,2),w=(j[0],j[1]),z=function(){w((0,s.M5)())},k=null===(t=(0,s.bh)("products_ids"))||void 0===t?void 0:t[null===(n=(0,s.bh)("product_picker_in"))||void 0===n?void 0:n.productId],S=function(e,t,n){var i=(0,s.bh)("product_picker_in")||{};n?(i[n]||(i[n]={}),i[n][e]=t):i[e]=t,(0,s.Rz)("product_picker_in",i),w((0,s.M5)())},I=function(e){var t=(0,s.bh)("productListOnCmp")||[];t.splice(e,1),(0,s.Rz)("productListOnCmp",t),w((0,s.M5)())},A=(0,s.bh)("productListSelected")||{};return(0,m.jsxs)("div",{className:"boxAddAcc",style:{margin:"18px 0"},children:[null!==(r=(0,s.bh)("product_picker_in"))&&void 0!==r&&r.productId?(0,m.jsx)("div",{className:"_dsplFlx ",style:{margin:"18px 0"},children:(0,m.jsxs)("div",{className:" acc_dtls",children:[(0,m.jsxs)("div",{className:"_dsplFlx",onClick:function(e){(0,s.Rz)("product_picker_in",null),w((0,s.M5)())},children:[(0,m.jsx)("div",{className:"code",style:{color:"#646cff"},children:null===k||void 0===k?void 0:k.upc_barcode}),(0,m.jsx)("div",{className:"name",children:null===k||void 0===k?void 0:k.name})]}),(0,m.jsx)("div",{className:"flexSpace"})]})}):(0,m.jsx)(N,{width:420,handleClick:function(e){var t={productId:e.productId,unit:e.unit};(0,s.Rz)("product_picker_in",t),w((0,s.M5)())}}),null!==(a=(0,s.bh)("product_picker_in"))&&void 0!==a&&a.productId?(0,m.jsxs)("div",{className:"_dsplFlx ",children:[k.hasDimension?(0,m.jsx)("div",{className:"",style:{width:270,marginLeft:18},children:(0,m.jsx)(g,{init:null===(c=(0,s.bh)("product_picker_in"))||void 0===c?void 0:c.dimension,label:"Dimension (width,height) in inch",width:100,updChanges:function(e){return S("dimension",e)}})}):(0,m.jsx)(g,{init:null===(u=(0,s.bh)("product_picker_in"))||void 0===u?void 0:u.qty,label:"Cantidad",width:100,type:"number",updChanges:function(e){return S("qty",e)}}),(0,m.jsx)("div",{className:"",style:{maxWidth:130,marginLeft:7},children:(0,m.jsx)(g,{init:null===(v=(0,s.bh)("product_picker_in"))||void 0===v?void 0:v.price,label:"Price",width:100,type:"number",updChanges:function(e){return S("price",e)}})}),(0,m.jsx)("div",{className:"flexSpace"}),(null!==(h=(0,s.bh)("product_picker_in"))&&void 0!==h&&h.qty||null!==(p=(0,s.bh)("product_picker_in"))&&void 0!==p&&p.dimension)&&null!==(b=(0,s.bh)("product_picker_in"))&&void 0!==b&&b.price?(0,m.jsx)("div",{className:"card",children:(0,m.jsx)("button",{onClick:function(){var e,t=(0,o.Z)({},(0,s.bh)("product_picker_in"))||{},n=(0,o.Z)({},(0,s.bh)("product_picker_in"))||{},i=(0,s.bh)("productListOnCmp")||[];t.dimension&&(t.qty=1,t.squareFeet=O(null===t||void 0===t?void 0:t.dimension.split(",")[0],null===t||void 0===t?void 0:t.dimension.split(",")[1]),t.pricePerSquareFeet=1*t.price/t.squareFeet*1),t.inventoryId=(0,s.M5)(),t.alphaCode=(0,s.Pb)();var r=(new Date).getTime()+800;if(null!==(e=(0,s.bh)(C))&&void 0!==e&&e.date){var a=new Date((0,s.bh)(C).date).getTime();r=a||r}t.date=r,i.push(t),(0,s.Rz)("productListOnCmp",i),n.productId=null,n.qty="",n.price="",(0,s.Rz)("product_picker_in",n),w((0,s.M5)())},children:"Agregar"})}):null]}):null,(0,s._2)(A).length>0?(0,m.jsxs)("div",{className:"_dsplFlx hdr_bar purple",style:{margin:"18px 0"},children:[(0,m.jsx)("div",{className:"tr_bar tr_bar_5 align_itm",children:(0,m.jsx)("div",{className:"icon align_itm",onClick:function(){var e=(0,s.bh)("productListSelected")||{};(0,s._2)(e).length<(0,s.bh)("productListOnCmp").length?((0,s.bh)("productListOnCmp").map((function(t){e[t.inventoryId]=1})),(0,s.Rz)("productListSelected",e)):(0,s.Rz)("productListSelected",{}),w((0,s.M5)())},children:(0,m.jsx)(_,{name:(0,s._2)(A).length<(0,s.bh)("productListOnCmp").length?"minus-circle-outline":"check_circle_outline",color:"#646cff"})})}),(0,m.jsxs)("div",{className:"tr_bar tr_bar_20 align_itm left_alg",children:[(0,s._2)(A).length," Seleccionado(s)"]}),(0,m.jsx)("div",{className:"tr_bar tr_bar_70"}),(0,m.jsx)("div",{className:"tr_bar tr_bar_5 align_itm",children:(0,m.jsx)("div",{className:"icon align_itm",onClick:function(){var e=(0,s.bh)("productListOnCmp").filter((function(e){return!A[e.inventoryId]}));(0,s.Rz)("productListOnCmp",e),(0,s.Rz)("productListSelected",{}),w((0,s.M5)())},children:(0,m.jsx)(_,{name:"outline_delete",color:"#646cff"})})})]}):(0,m.jsxs)("div",{className:"_dsplFlx hdr_bar purple align_itm",style:{margin:"18px 0"},children:[(0,m.jsx)("div",{className:"tr_bar tr_bar_5"}),(0,m.jsx)("div",{className:"tr_bar tr_bar_50 left_alg",children:"Producto"}),(0,m.jsx)("div",{className:"tr_bar tr_bar_10",children:"Dimension"}),(0,m.jsx)("div",{className:"tr_bar tr_bar_15",children:"Qty"}),(0,m.jsx)("div",{className:"tr_bar tr_bar_15",children:"Precio"}),(0,m.jsx)("div",{className:"tr_bar tr_bar_5",children:(0,m.jsx)("div",{className:"icon align_itm",onClick:function(){(0,x.Hc)((0,s.bh)("productListOnCmp"))},children:(0,m.jsx)(_,{name:"printer",color:"#646cff"})})})]}),(0,s.bh)("productListOnCmp")&&(0,s.bh)("productListOnCmp").length>0&&(null===(f=(0,s.bh)("productListOnCmp"))||void 0===f?void 0:f.map((function(e,t){return(0,m.jsx)(R,{idKey:e.productId,index:t,data:e,deleteItem:I,updObs:z},e.productId+"_"+t)})))]})},O=function(e,t){var n=e*t*.0069444444444;return(0,s.Zv)(n,2)},R=function(e){var t,n=e.data,i=e.deleteItem,r=e.updObs,a=e.index,c=(0,d.useState)(!1),v=(0,l.Z)(c,2),h=(v[0],v[1],null===(t=(0,s.bh)("products_ids"))||void 0===t?void 0:t[null===n||void 0===n?void 0:n.productId]),p=(null===n||void 0===n?void 0:n.dimension)&&(null===n||void 0===n?void 0:n.dimension.split(",")[0])+" X "+(null===n||void 0===n?void 0:n.dimension.split(",")[1]),x=(null===n||void 0===n?void 0:n.dimension)&&{lbl:p+" (inch)",hover:(null===n||void 0===n?void 0:n.squareFeet)+"S/F X $"+(0,s.Zv)(null===n||void 0===n?void 0:n.pricePerSquareFeet,2)},b=(0,d.useRef)(null),g=function(e){var t;null===b||void 0===b||null===(t=b.current)||void 0===t||t.showw(e)},y=function(e){var t=(0,s.bh)("productListOnCmp");Array.from(Array(e).keys()).map((function(e){var i=(0,o.Z)({},n);i.inventoryId=(0,s.M5)(),i.alphaCode=(0,s.Pb)(),t.push(i)})),(0,s.Rz)("productListOnCmp",t),r(),w()},w=function(){g(!1)},N=(0,s.bh)("productListSelected")||{};return(0,m.jsxs)("div",{className:"_dsplFlx hdr_bar",children:[(0,m.jsx)("div",{className:"tr_bar tr_bar_5 icon ",onClick:function(){var e=(0,s.bh)("productListSelected")||{};e[n.inventoryId]?delete e[n.inventoryId]:e[n.inventoryId]=1,(0,s.Rz)("productListSelected",e),r()},children:(0,m.jsx)(_,{name:N[n.inventoryId]?"check_circle_outline":"radio_unchecked",color:N[n.inventoryId]?"var(--hrm_palette-blue-purple)":"var(--hrm_palette-imput-label_gray)"})}),(0,m.jsx)("div",{className:"tr_bar tr_bar_50 left_alg",children:null===h||void 0===h?void 0:h.name}),(0,m.jsx)("div",{className:"tr_bar tr_bar_10",style:{marginTop:-4},children:null!==n&&void 0!==n&&n.dimension?(0,m.jsx)(j,{data:x,color:"#282828",labelField:"lbl",infoField:"hover"}):null}),(0,m.jsx)("div",{className:"tr_bar tr_bar_15",children:(0,s.Zv)(null===n||void 0===n?void 0:n.qty,2)}),(0,m.jsx)("div",{className:"tr_bar tr_bar_15",children:(0,s.Zv)(null===n||void 0===n?void 0:n.price,2)}),(0,m.jsx)("div",{className:"flexSpace"}),(0,m.jsxs)("div",{className:" relPos",children:[(0,m.jsx)(A,{ref:b,handleIcon1:function(){var e=(0,o.Z)({},n);e.inventoryId=(0,s.M5)(),e.alphaCode=(0,s.Pb)();var t=(0,s.bh)("productListOnCmp");t.push(e),(0,s.Rz)("productListOnCmp",t),r(),w()},handleIcon2:function(){var e={zIndex:450,height:"40vh",props:{minHeight:"1vh",overlay:!0,closeEvent:function(){}}};e.content=(0,m.jsx)(f,{label:"Copias Multiples",confirm:y,item:n}),(0,u.OpenModal)(e)},handleIcon3:function(){i(a),w()}}),(0,m.jsx)("div",{className:"icon ",onClick:function(){g(!0)},children:(0,m.jsx)(_,{name:"more_vert",color:"var(--hrm_palette-imput-txt_gray)"})})]})]})},A=(0,d.forwardRef)((function(e,t){var n=e.handleIcon1,i=e.handleIcon2,r=e.handleIcon3,o=(e.close,(0,d.useState)(0)),a=(0,l.Z)(o,2),s=a[0],c=a[1];return(0,d.useImperativeHandle)(t,(function(){return{showw:function(e){c(e)}}})),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"c5dXqd",style:{display:s?"block":"none"},children:s?(0,m.jsxs)("div",{className:"rR9aKd",role:"list",children:[(0,m.jsx)("div",{className:"ef3QKd",children:(0,m.jsxs)("div",{role:"listitem",tabIndex:"0","aria-label":"Share",children:[(0,m.jsx)("span",{children:(0,m.jsx)("div",{children:(0,m.jsx)("div",{className:"M5n4Ud",onClick:n,children:(0,m.jsx)("span",{className:"HQcgX z1asCe Fp7My",style:{height:16,lineHeight:16,width:16},children:(0,m.jsx)(_,{name:"content-copy",size:16})})})})}),(0,m.jsx)("div",{id:"_6Wu4ZMz5NpepptQPlL2l4Aw_4"})]})}),(0,m.jsx)("div",{className:"ef3QKd",role:"listitem",children:(0,m.jsx)("div",{"aria-label":"Save",role:"button",tabIndex:"0",children:(0,m.jsx)("div",{className:"M5n4Ud",onClick:i,children:(0,m.jsx)("span",{className:"HQcgX z1asCe Fp7My",style:{height:16,lineHeight:16,width:16},children:(0,m.jsx)(_,{name:"database-sync",size:16})})})})}),(0,m.jsx)("div",{className:"ef3QKd",children:(0,m.jsxs)("div",{role:"listitem",tabIndex:"0","aria-label":"Share",children:[(0,m.jsx)("span",{children:(0,m.jsx)("div",{children:(0,m.jsx)("div",{className:"M5n4Ud",onClick:r,children:(0,m.jsx)("span",{className:"HQcgX z1asCe Fp7My",style:{height:16,lineHeight:16,width:16},children:(0,m.jsx)(_,{name:"outline_delete",size:16})})})})}),(0,m.jsx)("div",{id:"_6Wu44fZMz5NpepptQPlL2l4Aw_4"})]})})]}):null}),s?(0,m.jsx)("div",{className:"Overlay_floatAct",onClick:function(){return c(!1)}}):null]})})),B=function(e){var t,n,i,r,a,c,v=e.data,h=(0,d.useState)(0),p=(0,l.Z)(h,2),x=(p[0],p[1]),b=null===(t=(0,s.bh)("account_ids"))||void 0===t?void 0:t[null===(n=(0,s.bh)("extraAccountPicker"))||void 0===n?void 0:n.account],f=null===(i=(0,s.bh)("sub_account_ids"))||void 0===i?void 0:i[null===(r=(0,s.bh)("extraAccountPicker"))||void 0===r?void 0:r.subAccount];return(0,m.jsxs)("div",{style:{maxHeight:"80vh",width:"560px",overflow:"auto",background:"#fff",borderRadius:13,padding:"10px 19px"},children:[(0,m.jsxs)("div",{className:"_dsplFlx ",children:[(0,m.jsx)("p",{className:"form_title",children:"Agregar gastos extras"}),(0,m.jsx)("div",{className:"flexSpace"})]}),null!==(a=(0,s.bh)("extraAccountPicker"))&&void 0!==a&&a.account?(0,m.jsx)("div",{className:"_dsplFlx ",style:{margin:"18px 0"},children:(0,m.jsxs)("div",{className:" acc_dtls",children:[(0,m.jsxs)("div",{className:"_dsplFlx",onClick:function(){(0,s.Rz)("extraAccountPicker",null),x((0,s.M5)())},children:[(0,m.jsx)("div",{className:"code",style:{color:"#646cff"},children:null===b||void 0===b?void 0:b.code}),(0,m.jsx)("div",{className:"name",children:null===b||void 0===b?void 0:b.name})]}),f?(0,m.jsxs)("div",{className:"_dsplFlx",style:{margin:"10px 0 0 18px"},children:[(0,m.jsx)("div",{className:"code",children:null===f||void 0===f?void 0:f.subAccount}),(0,m.jsx)("div",{className:"name",children:null===f||void 0===f?void 0:f.subAccountName})]}):null,(0,m.jsx)("div",{className:"flexSpace"})]})}):(0,m.jsx)(y,{width:420,handleClick:function(e,t){var n={account:e,subAccount:t};(0,s.Rz)("extraAccountPicker",n),x((0,s.M5)())}}),(0,m.jsx)("div",{className:"",style:{maxWidth:130,marginLeft:7},children:(0,m.jsx)(g,{init:null===(c=(0,s.bh)("extraAccountPicker"))||void 0===c?void 0:c.amount,label:"Importe",width:120,type:"number",updChanges:function(e){return function(e,t,n){var i=(0,s.bh)("extraAccountPicker")||{};n?(i[n]||(i[n]={}),i[n][e]=t):i[e]=t,(0,s.Rz)("extraAccountPicker",i),x((0,s.M5)())}("amount",e)}})}),(0,m.jsx)("div",{className:"card",children:(0,m.jsx)("button",{onClick:function(){var e=(0,o.Z)({},(0,s.bh)("extraAccountPicker"))||{},t=(0,o.Z)({},(0,s.bh)("extraAccountListOnCmp"))||{},n=e.account+"_"+e.subAccount;e.type="debit",t[n]=e,(0,s.Rz)("extraAccountListOnCmp",t),(0,s.Rz)("extraAccountPicker",null),x((0,s.M5)()),(0,u.CloseModal)({id:v.modalID})},children:"Agregar"})})]})},Z=function(e){var t;(0,i.Z)(e);var n=(0,d.useState)(0),r=(0,l.Z)(n,2),o=(r[0],r[1]),a=function(e){var t=(0,s.bh)("extraAccountListOnCmp")||{};delete t[e],(0,s.Rz)("extraAccountListOnCmp",t),o((0,s.M5)())};return(0,m.jsxs)("div",{className:"boxAddAcc",style:{margin:"18px 0"},children:[(0,m.jsx)("div",{className:"_dsplFlx",children:(0,m.jsx)("p",{className:"group_title addBtn purple",onClick:function(){var e={zIndex:450,height:"80vh",props:{minHeight:"1vh",overlay:!0}};e.content=(0,m.jsx)(B,{}),(0,u.OpenModal)(e)},children:"Agregar gastos"})}),(0,m.jsxs)("div",{className:"_dsplFlx hdr_bar purple",style:{margin:"18px 0"},children:[(0,m.jsx)("div",{className:"tr_bar tr_bar_25",children:"Cuenta"}),(0,m.jsx)("div",{className:"tr_bar tr_bar_25",children:"Sub Cuenta"}),(0,m.jsx)("div",{className:"tr_bar tr_bar_25"}),(0,m.jsx)("div",{className:"tr_bar tr_bar_25",children:"Monto"})]}),(0,s.bh)("extraAccountListOnCmp")&&(null===(t=(0,s._2)((0,s.bh)("extraAccountListOnCmp")))||void 0===t?void 0:t.map((function(e,t){return(0,m.jsx)(T,{idKey:e,data:(0,s.bh)("extraAccountListOnCmp")[e],deleteItem:a},e)})))]})},T=function(e){var t,n,i=e.data,r=e.deleteItem,o=e.idKey,a=null===(t=(0,s.bh)("account_ids"))||void 0===t?void 0:t[null===i||void 0===i?void 0:i.account],l=null===(n=(0,s.bh)("sub_account_ids"))||void 0===n?void 0:n[null===i||void 0===i?void 0:i.subAccount];return(0,m.jsxs)("div",{className:"_dsplFlx hdr_bar",children:[(0,m.jsx)("div",{className:"tr_bar tr_bar_25",children:(0,m.jsx)(j,{data:a,labelField:"name",infoField:"code"})}),(0,m.jsx)("div",{className:"tr_bar tr_bar_25",children:(0,m.jsx)(j,{data:l,labelField:"subAccountName",infoField:"subAccount"})}),(0,m.jsx)("div",{className:"tr_bar tr_bar_25"}),(0,m.jsx)("div",{className:"tr_bar tr_bar_25",children:"debit"===(null===i||void 0===i?void 0:i.type)?(0,s.Zv)(null===i||void 0===i?void 0:i.amount,2):"0.00"}),(0,m.jsx)("div",{className:"flexSpace"}),(0,m.jsx)("div",{className:"icon",onClick:function(){r(o)},children:(0,m.jsx)(_,{name:"outline_delete",color:"#c62828"})})]})}},6824:function(e,t,n){n.d(t,{Hc:function(){return c},M9:function(){return v}});var i=n(4165),r=n(5861),o=n(6963),a=n(2350),l=n(4e3);function d(e){return s.apply(this,arguments)}function s(){return(s=(0,r.Z)((0,i.Z)().mark((function e(t){var n,r,l,d,s,c,u,v,h,p,x,m,b,f,_;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.embedFont(o.StandardFonts.Helvetica);case 2:return n=e.sent,e.next=5,t.embedFont(o.StandardFonts.TimesRomanBold);case 5:return r=e.sent,e.next=8,t.embedFont(o.StandardFonts.TimesRoman);case 8:return l=e.sent,d=(0,a.bh)("Roboto-Bold.ttf"),e.next=12,fetch(d).then((function(e){return e.arrayBuffer()}));case 12:return s=e.sent,e.next=15,t.embedFont(s,{subset:!0});case 15:return c=e.sent,u=(0,a.bh)("ggSans-Medium.ttf"),e.next=19,fetch(u).then((function(e){return e.arrayBuffer()}));case 19:return v=e.sent,e.next=22,t.embedFont(v,{subset:!0});case 22:return h=e.sent,p=(0,a.bh)("Roboto-Regular.ttf"),e.next=26,fetch(p).then((function(e){return e.arrayBuffer()}));case 26:return x=e.sent,e.next=29,t.embedFont(x,{subset:!0});case 29:return m=e.sent,b=(0,a.bh)("arial_bold.ttf"),e.next=33,fetch(b).then((function(e){return e.arrayBuffer()}));case 33:return f=e.sent,e.next=36,t.embedFont(f,{subset:!0});case 36:return _=e.sent,e.abrupt("return",{GSansBold:h,helveticaFont:n,RobotoBold:c,RobotoRegular:m,aria_regurlar:_,TimesRomanBold:r,TimesRomanItalic:l});case 38:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var c=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(t){var n,s,c,u,v;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.PDFDocument.create();case 2:return(n=e.sent).registerFontkit(l.Z),e.next=6,d(n);case 6:return s=e.sent,c=t.map(function(){var e=(0,r.Z)((0,i.Z)().mark((function e(t,r){var l,d,c,u,v,h,p,x,m,b,f,_,g,y,j,w,N,z;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.addPage([288,162]),u=c.getSize(),u.width,v=u.height,h=v-14,p=(0,a.ye)((null===t||void 0===t?void 0:t.inventoryId)+""),e.next=6,fetch(p).then((function(e){return e.arrayBuffer()}));case 6:return x=e.sent,e.next=9,n.embedPng(x);case 9:(m=e.sent)&&c.drawImage(m,{x:10,y:80,width:80,height:80}),b=s.GSansBold.widthOfTextAtSize((null===t||void 0===t?void 0:t.inventoryId)+"",12),f=s.GSansBold.widthOfTextAtSize("ID: ",11),c.drawText("ID: ",{x:270-b-f,y:h,size:11,font:s.GSansBold,color:(0,o.rgb)(0,0,0)}),c.drawText((null===t||void 0===t?void 0:t.inventoryId)+"",{x:270-b,y:h,size:12,font:s.GSansBold,color:(0,o.rgb)(0,0,0)}),h-=20,_=s.RobotoBold.widthOfTextAtSize("Date: ",11),g=s.GSansBold.widthOfTextAtSize((0,a.Gv)(null===t||void 0===t?void 0:t.date)+"",12),c.drawText("Date: ",{x:270-_-g,y:h,size:11,font:s.RobotoBold,color:(0,o.rgb)(0,0,0)}),c.drawText((0,a.Gv)(null===t||void 0===t?void 0:t.date)+"",{x:270-g,y:h,size:12,font:s.GSansBold,color:(0,o.rgb)(.06,.06,.06)}),y=null!==t&&void 0!==t&&t.dimension?(null===t||void 0===t?void 0:t.dimension.split(",")[0])+" X "+(null===t||void 0===t?void 0:t.dimension.split(",")[1])+" inch":"",j=s.GSansBold.widthOfTextAtSize(y+"",19),c.drawText(y+"",{x:270-j,y:h+4,size:19,font:s.GSansBold,color:(0,o.rgb)(.06,.06,.06)}),w=(null===t||void 0===t?void 0:t.qty)+" "+(null!==t&&void 0!==t&&t.unit?null===t||void 0===t?void 0:t.unit:""),N=s.GSansBold.widthOfTextAtSize(w+"",19),c.drawText(w+"",{x:270-N,y:h-54,size:19,font:s.GSansBold,color:(0,o.rgb)(.06,.06,.06)}),h-=65,c.drawRectangle({x:15,y:h+1,width:560,height:.85,color:(0,o.rgb)(.53,.53,.53),borderColor:(0,o.rgb)(.53,.53,.53)}),z=null===(l=(0,a.bh)("products_ids"))||void 0===l||null===(d=l[null===t||void 0===t?void 0:t.productId])||void 0===d?void 0:d.name,c.drawText(z+"",{x:20,y:h-15,size:14,font:s.GSansBold,color:(0,o.rgb)(0,0,0)}),h-=25,c.drawRectangle({x:15,y:h+1,width:560,height:.85,color:(0,o.rgb)(.53,.53,.53),borderColor:(0,o.rgb)(.53,.53,.53)}),h-=10,h-=20,c.drawText(w+"",{x:270-N,y:h+4,size:19,font:s.GSansBold,color:(0,o.rgb)(.06,.06,.06)}),c.drawText((null===t||void 0===t?void 0:t.alphaCode)+"",{x:20,y:h+4,size:22,font:s.RobotoBold,color:(0,o.rgb)(.06,.06,.06)});case 36:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.next=10,Promise.all(c);case 10:return e.sent,e.next=13,n.save();case 13:u=e.sent,v=(0,a.ou)(u),window.open(v);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(e,t){var n,i,r=[],l=10,d=0;e&&e.map((function(e,n){var i=e.amount;if(i){var s,c="("+e.unit+")              "+e.qty,u=t.GSansBold.widthOfTextAtSize((0,a.fY)(i),l),v=t.GSansBold.widthOfTextAtSize((0,a.fY)(c),l),h=t.GSansBold.widthOfTextAtSize((0,a.fY)(e.cost),l);d+=1*i,s={yInc:19,back:n%2===0?{x:22,y:-25,width:564,height:18,color:(0,o.rgb)(.78,.78,.78)}:null,name:{value:(0,a.fY)(e.name),x:30,size:l,font:t.GSansBold},qty:{value:(0,a.fY)(c),x:440-v,size:l,font:t.GSansBold},cost:{value:(0,a.fY)(e.cost),x:500-h,size:l,font:t.GSansBold},amount:{value:(0,a.fY)(i),x:580-u,size:l,font:t.GSansBold}},r.push(s)}}));var s=t.GSansBold.widthOfTextAtSize((null===(n=d)||void 0===n?void 0:n.toFixed(2))+"",12),c={yInc:23,line:{x:396,y:12.3,width:192,height:.5,borderColor:(0,o.rgb)(0,0,0)},cost:{value:(0,a.fY)("Total"),x:400,size:12,font:t.GSansBold},amount:{value:(0,a.fY)(null===(i=d)||void 0===i?void 0:i.toFixed(2)),x:580-s,size:12,font:t.GSansBold}};return r.push(c),r},v=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(t){var n,r,s,c,v,h,p,x,m,b,f,_,g,y;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.PDFDocument.create();case 2:return(n=e.sent).registerFontkit(l.Z),e.next=6,d(n);case 6:return r=e.sent,s=n.addPage(),c=s.getSize(),c.width,v=c.height,h=v-26,36,s.drawText("Inventario",{x:20,y:h,size:16,font:r.GSansBold,color:(0,o.rgb)(0,0,0)}),s.drawText("Date: "+(0,a.Gv)(Date.now()),{x:500,y:h,size:11,font:r.GSansBold,color:(0,o.rgb)(0,0,0)}),h-=20,p=13,s.drawText("Product",{x:20,y:h,size:p,font:r.RobotoBold,color:(0,o.rgb)(0,0,0)}),x=r.RobotoBold.widthOfTextAtSize("Qty",p),s.drawText("Qty",{x:430-x,y:h,size:p,font:r.RobotoBold,color:(0,o.rgb)(0,0,0)}),m=r.RobotoBold.widthOfTextAtSize("Cost",p),s.drawText("Cost",{x:500-m,y:h,size:p,font:r.RobotoBold,color:(0,o.rgb)(0,0,0)}),b=r.RobotoBold.widthOfTextAtSize("Amount",p),s.drawText("Amount",{x:580-b,y:h,size:p,font:r.RobotoBold,color:(0,o.rgb)(0,0,0)}),h-=1,f=u(t.list,r),_=Math.ceil(f.length/36),Array.from(Array(_).keys()).map((function(e){if(e>0){s=n.addPage(),h=v-26,s.drawText("Product",{x:20,y:h,size:p,font:r.RobotoBold,color:(0,o.rgb)(0,0,0)});var t=r.RobotoBold.widthOfTextAtSize("Qty",p);s.drawText("Qty",{x:430-t,y:h,size:p,font:r.RobotoBold,color:(0,o.rgb)(0,0,0)});var i=r.RobotoBold.widthOfTextAtSize("Cost",p);s.drawText("Cost",{x:500-i,y:h,size:p,font:r.RobotoBold,color:(0,o.rgb)(0,0,0)});var a=r.RobotoBold.widthOfTextAtSize("Amount",p);s.drawText("Amount",{x:580-a,y:h,size:p,font:r.RobotoBold,color:(0,o.rgb)(0,0,0)}),h-=2}var l=f.slice(36*e,36*(e+1));l&&l.map((function(e,t){h-=e.yInc,e.back&&s.drawRectangle({x:e.back.x,y:h+e.back.y,width:e.back.width,height:e.back.height,color:e.back.color,blendMode:o.BlendMode.Normal}),e.line&&s.drawRectangle({x:e.line.x,y:h+e.line.y,width:e.line.width,height:e.line.height,borderColor:(0,o.rgb)(0,0,0)}),e.name&&s.drawText(e.name.value,{x:e.name.x,y:h,size:e.name.size,font:r.GSansBold,color:(0,o.rgb)(0,0,0)}),e.qty&&s.drawText(e.qty.value,{x:e.qty.x,y:h,size:e.qty.size,font:r.GSansBold,color:(0,o.rgb)(0,0,0)}),e.cost&&s.drawText(e.cost.value,{x:e.cost.x,y:h,size:e.cost.size,font:r.GSansBold,color:(0,o.rgb)(0,0,0)}),e.amount&&s.drawText(e.amount.value,{x:e.amount.x,y:h,size:e.amount.size,font:r.GSansBold,color:(0,o.rgb)(0,0,0)})}))})),e.next=28,n.save();case 28:g=e.sent,y=(0,a.ou)(g),window.open(y);case 31:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},1534:function(){},6459:function(e,t,n){function i(e){if(null==e)throw new TypeError("Cannot destructure "+e)}n.d(t,{Z:function(){return i}})},1413:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(4942);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}}}]);
//# sourceMappingURL=1905.af1d4e30.chunk.js.map