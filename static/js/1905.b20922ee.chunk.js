"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[1905,9760],{9760:function(e,n,t){t.r(n),t.d(n,{CloseModal:function(){return c},OpenModal:function(){return s},default:function(){return d}});var i=t(2791),o=t(5408),r=t(2350),a=t(184),l="listDialog_mdh392",d=function(){var e=(0,r.bh)("listDialog")||{},n=((0,o.Z)(l),Object.keys(e));return(0,a.jsx)(a.Fragment,{children:n.map((function(n,t){var o=e[n];if(o&&o.visible){var r={};o.height&&(r.heigth=o.height),o.width,o.zIndex&&(r.zIndex=o.zIndex-1);var l={zIndex:o.zIndex},d=null,s=o.data;return o.content&&(d=i.cloneElement(o.content,{data:s})),(0,a.jsxs)("div",{className:"ltr-1kbnjow",style:r,children:[(0,a.jsx)("div",{className:"ltr-hoe9xz",children:(0,a.jsx)("div",{className:"ltr-1wao6ny",style:l,id:n,children:d})}),o.data.overlay?(0,a.jsx)("div",{className:"DialogHRMOverlay ".concat(o.visible?"active":""),onClick:function(){var e;e=n,document.getElementsByTagName("html")[0].classList.remove("has-level-two"),c({id:e})}}):null]},n)}}))})},s=function(e){var n=(0,r.bh)("listDialog")||{},t=(0,r.M5)();n[t]||(n[t]={}),n[t].visible=!0;var i={};e.props?(i=e.props).modalID=t:i.modalID=t;var o=document.getElementsByTagName("body")[0];null!==o&&void 0!==o&&o.style&&(o.style.overflowY="hidden"),n[t].isView=e.isView,n[t].observeResize=e.observeResize,n[t].observeResize&&(n[t].observeInterval=setInterval((function(){var e=document.querySelector("[dialog-key-id='".concat(t,"']")),i=e&&e.getBoundingClientRect();i&&(i.width===n[t].width&&i.height===n[t].height||(n[t].height=i.height+10,n[t].width=i.width,(0,r.Rz)("listDialog",n),(0,r.wt)(l)))}),200)),n[t].display=!0,e.zIndex&&(n[t].zIndex=e.zIndex),e.height&&(n[t].height=e.height),e.width&&(n[t].width=e.width),e.content&&(n[t].content=e.content),n[t].data=i,(0,r.Rz)("listDialog",n),(0,r.wt)(l),setTimeout((function(){document.getElementsByTagName("html")[0].classList.add("has-level-two"),(0,r.Rz)("modalOpen",t),(0,r.wt)(l)}),125)},c=function(e){var n,t,i,o=(0,r.bh)("listDialog")||{},a=e.id;o[a]&&(o[a].observeResize&&o[a].observeInterval&&clearInterval(o[a].observeInterval),o[a].display=!1,null===(n=o[a])||void 0===n||null===(t=n.data)||void 0===t||null===(i=t.closeEvent)||void 0===i||i.call(t),(0,r.Rz)("listDialog",o),delete o[a],document.getElementsByTagName("body")[0].style.overflowY=null,(0,r.wt)(l),setTimeout((function(){delete o[a],document.getElementsByTagName("html")[0].classList.remove("has-level-two"),(0,r.Rz)("modalOpen",null)}),750))}},1905:function(e,n,t){t.r(n),t.d(n,{default:function(){return k}});var i=t(6459),o=t(4165),r=t(1413),a=t(5861),l=t(9439),d=t(2791),s=t(2350),c=t(2647),u=(t(1534),t(9760)),v=t(7689),h=t(9661),p=t(24),x=t(6824),m=t(184),b=(0,c.Np)(),f=function(e){var n=e.data,t=e.confirm,i=e.label,o=(e.close,(0,d.useState)(0)),r=(0,l.Z)(o,2),a=r[0],s=r[1],c=n.modalID,v=function(e){(0,u.CloseModal)({id:c})};return(0,m.jsxs)("div",{style:{maxHeight:"40vh",minHeight:"28vh",overflow:"auto",background:"#fff",borderRadius:13,padding:"10px 19px"},children:[(0,m.jsxs)("div",{className:"_dsplFlx ",children:[(0,m.jsx)("p",{className:"form_title",children:i}),(0,m.jsx)("div",{className:"flexSpace"})]}),(0,m.jsx)("div",{className:"_dsplFlx ",children:(0,m.jsx)("span",{children:"Cuantas copias deseas hacer"})}),(0,m.jsxs)("div",{className:"_dsplFlx ",style:{padding:"15px 10px 0"},children:[(0,m.jsx)("div",{className:"flexSpace"}),(0,m.jsx)(b,{init:a,width:100,type:"number",updChanges:function(e){return s(1*e)}}),(0,m.jsx)("div",{className:"flexSpace"})]}),(0,m.jsxs)("div",{className:"_dsplFlx ",style:{padding:"15px 10px"},children:[(0,m.jsx)("div",{className:"flexSpace"}),(0,m.jsx)("p",{className:"group_title addBtn",onClick:v,children:"Cancelar"}),(0,m.jsx)("p",{className:"group_title addBtn ",onClick:function(){t(1*a),v()},children:"Crear Copias"})]})]})},g=(0,c.PU)(),_=((0,c.YZ)(),(0,c.Np)()),y=(0,h.a)(),j=(0,c.JC)(),w=(0,h.LZ)(),N=(0,p.Az)(),z=(0,p.f_)(),C="new_product_entry_comprobante",k=function(e){var n,t,i,c,h,p,x,b,f,g,y=e.data,j=e.confirm,w=(0,d.useState)(!1),N=(0,l.Z)(w,2),k=N[0],I=N[1],A=(0,d.useState)(0),R=(0,l.Z)(A,2),B=(R[0],R[1]);(0,v.s0)();(0,d.useEffect)((function(){k||(I(!0),(0,s.Rz)("accountPicker",{}),B((0,s.M5)()))}));var T=function(e,n,t){var i=(0,s.bh)(C)||{};t?(i[t]||(i[t]={}),i[t][e]=n):i[e]=n,(0,s.Rz)(C,i),B((0,s.M5)())},F=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(){var n,t,i,l,d,c,v,h,p,x,m,b,f,g,_,w,N,z,k,S,O,I,A,R;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=(0,s.bh)(C),d=(new Date).getTime()+800,l.date&&(c=new Date(l.date).getTime(),d=c||d),l.date=d,[],v=0,h=[],p=[],x=[],(m=(0,s.bh)("extraAccountListOnCmp")&&(0,s._2)((0,s.bh)("extraAccountListOnCmp")))&&(null===m||void 0===m||m.map(function(){var e=(0,a.Z)((0,o.Z)().mark((function e(n,t){var i,a,d,c;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=(0,r.Z)({},l),d=(0,r.Z)({},(0,s.bh)("extraAccountListOnCmp")[n]),a.account=d.account,(c=null===(i=(0,s.bh)("account_ids"))||void 0===i?void 0:i[d.account]).payOrCollect&&(a.payOrCollect=c.payOrCollect),a.subAccount=d.subAccount,a.type=d.type,a.amount=1*d.amount,a.operationId=(0,s.M5)(),v+=1*d.amount,h.push(a),p.push(a);case 12:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}())),b=0,(0,s.bh)("productListOnCmp")&&(null===(n=(0,s.bh)("productListOnCmp"))||void 0===n||n.map(function(){var e=(0,a.Z)((0,o.Z)().mark((function e(n,t){var i,a,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=(0,r.Z)({},n),a=(0,r.Z)({},i),s=1*i.qty*(1*i.price),a.amount=s,a.document=l.document.trim(),a.date=d,v+=s,b+=s,x.push(a);case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}())),b>0&&((g=(0,r.Z)({},l)).type="debit",g.account=null===(f=(0,s.bh)("global_account_params"))||void 0===f?void 0:f.inventory.account,g.amount=b,g.operationId=(0,s.M5)(),p.push(g)),v>0&&(0,s.bh)("provider_picker").account&&((O=(0,r.Z)({},l)).type="credit",O.account=null===(_=(0,s.bh)("provider_picker"))||void 0===_?void 0:_.account,O.subAccount=null===(w=(0,s.bh)("provider_picker"))||void 0===w?void 0:w.subAccount,O.providerId=null===(N=(0,s.bh)("provider_picker"))||void 0===N?void 0:N.providerId,l.providerId=null===(z=(0,s.bh)("provider_picker"))||void 0===z?void 0:z.providerId,O.amount=1*v,O.operationId=(0,s.M5)(),(I=null===(k=(0,s.bh)("account_ids"))||void 0===k?void 0:k[null===(S=(0,s.bh)("provider_picker"))||void 0===S?void 0:S.account])&&I.payOrCollect&&(O.payOrCollect=I.payOrCollect),p.push(O)),l.extrasEntries=h,l.inventoryEntries=x,l.comprobantesEntries=p,l.entriesInvoiceId=(0,s.M5)(),(A=(0,r.Z)({},null===(t=(0,s.bh)((0,s.hQ)()))||void 0===t?void 0:t.add_entry_invoice)).params={businessId:null===(i=(0,s.bh)("profileUser"))||void 0===i?void 0:i.businessId},A.form=l,(0,s.wL)(A),R=(0,s.I7)(A),e.next=26,R;case 26:e.sent,(null===y||void 0===y?void 0:y.modalID)&&(0,u.CloseModal)({id:null===y||void 0===y?void 0:y.modalID}),setTimeout((function(){(0,s.Rz)("extraAccountListOnCmp",null),(0,s.Rz)("productListOnCmp",null),(0,s.Rz)("provider_picker",null),(0,s.Rz)(C,null),B((0,s.M5)()),j&&j()}),400);case 30:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();null===(n=(0,s.bh)("account_ids"))||void 0===n||n[null===(t=(0,s.bh)("accountPicker"))||void 0===t?void 0:t.account],null===(i=(0,s.bh)("sub_account_ids"))||void 0===i||i[null===(c=(0,s.bh)("accountPicker"))||void 0===c?void 0:c.subAccount];return(0,m.jsxs)("div",{style:{maxHeight:"90vh",minHeight:"88vh",width:"860px",overflow:"auto",background:"var(--hrm_palette-general-background-b)",borderRadius:13,padding:"10px 19px"},children:[(0,m.jsxs)("div",{className:"_dsplFlx ",children:[(0,m.jsx)("p",{className:"form_title",children:"Entrada de Mercancias"}),(0,m.jsx)("div",{className:"flexSpace"})]}),(0,m.jsxs)("div",{className:"_dsplFlx ",children:[(0,m.jsx)(z,{init:null===(h=(0,s.bh)(C))||void 0===h?void 0:h.date,updDate:function(e){return T("date",e)}}),(0,m.jsx)("div",{className:"flexSpace"}),(0,m.jsx)(_,{init:null===(p=(0,s.bh)(C))||void 0===p?void 0:p.document,label:"Documento",width:120,updChanges:function(e){return T("document",e)}})]}),(0,m.jsx)(_,{init:null===(x=(0,s.bh)(C))||void 0===x?void 0:x.description,label:"Descripcion",width:520,updChanges:function(e){return T("description",e)}}),(0,m.jsxs)("div",{className:"_dsplFlx ",style:{margin:"18px 0"},children:[(0,m.jsx)("div",{className:"flexSpace"}),(0,m.jsx)(S,{})]}),(0,m.jsx)(O,{}),(0,m.jsx)(Z,{}),(0,m.jsxs)("div",{className:"_dsplFlx ",children:[(0,m.jsx)("div",{className:"flexSpace"}),null!==(b=(0,s.bh)(C))&&void 0!==b&&b.document&&null!==(f=(0,s.bh)("provider_picker"))&&void 0!==f&&f.account&&(null===(g=(0,s._2)((0,s.bh)("productListOnCmp")))||void 0===g?void 0:g.length)>0?(0,m.jsx)("div",{className:"card",children:(0,m.jsx)("button",{onClick:F,children:"Guardar"})}):null]})]})},S=function(e){var n,t,i=(0,d.useState)(0),o=(0,l.Z)(i,2),r=(o[0],o[1]),a=null===(n=(0,s.bh)("providers_ids"))||void 0===n?void 0:n[null===(t=(0,s.bh)("provider_picker"))||void 0===t?void 0:t.providerId];return(0,m.jsx)("div",{children:null!==a&&void 0!==a&&a.name?(0,m.jsx)("div",{className:"_dsplFlx ",style:{margin:"18px 0"},children:(0,m.jsxs)("div",{className:" acc_dtls",children:[(0,m.jsx)("div",{className:"_dsplFlx",children:(0,m.jsx)("div",{className:"code",style:{color:"#646cff"},onClick:function(){(0,s.Rz)("provider_picker",null),r((0,s.M5)())},children:null===a||void 0===a?void 0:a.name})}),(0,m.jsx)("div",{className:"flexSpace"})]})}):(0,m.jsx)(w,{placeholder:"buscar una provedor",width:320,handleClick:function(e){var n={providerId:e.providerId,account:e.account,subAccount:e.subAccount};(0,s.Rz)("provider_picker",n),r((0,s.M5)())}})})},O=function(e){var n,t,o,a,c,u,v,h,p,b,f;(0,i.Z)(e);var y=(0,d.useState)(0),j=(0,l.Z)(y,2),w=(j[0],j[1]),z=function(){w((0,s.M5)())},k=null===(n=(0,s.bh)("products_ids"))||void 0===n?void 0:n[null===(t=(0,s.bh)("product_picker_in"))||void 0===t?void 0:t.productId],S=function(e,n,t){var i=(0,s.bh)("product_picker_in")||{};t?(i[t]||(i[t]={}),i[t][e]=n):i[e]=n,(0,s.Rz)("product_picker_in",i),w((0,s.M5)())},O=function(e){var n=(0,s.bh)("productListOnCmp")||[];n.splice(e,1),(0,s.Rz)("productListOnCmp",n),w((0,s.M5)())};return(0,m.jsxs)("div",{className:"boxAddAcc",style:{margin:"18px 0"},children:[null!==(o=(0,s.bh)("product_picker_in"))&&void 0!==o&&o.productId?(0,m.jsx)("div",{className:"_dsplFlx ",style:{margin:"18px 0"},children:(0,m.jsxs)("div",{className:" acc_dtls",children:[(0,m.jsxs)("div",{className:"_dsplFlx",onClick:function(e){(0,s.Rz)("product_picker_in",null),w((0,s.M5)())},children:[(0,m.jsx)("div",{className:"code",style:{color:"#646cff"},children:null===k||void 0===k?void 0:k.upc_barcode}),(0,m.jsx)("div",{className:"name",children:null===k||void 0===k?void 0:k.name})]}),(0,m.jsx)("div",{className:"flexSpace"})]})}):(0,m.jsx)(N,{width:420,handleClick:function(e){var n={productId:e.productId,unit:e.unit};(0,s.Rz)("product_picker_in",n),w((0,s.M5)())}}),null!==(a=(0,s.bh)("product_picker_in"))&&void 0!==a&&a.productId?(0,m.jsxs)("div",{className:"_dsplFlx ",children:[k.hasDimension?(0,m.jsx)("div",{className:"",style:{width:270,marginLeft:18},children:(0,m.jsx)(_,{init:null===(c=(0,s.bh)("product_picker_in"))||void 0===c?void 0:c.dimension,label:"Dimension (width,height) in inch",width:100,updChanges:function(e){return S("dimension",e)}})}):(0,m.jsx)(_,{init:null===(u=(0,s.bh)("product_picker_in"))||void 0===u?void 0:u.qty,label:"Cantidad",width:100,type:"number",updChanges:function(e){return S("qty",e)}}),(0,m.jsx)("div",{className:"",style:{maxWidth:130,marginLeft:7},children:(0,m.jsx)(_,{init:null===(v=(0,s.bh)("product_picker_in"))||void 0===v?void 0:v.price,label:"Price",width:100,type:"number",updChanges:function(e){return S("price",e)}})}),(0,m.jsx)("div",{className:"flexSpace"}),(null!==(h=(0,s.bh)("product_picker_in"))&&void 0!==h&&h.qty||null!==(p=(0,s.bh)("product_picker_in"))&&void 0!==p&&p.dimension)&&null!==(b=(0,s.bh)("product_picker_in"))&&void 0!==b&&b.price?(0,m.jsx)("div",{className:"card",children:(0,m.jsx)("button",{onClick:function(){var e,n=(0,r.Z)({},(0,s.bh)("product_picker_in"))||{},t=(0,r.Z)({},(0,s.bh)("product_picker_in"))||{},i=(0,s.bh)("productListOnCmp")||[];n.dimension&&(n.qty=1,n.squareFeet=I(null===n||void 0===n?void 0:n.dimension.split(",")[0],null===n||void 0===n?void 0:n.dimension.split(",")[1]),n.pricePerSquareFeet=1*n.price/n.squareFeet*1),n.inventoryId=(0,s.M5)(),n.alphaCode=(0,s.Pb)();var o=(new Date).getTime()+800;if(null!==(e=(0,s.bh)(C))&&void 0!==e&&e.date){var a=new Date((0,s.bh)(C).date).getTime();o=a||o}n.date=o,i.push(n),(0,s.Rz)("productListOnCmp",i),t.productId=null,t.qty="",t.price="",(0,s.Rz)("product_picker_in",t),w((0,s.M5)())},children:"Agregar"})}):null]}):null,(0,m.jsxs)("div",{className:"_dsplFlx hdr_bar purple",style:{margin:"18px 0"},children:[(0,m.jsx)("div",{className:"tr_bar tr_bar_50 left_alg",children:"Producto"}),(0,m.jsx)("div",{className:"tr_bar tr_bar_15",children:"Dimension"}),(0,m.jsx)("div",{className:"tr_bar tr_bar_15",children:"Qty"}),(0,m.jsx)("div",{className:"tr_bar tr_bar_15",children:"Precio"}),(0,m.jsx)("div",{className:"tr_bar tr_bar_5",children:(0,m.jsx)("div",{className:"icon",onClick:function(){console.log((0,s.bh)("productListOnCmp")),(0,x.Hc)((0,s.bh)("productListOnCmp"))},children:(0,m.jsx)(g,{name:"printer",color:"#646cff"})})})]}),(0,s.bh)("productListOnCmp")&&(0,s.bh)("productListOnCmp").length>0&&(null===(f=(0,s.bh)("productListOnCmp"))||void 0===f?void 0:f.map((function(e,n){return(0,m.jsx)(A,{idKey:e.productId,index:n,data:e,deleteItem:O,updObs:z},e.productId+"_"+n)})))]})},I=function(e,n){var t=e*n*.0069444444444;return(0,s.Zv)(t,2)},A=function(e){var n,t=e.data,i=e.deleteItem,o=e.updObs,a=e.index,l=null===(n=(0,s.bh)("products_ids"))||void 0===n?void 0:n[null===t||void 0===t?void 0:t.productId],c=(null===t||void 0===t?void 0:t.dimension)&&(null===t||void 0===t?void 0:t.dimension.split(",")[0])+" X "+(null===t||void 0===t?void 0:t.dimension.split(",")[1]),v=(null===t||void 0===t?void 0:t.dimension)&&{lbl:c+" (inch)",hover:(null===t||void 0===t?void 0:t.squareFeet)+"S/F X $"+(0,s.Zv)(null===t||void 0===t?void 0:t.pricePerSquareFeet,2)},h=(0,d.useRef)(null),p=function(e){var n;null===h||void 0===h||null===(n=h.current)||void 0===n||n.showw(e)},x=function(e){var n=(0,s.bh)("productListOnCmp");Array.from(Array(e).keys()).map((function(e){var i=(0,r.Z)({},t);i.inventoryId=(0,s.M5)(),i.alphaCode=(0,s.Pb)(),n.push(i)})),(0,s.Rz)("productListOnCmp",n),o(),console.log("makeMultiCopy"),b()},b=function(){console.log("closeMenu"),p(!1)};return(0,m.jsxs)("div",{className:"_dsplFlx hdr_bar",children:[(0,m.jsx)("div",{className:"tr_bar tr_bar_50 left_alg",children:null===l||void 0===l?void 0:l.name}),(0,m.jsx)("div",{className:"tr_bar tr_bar_15",style:{marginTop:-4},children:null!==t&&void 0!==t&&t.dimension?(0,m.jsx)(j,{data:v,color:"#282828",labelField:"lbl",infoField:"hover"}):null}),(0,m.jsx)("div",{className:"tr_bar tr_bar_15",children:(0,s.Zv)(null===t||void 0===t?void 0:t.qty,2)}),(0,m.jsx)("div",{className:"tr_bar tr_bar_15",children:(0,s.Zv)(null===t||void 0===t?void 0:t.price,2)}),(0,m.jsx)("div",{className:"flexSpace"}),(0,m.jsxs)("div",{className:" relPos",children:[(0,m.jsx)(R,{ref:h,handleIcon1:function(){var e=(0,r.Z)({},t);e.inventoryId=(0,s.M5)(),e.alphaCode=(0,s.Pb)();var n=(0,s.bh)("productListOnCmp");n.push(e),(0,s.Rz)("productListOnCmp",n),o(),b()},handleIcon2:function(){var e={zIndex:450,height:"40vh",props:{minHeight:"1vh",overlay:!0,closeEvent:function(){}}};e.content=(0,m.jsx)(f,{label:"Copias Multiples",confirm:x,item:t}),(0,u.OpenModal)(e)},handleIcon3:function(){i(a),b()}}),(0,m.jsx)("div",{className:"icon ",onClick:function(){console.log("openMenu"),p(!0)},children:(0,m.jsx)(g,{name:"more_vert",color:"var(--hrm_palette-imput-txt_gray)"})})]})]})},R=(0,d.forwardRef)((function(e,n){var t=e.handleIcon1,i=e.handleIcon2,o=e.handleIcon3,r=(e.close,(0,d.useState)(0)),a=(0,l.Z)(r,2),s=a[0],c=a[1];return(0,d.useImperativeHandle)(n,(function(){return{showw:function(e){c(e)}}})),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"c5dXqd",style:{display:s?"block":"none"},children:s?(0,m.jsxs)("div",{className:"rR9aKd",role:"list",children:[(0,m.jsx)("div",{className:"ef3QKd",children:(0,m.jsxs)("div",{role:"listitem",tabIndex:"0","aria-label":"Share",children:[(0,m.jsx)("span",{children:(0,m.jsx)("div",{children:(0,m.jsx)("div",{className:"M5n4Ud",onClick:t,children:(0,m.jsx)("span",{className:"HQcgX z1asCe Fp7My",style:{height:16,lineHeight:16,width:16},children:(0,m.jsx)(g,{name:"content-copy",size:16})})})})}),(0,m.jsx)("div",{id:"_6Wu4ZMz5NpepptQPlL2l4Aw_4"})]})}),(0,m.jsx)("div",{className:"ef3QKd",role:"listitem",children:(0,m.jsx)("div",{"aria-label":"Save",role:"button",tabIndex:"0",children:(0,m.jsx)("div",{className:"M5n4Ud",onClick:i,children:(0,m.jsx)("span",{className:"HQcgX z1asCe Fp7My",style:{height:16,lineHeight:16,width:16},children:(0,m.jsx)(g,{name:"database-sync",size:16})})})})}),(0,m.jsx)("div",{className:"ef3QKd",children:(0,m.jsxs)("div",{role:"listitem",tabIndex:"0","aria-label":"Share",children:[(0,m.jsx)("span",{children:(0,m.jsx)("div",{children:(0,m.jsx)("div",{className:"M5n4Ud",onClick:o,children:(0,m.jsx)("span",{className:"HQcgX z1asCe Fp7My",style:{height:16,lineHeight:16,width:16},children:(0,m.jsx)(g,{name:"outline_delete",size:16})})})})}),(0,m.jsx)("div",{id:"_6Wu44fZMz5NpepptQPlL2l4Aw_4"})]})})]}):null}),s?(0,m.jsx)("div",{className:"Overlay_floatAct",onClick:function(){return c(!1)}}):null]})})),B=function(e){var n,t,i,o,a,c,v=e.data,h=(0,d.useState)(0),p=(0,l.Z)(h,2),x=(p[0],p[1]),b=null===(n=(0,s.bh)("account_ids"))||void 0===n?void 0:n[null===(t=(0,s.bh)("extraAccountPicker"))||void 0===t?void 0:t.account],f=null===(i=(0,s.bh)("sub_account_ids"))||void 0===i?void 0:i[null===(o=(0,s.bh)("extraAccountPicker"))||void 0===o?void 0:o.subAccount];return(0,m.jsxs)("div",{style:{maxHeight:"80vh",width:"560px",overflow:"auto",background:"#fff",borderRadius:13,padding:"10px 19px"},children:[(0,m.jsxs)("div",{className:"_dsplFlx ",children:[(0,m.jsx)("p",{className:"form_title",children:"Agregar gastos extras"}),(0,m.jsx)("div",{className:"flexSpace"})]}),null!==(a=(0,s.bh)("extraAccountPicker"))&&void 0!==a&&a.account?(0,m.jsx)("div",{className:"_dsplFlx ",style:{margin:"18px 0"},children:(0,m.jsxs)("div",{className:" acc_dtls",children:[(0,m.jsxs)("div",{className:"_dsplFlx",onClick:function(){(0,s.Rz)("extraAccountPicker",null),x((0,s.M5)())},children:[(0,m.jsx)("div",{className:"code",style:{color:"#646cff"},children:null===b||void 0===b?void 0:b.code}),(0,m.jsx)("div",{className:"name",children:null===b||void 0===b?void 0:b.name})]}),f?(0,m.jsxs)("div",{className:"_dsplFlx",style:{margin:"10px 0 0 18px"},children:[(0,m.jsx)("div",{className:"code",children:null===f||void 0===f?void 0:f.subAccount}),(0,m.jsx)("div",{className:"name",children:null===f||void 0===f?void 0:f.subAccountName})]}):null,(0,m.jsx)("div",{className:"flexSpace"})]})}):(0,m.jsx)(y,{width:420,handleClick:function(e,n){var t={account:e,subAccount:n};(0,s.Rz)("extraAccountPicker",t),x((0,s.M5)())}}),(0,m.jsx)("div",{className:"",style:{maxWidth:130,marginLeft:7},children:(0,m.jsx)(_,{init:null===(c=(0,s.bh)("extraAccountPicker"))||void 0===c?void 0:c.amount,label:"Importe",width:120,type:"number",updChanges:function(e){return function(e,n,t){var i=(0,s.bh)("extraAccountPicker")||{};t?(i[t]||(i[t]={}),i[t][e]=n):i[e]=n,(0,s.Rz)("extraAccountPicker",i),x((0,s.M5)())}("amount",e)}})}),(0,m.jsx)("div",{className:"card",children:(0,m.jsx)("button",{onClick:function(){var e=(0,r.Z)({},(0,s.bh)("extraAccountPicker"))||{},n=(0,r.Z)({},(0,s.bh)("extraAccountListOnCmp"))||{},t=e.account+"_"+e.subAccount;e.type="debit",n[t]=e,(0,s.Rz)("extraAccountListOnCmp",n),(0,s.Rz)("extraAccountPicker",null),x((0,s.M5)()),(0,u.CloseModal)({id:v.modalID})},children:"Agregar"})})]})},Z=function(e){var n;(0,i.Z)(e);var t=(0,d.useState)(0),o=(0,l.Z)(t,2),r=(o[0],o[1]),a=function(e){var n=(0,s.bh)("extraAccountListOnCmp")||{};delete n[e],(0,s.Rz)("extraAccountListOnCmp",n),r((0,s.M5)())};return(0,m.jsxs)("div",{className:"boxAddAcc",style:{margin:"18px 0"},children:[(0,m.jsx)("div",{className:"_dsplFlx",children:(0,m.jsx)("p",{className:"group_title addBtn purple",onClick:function(){var e={zIndex:450,height:"80vh",props:{minHeight:"1vh",overlay:!0}};e.content=(0,m.jsx)(B,{}),(0,u.OpenModal)(e)},children:"Agregar gastos"})}),(0,m.jsxs)("div",{className:"_dsplFlx hdr_bar purple",style:{margin:"18px 0"},children:[(0,m.jsx)("div",{className:"tr_bar tr_bar_25",children:"Cuenta"}),(0,m.jsx)("div",{className:"tr_bar tr_bar_25",children:"Sub Cuenta"}),(0,m.jsx)("div",{className:"tr_bar tr_bar_25"}),(0,m.jsx)("div",{className:"tr_bar tr_bar_25",children:"Monto"})]}),(0,s.bh)("extraAccountListOnCmp")&&(null===(n=(0,s._2)((0,s.bh)("extraAccountListOnCmp")))||void 0===n?void 0:n.map((function(e,n){return(0,m.jsx)(T,{idKey:e,data:(0,s.bh)("extraAccountListOnCmp")[e],deleteItem:a},e)})))]})},T=function(e){var n,t,i=e.data,o=e.deleteItem,r=e.idKey,a=null===(n=(0,s.bh)("account_ids"))||void 0===n?void 0:n[null===i||void 0===i?void 0:i.account],l=null===(t=(0,s.bh)("sub_account_ids"))||void 0===t?void 0:t[null===i||void 0===i?void 0:i.subAccount];return(0,m.jsxs)("div",{className:"_dsplFlx hdr_bar",children:[(0,m.jsx)("div",{className:"tr_bar tr_bar_25",children:(0,m.jsx)(j,{data:a,labelField:"name",infoField:"code"})}),(0,m.jsx)("div",{className:"tr_bar tr_bar_25",children:(0,m.jsx)(j,{data:l,labelField:"subAccountName",infoField:"subAccount"})}),(0,m.jsx)("div",{className:"tr_bar tr_bar_25"}),(0,m.jsx)("div",{className:"tr_bar tr_bar_25",children:"debit"===(null===i||void 0===i?void 0:i.type)?(0,s.Zv)(null===i||void 0===i?void 0:i.amount,2):"0.00"}),(0,m.jsx)("div",{className:"flexSpace"}),(0,m.jsx)("div",{className:"icon",onClick:function(){o(r)},children:(0,m.jsx)(g,{name:"outline_delete",color:"#c62828"})})]})}},6824:function(e,n,t){t.d(n,{Hc:function(){return c},M9:function(){return v}});var i=t(4165),o=t(5861),r=t(6963),a=t(2350),l=t(4e3);function d(e){return s.apply(this,arguments)}function s(){return(s=(0,o.Z)((0,i.Z)().mark((function e(n){var t,o,l,d,s,c,u,v,h,p,x,m,b,f,g;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.embedFont(r.StandardFonts.Helvetica);case 2:return t=e.sent,e.next=5,n.embedFont(r.StandardFonts.TimesRomanBold);case 5:return o=e.sent,e.next=8,n.embedFont(r.StandardFonts.TimesRoman);case 8:return l=e.sent,d=(0,a.bh)("Roboto-Bold.ttf"),e.next=12,fetch(d).then((function(e){return e.arrayBuffer()}));case 12:return s=e.sent,e.next=15,n.embedFont(s,{subset:!0});case 15:return c=e.sent,u=(0,a.bh)("ggSans-Medium.ttf"),e.next=19,fetch(u).then((function(e){return e.arrayBuffer()}));case 19:return v=e.sent,e.next=22,n.embedFont(v,{subset:!0});case 22:return h=e.sent,p=(0,a.bh)("Roboto-Regular.ttf"),e.next=26,fetch(p).then((function(e){return e.arrayBuffer()}));case 26:return x=e.sent,e.next=29,n.embedFont(x,{subset:!0});case 29:return m=e.sent,b=(0,a.bh)("arial_bold.ttf"),e.next=33,fetch(b).then((function(e){return e.arrayBuffer()}));case 33:return f=e.sent,e.next=36,n.embedFont(f,{subset:!0});case 36:return g=e.sent,e.abrupt("return",{GSansBold:h,helveticaFont:t,RobotoBold:c,RobotoRegular:m,aria_regurlar:g,TimesRomanBold:o,TimesRomanItalic:l});case 38:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var c=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n){var t,s,c,u,v;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.PDFDocument.create();case 2:return(t=e.sent).registerFontkit(l.Z),e.next=6,d(t);case 6:return s=e.sent,c=n.map(function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n,o){var l,d,c,u,v,h,p,x,m,b,f,g,_,y,j,w,N,z;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.addPage([288,162]),u=c.getSize(),u.width,v=u.height,h=v-14,p=(0,a.ye)((null===n||void 0===n?void 0:n.inventoryId)+""),e.next=6,fetch(p).then((function(e){return e.arrayBuffer()}));case 6:return x=e.sent,e.next=9,t.embedPng(x);case 9:(m=e.sent)&&c.drawImage(m,{x:10,y:80,width:80,height:80}),b=s.GSansBold.widthOfTextAtSize((null===n||void 0===n?void 0:n.inventoryId)+"",12),f=s.GSansBold.widthOfTextAtSize("ID: ",11),c.drawText("ID: ",{x:270-b-f,y:h,size:11,font:s.GSansBold,color:(0,r.rgb)(0,0,0)}),c.drawText((null===n||void 0===n?void 0:n.inventoryId)+"",{x:270-b,y:h,size:12,font:s.GSansBold,color:(0,r.rgb)(0,0,0)}),h-=20,g=s.RobotoBold.widthOfTextAtSize("Date: ",11),_=s.GSansBold.widthOfTextAtSize((0,a.Gv)(null===n||void 0===n?void 0:n.date)+"",12),c.drawText("Date: ",{x:270-g-_,y:h,size:11,font:s.RobotoBold,color:(0,r.rgb)(0,0,0)}),c.drawText((0,a.Gv)(null===n||void 0===n?void 0:n.date)+"",{x:270-_,y:h,size:12,font:s.GSansBold,color:(0,r.rgb)(.06,.06,.06)}),y=null!==n&&void 0!==n&&n.dimension?(null===n||void 0===n?void 0:n.dimension.split(",")[0])+" X "+(null===n||void 0===n?void 0:n.dimension.split(",")[1])+" inch":"",j=s.GSansBold.widthOfTextAtSize(y+"",19),c.drawText(y+"",{x:270-j,y:h+4,size:19,font:s.GSansBold,color:(0,r.rgb)(.06,.06,.06)}),w=(null===n||void 0===n?void 0:n.qty)+" "+(null!==n&&void 0!==n&&n.unit?null===n||void 0===n?void 0:n.unit:""),N=s.GSansBold.widthOfTextAtSize(w+"",19),c.drawText(w+"",{x:270-N,y:h-54,size:19,font:s.GSansBold,color:(0,r.rgb)(.06,.06,.06)}),h-=65,c.drawRectangle({x:15,y:h+1,width:560,height:.85,color:(0,r.rgb)(.53,.53,.53),borderColor:(0,r.rgb)(.53,.53,.53)}),z=null===(l=(0,a.bh)("products_ids"))||void 0===l||null===(d=l[null===n||void 0===n?void 0:n.productId])||void 0===d?void 0:d.name,c.drawText(z+"",{x:20,y:h-15,size:14,font:s.GSansBold,color:(0,r.rgb)(0,0,0)}),h-=25,c.drawRectangle({x:15,y:h+1,width:560,height:.85,color:(0,r.rgb)(.53,.53,.53),borderColor:(0,r.rgb)(.53,.53,.53)}),h-=10,h-=20,c.drawText(w+"",{x:270-N,y:h+4,size:19,font:s.GSansBold,color:(0,r.rgb)(.06,.06,.06)}),c.drawText((null===n||void 0===n?void 0:n.alphaCode)+"",{x:20,y:h+4,size:22,font:s.RobotoBold,color:(0,r.rgb)(.06,.06,.06)});case 36:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),e.next=10,Promise.all(c);case 10:return e.sent,e.next=13,t.save();case 13:u=e.sent,v=(0,a.ou)(u),window.open(v);case 16:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),u=function(e,n){var t,i,o=[],l=10,d=0;e&&e.map((function(e,t){var i=e.amount;if(i){var s,c="("+e.unit+")              "+e.qty,u=n.GSansBold.widthOfTextAtSize((0,a.fY)(i),l),v=n.GSansBold.widthOfTextAtSize((0,a.fY)(c),l),h=n.GSansBold.widthOfTextAtSize((0,a.fY)(e.cost),l);d+=1*i,s={yInc:19,back:t%2===0?{x:22,y:-25,width:564,height:18,color:(0,r.rgb)(.78,.78,.78)}:null,name:{value:(0,a.fY)(e.name),x:30,size:l,font:n.GSansBold},qty:{value:(0,a.fY)(c),x:440-v,size:l,font:n.GSansBold},cost:{value:(0,a.fY)(e.cost),x:500-h,size:l,font:n.GSansBold},amount:{value:(0,a.fY)(i),x:580-u,size:l,font:n.GSansBold}},o.push(s)}}));var s=n.GSansBold.widthOfTextAtSize((null===(t=d)||void 0===t?void 0:t.toFixed(2))+"",12),c={yInc:23,line:{x:396,y:12.3,width:192,height:.5,borderColor:(0,r.rgb)(0,0,0)},cost:{value:(0,a.fY)("Total"),x:400,size:12,font:n.GSansBold},amount:{value:(0,a.fY)(null===(i=d)||void 0===i?void 0:i.toFixed(2)),x:580-s,size:12,font:n.GSansBold}};return o.push(c),o},v=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n){var t,o,s,c,v,h,p,x,m,b,f,g,_,y;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.PDFDocument.create();case 2:return(t=e.sent).registerFontkit(l.Z),e.next=6,d(t);case 6:return o=e.sent,s=t.addPage(),c=s.getSize(),c.width,v=c.height,h=v-26,36,s.drawText("Inventario",{x:20,y:h,size:16,font:o.GSansBold,color:(0,r.rgb)(0,0,0)}),s.drawText("Date: "+(0,a.Gv)(Date.now()),{x:500,y:h,size:11,font:o.GSansBold,color:(0,r.rgb)(0,0,0)}),h-=20,p=13,s.drawText("Product",{x:20,y:h,size:p,font:o.RobotoBold,color:(0,r.rgb)(0,0,0)}),x=o.RobotoBold.widthOfTextAtSize("Qty",p),s.drawText("Qty",{x:430-x,y:h,size:p,font:o.RobotoBold,color:(0,r.rgb)(0,0,0)}),m=o.RobotoBold.widthOfTextAtSize("Cost",p),s.drawText("Cost",{x:500-m,y:h,size:p,font:o.RobotoBold,color:(0,r.rgb)(0,0,0)}),b=o.RobotoBold.widthOfTextAtSize("Amount",p),s.drawText("Amount",{x:580-b,y:h,size:p,font:o.RobotoBold,color:(0,r.rgb)(0,0,0)}),h-=1,f=u(n.list,o),g=Math.ceil(f.length/36),Array.from(Array(g).keys()).map((function(e){if(e>0){s=t.addPage(),h=v-26,s.drawText("Product",{x:20,y:h,size:p,font:o.RobotoBold,color:(0,r.rgb)(0,0,0)});var n=o.RobotoBold.widthOfTextAtSize("Qty",p);s.drawText("Qty",{x:430-n,y:h,size:p,font:o.RobotoBold,color:(0,r.rgb)(0,0,0)});var i=o.RobotoBold.widthOfTextAtSize("Cost",p);s.drawText("Cost",{x:500-i,y:h,size:p,font:o.RobotoBold,color:(0,r.rgb)(0,0,0)});var a=o.RobotoBold.widthOfTextAtSize("Amount",p);s.drawText("Amount",{x:580-a,y:h,size:p,font:o.RobotoBold,color:(0,r.rgb)(0,0,0)}),h-=2}var l=f.slice(36*e,36*(e+1));l&&l.map((function(e,n){h-=e.yInc,e.back&&s.drawRectangle({x:e.back.x,y:h+e.back.y,width:e.back.width,height:e.back.height,color:e.back.color,blendMode:r.BlendMode.Normal}),e.line&&s.drawRectangle({x:e.line.x,y:h+e.line.y,width:e.line.width,height:e.line.height,borderColor:(0,r.rgb)(0,0,0)}),e.name&&s.drawText(e.name.value,{x:e.name.x,y:h,size:e.name.size,font:o.GSansBold,color:(0,r.rgb)(0,0,0)}),e.qty&&s.drawText(e.qty.value,{x:e.qty.x,y:h,size:e.qty.size,font:o.GSansBold,color:(0,r.rgb)(0,0,0)}),e.cost&&s.drawText(e.cost.value,{x:e.cost.x,y:h,size:e.cost.size,font:o.GSansBold,color:(0,r.rgb)(0,0,0)}),e.amount&&s.drawText(e.amount.value,{x:e.amount.x,y:h,size:e.amount.size,font:o.GSansBold,color:(0,r.rgb)(0,0,0)})}))})),e.next=28,t.save();case 28:_=e.sent,y=(0,a.ou)(_),window.open(y);case 31:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},1534:function(){},6459:function(e,n,t){function i(e){if(null==e)throw new TypeError("Cannot destructure "+e)}t.d(n,{Z:function(){return i}})},1413:function(e,n,t){t.d(n,{Z:function(){return r}});var i=t(4942);function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}}}]);
//# sourceMappingURL=1905.b20922ee.chunk.js.map