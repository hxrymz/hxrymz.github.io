"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[1913,9760],{9760:function(e,l,a){a.r(l),a.d(l,{CloseModal:function(){return d},OpenModal:function(){return r},default:function(){return o}});var s=a(2791),i=a(5408),n=a(2350),t=a(184),c="listDialog_mdh392",o=function(){var e=(0,n.bh)("listDialog")||{},l=((0,i.Z)(c),Object.keys(e));return(0,t.jsx)(t.Fragment,{children:l.map((function(l,a){var i=e[l];if(i&&i.visible){var n={};i.height&&(n.heigth=i.height),i.width,i.zIndex&&(n.zIndex=i.zIndex-1);var c={zIndex:i.zIndex},o=null,r=i.data;return i.content&&(o=s.cloneElement(i.content,{data:r})),(0,t.jsxs)("div",{className:"ltr-1kbnjow",style:n,children:[(0,t.jsx)("div",{className:"ltr-hoe9xz",children:(0,t.jsx)("div",{className:"ltr-1wao6ny",style:c,id:l,children:o})}),i.data.overlay?(0,t.jsx)("div",{className:"DialogHRMOverlay ".concat(i.visible?"active":""),onClick:function(){var e;e=l,document.getElementsByTagName("html")[0].classList.remove("has-level-two"),d({id:e})}}):null]},l)}}))})},r=function(e){var l=(0,n.bh)("listDialog")||{},a=(0,n.M5)();l[a]||(l[a]={}),l[a].visible=!0;var s={};e.props?(s=e.props).modalID=a:s.modalID=a;var i=document.getElementsByTagName("body")[0];null!==i&&void 0!==i&&i.style&&(i.style.overflowY="hidden"),l[a].isView=e.isView,l[a].observeResize=e.observeResize,l[a].observeResize&&(l[a].observeInterval=setInterval((function(){var e=document.querySelector("[dialog-key-id='".concat(a,"']")),s=e&&e.getBoundingClientRect();s&&(s.width===l[a].width&&s.height===l[a].height||(l[a].height=s.height+10,l[a].width=s.width,(0,n.Rz)("listDialog",l),(0,n.wt)(c)))}),200)),l[a].display=!0,e.zIndex&&(l[a].zIndex=e.zIndex),e.height&&(l[a].height=e.height),e.width&&(l[a].width=e.width),e.content&&(l[a].content=e.content),l[a].data=s,(0,n.Rz)("listDialog",l),(0,n.wt)(c),setTimeout((function(){document.getElementsByTagName("html")[0].classList.add("has-level-two"),(0,n.Rz)("modalOpen",a),(0,n.wt)(c)}),125)},d=function(e){var l,a,s,i=(0,n.bh)("listDialog")||{},t=e.id;i[t]&&(i[t].observeResize&&i[t].observeInterval&&clearInterval(i[t].observeInterval),i[t].display=!1,null===(l=i[t])||void 0===l||null===(a=l.data)||void 0===a||null===(s=a.closeEvent)||void 0===s||s.call(a),(0,n.Rz)("listDialog",i),delete i[t],document.getElementsByTagName("body")[0].style.overflowY=null,(0,n.wt)(c),setTimeout((function(){delete i[t],document.getElementsByTagName("html")[0].classList.remove("has-level-two"),(0,n.Rz)("modalOpen",null)}),750))}},8111:function(e,l,a){a.r(l),a.d(l,{default:function(){return _}});var s=a(9439),i=a(2791),n=(a(1636),a(2350)),t=a(4050),c=a(7689),o=a(9760),r=a(2647),d=a(184),v=(0,r.PU)(),u=(0,r.Vg)(),m=(0,r.YZ)(),h="bank_consolidation_2r",p=function(e){var l,a,r=e.data,p=e.operations,b=e.accountD,_=e.subaccountD,j=(0,i.useState)(0),f=(0,s.Z)(j,2),N=(f[0],f[1]),g=(0,i.useState)(!1),y=(0,s.Z)(g,2),k=y[0],w=y[1],F=(0,i.useState)(!1),C=(0,s.Z)(F,2),D=C[0],I=C[1],z=(0,i.useState)(""),S=(0,s.Z)(z,2),O=S[0],R=S[1],B=(0,i.useState)(!1),M=(0,s.Z)(B,2),T=M[0],E=M[1],A=(0,i.useState)(!1),Z=(0,s.Z)(A,2),L=Z[0],P=Z[1];(0,i.useEffect)((function(){(0,n.Rz)("bank_consolidation",null),H()}),[b]);var V=function(){N((0,n.M5)()),E(!1)},H=function(){var e=(0,n.bh)("bank_consolidation");(0,n.Rz)(h,e),O&&(0,n.Rz)(h,x(e,O,k,D)),V()},Y=(0,c.s0)(),J=function(e){(0,o.CloseModal)({id:r.modalID}),Y({pathname:"accounting-ledger",search:"?cId=".concat(e.comprobante)})},q=function(e){var l=(0,n.bh)("sortBank"),a=(0,t.i_)((0,t.T7)(p,null===b||void 0===b?void 0:b.code,null===_||void 0===_?void 0:_.subAccount),null===b||void 0===b?void 0:b.code,null===_||void 0===_?void 0:_.subAccount),s=(0,t.y1)(a,l);(0,n.Rz)("bank_consolidation",null===s||void 0===s?void 0:s.ready),(0,n.Rz)("cmpbNotInBank",null===s||void 0===s?void 0:s.cmpbNotInBank),H(),V()};return(0,d.jsxs)("div",{style:{maxHeight:"80vh",width:"90vw",overflow:"auto",background:"var(--hrm_palette-general-background-b)",borderRadius:13,padding:"10px 19px 30px"},children:[(0,d.jsxs)("div",{className:"_dsplFlx ",children:[(0,d.jsx)("p",{className:"title_collect",children:"Consolidacion Bancaria"}),(0,d.jsx)("div",{className:"flexSpace"}),(0,d.jsxs)("div",{className:"group_title addBtn purple upl",children:["Importar CSV (Bank)",(0,d.jsx)("input",{id:"fileupload",type:"file",onChange:function(e){var l=new FileReader;l.onload=function(e){var l=e.target.result,a=(0,t.h1)((0,n.JO)(l),"Date");(0,n.Rz)("sortBank",a),q()},l.readAsText(e.target.files[0],"UTF-8")}})]}),(0,d.jsx)("p",{className:"group_title addBtn purple",onClick:function(e){var l=(0,n.bh)(h);(0,n.eY)("comparacion_estados_de_cuentas_"+(0,n.M5)()+".csv",l)},children:"Exportar a CSV"})]}),(0,d.jsxs)("div",{className:"_dsplFlx ",style:{marginTop:14},children:[(0,d.jsx)("div",{style:{marginTop:11},children:(0,d.jsx)(u,{placeholder:"Buscar ....",width:560,obs:N,fetchData:H,loading:T,change:function(e){!T&&E(!0),R(e)},callempty:H,keyFlds:"search_h65767"})}),(0,d.jsx)("div",{style:{marginLeft:15}}),(0,d.jsx)("div",{className:"_dsplFlx cmp_dtls",children:(0,d.jsxs)("div",{className:"_dsplFlx",children:[(0,d.jsxs)("div",{className:"filter_btn _dsplFlx",onClick:function(){var e=(0,n.bh)("bank_consolidation");(0,n.Rz)(h,e);var l=!k;O?(0,n.Rz)(h,x(e,O,l,D)):l&&(0,n.Rz)(h,x(e,"",l,D)),w(l),V()},children:[(0,d.jsx)("div",{className:"lbl",children:k?"Filtrando":"Filtrar"}),(0,d.jsx)(v,{name:k?"cancel":"filter",color:"#66666"})]}),k?(0,d.jsx)("div",{className:"done_btn _dsplFlx",style:{borderColor:D?"var(--hrm_palette-success-fg)":"#c62828",marginLeft:9},onClick:function(){var e=(0,n.bh)("bank_consolidation");(0,n.Rz)(h,e);var l=!D;O?(0,n.Rz)(h,x(e,O,k,l)):k&&(0,n.Rz)(h,x(e,"",k,l)),I(l),V()},children:(0,d.jsx)(v,{name:D?"check_circle":"alert",color:D?"var(--hrm_palette-success-fg)":"#c62828"})}):null]})}),(0,d.jsx)("div",{className:"flexSpace"}),(0,d.jsxs)("div",{className:"_dsplFlx ",style:{marginTop:24},children:[(0,d.jsx)(m,{initvalue:L,keyCode:77,updChange:function(e){return P(e)}}),(0,d.jsx)("span",{className:"checklabel",children:"Comprobantes fuera del banco"})]}),(0,d.jsx)("div",{className:"flexSpace"}),(0,d.jsx)("div",{children:(0,d.jsx)("div",{className:" addBtn purple btn_purpl_fweight",style:{marginTop:20},onClick:q,children:"Recalc"})})]}),L?(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"_dsplFlx hdr_bar purple",children:[(0,d.jsx)("div",{className:"tr_bar_15",children:"Comprobante"}),(0,d.jsx)("div",{className:"tr_bar_10",children:"Fecha"}),(0,d.jsx)("div",{className:"tr_bar_10",children:"Importe"}),(0,d.jsx)("div",{className:"tr_bar_10",children:"Documento"})]}),(0,d.jsx)("div",{className:"scollVh subMHeight",children:(0,n.bh)("cmpbNotInBank")&&(null===(l=(0,n._2)((0,n.bh)("cmpbNotInBank")))||void 0===l?void 0:l.map((function(e,l){var a,s=(0,n.bh)("cmpbNotInBank")[e],i=s.debito?1*s.debito:-1*s.credito;return 0===i?null:(0,d.jsxs)("div",{className:"_dsplFlx hdr_bar",children:[(0,d.jsxs)("div",{className:"tr_bar_15 comprobante_id _dsplFlx",children:[(0,d.jsx)("div",{className:"flexSpace"}),(0,d.jsx)("div",{onClick:function(){return J(s)},children:s.comprobante}),(0,d.jsx)("div",{className:"flexSpace"})]}),(0,d.jsx)("div",{className:"tr_bar_10",children:s.date&&(0,n.sJ)(s.date)}),(0,d.jsx)("div",{className:"tr_bar_10",children:null===(a=1*i)||void 0===a?void 0:a.toFixed(2)}),(0,d.jsx)("div",{className:"tr_bar_10",children:s.document})]},l)})))})]}):(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"_dsplFlx hdr_bar purple",children:[(0,d.jsx)("div",{className:"tr_bar_15",children:"Comprobante"}),(0,d.jsx)("div",{className:"tr_bar_10",children:"Fecha"}),(0,d.jsx)("div",{className:"tr_bar_40",children:"Descripcion"}),(0,d.jsx)("div",{className:"tr_bar_10",children:"No cheque"}),(0,d.jsx)("div",{className:"tr_bar_10",children:"Importe"}),(0,d.jsx)("div",{className:"tr_bar_10",children:"Documento"})]}),(0,d.jsx)("div",{className:"scollVh subMHeight",children:(0,n.bh)(h)&&(null===(a=(0,n.bh)(h))||void 0===a?void 0:a.map((function(e,l){var a,s=!0;return k&&(s=!1,D&&e.comprobante&&(s=!0),D||e.comprobante||(s=!0)),!s||isNaN(e.amount)?null:(0,d.jsxs)("div",{className:"_dsplFlx hdr_bar",children:[(0,d.jsxs)("div",{className:"tr_bar_15 comprobante_id _dsplFlx",children:[(0,d.jsx)("div",{className:"icon_compr",children:(0,d.jsx)(v,{name:e.comprobante?"check_circle":"alert",color:e.comprobante?"var(--hrm_palette-success-fg)":"#c62828"})}),(0,d.jsx)("div",{className:"flexSpace"}),(0,d.jsx)("div",{onClick:function(){return J(e)},children:e.comprobante}),(0,d.jsx)("div",{className:"flexSpace"})]}),(0,d.jsx)("div",{className:"tr_bar_10",children:e.date&&(0,n.sJ)(e.date)}),(0,d.jsx)("div",{className:"tr_bar_40 desc_font",children:e.description}),(0,d.jsx)("div",{className:"tr_bar_10",children:e.checkOrSlip}),(0,d.jsx)("div",{className:"tr_bar_10",children:null===(a=1*e.amount)||void 0===a?void 0:a.toFixed(2)}),(0,d.jsx)("div",{className:"tr_bar_10",children:e.document})]},l)})))})]})]})};function x(e,l,a,s){var i,t=l.toLowerCase(),c=[];return null===(i=(0,n._2)(e))||void 0===i||i.map((function(l){var i=e[l],n=!1,o=s&&i.comprobante||!s&&!i.comprobante;t?(n=!1,["description","amount","checkOrSlip"].map((function(e){var l,s,c,r;a?(null===(l=i[e])||void 0===l||null===(s=l.toLowerCase())||void 0===s?void 0:s.indexOf(t))>=0&&o&&(n=!0):(null===(c=i[e])||void 0===c||null===(r=c.toLowerCase())||void 0===r?void 0:r.indexOf(t))>=0&&(n=!0)}))):o&&(n=!0),n&&c.push(i)})),c}var b=(0,r.xu)(),_=function(e){var l,a,r,v,u,m=e.data,h=e.accountForm,x=(0,i.useState)(0),_=(0,s.Z)(x,2),j=(_[0],_[1]),f=(0,n.bh)("submayor_group");(0,i.useEffect)((function(){(0,t.rs)(h,N)}),[h]);var N=function(){j((0,n.M5)())},g=null===(l=(0,n.bh)("account_ids"))||void 0===l?void 0:l[null===h||void 0===h?void 0:h.account],y=null===(a=(0,n.bh)("sub_account_ids"))||void 0===a?void 0:a[null===h||void 0===h?void 0:h.subAccount],k=(0,c.s0)(),w=new Date(null===(r=(0,n.bh)("date_range_submayor"))||void 0===r?void 0:r.initDate).getMonth(),F=(0,t.S)(w,h);return(0,d.jsxs)("div",{style:{maxHeight:"80vh",width:"960px",overflow:"auto",background:"var(--hrm_palette-general-background-b)",borderRadius:13,padding:"10px 19px 30px"},children:[(0,d.jsxs)("div",{className:"_dsplFlx ",children:[(0,d.jsx)("p",{className:"title_collect",children:"SubMayor de la Cuenta"}),(0,d.jsx)("div",{className:"flexSpace"}),(0,d.jsx)("p",{className:"group_title addBtn purple",onClick:function(){(0,n.eY)("export_submayor_"+(null===g||void 0===g?void 0:g.code)+"_"+(null!==y&&void 0!==y&&y.subAccount?(null===y||void 0===y?void 0:y.subAccount)+"_":"")+(0,n.M5)()+".csv",(0,t.i_)((0,t.T7)(null===f||void 0===f?void 0:f.operations,null===g||void 0===g?void 0:g.code,null===y||void 0===y?void 0:y.subAccount),null===g||void 0===g?void 0:g.code,null===y||void 0===y?void 0:y.subAccount))},children:"Exportar a CSV"}),(0,n.ML)()&&(null===(v=(0,n.bh)("global_account_params"))||void 0===v?void 0:v.cash_bank)===(null===g||void 0===g?void 0:g.accountId)?(0,d.jsx)("div",{className:"group_title addBtn purple upl",onClick:function(){var e={zIndex:450,height:"80vh",props:{minHeight:"1vh",overlay:!0}};e.content=(0,d.jsx)(p,{accountD:g,subaccountD:y,operations:null===f||void 0===f?void 0:f.operations}),(0,o.OpenModal)(e),(0,o.CloseModal)({id:m.modalID})},children:"Consolidacion Bancaria"}):null]}),(0,d.jsxs)("div",{className:"_dsplFlx cmp_dtls",children:[(0,d.jsxs)("div",{className:" acc_dtls",style:{marginTop:10},children:[(0,d.jsxs)("div",{className:"_dsplFlx",children:[(0,d.jsx)("div",{className:"code",style:{color:"var(--hrm_palette-blue-purple)"},children:null===g||void 0===g?void 0:g.code}),(0,d.jsx)("div",{className:"name",style:{color:"var(--hrm_palette-imput-label_gray)"},children:null===g||void 0===g?void 0:g.name})]}),(0,d.jsx)("div",{className:"flexSpace"}),y?(0,d.jsxs)("div",{className:"_dsplFlx",style:{margin:"10px 0 0 18px"},children:[(0,d.jsx)("div",{className:"code",style:{color:"var(--hrm_palette-inverse-background-b)"},children:null===y||void 0===y?void 0:y.subAccount}),(0,d.jsx)("div",{className:"name",style:{color:"var(--hrm_palette-imput-label_gray)"},children:null===y||void 0===y?void 0:y.subAccountName})]}):null]}),(0,d.jsx)("div",{className:"flexSpace"}),(0,d.jsxs)("div",{className:"_dsplFlx acc_dtls",style:{margin:"18px 10px 0 0"},children:[(0,d.jsx)("div",{className:"name",style:{color:"var(--hrm_palette-imput-label_gray)"},children:"Saldo Inicial"}),(0,d.jsx)("div",{className:"code",style:{marginLeft:10,color:"var(--hrm_palette-blue-purple)"},children:"credit"===g.type?-1*F:F})]}),(0,d.jsx)("div",{className:"_dsplFlx",children:(0,d.jsx)("div",{style:{marginTop:6},children:(0,d.jsx)(b,{onSelect:function(e){var l=e.initDate,a=e.lastDate;(0,n.Rz)("date_range_submayor",{initDate:l,lastDate:a}),(0,t.rs)(h,N)},initMonth:w})})})]}),(0,d.jsxs)("div",{className:"_dsplFlx hdr_bar purple",children:[(0,d.jsx)("div",{className:"tr_bar_s6",children:"Comprobante"}),(0,d.jsx)("div",{className:"tr_bar_s6",children:"Fecha"}),(0,d.jsx)("div",{className:"tr_bar_s6",children:"Documento"}),(0,d.jsx)("div",{className:"tr_bar_s6",children:"Debito"}),(0,d.jsx)("div",{className:"tr_bar_s6",children:"Credito"}),(0,d.jsx)("div",{className:"tr_bar_s6",children:"Saldo"})]}),(0,d.jsx)("div",{className:"scollVh subMHeight",children:(null===f||void 0===f?void 0:f.operations)&&(null===(u=(0,t.T7)(null===f||void 0===f?void 0:f.operations,null===h||void 0===h?void 0:h.account,null===h||void 0===h?void 0:h.subAccount,w))||void 0===u?void 0:u.map((function(e,l){var a,s,i;return(0,d.jsxs)("div",{className:"_dsplFlx hdr_bar",children:[(0,d.jsx)("div",{className:"tr_bar_s6 comprobante_id",onClick:function(){return function(e){(0,o.CloseModal)({id:m.modalID}),k({pathname:"accounting-ledger",search:"?cId=".concat(e.comprobanteId)})}(e)},children:e.comprobanteId}),(0,d.jsx)("div",{className:"tr_bar_s6",children:e.date&&(0,n.sJ)(e.date)}),(0,d.jsx)("div",{className:"tr_bar_s6",children:e.document}),(0,d.jsx)("div",{className:"tr_bar_s6",children:null===(a=1*e.debit)||void 0===a?void 0:a.toFixed(2)}),(0,d.jsx)("div",{className:"tr_bar_s6",children:null===(s=1*e.credit)||void 0===s?void 0:s.toFixed(2)}),(0,d.jsx)("div",{className:"tr_bar_s6",children:null===(i=1*e.saldo)||void 0===i?void 0:i.toFixed(2)})]},l)})))})]})}},1636:function(){},1413:function(e,l,a){a.d(l,{Z:function(){return n}});var s=a(4942);function i(e,l){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);l&&(s=s.filter((function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable}))),a.push.apply(a,s)}return a}function n(e){for(var l=1;l<arguments.length;l++){var a=null!=arguments[l]?arguments[l]:{};l%2?i(Object(a),!0).forEach((function(l){(0,s.Z)(e,l,a[l])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(a,l))}))}return e}}}]);
//# sourceMappingURL=1913.0081fe8e.chunk.js.map