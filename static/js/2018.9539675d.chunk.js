"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[2018,791],{791:(e,a,l)=>{l.r(a),l.d(a,{SumBalanceItm:()=>j,SumBalancePS:()=>g,default:()=>x});var r=l(2791),s=(l(6794),l(2350)),d=l(2502),i=l(7689),t=l(9760),n=l(2647),c=l(1087),o=l(8779),v=(l(3588),l(5381)),m=l(1573),h=l(184);const p=(0,n.LA)(),_=(0,n.PU)(),u=(0,m.uq)(),x=e=>{var a,l,n,c,o;let{data:v,item:m}=e;const[,u]=(0,r.useState)(0);(0,r.useEffect)((()=>{}),[m]);const x=()=>{u((0,s.M5)())},j=((0,i.s0)(),e=>{(0,t.CloseModal)({id:v.modalID})}),N=e=>{if(null!==e&&void 0!==e&&e.initDate&&null!==e&&void 0!==e&&e.lastDate){let a={...e};a.initDate=a.initDate-100,a.lastDate=a.lastDate+8638e4,(0,s.Rz)("date_range_comps",a)}(0,d.lG)(null===m||void 0===m?void 0:m.employeeId,x)};let y=(null===(a=(0,s.bh)("date_range_comps"))||void 0===a?void 0:a.initDate)&&(0,s.sJ)(null===(l=(0,s.bh)("date_range_comps"))||void 0===l?void 0:l.initDate)+"-"+(0,s.sJ)(null===(n=(0,s.bh)("date_range_comps"))||void 0===n?void 0:n.lastDate);return(0,h.jsxs)("div",{style:{maxHeight:"80vh",width:"960px",overflow:"auto",background:"var(--hrm_palette-general-background-b)",borderRadius:13,padding:"10px 19px 30px"},children:[(0,h.jsxs)("div",{className:"_dsplFlx ",children:[(0,h.jsx)("p",{className:"title_collect",children:"Movimientos de Nomina"}),(0,h.jsx)("div",{className:"flexSpace"}),(0,h.jsx)("div",{children:(0,h.jsxs)("div",{className:"filter_date_btn _dsplFlx",onClick:()=>{var e,a;let l={zIndex:950,height:"80vh",props:{minHeight:"1vh",overlay:!0}};l.content=(0,h.jsx)(p,{onConfirm:N,init:null===(e=(0,s.bh)("date_range_comps"))||void 0===e?void 0:e.initDate,last:null===(a=(0,s.bh)("date_range_comps"))||void 0===a?void 0:a.lastDate,colors:{"--calendar-primary-color":"var(--hrm_palette-blue-purple)","--calendar-primary-backcolor":"var(--primary-light)","--calendar-light-backcolor":"var(--hrm_palette-general-background-b)","--calendar-primary-hover-backcolor":"var(--hrm_palette-blue-purple_100)","--calendar-light-300":"var(--disabled)","--calendar-light-200":"var(--dark-800)","--calendar-light-100":"var(--dark-900)","--calendar-dark-800":"var(--hrm_palette-blue-purple_100)","--calendar-white-100":"var(--light-100)","--calendar-white":"var(--dark-700)","--calendar-selected_lbl_color":"var(--light-400)","--calendar-selected_lbl_color":"var(--primary-blue--color-30)"}}),(0,t.OpenModal)(l)},children:[(0,h.jsx)("div",{className:"lbl date",children:y||"Fecha"}),(0,h.jsx)(_,{name:"calendar",color:"#66666"})]})})]}),(0,h.jsx)("div",{className:" acc_dtls",style:{marginTop:10},children:(0,h.jsxs)("div",{className:"_dsplFlx",children:[(0,h.jsx)("div",{className:"code",style:{color:"#646cff"},children:null===m||void 0===m?void 0:m.name}),(0,h.jsx)("div",{className:"name",children:null===m||void 0===m?void 0:m.unit})]})}),(0,h.jsxs)("div",{className:"_dsplFlx acc_dtls",children:[(0,h.jsx)("div",{className:"flexSpace"}),(0,h.jsxs)("div",{className:"_dsplFlx",children:[(0,h.jsx)("div",{className:"code",style:{color:"var(--hrm_palette-item_coll_gray)"},children:"Acumulado:"}),(0,h.jsxs)("div",{className:"name",style:{color:"var(--hrm_palette-inverse-background-b)"},children:["$",null===(c=g((0,s.bh)("paystub_submayor_list")))||void 0===c?void 0:c.toFixed(2)]})]})]}),(0,h.jsxs)("div",{className:"_dsplFlx hdr_bar purple",children:[(0,h.jsx)("div",{className:"tr_bar_5"}),(0,h.jsx)("div",{className:"tr_bar_20",children:"Fecha"}),(0,h.jsx)("div",{className:"tr_bar_20",children:"Comprobante"}),(0,h.jsx)("div",{className:"tr_bar_30",children:"Documento"}),(0,h.jsx)("div",{className:"tr_bar_20",children:"Amount"}),(0,h.jsx)("div",{className:"tr_bar_5"})]}),(0,h.jsx)("div",{className:"scollVh subMHeight",children:(0,s.bh)("paystub_submayor_list")&&(null===(o=(0,s._2)((0,s.bh)("paystub_submayor_list")))||void 0===o?void 0:o.map(((e,a)=>{let l=(0,s.bh)("paystub_submayor_list")[e];return(0,h.jsx)(b,{element:l,close:j,updObserve:x},a)})))})]})},b=e=>{var a;let{element:l,close:r,updObserve:d}=e;const i=async()=>{var e,a;let d={businessId:null===(e=(0,s.bh)("profileUser"))||void 0===e?void 0:e.businessId,year:new Date(l.date).getFullYear(),epaystubId:l.epaystubId},i={...null===(a=(0,s.bh)((0,s.hQ)()))||void 0===a?void 0:a.delete_employee_paystub};i.params=d,(async e=>{const a=(0,s.I7)(e);await a&&setTimeout((()=>{r()}),200)})(i)};let n=(null===l||void 0===l?void 0:l.comprobanteId)&&(null===(a=(0,s.bh)("cmpByPayStubMayor"))||void 0===a?void 0:a[null===l||void 0===l?void 0:l.comprobanteId]),v=n&&(0,s._2)(n).length;return(0,h.jsxs)("div",{className:"_dsplFlx hdr_bar",children:[(0,h.jsx)("div",{className:"tr_bar_5",children:(0,h.jsx)("div",{className:"icon_revision",onClick:()=>{let e={zIndex:450,height:"40vh",props:{minHeight:"1vh",overlay:!0,closeEvent:()=>{}}};const a="view_paystub_employee";(0,s.Rz)(a,l),(0,s.Rz)(a+"_bck",(0,s._I)(l)),e.content=(0,h.jsx)(u,{element:l}),r(),(0,t.OpenModal)(e)},children:(0,h.jsx)(_,{name:v?"check_circle":"alert",color:v?"var(--hrm_palette-success-fg)":"var(--hrm_palette-selected-nav-text)"})})}),(0,h.jsx)("div",{className:"tr_bar_20",children:l.date&&(0,s.sJ)(l.date)}),(0,h.jsx)("div",{className:"tr_bar_20 ",children:(0,h.jsx)(c.OL,{to:{pathname:"/accounting-ledger",search:"?cId=".concat(null===l||void 0===l?void 0:l.comprobanteId)},children:(0,h.jsx)("div",{className:" comprobante_id",onClick:()=>r(l),children:l.comprobanteId})})}),(0,h.jsx)("div",{className:"tr_bar_30",children:v?l.document:""}),(0,h.jsxs)("div",{className:"tr_bar_20",children:["$",j(l).toFixed(2)]}),(0,h.jsx)("div",{className:"tr_bar_5",children:(0,h.jsx)("div",{className:"icon tr_bar_5",onClick:()=>{let e={zIndex:450,height:"40vh",props:{minHeight:"1vh",overlay:!0,closeEvent:()=>{}}},a=(0,h.jsxs)("div",{className:"_dsplFlx ",children:[(0,h.jsx)("div",{className:"centerBx",children:(0,h.jsx)(_,{name:"alert",color:"var(--hrm_palette-selected-nav-text)"})}),(0,h.jsx)("h4",{className:"",style:{padding:4,margin:0},children:"Peligro va a eliminar un Paystub!!!"})]});e.content=(0,h.jsx)(o.Z,{label:a,labelColor:"var(--hrm_palette-selected-nav-text)",body:"debe saber que no podra recuperarlo",btnConfirm:"OK",confirm:i}),(0,t.OpenModal)(e)},children:(0,h.jsx)(_,{name:"outline_delete",color:"#c62828"})})})]})},j=e=>{let a=0,l=(0,v.jd)(null===e||void 0===e?void 0:e.hourly,null===e||void 0===e?void 0:e.payrate,null===e||void 0===e?void 0:e.lunchDuration,null===e||void 0===e?void 0:e.hasOvertime),r=l.regularPayment+l.overtimePayment,d=N(null===e||void 0===e?void 0:e.otherDeductions);return a=1*(0,s.Zv)(a,2)+1*(0,s.Zv)(r,2)+1*(0,s.Zv)(d,2),a},g=e=>{var a;let l=0;return e&&(null===(a=(0,s._2)(e))||void 0===a||a.map(((a,r)=>{let d=e[a],i=(0,v.jd)(null===d||void 0===d?void 0:d.hourly,null===d||void 0===d?void 0:d.payrate,null===d||void 0===d?void 0:d.lunchDuration,null===d||void 0===d?void 0:d.hasOvertime),t=i.regularPayment+i.overtimePayment,n=N(null===d||void 0===d?void 0:d.otherDeductions);l=1*(0,s.Zv)(l,2)+1*(0,s.Zv)(t,2)+1*(0,s.Zv)(n,2)}))),l},N=e=>{var a;let l=0;return e&&(null===(a=(0,s._2)(e))||void 0===a||a.map(((a,r)=>{let d=e[a].amount;l=1*(0,s.Zv)(l,2)+1*(0,s.Zv)(d,2)}))),l}},2018:(e,a,l)=>{l.r(a),l.d(a,{default:()=>u});var r=l(2791),s=(l(6794),l(2350)),d=l(2502),i=l(7689),t=l(9760),n=l(2647),c=l(1087),o=l(8779),v=l(3588),m=l(791),h=l(184);const p=(0,n.h0)(),_=(0,n.PU)(),u=e=>{var a,l,n,c,o;let{data:v,item:u}=e;const[,b]=(0,r.useState)(0);(0,r.useEffect)((()=>{}),[u]);const j=()=>{b((0,s.M5)())},g=((0,i.s0)(),e=>{(0,t.CloseModal)({id:v.modalID})}),N=e=>{if(null!==e&&void 0!==e&&e.initDate&&null!==e&&void 0!==e&&e.lastDate){let a={...e};a.initDate=a.initDate-100,a.lastDate=a.lastDate+8638e4,(0,s.Rz)("date_range_comps",a)}(0,d.lG)(null===u||void 0===u?void 0:u.employeeId,j)};let y=(null===(a=(0,s.bh)("date_range_comps"))||void 0===a?void 0:a.initDate)&&(0,s.sJ)(null===(l=(0,s.bh)("date_range_comps"))||void 0===l?void 0:l.initDate)+"-"+(0,s.sJ)(null===(n=(0,s.bh)("date_range_comps"))||void 0===n?void 0:n.lastDate);return(0,h.jsxs)("div",{style:{maxHeight:"80vh",width:"960px",overflow:"auto",background:"var(--hrm_palette-general-background-b)",borderRadius:13,padding:"10px 19px 30px"},children:[(0,h.jsxs)("div",{className:"_dsplFlx ",children:[(0,h.jsx)("p",{className:"title_collect",children:"Movimientos de Nomina"}),(0,h.jsx)("div",{className:"flexSpace"}),(0,h.jsx)("div",{children:(0,h.jsxs)("div",{className:"filter_date_btn _dsplFlx",onClick:()=>{var e,a;let l={zIndex:950,height:"80vh",props:{minHeight:"1vh",overlay:!0}};l.content=(0,h.jsx)(p,{onConfirm:N,init:null===(e=(0,s.bh)("date_range_comps"))||void 0===e?void 0:e.initDate,last:null===(a=(0,s.bh)("date_range_comps"))||void 0===a?void 0:a.lastDate,isRange:!0,colors:{"--calendar-primary-color":"var(--hrm_palette-blue-purple)","--calendar-primary-backcolor":"var(--primary-light)","--calendar-light-backcolor":"var(--hrm_palette-general-background-b)","--calendar-primary-hover-backcolor":"var(--hrm_palette-blue-purple_100)","--calendar-light-300":"var(--disabled)","--calendar-light-200":"var(--dark-800)","--calendar-light-100":"var(--dark-900)","--calendar-dark-800":"var(--hrm_palette-blue-purple_100)","--calendar-white-100":"var(--light-100)","--calendar-white":"var(--dark-700)","--calendar-selected_lbl_color":"var(--light-400)","--calendar-selected_lbl_color":"var(--primary-blue--color-30)"}}),(0,t.OpenModal)(l)},children:[(0,h.jsx)("div",{className:"lbl date",children:y||"Fecha"}),(0,h.jsx)(_,{name:"calendar",color:"#66666"})]})})]}),(0,h.jsx)("div",{className:" acc_dtls",style:{marginTop:10},children:(0,h.jsxs)("div",{className:"_dsplFlx",children:[(0,h.jsx)("div",{className:"code",style:{color:"#646cff"},children:null===u||void 0===u?void 0:u.name}),(0,h.jsx)("div",{className:"name",children:null===u||void 0===u?void 0:u.unit})]})}),(0,h.jsxs)("div",{className:"_dsplFlx acc_dtls",children:[(0,h.jsx)("div",{className:"flexSpace"}),(0,h.jsxs)("div",{className:"_dsplFlx",children:[(0,h.jsx)("div",{className:"code",style:{color:"var(--hrm_palette-item_coll_gray)"},children:"Acumulado:"}),(0,h.jsxs)("div",{className:"name",style:{color:"var(--hrm_palette-inverse-background-b)"},children:["$",null===(c=(0,m.SumBalancePS)((0,s.bh)("paystub_submayor_group")))||void 0===c?void 0:c.toFixed(2)]})]})]}),(0,h.jsxs)("div",{className:"_dsplFlx hdr_bar purple",children:[(0,h.jsx)("div",{className:"tr_bar_30",children:"Comprobante"}),(0,h.jsx)("div",{className:"tr_bar_20",children:"Fecha"}),(0,h.jsx)("div",{className:"tr_bar_30",children:"Documento"}),(0,h.jsx)("div",{className:"tr_bar_20",children:"Amount"})]}),(0,h.jsx)("div",{className:"scollVh subMHeight",children:(0,s.bh)("paystub_submayor_group")&&(null===(o=(0,s._2)((0,s.bh)("paystub_submayor_group")))||void 0===o?void 0:o.map(((e,a)=>{let l=(0,s.bh)("paystub_submayor_group")[e];return(0,h.jsx)(x,{element:l,close:g,updObserve:j},a)})))})]})},x=e=>{var a;let{element:l,close:r,updObserve:d}=e;const i=()=>{(0,v.WB)(l.operations,r)};return null!==l&&void 0!==l&&l.comprobanteId&&0!==(null===l||void 0===l?void 0:l.balance)?(0,h.jsxs)("div",{className:"_dsplFlx hdr_bar",children:[(0,h.jsx)("div",{className:"tr_bar_30 ",children:(0,h.jsx)(c.OL,{to:{pathname:"/accounting-ledger",search:"?cId=".concat(null===l||void 0===l?void 0:l.comprobanteId)},children:(0,h.jsx)("div",{className:" comprobante_id",onClick:()=>r(l),children:l.comprobanteId})})}),(0,h.jsx)("div",{className:"tr_bar_20",children:l.date&&(0,s.sJ)(l.date)}),(0,h.jsx)("div",{className:"tr_bar_30",children:l.document}),(0,h.jsxs)("div",{className:"tr_bar_20",children:["$",null===(a=1*l.balance)||void 0===a?void 0:a.toFixed(2)]})]}):(0,h.jsxs)("div",{className:"_dsplFlx hdr_bar",children:[(0,h.jsx)("div",{className:"tr_bar_90",children:(0,h.jsx)("div",{className:"name comprobante_id",style:{color:"var(--hrm_palette-selected-nav-text)"},children:"El registro contiene errores"})}),(0,h.jsx)("div",{className:"tr_bar_10",children:(0,h.jsx)("div",{className:"icon",onClick:()=>(()=>{let e={zIndex:450,height:"40vh",props:{minHeight:"1vh",overlay:!0,closeEvent:()=>{}}},a=(0,h.jsxs)("div",{className:"_dsplFlx ",children:[(0,h.jsx)("div",{className:"centerBx",children:(0,h.jsx)(_,{name:"alert",color:"var(--hrm_palette-selected-nav-text)"})}),(0,h.jsx)("h4",{className:"",style:{padding:4,margin:0},children:"Peligro va a eliminar registros contables!!!"})]});e.content=(0,h.jsx)(o.Z,{label:a,labelColor:"var(--hrm_palette-selected-nav-text)",body:"los registros estan corruptos pero debe saber que no podra recuperarlos",btnConfirm:"OK",confirm:i}),(0,t.OpenModal)(e)})(),children:(0,h.jsx)(_,{name:"outline_delete",color:"var(--hrm_palette-selected-nav-text)"})})})]})}},8779:(e,a,l)=>{l.d(a,{Z:()=>d});l(2791),l(1534);var r=l(9760),s=l(184);const d=e=>{let{data:a,confirm:l,label:d,labelColor:i,body:t,btnConfirm:n,theme:c}=e;const{modalID:o}=a,v=e=>{(0,r.CloseModal)({id:o})};let m=c||"red";return(0,s.jsxs)("div",{style:{maxHeight:"40vh",minHeight:"28vh",minWidth:"560px",overflow:"auto",background:"#fff",borderRadius:13,padding:"10px 19px"},children:[(0,s.jsxs)("div",{className:"_dsplFlx ",children:[(0,s.jsx)("p",{className:"form_title",style:i?{color:i}:null,children:d}),(0,s.jsx)("div",{className:"flexSpace"})]}),(0,s.jsx)("div",{className:"_dsplFlx ",style:{margin:"15px 0"},children:(0,s.jsx)("span",{children:t||"Una vez eliminado no podra ser recuperado"})}),(0,s.jsxs)("div",{className:"_dsplFlx ",style:{padding:"15px 10px"},children:[(0,s.jsx)("div",{className:"flexSpace"}),(0,s.jsx)("p",{className:"group_title addBtn",onClick:v,children:"Cancelar"}),(0,s.jsx)("p",{className:"group_title addBtn ".concat(m),onClick:()=>{l&&l(),v()},children:n||"Eliminar"})]})]})}},1534:()=>{}}]);
//# sourceMappingURL=2018.9539675d.chunk.js.map