"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[2057],{1142:(e,l,a)=>{a.d(l,{Z:()=>d});var t=a(2791),n=(a(6732),a(2647)),s=a(6245),i=a(184);const r=(0,n.PU)(),d=e=>{var l;let{init:a,onSelect:n,lbl_empty:d,direction:c,background:o,color:h,width:v,func:p,extraParam:u}=e;const[_,m]=(0,t.useState)([]),[x,b]=(0,t.useState)(!1),[j,f]=(0,t.useState)(""),g=(0,t.useRef)(!1),N=(0,t.useRef)(null);let k=(0,s.Z)(j);(0,t.useEffect)((()=>(k?y(k):m([]),()=>{})),[k]);const y=async e=>{let l=await p(e,u);m(l)},w=e=>{g.current?(g.current=!1,b(!1),e&&n(e)):g.current||(b(!0),setTimeout((()=>{g.current=!0}),50))};let F=null===(l=_.filter((e=>e.id===a)))||void 0===l?void 0:l[0],I=c||"left",C={"--color-pck":h||null,"--backColor-pck":o||null,"--width-pck":v||"130px"};return(0,i.jsxs)("div",{id:"drpdwn_click_outside",open:x,style:C,children:[(0,i.jsxs)("div",{className:"filter_month_btn _dsplFlx",onClick:w,children:[(0,i.jsx)("div",{className:"lbl date",children:(null===F||void 0===F?void 0:F.label)||d}),(0,i.jsx)(r,{name:"arrow_drop_down",color:"var(--color-pck)"})]}),x?(0,i.jsxs)("div",{className:"OpenBoxContainer",style:o?{backgroundColor:o}:null,direction:"".concat(I),children:[(0,i.jsxs)("div",{className:" _dsplFlx",children:[(0,i.jsx)("input",{className:"OpenBoxInput",placeholder:"search",onChange:async e=>{f(e.target.value)},ref:N}),(0,i.jsx)("div",{className:"icon_close",onClick:async e=>{N.current.value="",y(""),n(null),w()},children:(0,i.jsx)(r,{name:"cancel",color:"var(--color-pck)",size:18})})]}),(0,i.jsx)("div",{className:"separator"}),(0,i.jsx)("div",{className:" monthList",style:{},children:_.map(((e,l)=>{let a=e.label;return a?(0,i.jsx)("div",{className:"filter_month_item _dsplFlx",onClick:()=>{w(e)},children:(0,i.jsx)("div",{className:"lbl tr_bar_90 ",style:{marginLeft:5},children:a})},a+"_"+l):null}))})]}):null]})}},4483:(e,l,a)=>{a.d(l,{Z:()=>h});var t=a(2791),n=a(2350),s=a(2647),i=(a(7889),a(9760)),r=a(184);(0,s.YZ)();const d=(0,s.Np)(),c=((0,s.tL)(),(0,s.A5)()),o="new_area_location",h=e=>{var l,a;let{data:s,confirm:h}=e;const[v,p]=(0,t.useState)(!1),[u,_]=(0,t.useState)(0);(0,t.useEffect)((()=>{v||(p(!0),_((0,n.M5)()))}));const m=(e,l,a)=>{let t=(0,n.bh)(o)||{};a?(t[a]||(t[a]={}),t[a][e]=l):t[e]=l,(0,n.Rz)(o,t),_((0,n.M5)())};return(0,r.jsxs)("div",{style:{maxHeight:"80vh",width:"560px",overflow:"auto",background:"var(--hrm_palette-general-background-b)",borderRadius:13,padding:"10px 19px"},children:[(0,r.jsxs)("div",{className:"_dsplFlx ",children:[(0,r.jsx)("p",{className:"form_title",children:"Add Location"}),(0,r.jsx)("div",{className:"flexSpace"})]}),(0,r.jsx)("div",{className:"_dsplFlx spaceAround",children:(0,r.jsx)(c,{init:null===(l=(0,n.bh)(o))||void 0===l?void 0:l.areaId,lbl_empty:"Area",list:[{label:"Almacen",id:"WH"},{label:"Production",id:"PR"},{label:"Patio",id:"PT"}],onSelect:e=>m("areaId",e.id),background:"#f9f9f9",color:"var(--hrm_palette-blue-purple)",direction:"left",width:"220px"})}),(0,r.jsx)("div",{className:"_dsplFlx spaceAround",style:{marginTop:20},children:(0,r.jsx)(d,{init:null===(a=(0,n.bh)(o))||void 0===a?void 0:a.location,label:"Location",width:320,updChanges:e=>m("location",e)})}),(0,r.jsxs)("div",{className:"_dsplFlx ",children:[(0,r.jsx)("div",{className:"flexSpace"}),(0,r.jsx)("div",{className:"card",children:(0,r.jsx)("button",{onClick:async()=>{var e,l;let a=(0,n.bh)(o);a.areaLocationId=(0,n.M5)();let t={...null===(e=(0,n.bh)((0,n.hQ)()))||void 0===e?void 0:e.add_area_location};t.params={businessId:null===(l=(0,n.bh)("profileUser"))||void 0===l?void 0:l.businessId},t.form=a;const r=(0,n.I7)(t);await r&&((0,n.Rz)(o,{}),h&&h(),(null===s||void 0===s?void 0:s.modalID)&&(0,i.CloseModal)({id:null===s||void 0===s?void 0:s.modalID}))},children:"Guardar"})})]})]})}},2057:(e,l,a)=>{a.r(l),a.d(l,{default:()=>j});var t=a(2791),n=a(2350),s=a(2647),i=a(9760),r=(a(7889),a(24)),d=a(713),c=a(4050),o=(a(4483),a(6824),a(1142)),h=a(184);const v=(0,s.Vg)(),p=(0,s.PU)(),u=(0,r.i8)(),_=(0,s.A5)(),m=(0,s.LA)(),x=(0,r.dZ)(),b=(0,r.JK)(),j=e=>{var l,a,s,r,j;let{data:f,elmId:g,updObs:N}=e;const[k,y]=(0,t.useState)(!1),[,w]=(0,t.useState)(0),[F,I]=(0,t.useState)(!1);(0,t.useEffect)((()=>{k||(y(!0),w((0,n.M5)()),(0,d.N0)(C),(0,c.Ht)("global_accounts","global_account_params",N))}));const C=e=>{D()},S=e=>{I(!0),(0,d._U)(D)},D=async(e,l)=>{w((0,n.M5)()),I(!1)},L=e=>{},A=(e,l)=>{(0,n.Rz)(e,l),S()},R=e=>{if(null!==e&&void 0!==e&&e.initDate&&null!==e&&void 0!==e&&e.lastDate){let l={...e};l.initDate=l.initDate-100,l.lastDate=l.lastDate+8638e4,(0,n.Rz)("date_range_inv_loc",l)}S()},B=e=>{(0,n.Rz)("date_range_inv_loc",{}),S()};let z=(null===(l=(0,n.bh)("date_range_inv_loc"))||void 0===l?void 0:l.initDate)&&(0,n.sJ)(null===(a=(0,n.bh)("date_range_inv_loc"))||void 0===a?void 0:a.initDate)+" - "+(0,n.sJ)(null===(s=(0,n.bh)("date_range_inv_loc"))||void 0===s?void 0:s.lastDate);return(0,h.jsxs)("div",{className:"inv_loc_dash",children:[(0,h.jsxs)("div",{className:"accounts_header",children:[(0,h.jsx)("h2",{children:"Inventory and Locations"}),(0,h.jsxs)("div",{className:"_dsplFlx ",children:[(0,n.I0)()?(0,h.jsx)("p",{className:"btn_lkjh addBtn purple",onClick:()=>{let e={zIndex:450,height:"80vh",props:{minHeight:"1vh",overlay:!0}};e.content=(0,h.jsx)(x,{}),(0,i.OpenModal)(e)},children:"Locations"}):null,(0,n.I0)()?(0,h.jsx)("p",{className:"btn_lkjh addBtn purple",onClick:()=>{let e={zIndex:450,height:"80vh",props:{minHeight:"1vh",overlay:!0}};e.content=(0,h.jsx)(b,{}),(0,i.OpenModal)(e)},children:"Inventory By Location"}):null]})]}),(0,h.jsxs)("div",{className:"_dsplFlx ",style:{marginTop:14},children:[(0,h.jsx)(v,{placeholder:"Buscar ....",width:560,obs:w,fetchData:S,loading:F,change:e=>{!F&&I(!0)},callempty:e=>{(0,d._U)(D)},keyFlds:"searchLocationQry"}),(0,h.jsx)("div",{className:"_dsplFlx spaceAround",style:{padding:3},children:(0,h.jsx)(_,{init:(0,n.bh)("locationId2F"),lbl_empty:"Location",list:(0,n.bh)("location_drpdwn")||[],onSelect:e=>A("locationId2F",e.id),background:"#f9f9f9",color:"var(--hrm_palette-blue-purple)",direction:"left",width:"220px"})}),(0,h.jsx)("div",{className:"_dsplFlx spaceAround",style:{padding:3},children:(0,h.jsx)(o.Z,{init:(0,n.bh)("productId2F"),lbl_empty:"Product",func:d.yJ,onSelect:e=>A("productId2F",e.id),background:"#f9f9f9",color:"var(--hrm_palette-blue-purple)",direction:"left",width:"280px"})}),(0,h.jsxs)("div",{className:"filter_date_btn _dsplFlx",onClick:()=>{var e,l;let a={zIndex:950,height:"80vh",props:{minHeight:"1vh",overlay:!0}};a.content=(0,h.jsx)(m,{onConfirm:R,onClear:B,init:null===(e=(0,n.bh)("date_range_inv_loc"))||void 0===e?void 0:e.initDate,last:null===(l=(0,n.bh)("date_range_inv_loc"))||void 0===l?void 0:l.lastDate,isRange:!0,hasClear:!0,colors:{"--calendar-primary-color":"var(--hrm_palette-blue-purple)","--calendar-primary-backcolor":"var(--primary-light)","--calendar-light-backcolor":"var(--hrm_palette-general-background-b)","--calendar-primary-hover-backcolor":"var(--hrm_palette-blue-purple_100)","--calendar-light-300":"var(--disabled)","--calendar-light-200":"var(--dark-800)","--calendar-light-100":"var(--dark-900)","--calendar-dark-800":"var(--hrm_palette-blue-purple_100)","--calendar-white-100":"var(--light-100)","--calendar-white":"var(--dark-700)","--calendar-selected_lbl_color":"var(--light-400)","--calendar-selected_lbl_color":"var(--primary-blue--color-30)"}}),(0,i.OpenModal)(a)},children:[(0,h.jsx)("div",{className:"lbl date",children:z||"Fecha"}),(0,h.jsx)(p,{name:"calendar",color:"#66666"})]}),(0,h.jsx)("div",{className:"flexSpace"}),(0,h.jsxs)("div",{className:"_dsplFlx ",children:[(0,h.jsx)("div",{className:"total_comprobante_title",children:"No:"}),(0,h.jsx)("div",{className:"total_comprobante gray",children:(0,h.jsx)("span",{children:null===(r=(0,n._2)((0,n.bh)("inv_location_list")))||void 0===r?void 0:r.length})})]})]}),(0,h.jsxs)("div",{className:"_dsplFlx hdr_bar purple",style:{marginTop:10},children:[(0,h.jsxs)("div",{className:"_dsplFlx tr_bar_90 ",children:[(0,h.jsx)("div",{className:" tr_bar_20 centerBx",children:"Fecha"}),(0,h.jsx)("div",{className:" tr_bar_20 centerBx",children:"Location"}),(0,h.jsx)("div",{className:" tr_bar_20 centerBx",children:"Code"}),(0,h.jsx)("div",{className:" tr_bar_20 centerBx",children:"Product"})]}),(0,h.jsx)("div",{className:"flexSpace"}),(0,h.jsx)("div",{className:"icon tr_bar_5"})]}),(0,h.jsx)("div",{className:"movements_container scollVh",children:(0,n.bh)("inv_location_list")&&(null===(j=(0,n._2)((0,n.bh)("inv_location_list")))||void 0===j?void 0:j.map((e=>(0,h.jsx)(u,{data:(0,n.bh)("inv_location_list")[e],elmId:e,openUpdateView:L,handleRefreshAll:S},e))))})]})}},6245:(e,l,a)=>{a.d(l,{Z:()=>n});var t=a(2791);const n=e=>{const[l,a]=(0,t.useState)(null),[n,s]=(0,t.useState)(""),[i,r]=(0,t.useState)(null);return(0,t.useEffect)((()=>{l||s(e),l>0&&l<Date.now()||i&&clearTimeout(i);let t=setTimeout((()=>{l>0&&l<Date.now()&&e!==n&&s(e)}),250);return r(t),a(Date.now()+220),()=>{}}),[e]),n}},6732:()=>{},7889:()=>{}}]);
//# sourceMappingURL=2057.0064a7f2.chunk.js.map