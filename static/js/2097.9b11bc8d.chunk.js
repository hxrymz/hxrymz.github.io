"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[2097],{2097:function(e,i,t){t.r(i);var s=t(9439),l=t(2791),a=(t(1512),t(9760),t(2647)),n=t(2350),d=t(184),o=(0,a.PU)(),c=(0,a.Np)(),r=function(e){var i,t,a=e.pageSize,o=e.photoType,c=e.urlImag,r=e.customGap,v=(0,l.useState)(1),p=(0,s.Z)(v,2),x=(p[0],p[1]),m="".concat(null===a||void 0===a?void 0:a[0],"X").concat(null===a||void 0===a?void 0:a[1]),u=function(e,i,t){var s=new Image,l=r||8;s.onload=function(){for(var i=s.width/t[0]*e[0],a=s.height/t[1]*e[1],d=Math.floor(i/s.width),o=Math.floor(a/s.height),c=i-d*s.width,r=a-o*s.height,h=(c-(d-1)*l)/2,v=r/(o+1),p=c>0?0:l/2,u=r>0?0:l/2,f=[],g=0;g<o;g++)for(var w=0;w<d;w++){var j=0===w?h:h+w*l,b={x:w*s.width+j,y:g*s.height+v*(g+1),w:s.width-p,h:s.height-u};f.push(b)}var N={pgW:i,pgH:a};(0,n.Rz)("svgData_"+m,{dmz:N,imagesPosition:f}),x((0,n.M5)())},s.src=i};(0,l.useEffect)((function(){u(a,c,o)}),[a,o,c]);var f=(0,n.bh)("svgData_"+m);return null!==f&&void 0!==f&&null!==(i=f.dmz)&&void 0!==i&&i.pgH?(0,d.jsxs)("svg",{id:m,xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 ".concat(null===f||void 0===f||null===(t=f.dmz)||void 0===t?void 0:t.pgW," ").concat(f.dmz.pgH),preserveAspectRatio:"xMidYMid meet",children:[(0,d.jsx)("style",{type:"text/css",children:'@font-face {\n\t\t\t\t\t\t\t\tfont-family: "Google Sans";\n\t\t\t\t\t\t\t\tsrc: url(http://fonts.gstatic.com/s/googlesans/v14/4UabrENHsxJlGDuGo1OIlLU94YtzCwY.woff2)\n\n\t\t\t\t\t\t\t}'}),(0,d.jsx)("rect",{width:f.dmz.pgW,height:f.dmz.pgH,fill:"#ffffff"}),f.imagesPosition.map((function(e,i){return(0,d.jsx)(h,{idKey:m,im:e,urlImag:c},i+"_svg"+m)}))]}):null},h=function(e){var i=e.urlImag,t=e.im,a=e.idKey,o=(0,l.useState)(!0),c=(0,s.Z)(o,2),r=c[0],h=c[1],v=(0,l.useState)(1),p=(0,s.Z)(v,2);p[0],p[1];return(0,d.jsx)("image",{onClick:function(e){e.stopPropagation(),e.preventDefault(),(0,n.bh)("activeFrame")},onContextMenu:function(e){e.stopPropagation(),e.preventDefault(),(0,n.bh)("activeFrame")===a&&h(!r)},width:null===t||void 0===t?void 0:t.w,height:null===t||void 0===t?void 0:t.h,x:null===t||void 0===t?void 0:t.x,y:null===t||void 0===t?void 0:t.y,xmlnsXlink:"http://www.w3.org/1999/xlink",xlinkHref:r?i:""})},v=function(e){var i=document.getElementById(e),t=i.getBBox(),s=(t.width,t.height,i.cloneNode(!0).outerHTML),l=new Blob([s],{type:"image/svg+xml;charset=utf-8"});return(window.URL||window.webkitURL||window).createObjectURL(l)},p=function(e){var i=e.pageSize,t=e.url,s=e.photoSize,l=e.title,a=e.updObs,o=e.customGap,c="".concat(null===i||void 0===i?void 0:i[0],"X").concat(null===i||void 0===i?void 0:i[1]);return null!==i&&void 0!==i&&i[0]&&t?(0,d.jsx)("div",{className:"photo_frame ".concat((0,n.bh)("activeFrame")===c?"activeFrame":""),style:{margin:"10px 3px"},onClick:function(e){(0,n.bh)("activeFrame")!==c&&((0,n.Rz)("activeFrame",c),a())},children:(0,d.jsxs)(m,{children:[(0,d.jsxs)("div",{className:"_dsplFlx ",style:{width:"100%"},children:[(0,d.jsx)("div",{className:"flexSpace"}),(0,d.jsx)("div",{style:{maxWidth:360,height:"40vmin",padding:"5px!important"},children:(0,d.jsx)(r,{pageSize:i,urlImag:t,photoType:s,customGap:o})}),(0,d.jsx)("div",{className:"flexSpace"})]}),(0,d.jsxs)("div",{className:"_dsplFlx ",style:{padding:9,width:"100%"},children:[(0,d.jsx)("div",{className:"flexSpace"}),(0,d.jsx)("div",{className:"iMTYiw hiKoiM",children:l}),(0,d.jsx)("div",{className:"flexSpace"})]}),(0,n.bh)("activeFrame")===c?(0,d.jsxs)("div",{className:"_dsplFlx ",style:{width:"100%"},children:[(0,d.jsx)("div",{className:"flexSpace"}),(0,d.jsx)("div",{className:"_dsplFlx ",style:{maxWidth:360},children:(0,d.jsx)("button",{width:"85%",className:"clGojg iSTOvb kvXcCL",onClick:function(){var e=v(c);window.open(e)},children:"Print"})}),(0,d.jsx)("div",{className:"flexSpace"})]}):null]})}):null},x={"4\xbc\u2033 x 5\xbd\u2033":[4.25,5.5],"4\u2153\u2033 x 5.9\u2033":[4.333,5.9],"3\xbd\u2033 x 5\xbc\u2033":[3.5,5.25],"8\xbd\u2033 x 11\u2033":[8.5,11],"6\u2033 x 4\u2033":[6,4],"7\u2033 x 5\u2033":[7,5]};i.default=function(e){e.title,e.updObPrnt;var i,t,a,r,h,v,u,f,g,w,j,b,N=(0,l.useState)(1),_=(0,s.Z)(N,2),S=(_[0],_[1]),z=(0,l.useState)(!1),y=(0,s.Z)(z,2),F=y[0],k=y[1];(0,l.useEffect)((function(){F||k(!0)}),[]);var R=function(e){S((0,n.M5)())},G=function(){var e=(0,n.bh)("preview_src");(0,n.Rz)("image_2_template",null),(0,n.Rz)("error_image",null);var i=new Image;i.onload=function(){var t=C(),s=i.width/t[0],l=i.height/t[1],a=i.width>i.height?t[1]:t[0],d=i.width>i.height?i.width:i.height,o={oh:i.height,ow:i.width,h:i.height*a,w:i.width*a,rw:d*t[0]+30,rh:d*t[1]+30};(0,n.Rz)("preview_dmz",o),Math.floor(s)===Math.floor(l)?(0,n.Rz)("image_2_template",e):(0,n.Rz)("error_image",{dmz:i,error:409}),R()},e&&(i.src=e)},M=function(e,i){(0,n.Rz)([e],i),R()},C=function(){var e,i,t=[];return null===(e=(0,n.bh)("photoDimension"))||void 0===e||null===(i=e.split(","))||void 0===i||i.map((function(e){1*e&&t.push(e)})),t.length>1?t:null};return(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"_dsplFlx ",style:{padding:9,width:"100%"},children:[(0,d.jsx)("img",{id:"face_id_recognition"}),(0,d.jsx)("div",{className:"flexSpace"}),(0,d.jsxs)("div",{className:"_dsplFlx ",children:[(0,d.jsx)(c,{init:(0,n.bh)("photoDimension"),label:"Dimension Foto ( inch )",width:160,updChanges:function(e){return M("photoDimension",e)}}),(0,d.jsx)("div",{className:"flexSpace"})]}),(0,d.jsx)("div",{className:"flexSpace"}),(0,d.jsx)(c,{init:(0,n.bh)("photoGapSpace"),label:"Espacio ( px )",width:160,type:"number",updChanges:function(e){return M("photoGapSpace",e)}}),(0,d.jsx)("div",{className:"flexSpace"}),(0,d.jsx)("div",{className:"clGojg iSTOvb kvXcCL",style:{padding:9,width:"23%"},onClick:G,children:"Recalcuar Imagen"}),(0,d.jsx)("div",{className:"flexSpace"}),(0,d.jsxs)("div",{className:"clGojg iSTOvb kvXcCL upl",children:["Subir Imagen",(0,d.jsx)("input",{id:"fileupload",type:"file",onChange:function(e){var i=e.target.files[0],t=new FileReader;t.addEventListener("load",(function(){console.log("preview_src"),console.log(t.result),(0,n.Rz)("preview_src",t.result),G(t.result)}),!1),i&&t.readAsDataURL(i)}})]}),(0,d.jsx)("div",{className:"flexSpace"})]}),(0,n.bh)("preview_src")?(0,d.jsxs)("div",{className:"_dsplFlx spaceAround flxWrp ",style:{padding:9},children:[(0,d.jsx)("div",{className:"flexSpace"}),(0,d.jsxs)(m,{children:[(0,d.jsxs)("div",{className:"_dsplFlx ",style:{width:"100%"},children:[(0,d.jsx)("div",{className:"flexSpace"}),(0,d.jsx)("div",{style:{maxWidth:360,height:"40vmin",padding:"5px!important"},children:(0,d.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 ".concat(null===(i=(0,n.bh)("preview_dmz"))||void 0===i?void 0:i.rw," ").concat(null===(t=(0,n.bh)("preview_dmz"))||void 0===t?void 0:t.rh),preserveAspectRatio:"xMidYMid meet",children:[(0,d.jsx)("style",{type:"text/css",children:'@font-face {\n\t\t\t\t\t\t\t\tfont-family: "Google Sans";\n\t\t\t\t\t\t\t\tsrc: url(http://fonts.gstatic.com/s/googlesans/v14/4UabrENHsxJlGDuGo1OIlLU94YtzCwY.woff2)\n\n\t\t\t\t\t\t\t}'}),(0,d.jsx)("rect",{width:null===(a=(0,n.bh)("preview_dmz"))||void 0===a?void 0:a.rw,height:null===(r=(0,n.bh)("preview_dmz"))||void 0===r?void 0:r.rh,fill:"#171921",stroke:409===(null===(h=(0,n.bh)("error_image"))||void 0===h?void 0:h.error)?"#F7251A":"#fff",style:{strokeWidth:60}}),(0,d.jsx)("image",{width:null===(v=(0,n.bh)("preview_dmz"))||void 0===v?void 0:v.w,height:null===(u=(0,n.bh)("preview_dmz"))||void 0===u?void 0:u.h,x:15,y:15,xmlnsXlink:"http://www.w3.org/1999/xlink",xlinkHref:(0,n.bh)("preview_src")})]})}),(0,d.jsx)("div",{className:"flexSpace"})]}),(0,d.jsxs)("div",{className:"_dsplFlx ",style:{padding:9,width:"100%"},children:[(0,d.jsx)("div",{className:"flexSpace"}),(0,d.jsx)("div",{className:"iMTYiw hiKoiM",children:(0,d.jsxs)("div",{className:'"_dsplFlx  valid-image '.concat(409===(null===(f=(0,n.bh)("error_image"))||void 0===f?void 0:f.error)?"error":"valid"),children:[(0,d.jsx)("div",{children:(0,d.jsx)(o,{name:409===(null===(g=(0,n.bh)("error_image"))||void 0===g?void 0:g.error)?"alert":"success",size:32})}),(0,d.jsx)("span",{children:409===(null===(w=(0,n.bh)("error_image"))||void 0===w?void 0:w.error)?"La imagen no tiene las dimensiones correctas (".concat(null===(j=(0,n.bh)("preview_dmz"))||void 0===j?void 0:j.ow," X ").concat(null===(b=(0,n.bh)("preview_dmz"))||void 0===b?void 0:b.oh,")"):"Perfecto"})]})}),(0,d.jsx)("div",{className:"flexSpace"})]})]}),(0,d.jsx)("div",{className:"flexSpace"})]}):null,(0,d.jsxs)("div",{className:"_dsplFlx spaceAround flxWrp ",style:{padding:9},children:[(0,d.jsx)("div",{className:"flexSpace"}),C()&&(0,n._2)(x).map((function(e){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(p,{pageSize:x[e],url:(0,n.bh)("image_2_template"),photoSize:(0,n.bh)("photoDimension").split(","),title:e,customGap:(0,n.bh)("photoGapSpace"),updObs:R}),(0,d.jsx)("div",{className:"flexSpace"})]})}))]})]})};var m=function(e){e.title;var i=e.children;return(0,d.jsx)("div",{className:"jRutKh",children:(0,d.jsx)("div",{className:"jSvsvz",children:(0,d.jsx)("div",{className:"jzcvbH",children:(0,d.jsx)("div",{className:" kfqEsq",children:i})})})})}},1512:function(){}}]);
//# sourceMappingURL=2097.9b11bc8d.chunk.js.map