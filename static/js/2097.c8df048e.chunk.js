"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[2097],{2097:(e,i,t)=>{t.r(i),t.d(i,{default:()=>x});var l=t(2791),s=(t(1512),t(9760),t(2647)),a=t(2350),d=t(184);const o=(0,s.PU)(),n=(0,s.Np)(),c=e=>{var i,t;let{pageSize:s,photoType:o,urlImag:n,customGap:c}=e;const[h,v]=(0,l.useState)(1);let p="".concat(null===s||void 0===s?void 0:s[0],"X").concat(null===s||void 0===s?void 0:s[1]);const x=(e,i,t)=>{var l=new Image;let s=c||8;l.onload=function(){let i=l.width/t[0]*e[0],d=l.height/t[1]*e[1],o=Math.floor(i/l.width),n=Math.floor(d/l.height),c=i-o*l.width,r=d-n*l.height,h=(c-(o-1)*s)/2,x=r/(n+1),m=c>0?0:s/2,g=r>0?0:s/2,u=[];for(let e=0;e<n;e++)for(let i=0;i<o;i++){let t=0===i?h:h+i*s,a={x:i*l.width+t,y:e*l.height+x*(e+1),w:l.width-m,h:l.height-g};u.push(a)}let w={pgW:i,pgH:d};(0,a.Rz)("svgData_"+p,{dmz:w,imagesPosition:u}),v((0,a.M5)())},l.src=i};(0,l.useEffect)((()=>{x(s,n,o)}),[s,o,n]);let m=(0,a.bh)("svgData_"+p);return null!==m&&void 0!==m&&null!==(i=m.dmz)&&void 0!==i&&i.pgH?(0,d.jsxs)("svg",{id:p,xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 ".concat(null===m||void 0===m||null===(t=m.dmz)||void 0===t?void 0:t.pgW," ").concat(m.dmz.pgH),preserveAspectRatio:"xMidYMid meet",children:[(0,d.jsx)("style",{type:"text/css",children:'@font-face {\n\t\t\t\t\t\t\t\tfont-family: "Google Sans";\n\t\t\t\t\t\t\t\tsrc: url(http://fonts.gstatic.com/s/googlesans/v14/4UabrENHsxJlGDuGo1OIlLU94YtzCwY.woff2)\n\n\t\t\t\t\t\t\t}'}),(0,d.jsx)("rect",{width:m.dmz.pgW,height:m.dmz.pgH,fill:"#ffffff"}),m.imagesPosition.map(((e,i)=>(0,d.jsx)(r,{idKey:p,im:e,urlImag:n},i+"_svg"+p)))]}):null},r=e=>{let{urlImag:i,im:t,idKey:s}=e;const[o,n]=(0,l.useState)(!0),[c,r]=(0,l.useState)(1);return(0,d.jsx)("image",{onClick:e=>{e.stopPropagation(),e.preventDefault(),(0,a.bh)("activeFrame")},onContextMenu:e=>{e.stopPropagation(),e.preventDefault(),(0,a.bh)("activeFrame")===s&&n(!o)},width:null===t||void 0===t?void 0:t.w,height:null===t||void 0===t?void 0:t.h,x:null===t||void 0===t?void 0:t.x,y:null===t||void 0===t?void 0:t.y,xmlnsXlink:"http://www.w3.org/1999/xlink",xlinkHref:o?i:""})},h=e=>{var i=document.getElementById(e);let{width:t,height:l}=i.getBBox(),s=i.cloneNode(!0).outerHTML,a=new Blob([s],{type:"image/svg+xml;charset=utf-8"});return(window.URL||window.webkitURL||window).createObjectURL(a)},v=e=>{let{pageSize:i,url:t,photoSize:l,title:s,updObs:o,customGap:n}=e,r="".concat(null===i||void 0===i?void 0:i[0],"X").concat(null===i||void 0===i?void 0:i[1]);return null!==i&&void 0!==i&&i[0]&&t?(0,d.jsx)("div",{className:"photo_frame ".concat((0,a.bh)("activeFrame")===r?"activeFrame":""),style:{margin:"10px 3px"},onClick:e=>{(0,a.bh)("activeFrame")!==r&&((0,a.Rz)("activeFrame",r),o())},children:(0,d.jsxs)(m,{children:[(0,d.jsxs)("div",{className:"_dsplFlx ",style:{width:"100%"},children:[(0,d.jsx)("div",{className:"flexSpace"}),(0,d.jsx)("div",{style:{maxWidth:360,height:"40vmin",padding:"5px!important"},children:(0,d.jsx)(c,{pageSize:i,urlImag:t,photoType:l,customGap:n})}),(0,d.jsx)("div",{className:"flexSpace"})]}),(0,d.jsxs)("div",{className:"_dsplFlx ",style:{padding:9,width:"100%"},children:[(0,d.jsx)("div",{className:"flexSpace"}),(0,d.jsx)("div",{className:"iMTYiw hiKoiM",children:s}),(0,d.jsx)("div",{className:"flexSpace"})]}),(0,a.bh)("activeFrame")===r?(0,d.jsxs)("div",{className:"_dsplFlx ",style:{width:"100%"},children:[(0,d.jsx)("div",{className:"flexSpace"}),(0,d.jsx)("div",{className:"_dsplFlx ",style:{maxWidth:360},children:(0,d.jsx)("button",{width:"85%",className:"clGojg iSTOvb kvXcCL",onClick:()=>{let e=h(r);window.open(e)},children:"Print"})}),(0,d.jsx)("div",{className:"flexSpace"})]}):null]})}):null};let p={"4\xbc\u2033 x 5\xbd\u2033":[4.25,5.5],"4\u2153\u2033 x 5.9\u2033":[4.333,5.9],"3\xbd\u2033 x 5\xbc\u2033":[3.5,5.25],"8\xbd\u2033 x 11\u2033":[8.5,11],"6\u2033 x 4\u2033":[6,4],"7\u2033 x 5\u2033":[7,5]};const x=e=>{var i,t,s,c,r,h,x,g,u,w,f,j;let{title:b,updObPrnt:N}=e;const[_,S]=(0,l.useState)(1),[z,y]=(0,l.useState)(!1);(0,l.useEffect)((()=>{z||y(!0)}),[]);const F=e=>{S((0,a.M5)())},k=()=>{let e=(0,a.bh)("preview_src");(0,a.Rz)("image_2_template",null),(0,a.Rz)("error_image",null);var i=new Image;i.onload=function(){let t=G(),l=i.width/t[0],s=i.height/t[1],d=i.width>i.height?t[1]:t[0],o=i.width>i.height?i.width:i.height,n={oh:i.height,ow:i.width,h:i.height*d,w:i.width*d,rw:o*t[0]+30,rh:o*t[1]+30};(0,a.Rz)("preview_dmz",n),Math.floor(l)===Math.floor(s)?(0,a.Rz)("image_2_template",e):(0,a.Rz)("error_image",{dmz:i,error:409}),F()},e&&(i.src=e)},R=(e,i)=>{(0,a.Rz)([e],i),F()},G=()=>{var e,i;let t=[];return null===(e=(0,a.bh)("photoDimension"))||void 0===e||null===(i=e.split(","))||void 0===i||i.map((e=>{1*e&&t.push(e)})),t.length>1?t:null};return(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"_dsplFlx ",style:{padding:9,width:"100%"},children:[(0,d.jsx)("img",{id:"face_id_recognition"}),(0,d.jsx)("div",{className:"flexSpace"}),(0,d.jsxs)("div",{className:"_dsplFlx ",children:[(0,d.jsx)(n,{init:(0,a.bh)("photoDimension"),label:"Dimension Foto ( inch )",width:160,updChanges:e=>R("photoDimension",e)}),(0,d.jsx)("div",{className:"flexSpace"})]}),(0,d.jsx)("div",{className:"flexSpace"}),(0,d.jsx)(n,{init:(0,a.bh)("photoGapSpace"),label:"Espacio ( px )",width:160,type:"number",updChanges:e=>R("photoGapSpace",e)}),(0,d.jsx)("div",{className:"flexSpace"}),(0,d.jsx)("div",{className:"clGojg iSTOvb kvXcCL",style:{padding:9,width:"23%"},onClick:k,children:"Recalcuar Imagen"}),(0,d.jsx)("div",{className:"flexSpace"}),(0,d.jsxs)("div",{className:"clGojg iSTOvb kvXcCL upl",children:["Subir Imagen",(0,d.jsx)("input",{id:"fileupload",type:"file",onChange:e=>{const i=e.target.files[0],t=new FileReader;t.addEventListener("load",(()=>{console.log("preview_src"),console.log(t.result),(0,a.Rz)("preview_src",t.result),k(t.result)}),!1),i&&t.readAsDataURL(i)}})]}),(0,d.jsx)("div",{className:"flexSpace"})]}),(0,a.bh)("preview_src")?(0,d.jsxs)("div",{className:"_dsplFlx spaceAround flxWrp ",style:{padding:9},children:[(0,d.jsx)("div",{className:"flexSpace"}),(0,d.jsxs)(m,{children:[(0,d.jsxs)("div",{className:"_dsplFlx ",style:{width:"100%"},children:[(0,d.jsx)("div",{className:"flexSpace"}),(0,d.jsx)("div",{style:{maxWidth:360,height:"40vmin",padding:"5px!important"},children:(0,d.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 ".concat(null===(i=(0,a.bh)("preview_dmz"))||void 0===i?void 0:i.rw," ").concat(null===(t=(0,a.bh)("preview_dmz"))||void 0===t?void 0:t.rh),preserveAspectRatio:"xMidYMid meet",children:[(0,d.jsx)("style",{type:"text/css",children:'@font-face {\n\t\t\t\t\t\t\t\tfont-family: "Google Sans";\n\t\t\t\t\t\t\t\tsrc: url(http://fonts.gstatic.com/s/googlesans/v14/4UabrENHsxJlGDuGo1OIlLU94YtzCwY.woff2)\n\n\t\t\t\t\t\t\t}'}),(0,d.jsx)("rect",{width:null===(s=(0,a.bh)("preview_dmz"))||void 0===s?void 0:s.rw,height:null===(c=(0,a.bh)("preview_dmz"))||void 0===c?void 0:c.rh,fill:"#171921",stroke:409===(null===(r=(0,a.bh)("error_image"))||void 0===r?void 0:r.error)?"#F7251A":"#fff",style:{strokeWidth:60}}),(0,d.jsx)("image",{width:null===(h=(0,a.bh)("preview_dmz"))||void 0===h?void 0:h.w,height:null===(x=(0,a.bh)("preview_dmz"))||void 0===x?void 0:x.h,x:15,y:15,xmlnsXlink:"http://www.w3.org/1999/xlink",xlinkHref:(0,a.bh)("preview_src")})]})}),(0,d.jsx)("div",{className:"flexSpace"})]}),(0,d.jsxs)("div",{className:"_dsplFlx ",style:{padding:9,width:"100%"},children:[(0,d.jsx)("div",{className:"flexSpace"}),(0,d.jsx)("div",{className:"iMTYiw hiKoiM",children:(0,d.jsxs)("div",{className:'"_dsplFlx  valid-image '.concat(409===(null===(g=(0,a.bh)("error_image"))||void 0===g?void 0:g.error)?"error":"valid"),children:[(0,d.jsx)("div",{children:(0,d.jsx)(o,{name:409===(null===(u=(0,a.bh)("error_image"))||void 0===u?void 0:u.error)?"alert":"success",size:32})}),(0,d.jsx)("span",{children:409===(null===(w=(0,a.bh)("error_image"))||void 0===w?void 0:w.error)?"La imagen no tiene las dimensiones correctas (".concat(null===(f=(0,a.bh)("preview_dmz"))||void 0===f?void 0:f.ow," X ").concat(null===(j=(0,a.bh)("preview_dmz"))||void 0===j?void 0:j.oh,")"):"Perfecto"})]})}),(0,d.jsx)("div",{className:"flexSpace"})]})]}),(0,d.jsx)("div",{className:"flexSpace"})]}):null,(0,d.jsxs)("div",{className:"_dsplFlx spaceAround flxWrp ",style:{padding:9},children:[(0,d.jsx)("div",{className:"flexSpace"}),G()&&(0,a._2)(p).map((e=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(v,{pageSize:p[e],url:(0,a.bh)("image_2_template"),photoSize:(0,a.bh)("photoDimension").split(","),title:e,customGap:(0,a.bh)("photoGapSpace"),updObs:F}),(0,d.jsx)("div",{className:"flexSpace"})]})))]})]})},m=e=>{let{title:i,children:t}=e;return(0,d.jsx)("div",{className:"jRutKh",children:(0,d.jsx)("div",{className:"jSvsvz",children:(0,d.jsx)("div",{className:"jzcvbH",children:(0,d.jsx)("div",{className:" kfqEsq",children:t})})})})}},1512:()=>{}}]);
//# sourceMappingURL=2097.c8df048e.chunk.js.map