"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[2249],{2079:function(a,n,e){e.r(n);var s=e(4165),l=e(1413),c=e(5861),i=e(9439),o=e(2791),d=(e(1636),e(2350)),t=e(810),r=e(2647),u=(e(3266),e(4050)),b=e(184);(0,r.PU)();n.default=function(a){var n=a.keyId,e=(0,o.useState)(0),t=(0,i.Z)(e,2),r=(t[0],t[1]),p=function(){r((0,d.M5)())};(0,o.useEffect)((function(){(0,u.Ht)("global_accounts","global_account_params",p)}),[n]);var m=[{id:"inventory",lbl:"Inventario"},{id:"inventory_expensess",lbl:"Gastos Inventario"},{id:"sales_income",lbl:"Ingresos por Ventas"}],h=["inventory","inventory_expensess","sales_income"],_=function(){var a=(0,c.Z)((0,s.Z)().mark((function a(){var n,e,c,i,o,t,u,b,v,p,m,_,x;return(0,s.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(null===(n=(0,d.bh)("global_account_params"))||void 0===n||!n.balanceId){a.next=14;break}return(o=(0,l.Z)({},(0,d.bh)("global_account_params"))).balanceId=(0,d.M5)(),(t=(0,l.Z)({},null===(e=(0,d.bh)((0,d.hQ)()))||void 0===e?void 0:e.upd_balances)).params={businessId:null===(c=(0,d.bh)("profileUser"))||void 0===c?void 0:c.businessId,balanceId:null===(i=(0,d.bh)("global_account_params"))||void 0===i?void 0:i.balanceId},u=(0,d.vy)(h,(0,d.bh)("global_account_params"),(0,d.bh)("global_account_params_bck")),t.data2update=u.data,b=(0,d.I7)(t),a.next=10,b;case 10:a.sent&&(0,d.Rz)("global_account_params",o),a.next=25;break;case 14:return(m=(0,l.Z)({},(0,d.bh)("global_account_params"))).balanceId=(0,d.M5)(),m.type="global_accounts",(_=(0,l.Z)({},null===(v=(0,d.bh)((0,d.hQ)()))||void 0===v?void 0:v.add_balances)).params={businessId:null===(p=(0,d.bh)("profileUser"))||void 0===p?void 0:p.businessId},_.form=m,x=(0,d.I7)(_),a.next=23,x;case 23:a.sent&&((0,d.Rz)("global_account_params",m),r((0,d.M5)()));case 25:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return(0,b.jsxs)("div",{style:{maxHeight:"80vh",width:"690px",overflow:"auto",background:"#fff",borderRadius:13,padding:"10px 19px"},children:[(0,b.jsxs)("div",{className:"_dsplFlx ",children:[(0,b.jsx)("p",{className:"form_title",children:"Cuentas Globales"}),(0,b.jsx)("div",{className:"flexSpace"})]}),(0,b.jsx)("div",{className:"balance",style:{marginTop:10,minHeight:320},children:m&&m.map((function(a){return(0,b.jsx)(v,{keyId:a.id,item:a},a.id)}))}),(0,b.jsxs)("div",{className:"_dsplFlx ",children:[(0,b.jsx)("div",{className:"flexSpace"}),(0,b.jsx)("div",{className:"card",children:(0,b.jsx)("button",{onClick:_,children:"Guardar"})})]})]})};var v=function(a){var n,e,s,l=a.keyId,c=a.item,r=(0,o.useState)(!1),u=(0,i.Z)(r,2),v=u[0],p=u[1],m=(0,o.useState)(!1),h=(0,i.Z)(m,2),_=(h[0],h[1],(0,o.useState)(0)),x=(0,i.Z)(_,2),f=(x[0],x[1]),g=null===(n=(0,d.bh)("global_account_params"))||void 0===n?void 0:n[l],j=null===(e=(0,d.bh)("account_ids"))||void 0===e?void 0:e[g];j&&(null===(s=(0,d.bh)("sub_account_group"))||void 0===s||s[null===j||void 0===j?void 0:j.accountId]);return(0,b.jsx)("div",{style:{margin:"7px 0 7px 27px"},children:(0,b.jsxs)("div",{className:"_dsplFlx ",children:[(0,b.jsx)("div",{onClick:function(){return p(!v)},className:"".concat(v?"editing":""),style:{marginRight:27,minWidth:160},children:(0,b.jsx)("div",{className:"acc_global_lbl",children:c.lbl})}),v?(0,b.jsx)("div",{children:(0,b.jsx)(t.Z,{handleClick:function(a){!function(a,n,e){var s="global_account_params",l=(0,d.bh)(s)||{};e?(l[e]||(l[e]={}),l[e][a]=n):l[a]=n,(0,d.Rz)(s,l),f((0,d.M5)())}(l,a),p(!1)}})}):(0,b.jsxs)("div",{className:"_dsplFlx ",children:[(0,b.jsx)("div",{className:"bg_acc_code",children:null===j||void 0===j?void 0:j.code}),(0,b.jsx)("span",{className:"bg_acc_amount",style:{marginLeft:13},children:null===j||void 0===j?void 0:j.name})]}),(0,b.jsx)("div",{className:"flexSpace"})]})})}}}]);
//# sourceMappingURL=2249.356cacf5.chunk.js.map