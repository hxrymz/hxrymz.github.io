"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[238,9760],{9760:function(e,i,n){n.r(i),n.d(i,{CloseModal:function(){return c},OpenModal:function(){return r},default:function(){return o}});var l=n(2791),t=n(5408),s=n(2350),a=n(184),d="listDialog_mdh392",o=function(){var e=(0,s.bh)("listDialog")||{},i=((0,t.Z)(d),Object.keys(e));return(0,a.jsx)(a.Fragment,{children:i.map((function(i,n){var t=e[i];if(t&&t.visible){var s={};t.height&&(s.heigth=t.height),t.width,t.zIndex&&(s.zIndex=t.zIndex-1);var d={zIndex:t.zIndex},o=null,r=t.data;return t.content&&(o=l.cloneElement(t.content,{data:r})),(0,a.jsxs)("div",{className:"ltr-1kbnjow",style:s,children:[(0,a.jsx)("div",{className:"ltr-hoe9xz",children:(0,a.jsx)("div",{className:"ltr-1wao6ny",style:d,id:i,children:o})}),t.data.overlay?(0,a.jsx)("div",{className:"DialogHRMOverlay ".concat(t.visible?"active":""),onClick:function(){var e;e=i,document.getElementsByTagName("html")[0].classList.remove("has-level-two"),c({id:e})}}):null]},i)}}))})},r=function(e){var i=(0,s.bh)("listDialog")||{},n=(0,s.M5)();i[n]||(i[n]={}),i[n].visible=!0;var l={};e.props?(l=e.props).modalID=n:l.modalID=n;var t=document.getElementsByTagName("body")[0];null!==t&&void 0!==t&&t.style&&(t.style.overflowY="hidden"),i[n].isView=e.isView,i[n].observeResize=e.observeResize,i[n].observeResize&&(i[n].observeInterval=setInterval((function(){var e=document.querySelector("[dialog-key-id='".concat(n,"']")),l=e&&e.getBoundingClientRect();l&&(l.width===i[n].width&&l.height===i[n].height||(i[n].height=l.height+10,i[n].width=l.width,(0,s.Rz)("listDialog",i),(0,s.wt)(d)))}),200)),i[n].display=!0,e.zIndex&&(i[n].zIndex=e.zIndex),e.height&&(i[n].height=e.height),e.width&&(i[n].width=e.width),e.content&&(i[n].content=e.content),i[n].data=l,(0,s.Rz)("listDialog",i),(0,s.wt)(d),setTimeout((function(){document.getElementsByTagName("html")[0].classList.add("has-level-two"),(0,s.Rz)("modalOpen",n),(0,s.wt)(d)}),125)},c=function(e){var i,n,l,t=(0,s.bh)("listDialog")||{},a=e.id;t[a]&&(t[a].observeResize&&t[a].observeInterval&&clearInterval(t[a].observeInterval),t[a].display=!1,null===(i=t[a])||void 0===i||null===(n=i.data)||void 0===n||null===(l=n.closeEvent)||void 0===l||l.call(n),(0,s.Rz)("listDialog",t),delete t[a],document.getElementsByTagName("body")[0].style.overflowY=null,(0,s.wt)(d),setTimeout((function(){delete t[a],document.getElementsByTagName("html")[0].classList.remove("has-level-two"),(0,s.Rz)("modalOpen",null)}),750))}},2825:function(e,i,n){var l=n(4165),t=n(1413),s=n(5861),a=n(9439),d=n(2791),o=n(9760),r=n(2647),c=n(2350),v=n(5143),u=n(184),m=(0,r.Np)(),h=(0,r.tL)();i.Z=function(e){var i,n=e.data,l=e.confirm,t=e.type,s=e.init,r=(0,d.useState)(!1),m=(0,a.Z)(r,2),h=m[0],g=m[1],j=(0,d.useState)(1),b=(0,a.Z)(j,2),y=(b[0],b[1]),w=function(){y((0,c.M5)())};(0,d.useEffect)((function(){h||(g(!0),y((0,c.M5)()),(0,v.bM)(w))}));var N=function(e){y((0,c.M5)()),(0,c.Ey)(l)&&(_(),l(e))},_=function(){(null===n||void 0===n?void 0:n.modalID)&&(0,o.CloseModal)({id:null===n||void 0===n?void 0:n.modalID})},k=(0,c.bh)("categories_list");return(0,u.jsxs)("div",{style:{height:"80vh",width:"90vw",overflow:"auto",background:"var(--dark-800)",borderRadius:13,padding:"20px"},children:[(0,u.jsxs)("div",{className:"_dsplFlx ",children:[(0,u.jsx)("p",{className:"form_title blue30",style:{margin:"10px"},children:"Categories"}),(0,u.jsx)("div",{className:"flexSpace"}),(0,u.jsx)("div",{className:"",children:(0,u.jsx)(p,{label:"Agregar",clickHandler:function(e){var i={zIndex:480,props:{minHeight:"1vh",overlay:!0}};i.content=(0,u.jsx)(f,{}),(0,o.OpenModal)(i)}})})]}),(0,u.jsx)("div",{className:" spaceAround flxWrp scollVh",style:{marginTop:20,maxHeight:"calc( 78vh - 70px)"},children:k&&(null===(i=(0,c._2)(k))||void 0===i?void 0:i.map((function(e){return(0,u.jsx)(x,{data:k[e],elmId:k[e].categoryId,label:k[e].name,clickHandler:N,active:s,type:t},k[e].categoryId)})))})]})};var x=function(e){var i=e.clickHandler,n=e.label,l=e.active,t=e.elmId,s=e.data,a=e.type,d=l===t?null:t;return s.type!==a?null:(0,u.jsx)("div",{className:" btn_filter itmMrg ".concat(l===t?"active":""," "),onClick:function(){return i(d)},children:n})},p=function(e){var i=e.clickHandler,n=e.label;return(0,u.jsx)("div",{className:" jaqJnq_hrm1",children:(0,u.jsx)("button",{className:"gHAsFI_hrm1 dqnOfN jUrKkb",onClick:i,children:(0,u.jsx)("span",{className:" jaqJnq_hrm1",children:n})})})},f=function(e){var i,n,r,v=e.data,x=e.confirm,f=(e.type,e.init,"add_category_frm"),g=(0,d.useState)(1),j=(0,a.Z)(g,2),b=(j[0],j[1]),y=function(){var e=(0,s.Z)((0,l.Z)().mark((function e(){var i,n,s,a,d;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=(0,c.bh)(f)).categoryId=(0,c.M5)(),(a=(0,t.Z)({},null===(i=(0,c.bh)((0,c.hQ)()))||void 0===i?void 0:i.add_categapp)).params={businessId:null===(n=(0,c.bh)("profileUser"))||void 0===n?void 0:n.businessId},a.form=s,d=(0,c.I7)(a),e.next=8,d;case 8:e.sent&&((0,c.Rz)(f,{}),x&&x(),w());case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){(null===v||void 0===v?void 0:v.modalID)&&(0,o.CloseModal)({id:null===v||void 0===v?void 0:v.modalID})},N=function(e,i){var n=(0,c.bh)(f)||{};n[e]=i,(0,c.Rz)(f,n),b((0,c.M5)())};return(0,u.jsxs)("div",{style:{height:"80vh",width:"90vw",overflow:"auto",background:"var(--dark-800)",borderRadius:13,padding:"20px"},children:[(0,u.jsxs)("div",{className:"_dsplFlx ",children:[(0,u.jsx)("p",{className:"form_title blue30",style:{margin:"10px"},children:"Agregar Categoria"}),(0,u.jsx)("div",{className:"flexSpace"}),(0,u.jsx)("div",{className:"",children:(0,u.jsx)(p,{label:"Salvar",clickHandler:y})})]}),(0,u.jsxs)("div",{className:"",style:{margin:"30px 0"},children:[(0,u.jsx)("div",{className:"lbl_dtls",children:(0,u.jsx)(m,{init:null===(i=(0,c.bh)(f))||void 0===i?void 0:i.name,width:"68vw",label:"Nombre",updChanges:function(e){return N("name",e)}})}),(0,u.jsx)("div",{className:"lbl_dtls",children:(0,u.jsx)(m,{init:null===(n=(0,c.bh)(f))||void 0===n?void 0:n.description,width:"68vw",label:"Description",updChanges:function(e){return N("description",e)}})}),(0,u.jsxs)("div",{className:"_dsplFlx ",style:{padding:"48px 10px 10px"},children:[(0,u.jsx)("div",{className:"flexSpace"}),(0,u.jsx)(h,{data:[{label:"Expenses",id:"expenses"},{label:"Incomes",id:"incomes"}],active:null===(r=(0,c.bh)(f))||void 0===r?void 0:r.type,updSelect:function(e){return N("type",e)},colors:{"--base-ck-primary-color":"var(--primary-blue--backg-30)","--base-ck-primary-backcolor":"var(--primary-blue--color-30)"}})]})]})]})}},238:function(e,i,n){n.r(i);var l=n(1413),t=n(4165),s=n(5861),a=n(9439),d=n(2791),o=(n(5868),n(2647)),r=n(7689),c=n(2350),v=n(5143),u=n(2825),m=n(9760),h=n(6514),x=n(184),p=(0,o.Np)(),f=(0,o.PU)(),g=(0,o.tW)(),j=((0,o.pz)(),(0,c.Ks)()+"_upd");i.default=function(e){var i,n,l=e.data,t=e.confirm,s=(0,d.useState)(1),o=(0,a.Z)(s,2),v=(o[0],o[1],(0,d.useState)(2)),u=(0,a.Z)(v,2),h=u[0],p=u[1],g=(0,r.TH)(),j=((0,r.s0)(),null===(i=g.search)||void 0===i||null===(n=i.split("?"))||void 0===n?void 0:n[1]),N=(0,c.mB)(j),_=null===N||void 0===N?void 0:N.cId;(0,d.useEffect)((function(){}),[_]);var k=function(){(0,c.Ey)(t)&&t(),(null===l||void 0===l?void 0:l.modalID)&&(0,m.CloseModal)({id:null===l||void 0===l?void 0:l.modalID})},I=function(e){p(e)};(0,c.bh)((0,c.Ks)());return(0,x.jsx)("div",{style:{height:(0,c.bh)("isOS")?"86vh":"90vh",marginTop:(0,c.bh)("isOS")?"9vh":"6vh",width:"94vw",overflow:"auto",background:"var(--dark-800)",borderRadius:13,padding:"10px 6px"},children:(0,x.jsxs)("div",{className:" ",children:[(0,x.jsxs)("div",{className:"h23g9woI",children:[(0,x.jsxs)("div",{className:"jKZvHt ",onClick:k,children:[(0,x.jsx)(f,{name:"arrowBack",size:22,color:"var(--light-200)"}),(0,x.jsx)("div",{className:"eULkqP"})]}),(0,x.jsx)("div",{className:"flexSpace"}),(0,x.jsx)("div",{className:"icon_action ".concat(1===h?"active":""," "),onClick:function(){return I(1)},children:(0,x.jsx)(f,{name:"image_outline",color:"var(--light-200)"})}),(0,x.jsx)("div",{className:"icon_action ".concat(2===h?"active":""," "),onClick:function(){return I(2)},children:(0,x.jsx)(f,{name:"list_form",color:"var(--light-200)"})})]}),(0,x.jsx)("div",{style:{paddingTop:4}}),(0,x.jsx)(w,{viewId:1,activeView:h,children:(0,x.jsx)(b,{})}),(0,x.jsx)(w,{viewId:2,activeView:h,children:(0,x.jsx)(y,{close:k})})]})})};var b=function(e){e.activeView,e.children;var i=(0,d.useState)(1),n=(0,a.Z)(i,2),l=(n[0],n[1]),t=(0,d.useState)(""),s=(0,a.Z)(t,2),o=s[0],r=s[1],u=function(){l((0,c.M5)())},m=function(e,i){(0,c.Rz)("image_mov_text",i.textAnnotations),(0,c.Rz)("loading_image_text",!1),u()};return(0,x.jsxs)("div",{style:{maxWidth:560,height:"90vmin",padding:"5px!important"},children:[(0,x.jsxs)("div",{className:"_dsplFlx ",style:{padding:9},children:[(0,x.jsx)("div",{className:"flexSpace"}),(0,c.bh)("image_url_mov")?(0,x.jsx)("div",{style:{marginBottom:10},children:(0,c.bh)("loading_image_text")?(0,x.jsxs)("div",{className:"icon_compr _dsplFlx",style:{marginTop:10},children:[(0,x.jsx)("div",{className:"lbl_saving ",children:"scanning image ..."}),(0,x.jsx)(g,{stroke:"var(--partial-success)",size:24,strokeW:8})]}):(0,x.jsxs)("div",{className:"_dsplFlx",style:{margin:"6px 20px 5px"},onClick:function(e){(0,c.Rz)("loading_image_text",!0),u(),(0,v.sV)((0,c.bh)("image_url_mov"),m)},children:[(0,x.jsx)("div",{className:"lbl_saving ",style:{margin:"4px 20px 0 0"},children:"Escanear Imagen"}),(0,x.jsxs)("div",{className:"btn_icon",children:[(0,x.jsx)("div",{className:"icon_absol inside ",children:(0,x.jsx)(f,{name:"image_outline",color:"var(--light-300)",size:20})}),(0,x.jsx)("div",{className:"icon_absol ",children:(0,x.jsx)(f,{name:"scan-helper",color:"var(--partial-success)",size:28})})]})]})}):null]}),o?(0,x.jsxs)("div",{className:"imagePreview",children:[(0,x.jsxs)("div",{className:"_dsplFlx",onClick:function(){return r(null)},children:[(0,x.jsx)("div",{className:"lbl_dtls",children:"Text to Copy:"}),(0,x.jsx)("div",{className:"text2link",children:o})]}),(0,x.jsx)("div",{style:{margin:"10px 0 20px"}}),(0,x.jsx)(_,{title:"Title:",frmNm:j,keyfld:"title",updObs:u,newValue:o,confirm:r,join:" "}),(0,x.jsx)(_,{title:"Amount:",frmNm:j,keyfld:"amount",updObs:u,newValue:o,confirm:r,replace:!0}),(0,x.jsx)(_,{title:"Descripcion:",frmNm:j,keyfld:"description",updObs:u,newValue:o,confirm:r,join:"; "}),(0,x.jsx)(_,{title:"Document:",frmNm:j,keyfld:"document",updObs:u,newValue:o,confirm:r,join:"; "})]}):(0,x.jsx)("div",{className:"imagePreview",children:(0,c.bh)("preview_mov_dmz")?(0,x.jsx)(h.d$,{children:(0,x.jsx)(h.Uv,{children:(0,x.jsx)(I,{image:(0,c.bh)("image_preview_mov"),updTxt:r})})}):null})]})},y=function(e){e.activeView;var i,n,o,r=e.close,v=(0,d.useState)(1),h=(0,a.Z)(v,2),p=(h[0],h[1]),f=function(){p((0,c.M5)())},g=["title","description","document","amount","categoryId"],b=(0,c.vy)(g,(0,c.bh)(j),(0,c.bh)(j+"_bck")),y=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(i){var n,l;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,c.I7)(i),e.next=3,n;case 3:(l=e.sent)&&!l.error&&r(!0);case 5:case"end":return e.stop()}}),e)})));return function(i){return e.apply(this,arguments)}}(),w=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(){var i,n,s,a,d;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=(0,c.vy)(g,(0,c.bh)(j),(0,c.bh)(j+"_bck")),(d=(0,l.Z)({},null===(i=(0,c.bh)((0,c.hQ)()))||void 0===i?void 0:i.upd__incms_expns)).params={businessId:null===(n=(0,c.bh)("profileUser"))||void 0===n?void 0:n.businessId,movementId:null===(s=(0,c.bh)(j))||void 0===s?void 0:s.movementId},d.data2update=a.data,y(d);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(e){I("categoryId",e)},I=function(e,i){var n=(0,c.bh)(j)||{};n[e]=i,(0,c.Rz)(j,n),p((0,c.M5)())},z=null===(i=(0,c.bh)("categories_ids"))||void 0===i||null===(n=i[null===(o=(0,c.bh)(j))||void 0===o?void 0:o.categoryId])||void 0===n?void 0:n.name;return(0,x.jsxs)("div",{style:{maxWidth:560,height:"90vmin",padding:"5px!important"},children:[(0,x.jsxs)("div",{className:"_dsplFlx ",style:{padding:9},children:[(0,x.jsx)("div",{className:"flexSpace"}),b.hasChange?(0,x.jsx)("div",{className:"",children:(0,x.jsx)(k,{label:"Guardar",clickHandler:w})}):null]}),(0,x.jsxs)("div",{children:[(0,x.jsx)(N,{title:"Title:",frmNm:j,keyfld:"title",updObs:f}),(0,x.jsx)(N,{title:"Amount:",frmNm:j,keyfld:"amount",updObs:f}),(0,x.jsx)(N,{title:"Descripcion:",frmNm:j,keyfld:"description",updObs:f}),(0,x.jsx)(N,{title:"Document:",frmNm:j,keyfld:"document",updObs:f}),"'"]}),(0,x.jsxs)("div",{className:" dtls minhh",children:[(0,x.jsx)("div",{className:"lbl_h_dtls",style:{marginTop:8,textAlign:"left"},children:"Categories"}),(0,x.jsx)("div",{className:"lbl_dtls",style:{marginTop:8,textAlign:"left"},onClick:function(e){var i,n,l={zIndex:480,props:{minHeight:"1vh",overlay:!0}};l.content=(0,x.jsx)(u.Z,{type:(null===(i=(0,c.bh)(j))||void 0===i?void 0:i.movementType)+"s",confirm:_,init:null===(n=(0,c.bh)(j))||void 0===n?void 0:n.categoryId}),(0,m.OpenModal)(l)},children:z||"click to type"})]})]})},w=function(e){var i=e.viewId,n=e.activeView,l=e.children;return(0,x.jsx)("div",{className:"opacityView",style:{opacity:i===n?1:0,marginTop:2},children:i===n?l:null})},N=function(e){var i,n=e.title,l=e.keyfld,t=e.updObs,s=e.frmNm,o=(0,d.useState)(!1),r=(0,a.Z)(o,2),v=r[0],u=r[1],m=(0,d.useState)(1),h=(0,a.Z)(m,2),g=(h[0],h[1]),j=function(){t&&t(),u(!1)},b=null===(i=(0,c.bh)(s))||void 0===i?void 0:i[l];return(0,x.jsxs)("div",{className:" dtls minhh",children:[(0,x.jsx)("div",{className:"lbl_h_dtls",style:{marginTop:8,textAlign:"left"},children:n}),v?(0,x.jsxs)("div",{className:"_dsplFlx",children:[(0,x.jsx)("div",{className:"lbl_dtls",children:(0,x.jsx)(p,{init:b,width:"68vw",updChanges:function(e){return function(e,i){var n=(0,c.bh)(s)||{};n[e]=i,(0,c.Rz)(s,n),g((0,c.M5)())}(l,e)},onEnter:j})}),(0,x.jsx)("div",{className:"icon_image ",onClick:j,children:(0,x.jsx)(f,{name:"success",color:"var(--success)"})})]}):(0,x.jsx)("div",{className:"lbl_dtls",style:{marginTop:8,textAlign:"left"},onClick:function(){return u(!0)},children:b||"click to type"})]})},_=function(e){var i,n=e.title,l=e.keyfld,t=e.replace,s=e.frmNm,o=e.newValue,r=e.confirm,v=e.join,u=(0,d.useState)(1),m=(0,a.Z)(u,2),h=(m[0],m[1]),p=function(){!function(e,i){var n=(0,c.bh)(s)||{};n[e]=i||(0,c.fY)(n[e])+v+o,(0,c.Rz)(s,n),h((0,c.M5)())}(l,t?o:null),(0,c.Ey)(r)&&r()},f=null===(i=(0,c.bh)(s))||void 0===i?void 0:i[l];return(0,x.jsxs)("div",{className:" dtls minhh",onClick:function(){return p()},children:[(0,x.jsx)("div",{className:"lbl_h_dtls",style:{marginTop:8,textAlign:"left"},children:n}),(0,x.jsx)("div",{className:"lbl_dtls",style:{marginTop:8,textAlign:"left"},children:f||"click to type"}),"}"]})},k=function(e){var i=e.clickHandler,n=e.label;return(0,x.jsx)("div",{className:" jaqJnq_hrm1",children:(0,x.jsx)("button",{className:"gHAsFI_hrm1 dqnOfN jUrKkb",onClick:i,children:(0,x.jsx)("span",{className:" jaqJnq_hrm1",children:n})})})},I=function(e){var i,n=e.image,l=e.updTxt,t=(0,c.bh)("preview_mov_dmz");return(0,x.jsxs)("svg",{id:"ssg_business_card_front",xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 ".concat(null===t||void 0===t?void 0:t.w," ").concat(null===t||void 0===t?void 0:t.h),preserveAspectRatio:"xMidYMid meet",children:[(0,x.jsx)("style",{type:"text/css",children:'@font-face {\n\t\t\t\tfont-family: "Google Sans";\n\t\t\t\tsrc: url(http://fonts.gstatic.com/s/googlesans/v14/4UabrENHsxJlGDuGo1OIlLU94YtzCwY.woff2)\n\n\t\t\t}'}),(0,x.jsx)("rect",{width:null===t||void 0===t?void 0:t.w,height:null===t||void 0===t?void 0:t.h,fill:"#ffffff"}),(0,x.jsx)("image",{width:null===t||void 0===t?void 0:t.w,height:null===t||void 0===t?void 0:t.h,x:0,y:0,xmlnsXlink:"http://www.w3.org/1999/xlink",xlinkHref:n}),null===(i=(0,c.bh)("image_mov_text"))||void 0===i?void 0:i.map((function(e,i){return(0,x.jsx)(z,{idKey:i+"_tann",item:e,index:i,updTxt:l},i+"_tann")}))]})},z=function(e){var i,n,l,t,s,a,d=e.item,o=e.index,r=(e.idKey,e.updTxt),v=d.description,u=d.boundingPoly,m=null===u||void 0===u?void 0:u.vertices,h=(null===m||void 0===m||null===(i=m[3])||void 0===i?void 0:i.y)-(null===m||void 0===m||null===(n=m[0])||void 0===n?void 0:n.y),p=(null===m||void 0===m||null===(l=m[1])||void 0===l?void 0:l.x)-(null===m||void 0===m||null===(t=m[0])||void 0===t?void 0:t.x);return 0!==o&&null!==m&&void 0!==m&&m[1]?(0,x.jsx)("rect",{onClick:function(e){e.stopPropagation(),e.preventDefault(),r(v),(0,c.vQ)(v,1)},onContextMenu:function(e){e.stopPropagation(),e.preventDefault()},width:p,height:h,fill:"#646cff",fillOpacity:"50%",x:null===m||void 0===m||null===(s=m[0])||void 0===s?void 0:s.x,y:null===m||void 0===m||null===(a=m[0])||void 0===a?void 0:a.y}):null}},5868:function(){}}]);
//# sourceMappingURL=238.65e53919.chunk.js.map