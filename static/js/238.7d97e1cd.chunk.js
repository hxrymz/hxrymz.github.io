"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[238],{9018:(e,l,i)=>{i.d(l,{Z:()=>t});i(2791);var s=i(2647),a=i(184);const n=(0,s.PU)(),t=e=>{let{icon:l,iconColor:i="var(--light-200)",label:s,handleClick:t,value:d}=e;return(0,a.jsxs)("div",{className:" _dsplFlx dtls minhh card_dark",onClick:t,children:[(0,a.jsx)("div",{className:"iconBx ",children:(0,a.jsx)(n,{name:l,size:32,color:i})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"lbl_dtls",style:{marginTop:8,textAlign:"left"},children:s}),(0,a.jsx)("div",{className:"lbl_h_dtls ",style:{marginTop:8,textAlign:"left"},children:d})]})]})}},2825:(e,l,i)=>{i.d(l,{Z:()=>v});var s=i(2791),a=i(9760),n=i(2647),t=i(2350),d=i(5143),r=i(184);const c=(0,n.Np)(),o=(0,n.tL)(),v=e=>{var l;let{data:i,confirm:n,type:c,init:o}=e;const[v,u]=(0,s.useState)(!1),[,p]=(0,s.useState)(1),j=()=>{p((0,t.M5)())};(0,s.useEffect)((()=>{v||(u(!0),p((0,t.M5)()),(0,d.bM)(j))}));const g=e=>{p((0,t.M5)()),(0,t.Ey)(n)&&(f(),n(e))},f=()=>{(null===i||void 0===i?void 0:i.modalID)&&(0,a.CloseModal)({id:null===i||void 0===i?void 0:i.modalID})};let b=(0,t.bh)("categories_list");return(0,r.jsxs)("div",{style:{height:"80vh",width:"90vw",overflow:"auto",background:"var(--dark-800)",borderRadius:13,padding:"20px"},children:[(0,r.jsxs)("div",{className:"_dsplFlx ",children:[(0,r.jsx)("p",{className:"form_title blue30",style:{margin:"10px"},children:(0,d.mU)(54)}),(0,r.jsx)("div",{className:"flexSpace"}),(0,r.jsx)("div",{className:"",children:(0,r.jsx)(x,{label:(0,d.mU)(46),clickHandler:e=>{let l={zIndex:480,props:{minHeight:"1vh",overlay:!0}};l.content=(0,r.jsx)(h,{}),(0,a.OpenModal)(l)}})})]}),(0,r.jsx)("div",{className:" spaceAround flxWrp scollVh",style:{marginTop:20,maxHeight:"calc( 78vh - 70px)"},children:b&&(null===(l=(0,t._2)(b))||void 0===l?void 0:l.map((e=>(0,r.jsx)(m,{data:b[e],elmId:b[e].categoryId,label:b[e].name,clickHandler:g,active:o,type:c},b[e].categoryId))))})]})},m=e=>{let{clickHandler:l,label:i,active:s,elmId:a,data:n,type:t}=e,d=s===a?null:a;return n.type!==t?null:(0,r.jsx)("div",{className:" btn_filter itmMrg ".concat(s===a?"active":""," "),onClick:()=>l(d),children:i})},x=e=>{let{clickHandler:l,label:i}=e;return(0,r.jsx)("div",{className:" jaqJnq_hrm1",children:(0,r.jsx)("button",{className:"gHAsFI_hrm1 dqnOfN jUrKkb",onClick:l,children:(0,r.jsx)("span",{className:" jaqJnq_hrm1",children:i})})})},h=e=>{var l,i,n;let{data:v,confirm:m,type:h,init:u}=e;const p="add_category_frm",[j,g]=(0,s.useState)(1),f=()=>{(null===v||void 0===v?void 0:v.modalID)&&(0,a.CloseModal)({id:null===v||void 0===v?void 0:v.modalID})},b=(e,l)=>{let i=(0,t.bh)(p)||{};i[e]=l,(0,t.Rz)(p,i),g((0,t.M5)())};return(0,r.jsxs)("div",{style:{height:"80vh",width:"90vw",overflow:"auto",background:"var(--dark-800)",borderRadius:13,padding:"20px"},children:[(0,r.jsxs)("div",{className:"_dsplFlx ",children:[(0,r.jsxs)("p",{className:"form_title blue30",style:{margin:"10px"},children:[(0,d.mU)(46)," ",(0,d.mU)(54)]}),(0,r.jsx)("div",{className:"flexSpace"}),(0,r.jsx)("div",{className:"",children:(0,r.jsx)(x,{label:(0,d.mU)(43),clickHandler:async()=>{var e,l;let i=(0,t.bh)(p);i.categoryId=(0,t.M5)();let s={...null===(e=(0,t.bh)((0,t.hQ)()))||void 0===e?void 0:e.add_categapp};s.params={businessId:null===(l=(0,t.bh)("profileUser"))||void 0===l?void 0:l.businessId},s.form=i;const a=(0,t.I7)(s);await a&&((0,t.Rz)(p,{}),m&&m(),f())}})})]}),(0,r.jsxs)("div",{className:"",style:{margin:"30px 0"},children:[(0,r.jsx)("div",{className:"lbl_dtls",children:(0,r.jsx)(c,{init:null===(l=(0,t.bh)(p))||void 0===l?void 0:l.name,width:"68vw",label:(0,d.mU)(56),updChanges:e=>b("name",e)})}),(0,r.jsx)("div",{className:"lbl_dtls",children:(0,r.jsx)(c,{init:null===(i=(0,t.bh)(p))||void 0===i?void 0:i.description,width:"68vw",label:(0,d.mU)(53),updChanges:e=>b("description",e)})}),(0,r.jsxs)("div",{className:"_dsplFlx ",style:{padding:"48px 10px 10px"},children:[(0,r.jsx)("div",{className:"flexSpace"}),(0,r.jsx)(o,{data:[{label:(0,d.mU)(40),id:"expenses"},{label:(0,d.mU)(42),id:"incomes"}],active:null===(n=(0,t.bh)(p))||void 0===n?void 0:n.type,updSelect:e=>b("type",e),colors:{"--base-ck-primary-color":"var(--primary-blue--backg-30)","--base-ck-primary-backcolor":"var(--primary-blue--color-30)"}})]})]})]})}},238:(e,l,i)=>{i.r(l),i.d(l,{default:()=>f});var s=i(2791),a=(i(5868),i(2647)),n=i(7689),t=i(2350),d=i(5143),r=i(2825),c=i(9760),o=i(6514),v=i(9018),m=i(8965),x=i(184);const h=(0,a.Np)(),u=(0,a.Zg)(),p=(0,a.PU)(),j=(0,a.tW)(),g=(0,t.Ks)()+"_upd",f=e=>{var l,i;let{data:a,confirm:d}=e;const[,r]=(0,s.useState)(1),[o,v]=(0,s.useState)(2);const m=null===(l=(0,n.TH)().search)||void 0===l||null===(i=l.split("?"))||void 0===i?void 0:i[1],h=(0,t.mB)(m);null===h||void 0===h||h.cId;const u=()=>{(0,t.Ey)(d)&&d(),(null===a||void 0===a?void 0:a.modalID)&&(0,c.CloseModal)({id:null===a||void 0===a?void 0:a.modalID})},j=e=>{v(e)};return(0,x.jsx)("div",{style:{height:(0,t.bh)("isOS")?"89vh":"94vh",marginTop:(0,t.bh)("isOS")?"9vh":"6vh",width:"94vw",overflow:"auto",background:"var(--dark-800)",borderRadius:13,padding:"12px 6px 20px"},children:(0,x.jsxs)("div",{className:" ",style:{marginBottom:24},children:[(0,x.jsxs)("div",{className:"h23g9woI",children:[(0,x.jsxs)("div",{className:"jKZvHt ",onClick:u,children:[(0,x.jsx)(p,{name:"arrowBack",size:22,color:"var(--light-200)"}),(0,x.jsx)("div",{className:"eULkqP"})]}),(0,x.jsx)("div",{className:"flexSpace"}),(0,t.bh)("image_preview_mov")?(0,x.jsx)("div",{className:"icon_action ".concat(1===o?"active":""," "),onClick:()=>j(1),children:(0,x.jsx)(p,{name:"image_outline",color:"var(--light-200)"})}):null,(0,x.jsx)("div",{className:"icon_action ".concat(2===o?"active":""," "),onClick:()=>j(2),children:(0,x.jsx)(p,{name:"list_form",color:"var(--light-200)"})})]}),(0,x.jsx)("div",{style:{paddingTop:4}}),(0,x.jsx)(N,{viewId:1,activeView:o,children:(0,x.jsx)(b,{})}),(0,x.jsx)(N,{viewId:2,activeView:o,children:(0,x.jsx)(_,{close:u})})]})})},b=e=>{let{activeView:l,children:i}=e;const[,a]=(0,s.useState)(1),[n,r]=(0,s.useState)(""),c=(0,s.useRef)(null),v=(0,s.useRef)(null),h=(0,s.useRef)(null),u=e=>{var l;null===h||void 0===h||null===(l=h.current)||void 0===l||l.setAttribute("show",e)},f=(0,m.w)("",{shallowRender:!0}),b=(0,m.w)("",{shallowRender:!0}),_=()=>{a((0,t.M5)())},N=e=>{(0,t.Rz)("image_mov_text",e.textAnnotations),(0,t.Rz)("loading_image_text",!1),_()},y=()=>{b.value="",r(null),u(!1)};return(0,x.jsxs)("div",{style:{maxWidth:560,height:"90vmin",padding:"5px!important"},children:[(0,x.jsxs)("div",{className:"_dsplFlx ",style:{padding:9},children:[(0,x.jsx)("div",{className:"flexSpace"}),(0,t.bh)("image_url_mov")?(0,x.jsx)("div",{style:{marginBottom:10},children:(0,t.bh)("loading_image_text")?(0,x.jsxs)("div",{className:"icon_compr _dsplFlx",style:{marginTop:10},children:[(0,x.jsxs)("div",{className:"lbl_saving ",children:[(0,d.mU)(22)," ..."]}),(0,x.jsx)(j,{stroke:"var(--partial-success)",size:24,strokeW:8})]}):(0,x.jsxs)("div",{className:"_dsplFlx",style:{margin:"6px 20px 5px"},onClick:e=>{(0,t.Rz)("loading_image_text",!0),_();let l=(0,t.bh)("image_fileName")+".json";(0,t.LH)(l);(0,d.Qq)(l,(e=>(async(e,l,i)=>{if(e){const l=await fetch(e);let i=await l.json();(0,t.Rz)("image_mov_text",i.textAnnotations),(0,t.Rz)("loading_image_text",!1),_()}else(0,d.sV)((0,t.bh)("image_fileName"),N)})(e)))},children:[(0,x.jsx)("div",{className:"lbl_saving ",style:{margin:"4px 20px 0 0"},children:(0,d.mU)(3)}),(0,x.jsxs)("div",{className:"btn_icon",children:[(0,x.jsx)("div",{className:"icon_absol inside ",children:(0,x.jsx)(p,{name:"image_outline",color:"var(--light-300)",size:20})}),(0,x.jsx)("div",{className:"icon_absol ",children:(0,x.jsx)(p,{name:"scan-helper",color:"var(--partial-success)",size:28})})]})]})}):null]}),n?(0,x.jsxs)("div",{className:"imagePreview",children:[(0,x.jsxs)("div",{className:"",onClick:y,children:[(0,x.jsx)("div",{className:"lbl_dtls",children:(0,d.mU)(5)}),(0,x.jsx)("div",{className:"text2link",children:n})]}),(0,x.jsx)(w,{icon:"market",title:(0,d.mU)(50),frmNm:g,keyfld:"title",updObs:_,newValue:n,confirm:y,join:" "}),(0,x.jsx)(w,{icon:"money_outline",title:(0,d.mU)(51),frmNm:g,keyfld:"amount",updObs:_,newValue:n,confirm:y,replace:!0}),(0,x.jsx)(w,{icon:"text",title:(0,d.mU)(52),frmNm:g,keyfld:"document",updObs:_,newValue:n,confirm:y,join:" "}),(0,x.jsx)(w,{icon:"info",title:(0,d.mU)(53),frmNm:g,keyfld:"description",updObs:_,newValue:n,confirm:y,join:" "})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"text2Copy_container _dsplFlx",ref:h,children:(0,x.jsxs)("div",{className:"",style:{width:"100%"},children:[(0,x.jsxs)("div",{className:"_dsplFlx",children:[(0,x.jsx)("div",{className:"lbl_dtls",style:{marginBottom:12},children:(0,d.mU)(5)}),(0,x.jsx)("div",{className:"flexSpace"}),(0,x.jsx)("div",{className:"icon_absol inside ",onClick:()=>b.value="",children:(0,x.jsx)(p,{name:"cancel",color:"var(--light-300)",size:20})})]}),(0,x.jsx)("div",{className:"text2link",onClick:()=>r(b.value),children:b.referenceRender})]})}),(0,x.jsxs)("div",{className:"loading_animation_container _dsplFlx",style:{marginTop:112},ref:c,children:[(0,x.jsx)("div",{className:"flexSpace"}),(0,x.jsxs)("div",{className:"icon_compr _dsplFlx loadingFit",style:{marginTop:10},children:[(0,x.jsx)("div",{className:"lbl_saving ",children:f.referenceRender}),(0,x.jsx)(j,{stroke:"var(--partial-success)",size:32,strokeW:8})]}),(0,x.jsx)("div",{className:"flexSpace"})]}),(0,x.jsx)("div",{className:"imagePreview image_container",ref:v,children:(0,x.jsx)(o.d$,{children:(0,x.jsx)(o.Uv,{children:(0,x.jsx)(I,{image:(0,t.bh)("image_preview_mov"),updTxt:e=>{b.value=b.value+" "+e,u(!0)}})})})})]})]})},_=e=>{var l,i,a;let{activeView:n,close:o}=e;const[,m]=(0,s.useState)(1),h=()=>{m((0,t.M5)())};let u=["title","description","document","amount","categoryId","imagePath"],p=(0,t.vy)(u,(0,t.bh)(g),(0,t.bh)(g+"_bck"));const j=e=>{f("categoryId",e)},f=(e,l)=>{let i=(0,t.bh)(g)||{};i[e]=l,(0,t.Rz)(g,i),m((0,t.M5)())};let b=null===(l=(0,t.bh)("categories_ids"))||void 0===l||null===(i=l[null===(a=(0,t.bh)(g))||void 0===a?void 0:a.categoryId])||void 0===i?void 0:i.name;return(0,x.jsxs)("div",{style:{maxWidth:560,height:"90vmin",padding:"5px!important"},children:[(0,x.jsxs)("div",{className:"_dsplFlx ",style:{padding:9},children:[(0,x.jsx)("div",{className:"flexSpace"}),p.hasChange?(0,x.jsx)("div",{className:"",children:(0,x.jsx)(k,{label:(0,d.mU)(43),clickHandler:async()=>{var e,l,i;let s=(0,t.vy)(u,(0,t.bh)(g),(0,t.bh)(g+"_bck")),a={...null===(e=(0,t.bh)((0,t.hQ)()))||void 0===e?void 0:e.upd__incms_expns};a.params={businessId:null===(l=(0,t.bh)("profileUser"))||void 0===l?void 0:l.businessId,movementId:null===(i=(0,t.bh)(g))||void 0===i?void 0:i.movementId},a.data2update=s.data,(async e=>{const l=(0,t.I7)(e),i=await l;setTimeout((()=>{let l=(0,t.bh)("ignoreMemo")||{};l[e.params.movementId]=2,(0,t.Rz)("ignoreMemo",l)}),100),i&&!i.error&&o(!0)})(a)}})}):null]}),(0,x.jsxs)("div",{className:"scollVh min88",children:[(0,x.jsx)("div",{className:"_dsplFlx  spaceAround flxWrp",children:(0,x.jsx)(v.Z,{icon:"groups",label:(0,d.mU)(54),value:b||(0,d.mU)(45),handleClick:e=>{var l,i;let s={zIndex:480,props:{minHeight:"1vh",overlay:!0}};s.content=(0,x.jsx)(r.Z,{type:(null===(l=(0,t.bh)(g))||void 0===l?void 0:l.movementType)+"s",confirm:j,init:null===(i=(0,t.bh)(g))||void 0===i?void 0:i.categoryId}),(0,c.OpenModal)(s)}})}),(0,x.jsxs)("div",{className:"_dsplFlx  spaceAround flxWrp",children:[(0,x.jsx)(y,{title:(0,d.mU)(50),frmNm:g,keyfld:"title",updObs:h}),(0,x.jsx)(y,{title:(0,d.mU)(51),frmNm:g,keyfld:"amount",updObs:h}),(0,x.jsx)(y,{title:(0,d.mU)(52),frmNm:g,keyfld:"document",updObs:h}),(0,x.jsx)(y,{title:(0,d.mU)(53),frmNm:g,keyfld:"description",updObs:h,isTxtArea:!0})]})]})]})},N=e=>{let{viewId:l,activeView:i,children:s}=e;return(0,x.jsx)("div",{className:"opacityView",style:{opacity:l===i?1:0,marginTop:2},children:l===i?s:null})},y=e=>{var l;let{title:i,keyfld:a,frmNm:n,isTxtArea:d}=e;const[,r]=(0,s.useState)(1),c=(e,l)=>{let i=(0,t.bh)(n)||{};i[e]=l,(0,t.Rz)(n,i),r((0,t.M5)())};let o=null===(l=(0,t.bh)(n))||void 0===l?void 0:l[a];return(0,x.jsxs)("div",{className:" dtls minhh",children:[(0,x.jsx)("div",{className:"lbl_h_dtls",style:{marginTop:8,textAlign:"left"},children:i}),(0,x.jsx)("div",{className:"_dsplFlx",children:d?(0,x.jsx)("div",{className:"lbl_dtls txt2lp",children:(0,x.jsx)(u,{init:o,width:"86vw",updChanges:e=>c(a,e)})}):(0,x.jsx)("div",{className:"lbl_dtls txt2lp",children:(0,x.jsx)(h,{init:o,width:"86vw",updChanges:e=>c(a,e)})})})]})},w=e=>{var l;let{icon:i,title:a,keyfld:n,replace:d,frmNm:r,newValue:c,confirm:o,join:m}=e;const[,h]=(0,s.useState)(1);let u=null===(l=(0,t.bh)(r))||void 0===l?void 0:l[n];return(0,x.jsx)(v.Z,{icon:i,label:a,value:u||"click to associate",handleClick:()=>{((e,l)=>{let i=(0,t.bh)(r)||{};i[e]=l?l.trim():((0,t.fY)(i[e])+m+c).trim(),(0,t.Rz)(r,i),h((0,t.M5)())})(n,d?c:null),(0,t.Ey)(o)&&o()}})},k=e=>{let{clickHandler:l,label:i}=e;return(0,x.jsx)("div",{className:" jaqJnq_hrm1",children:(0,x.jsx)("button",{className:"gHAsFI_hrm1 dqnOfN jUrKkb",onClick:l,children:(0,x.jsx)("span",{className:" jaqJnq_hrm1",children:i})})})},I=e=>{var l;let{image:i,updTxt:s}=e,a=(0,t.bh)("preview_mov_dmz");return(0,x.jsxs)("svg",{id:"ssg_business_card_front",xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 ".concat(null===a||void 0===a?void 0:a.w," ").concat(null===a||void 0===a?void 0:a.h),preserveAspectRatio:"xMidYMid meet",children:[(0,x.jsx)("style",{type:"text/css",children:'@font-face {\n\t\t\t\tfont-family: "Google Sans";\n\t\t\t\tsrc: url(https://fonts.gstatic.com/s/googlesans/v14/4UabrENHsxJlGDuGo1OIlLU94YtzCwY.woff2)\n\n\t\t\t}'}),(0,x.jsx)("rect",{width:null===a||void 0===a?void 0:a.w,height:null===a||void 0===a?void 0:a.h,fill:"#ffffff"}),(0,x.jsx)("image",{width:null===a||void 0===a?void 0:a.w,height:null===a||void 0===a?void 0:a.h,x:0,y:0,xmlnsXlink:"http://www.w3.org/1999/xlink",xlinkHref:i}),null===(l=(0,t.bh)("image_mov_text"))||void 0===l?void 0:l.map(((e,l)=>(0,x.jsx)(U,{idKey:l+"_tann",item:e,index:l,updTxt:s},l+"_tann")))]})},U=e=>{var l,i,s,a,n,d;let{item:r,index:c,idKey:o,updTxt:v}=e;const{description:m,boundingPoly:h}=r;let u=null===h||void 0===h?void 0:h.vertices,p=(null===u||void 0===u||null===(l=u[3])||void 0===l?void 0:l.y)-(null===u||void 0===u||null===(i=u[0])||void 0===i?void 0:i.y),j=(null===u||void 0===u||null===(s=u[1])||void 0===s?void 0:s.x)-(null===u||void 0===u||null===(a=u[0])||void 0===a?void 0:a.x);return 0!==c&&null!==u&&void 0!==u&&u[1]?(0,x.jsx)("rect",{onClick:e=>{e.stopPropagation(),e.preventDefault(),v(m),(0,t.vQ)(m,1)},onContextMenu:e=>{e.stopPropagation(),e.preventDefault()},width:j,height:p,fill:"#646cff",fillOpacity:"50%",x:null===u||void 0===u||null===(n=u[0])||void 0===n?void 0:n.x,y:null===u||void 0===u||null===(d=u[0])||void 0===d?void 0:d.y}):null}},8965:(e,l,i)=>{i.d(l,{g:()=>r,w:()=>d});var s=i(2791),a=i(184);const n=(0,s.forwardRef)(((e,l)=>{let{initValue:i}=e;const[n,t]=(0,s.useState)(i);return(0,s.useImperativeHandle)(l,(()=>({refresh(e){t(e)}}))),(0,a.jsxs)(a.Fragment,{children:[" ",n]})})),t="referenceRender",d=(e,l)=>{const[,i]=(0,s.useState)(e),d=(0,s.useRef)(null);return(0,s.useRef)(new Proxy({value:e},{get:function(e,i){return l.shallowRender&&i===t?(0,a.jsx)(n,{initValue:e.value,ref:d}):e[i]?e[i]:Reflect.get(...arguments)},set:function(e,s,a){var n;e[s]!==a&&(e[s]=a,l.shallowRender?null===d||void 0===d||null===(n=d.current)||void 0===n||n.refresh(a):i({...e}));return!0}})).current},r=(e,l,i)=>{const[,a]=(0,s.useState)(e);return(0,s.useRef)(new Proxy({value:e},{get:function(e,l){if(e[l])return e[l]},set:function(e,s,n){return e[s]!==n&&(e[s]=n,l&&l(e[s]),null!==i&&void 0!==i&&i.deep&&a({...e})),!0}})).current}},5868:()=>{}}]);
//# sourceMappingURL=238.7d97e1cd.chunk.js.map