"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[2873],{5639:function(l,o,n){n.r(o);var i=n(4165),d=n(1413),c=n(5861),a=n(9439),e=n(2791),t=n(2350),s=n(2647),u=(n(6021),n(9760)),r=n(1232),v=n(9661),m=n(7689),b=n(24),_=n(3990),h=n(4050),p=n(184),x=(0,s.PU)(),f=(0,s.Np)(),j=(0,v.FC)(),N=(0,b.f_)(),y=(0,s.JC)(),g="new_multi_collect_prov",A="Acc2MPay",I="multi_collect_by_prov_Doc",Z="collect_by_docM",C="multi_collect_2S",D="extraAccountListOnCollect";o.default=function(l){var o,n,s,r,v,b,x,j,y,M,w,z,S,T,O=l.data,P=(l.confirm,(0,e.useState)(!1)),H=(0,a.Z)(P,2),B=H[0],U=H[1],Q=(0,e.useState)(0),K=(0,a.Z)(Q,2),$=(K[0],K[1]),G=(0,m.s0)();(0,e.useEffect)((function(){B||(U(!0),(0,h.Ht)("global_accounts","global_account_params",L),(0,t.Rz)("PamentMethodAccount",null),(0,t.Rz)(C,null),(0,t.Rz)(Z,null),(0,t.Rz)(I,null),(0,t.Rz)("accountPicker",{}),$((0,t.M5)()))}));var L=function(){$((0,t.M5)())},E=function(l,o,n){var i=(0,t.bh)(g)||{};n?(i[n]||(i[n]={}),i[n][l]=o):i[l]=o,(0,t.Rz)(g,i),$((0,t.M5)())},J=function(){var l=(0,c.Z)((0,i.Z)().mark((function l(){var o,n,a,e,s,r,v,m,b,_,h,p,x,f,j,N;return(0,i.Z)().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return o=(0,t.bh)(g)||{},n=[],o.date?o.date=new Date(o.date).getTime():o.date=(new Date).getTime()+800,l.next=5,(0,t.fN)();case 5:return a=l.sent,o.comprobanteId=a,e="",(s=(0,t.bh)("multi_collect_anticipo_by_doc")&&(0,t._2)((0,t.bh)("multi_collect_anticipo_by_doc")))&&(null===s||void 0===s||s.map((function(l,i){var c,a,e,s,u=(0,d.Z)({},o),r=(0,t.bh)("multi_collect_anticipo_by_doc")[l];u.document=null===r||void 0===r?void 0:r.document,u.account=null===r||void 0===r?void 0:r.account,u.subAccount=null===r||void 0===r?void 0:r.subAccount,u.type=null===r||void 0===r?void 0:r.type,u.amount=null===r||void 0===r?void 0:r.amount,u.operationId=(0,t.M5)();var v=(0,d.Z)({},null===(c=(0,t.bh)((0,t.hQ)()))||void 0===c?void 0:c.add_opera);v.params={businessId:null===(a=(0,t.bh)("profileUser"))||void 0===a?void 0:a.businessId},v.form=u,n.push(v);var m=(0,d.Z)({},o);m.document=null===r||void 0===r?void 0:r.documentRefer,m.account=null===r||void 0===r?void 0:r.accountRef,m.subAccount=null===r||void 0===r?void 0:r.sub_accountRef,m.type="credit",m.amount=null===r||void 0===r?void 0:r.amount,m.operationId=(0,t.M5)();var b=(0,d.Z)({},null===(e=(0,t.bh)((0,t.hQ)()))||void 0===e?void 0:e.add_opera);b.params={businessId:null===(s=(0,t.bh)("profileUser"))||void 0===s?void 0:s.businessId},b.form=m,n.push(b)}))),(r=(0,t.bh)(C)&&(0,t._2)((0,t.bh)(C)))&&(null===r||void 0===r||r.map((function(l,i){var c,a,s=(0,d.Z)({},o),u=(0,t.bh)(C)[l];s.document=null===u||void 0===u?void 0:u.document,e+=(null===u||void 0===u?void 0:u.document)+" ; ",s.account=null===u||void 0===u?void 0:u.account,s.subAccount=null===u||void 0===u?void 0:u.subAccount,s.providerId=null===u||void 0===u?void 0:u.providerId,s.customerId=null===u||void 0===u?void 0:u.customerId,s.type=null===u||void 0===u?void 0:u.type,s.amount=null===u||void 0===u?void 0:u.amount,s.collectOrCollect="collect",s.operationId=(0,t.M5)();var r=(0,d.Z)({},null===(c=(0,t.bh)((0,t.hQ)()))||void 0===c?void 0:c.add_opera);r.params={businessId:null===(a=(0,t.bh)("profileUser"))||void 0===a?void 0:a.businessId},r.form=s,n.push(r)}))),(v=(0,t.bh)(D)&&(0,t._2)((0,t.bh)(D)))&&(null===v||void 0===v||v.map((function(l,i){var c,a,s,u,r,v=(0,d.Z)({},o),m=(0,t.bh)(D)[l];v.document=v.paymentDocument,v.account=null===m||void 0===m?void 0:m.account,v.subAccount=null===m||void 0===m?void 0:m.subAccount,v.type="debit",v.amount=null===m||void 0===m?void 0:m.amount,v.operationId=(0,t.M5)();var b=(0,d.Z)({},null===(c=(0,t.bh)((0,t.hQ)()))||void 0===c?void 0:c.add_opera);b.params={businessId:null===(a=(0,t.bh)("profileUser"))||void 0===a?void 0:a.businessId},b.form=v,n.push(b);var _=(0,d.Z)({},o);_.document=_.paymentDocument,_.paymentDocument=e,_.account=null===(s=(0,t.bh)("global_account_params"))||void 0===s?void 0:s.cash_bank,_.type="credit",_.amount=1*(null===m||void 0===m?void 0:m.amount),_.operationId=(0,t.M5)();var h=(0,d.Z)({},null===(u=(0,t.bh)((0,t.hQ)()))||void 0===u?void 0:u.add_opera);h.params={businessId:null===(r=(0,t.bh)("profileUser"))||void 0===r?void 0:r.businessId},h.form=_,n.push(h)}))),(m=F((0,t.bh)(C)))>0&&((x=(0,d.Z)({},o)).document=x.paymentDocument,x.paymentDocument=e,x.account=null===(b=(0,t.bh)("global_account_params"))||void 0===b?void 0:b.cash_bank,(f=null===(_=(0,t.bh)("account_ids"))||void 0===_?void 0:_[x.account]).collectOrCollect&&(x.collectOrCollect=f.collectOrCollect),x.type="debit",x.amount=1*m,x.operationId=(0,t.M5)(),(j=(0,d.Z)({},null===(h=(0,t.bh)((0,t.hQ)()))||void 0===h?void 0:h.add_opera)).params={businessId:null===(p=(0,t.bh)("profileUser"))||void 0===p?void 0:p.businessId},j.form=x,n.push(j)),N=n.map(function(){var l=(0,c.Z)((0,i.Z)().mark((function l(o){var n;return(0,i.Z)().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return n=(0,t.I7)(o),l.next=3,n;case 3:l.sent;case 5:case"end":return l.stop()}}),l)})));return function(o){return l.apply(this,arguments)}}()),l.next=19,Promise.all(N);case 19:setTimeout((function(){(0,t.Rz)(I,null),(0,t.Rz)(g,null),(0,t.Rz)("multi_collect_anticipo_by_doc",null),(null===O||void 0===O?void 0:O.modalID)&&(0,u.CloseModal)({id:null===O||void 0===O?void 0:O.modalID}),G({pathname:"/accounting-ledger",search:"?cId=".concat(a)})}),400);case 20:case"end":return l.stop()}}),l)})));return function(){return l.apply(this,arguments)}}(),q=function(){var l=(0,d.Z)({},(0,t.bh)(I))||{},o=(0,d.Z)({},(0,t.bh)(C))||{};(0,t._2)(l).map((function(n){var i,c,a=(null===(i=(0,t.bh)(A))||void 0===i?void 0:i.account)+"_"+(null===(c=(0,t.bh)(A))||void 0===c?void 0:c.subAccount)+"_"+n,e=(0,d.Z)({},(0,t.bh)(A));o[a]={},o[a].amount=1*l[n],o[a].document=n,o[a].type="credit",o[a].account=null===e||void 0===e?void 0:e.account,o[a].subAccount=null===e||void 0===e?void 0:e.subAccount,o[a].customerId=null===e||void 0===e?void 0:e.customerId})),(0,t.Rz)(C,o),(0,t.Rz)(I,null),(0,t.Rz)(A,null),$((0,t.M5)())};return(0,p.jsxs)("div",{style:{maxHeight:"90vh",minHeight:"88vh",width:"720px",overflow:"auto",background:"var(--hrm_palette-general-background-b)",borderRadius:13,padding:"10px 19px"},children:[(0,p.jsxs)("div",{className:"_dsplFlx ",children:[(0,p.jsx)("p",{className:"form_title",children:"Registrando Cobro"}),(0,p.jsx)("div",{className:"flexSpace"})]}),(0,p.jsxs)("div",{className:"_dsplFlx",children:[(0,p.jsx)("div",{className:"flexSpace"}),null!==(o=(0,t.bh)("global_account_params"))&&void 0!==o&&o.cash_bank?(0,p.jsxs)("div",{className:" acc_dtls",children:[(0,p.jsxs)("div",{className:"_dsplFlx",children:[(0,p.jsx)("div",{className:"code",style:{color:"#646cff"},children:null===(n=(0,t.bh)("account_ids"))||void 0===n||null===(s=n[null===(r=(0,t.bh)("global_account_params"))||void 0===r?void 0:r.cash_bank])||void 0===s?void 0:s.code}),(0,p.jsx)("div",{className:"name",children:null===(v=(0,t.bh)("account_ids"))||void 0===v||null===(b=v[null===(x=(0,t.bh)("global_account_params"))||void 0===x?void 0:x.cash_bank])||void 0===b?void 0:b.name})]}),(0,p.jsx)("div",{className:"flexSpace"})]}):null]}),(0,p.jsxs)("div",{className:"_dsplFlx ",children:[(0,p.jsx)(N,{init:null===(j=(0,t.bh)(g))||void 0===j?void 0:j.date,updDate:function(l){return E("date",l)}}),(0,p.jsx)("div",{className:"flexSpace"}),(0,p.jsx)(f,{init:null===(y=(0,t.bh)(g))||void 0===y?void 0:y.paymentDocument,label:"Documento de Cobro",width:200,updChanges:function(l){return E("paymentDocument",l)}})]}),(0,p.jsx)(f,{init:null===(M=(0,t.bh)(g))||void 0===M?void 0:M.description,label:"Descripcion",width:520,updChanges:function(l){return E("description",l)}}),(0,p.jsxs)("div",{className:" _dsplFlx",children:[(0,p.jsx)("div",{className:"flexSpace"}),(0,p.jsx)("p",{className:"group_title addBtn purple",onClick:function(){var l={zIndex:450,height:"93vh",props:{minHeight:"1vh",overlay:!0}};l.content=(0,p.jsx)(k,{updObs:$,confirm:q}),(0,u.OpenModal)(l)},children:"Clientes"})]}),(0,t.bh)(C)&&(0,t._2)((0,t.bh)(C)).length>0?(0,p.jsxs)("div",{className:"boxAddAcc",style:{margin:"18px 0"},children:[(0,p.jsxs)("div",{className:"_dsplFlx hdr_bar purple",style:{margin:"18px 0"},children:[(0,p.jsx)("div",{className:"tr_bar tr_bar_25",children:"Cuenta"}),(0,p.jsx)("div",{className:"tr_bar tr_bar_25",children:"Sub Cuenta"}),(0,p.jsx)("div",{className:"tr_bar tr_bar_25",children:"Documento"}),(0,p.jsx)("div",{className:"tr_bar tr_bar_25",children:"Balance"})]}),(0,p.jsx)(R,{data:{account:null===(w=(0,t.bh)("global_account_params"))||void 0===w?void 0:w.cash_bank,amount:F((0,t.bh)(C)),type:"debit",document:null===(z=(0,t.bh)(g))||void 0===z?void 0:z.paymentDocument},updObs:$}),(0,t.bh)(C)&&(null===(S=(0,t._2)((0,t.bh)(C)))||void 0===S?void 0:S.map((function(l,o){return(0,p.jsx)(R,{idKey:l,data:(0,t.bh)(C)[l],updObs:$},l)})))]}):null,(0,p.jsx)(_.Z,{collectionName:D}),null!==(T=(0,t.bh)(g))&&void 0!==T&&T.paymentDocument&&(F((0,t.bh)(C))>0||F((0,t.bh)("multi_collect_anticipo_by_doc"))>0)?(0,p.jsxs)("div",{className:"_dsplFlx ",children:[(0,p.jsx)("div",{className:"flexSpace"}),(0,p.jsx)("div",{className:"card",children:(0,p.jsx)("button",{onClick:J,children:"Guardar"})})]}):null]})};var R=function(l){var o,n,i=l.data;return 1*(null===i||void 0===i?void 0:i.amount)===0?null:(0,p.jsxs)("div",{className:"_dsplFlx hdr_bar",children:[(0,p.jsx)("div",{className:"tr_bar tr_bar_25",style:{marginTop:10},children:(0,p.jsx)(y,{data:null===(o=(0,t.bh)("account_ids"))||void 0===o?void 0:o[null===i||void 0===i?void 0:i.account],color:"debit"===i.type?"#009688":"#c62828",labelField:"code",infoField:"name"})}),(0,p.jsx)("div",{className:"tr_bar tr_bar_25",style:{marginTop:10},children:null!==i&&void 0!==i&&i.subAccount?(0,p.jsx)(y,{data:null===(n=(0,t.bh)("sub_account_ids"))||void 0===n?void 0:n[null===i||void 0===i?void 0:i.subAccount],color:"debit"===i.type?"#009688":"#c62828",labelField:"subAccount",infoField:"subAccountName"}):null}),(0,p.jsx)("div",{className:"tr_bar tr_bar_25",style:{marginTop:10},children:null===i||void 0===i?void 0:i.document}),(0,p.jsxs)("div",{className:"tr_bar  tr_bar_25",style:{marginTop:10},children:["$",(1*(null===i||void 0===i?void 0:i.amount)).toFixed(2)]})]})},k=function(l){var o,n,i,d,c,s,v,m,b,_,h,x,f,N,y,g=l.data,I=l.confirm,C=(0,e.useState)(0),D=(0,a.Z)(C,2),R=(D[0],D[1]),k=function(){var l,o,n,i=null===(l=(0,t.bh)("sub_account_ids"))||void 0===l?void 0:l[null===(o=(0,t.bh)(A))||void 0===o?void 0:o.subAccount];(0,r.pj)(null===(n=(0,t.bh)("global_account_params"))||void 0===n?void 0:n.advance_collections,i.subAccount,F)},F=function(l){var o,n={account:null===(o=(0,t.bh)("global_account_params"))||void 0===o?void 0:o.advance_collections,subAccount:null===l||void 0===l?void 0:l.sub_accountId};(0,t.Rz)("advance_collections",n),(0,r.nr)(n,z)},z=function(){R((0,t.M5)())};return(0,p.jsxs)("div",{style:{maxHeight:"92vh",minHeight:"90vh",width:"720px",overflow:"auto",background:"#fff",borderRadius:13,padding:"10px 19px"},children:[(0,p.jsxs)("div",{className:"_dsplFlx ",children:[(0,p.jsx)("p",{className:"form_title",children:"Cobros por Clientes"}),(0,p.jsx)("div",{className:"flexSpace"})]}),(0,p.jsx)("div",{style:{margin:"18px 0"},children:null!==(o=(0,t.bh)(A))&&void 0!==o&&o.account?(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{className:" acc_dtls",children:[(0,p.jsxs)("div",{className:"_dsplFlx",children:[(0,p.jsx)("div",{className:"code",style:{color:"#646cff"},onClick:function(){(0,t.Rz)(A,null),R((0,t.M5)())},children:null===(n=(0,t.bh)("account_ids"))||void 0===n||null===(i=n[null===(d=(0,t.bh)(A))||void 0===d?void 0:d.account])||void 0===i?void 0:i.code}),(0,p.jsx)("div",{className:"name",children:null===(c=(0,t.bh)("account_ids"))||void 0===c||null===(s=c[null===(v=(0,t.bh)(A))||void 0===v?void 0:v.account])||void 0===s?void 0:s.name})]}),(0,p.jsx)("div",{className:"flexSpace"}),null!==(m=(0,t.bh)(A))&&void 0!==m&&m.subAccount?(0,p.jsxs)("div",{className:"_dsplFlx",style:{margin:"10px 0 0 18px"},children:[(0,p.jsx)("div",{className:"code",children:null===(b=(0,t.bh)("sub_account_ids"))||void 0===b||null===(_=b[null===(h=(0,t.bh)(A))||void 0===h?void 0:h.subAccount])||void 0===_?void 0:_.subAccount}),(0,p.jsx)("div",{className:"name",children:null===(x=(0,t.bh)("sub_account_ids"))||void 0===x||null===(f=x[null===(N=(0,t.bh)(A))||void 0===N?void 0:N.subAccount])||void 0===f?void 0:f.subAccountName})]}):null]}),(0,p.jsxs)("div",{className:"boxAddAcc",style:{margin:"18px 0"},children:[(0,p.jsxs)("div",{className:"_dsplFlx hdr_bar purple",style:{margin:"18px 0"},children:[(0,p.jsx)("div",{className:"tr_bar tr_bar_25",children:"Documento"}),(0,p.jsx)("div",{className:"tr_bar tr_bar_20",children:"Balance"}),(0,p.jsx)("div",{className:"tr_bar tr_bar_5"}),(0,p.jsx)("div",{className:"tr_bar tr_bar_25",children:"Por Pagar"}),(0,p.jsx)("div",{className:"tr_bar tr_bar_20",children:"Anticipo"})]}),(0,t.bh)(Z)&&(null===(y=(0,t._2)((0,t.bh)(Z)))||void 0===y?void 0:y.map((function(l,o){return(0,p.jsx)(w,{idKey:l,data:(0,t.bh)(Z)[l],updObs:R},l)})))]})]}):(0,p.jsx)(j,{placeholder:"buscar un provedor",width:420,handleClick:function(l){var o={account:null===l||void 0===l?void 0:l.account,subAccount:null===l||void 0===l?void 0:l.subAccount,customerId:null===l||void 0===l?void 0:l.customerId};(0,t.Rz)(A,o),(0,r.i7)(o,k)}})}),M((0,t.bh)(Z))?(0,p.jsxs)("div",{className:"_dsplFlx ",children:[(0,p.jsx)("div",{className:"flexSpace"}),(0,p.jsx)("p",{className:"group_title addBtn purple",onClick:function(){I&&I(),(null===g||void 0===g?void 0:g.modalID)&&(0,u.CloseModal)({id:null===g||void 0===g?void 0:g.modalID})},children:"Guardar"})]}):null]})},F=function(l){var o,n=0;return l&&(null===(o=(0,t._2)(l))||void 0===o||o.map((function(o,i){var d;n+=1*(0,t.Zv)(null===(d=l[o])||void 0===d?void 0:d.amount,2)}))),n},M=function(l){var o=l&&(0,t._2)(l),n=(0,t.bh)(I),i=!0;return o&&(null===o||void 0===o||o.map((function(o,c){var a,e,s,u=l[o],r=(null===(a=(0,t.bh)(A))||void 0===a?void 0:a.account)+"_"+(null===(e=(0,t.bh)(A))||void 0===e?void 0:e.subAccount)+"_"+u.document,v=(0,d.Z)({},(0,t.bh)("multi_collect_anticipo_by_doc")),m=null===v||void 0===v||null===(s=v[r])||void 0===s?void 0:s.amount,b=m||0,_=(0,t.Zv)(1*(null===u||void 0===u?void 0:u.amount)-1*b,2),h=(0,t.Zv)(1*(null===n||void 0===n?void 0:n[u.document]),2);h&&h-_>0&&(i=!1)}))),i},w=function(l){var o,n,i,c=l.data,s=l.updObs,r=(l.idKey,(0,e.useState)(0)),v=(0,a.Z)(r,2),m=v[0],b=v[1],_=(0,e.useState)(0),h=(0,a.Z)(_,2),j=(h[0],h[1]),N=(null===(o=(0,t.bh)(A))||void 0===o?void 0:o.account)+"_"+(null===(n=(0,t.bh)(A))||void 0===n?void 0:n.subAccount)+"_"+c.document,y=(0,d.Z)({},(0,t.bh)("multi_collect_anticipo_by_doc")),g=null===y||void 0===y||null===(i=y[N])||void 0===i?void 0:i.amount,Z=g?1*g:0,C=function(l){j((0,t.M5)())},D=function(l,o,n){var i=(0,t.bh)(I)||{};n?(i[n]||(i[n]={}),i[n][l]=o):i[l]=o,(0,t.Rz)(I,i)};return 1*(null===c||void 0===c?void 0:c.amount)===0?null:(0,p.jsxs)("div",{className:"_dsplFlx hdr_bar",children:[(0,p.jsx)("div",{className:" tr_bar_25",style:{marginTop:10},children:null===c||void 0===c?void 0:c.document}),(0,p.jsxs)("div",{className:" tr_bar_20",style:{marginTop:10},children:["$",(1*(null===c||void 0===c?void 0:c.amount)-Z).toFixed(2)]}),(0,p.jsx)("div",{className:"tr_bar_5",style:{marginTop:10},children:m>(null===c||void 0===c?void 0:c.amount)-Z?(0,p.jsx)("div",{className:"icon",children:(0,p.jsx)(x,{name:"alert",color:"#c62828"})}):null}),(0,p.jsx)("div",{className:" tr_bar_25",children:(0,p.jsx)(f,{init:m,type:"number",width:80,updChanges:function(l){return b(o=l),D(null===c||void 0===c?void 0:c.document,o),void s((0,t.M5)());var o}})}),(0,p.jsx)("div",{className:" tr_bar_20",style:{marginTop:10},onClick:function(){var l={zIndex:450,height:"93vh",props:{minHeight:"1vh",overlay:!0}};l.content=(0,p.jsx)(z,{confirm:C,item:c}),(0,u.OpenModal)(l)},children:null===Z||void 0===Z?void 0:Z.toFixed(2)})]})},z=function(l){var o,n=l.data,i=l.confirm,c=l.item,s=(0,e.useState)(""),r=(0,a.Z)(s,2),v=r[0],m=r[1],b=function(l){i&&i(l),(null===n||void 0===n?void 0:n.modalID)&&(0,u.CloseModal)({id:null===n||void 0===n?void 0:n.modalID})};return(0,p.jsxs)("div",{style:{maxHeight:"90vh",minHeight:"88vh",width:"660px",overflow:"auto",background:"#fff",borderRadius:13,padding:"10px 19px"},children:[(0,p.jsxs)("div",{className:"_dsplFlx ",children:[(0,p.jsx)("p",{className:"form_title",children:"Anticipos por Clientes"}),(0,p.jsx)("div",{className:"flexSpace"}),(0,p.jsx)("p",{className:"group_title addBtn",onClick:function(){return function(){var l,o,a=(0,d.Z)({},(0,t.bh)("multi_collect_anticipo_by_doc"))||{};delete a[(null===(l=(0,t.bh)(A))||void 0===l?void 0:l.account)+"_"+(null===(o=(0,t.bh)(A))||void 0===o?void 0:o.subAccount)+"_"+c.document],(0,t.Rz)("multi_collect_anticipo_by_doc",a),i&&i(0),(null===n||void 0===n?void 0:n.modalID)&&(0,u.CloseModal)({id:null===n||void 0===n?void 0:n.modalID})}()},children:"Borrar"})]}),(0,p.jsxs)("div",{className:"boxAddAcc",style:{margin:"18px 0"},children:[(0,p.jsxs)("div",{className:"_dsplFlx hdr_bar purple",style:{margin:"18px 0"},children:[(0,p.jsx)("div",{className:"tr_bar_40 tex_left",children:"Cliente"}),(0,p.jsx)("div",{className:"tr_bar_20",children:"Balance"}),(0,p.jsx)("div",{className:"tr_bar_5"}),(0,p.jsx)("div",{className:"tr_bar_25",children:"Amount"}),(0,p.jsx)("div",{className:"tr_bar_10"})]}),(0,p.jsx)("div",{className:"accounts_container ",children:(0,t.bh)("toPay_by_doc")&&(null===(o=(0,t._2)((0,t.bh)("toPay_by_doc")))||void 0===o?void 0:o.map((function(l,o){var n=(0,t.bh)("toPay_by_doc")[l];return 1*(null===n||void 0===n?void 0:n.amount)<=0?null:(0,p.jsx)(S,{document:c.document,itm:n,activeDoc:v,updDoc:m,closeModal:b},n.document+"_"+o)})))})]})]})},S=function(l){var o=l.itm,n=l.closeModal,i=l.activeDoc,c=l.updDoc,s=l.document,u=(0,e.useState)(0),r=(0,a.Z)(u,2),v=r[0],m=r[1];return(0,p.jsxs)("div",{className:"_dsplFlx hdr_bar",style:{margin:"2px 0"},children:[(0,p.jsx)("div",{className:"tr_bar_40 tex_left",style:{marginTop:10,color:i===o.document?"var(--hrm_palette-blue-purple)":""},onClick:function(){c(o.document),m(0)},children:o.document}),(0,p.jsxs)("div",{className:"tr_bar_20",style:{marginTop:10},children:["$",(1*(null===o||void 0===o?void 0:o.amount)).toFixed(2)]}),(0,p.jsx)("div",{className:"tr_bar_5",style:{marginTop:10},children:v>(null===o||void 0===o?void 0:o.amount)?(0,p.jsx)("div",{className:"icon",children:(0,p.jsx)(x,{name:"alert",color:"#c62828"})}):null}),(0,p.jsx)("div",{className:"tr_bar_25",children:i===o.document?(0,p.jsx)(f,{init:v,type:"number",width:80,updChanges:function(l){return m(1*l)}}):null}),(0,p.jsx)("div",{className:"tr_bar_10",style:{marginTop:10,marginLeft:9},children:i===o.document&&v<=1*(null===o||void 0===o?void 0:o.amount)?(0,p.jsx)("div",{className:"icon",onClick:function(){return function(l){var i,c,a,e,u=(0,d.Z)({},(0,t.bh)("multi_collect_anticipo_by_doc"))||{},r=(null===(i=(0,t.bh)(A))||void 0===i?void 0:i.account)+"_"+(null===(c=(0,t.bh)(A))||void 0===c?void 0:c.subAccount)+"_"+s,m=(0,d.Z)({},(0,t.bh)("advance_collections"));m.documentRefer=o.document,m.document=s,m.amount=1*v,m.type="debit",m.description=l.description,m.accountRef=null===(a=(0,t.bh)(A))||void 0===a?void 0:a.account,m.sub_accountRef=null===(e=(0,t.bh)(A))||void 0===e?void 0:e.subAccount,u[r]=m,(0,t.Rz)("multi_collect_anticipo_by_doc",u),n(1*v)}(o)},children:(0,p.jsx)(x,{name:"add",color:"var(--hrm_palette-blue-purple)"})}):null})]})}}}]);
//# sourceMappingURL=2873.7614e03c.chunk.js.map