"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[2972],{2972:(s,e,l)=>{l.r(e),l.d(e,{default:()=>v});var i=l(2791),t=l(2350),a=l(2647),d=l(9760),o=(l(8202),l(9803),l(5261)),n=l(9498),r=l(4050),p=l(713),c=l(184);const h=(0,a.Vg)(),u=(0,o.J2)(),v=s=>{var e,l,a;let{data:o,elmId:v,updObs:m}=s;const[_,b]=(0,i.useState)(!1),[x,g]=(0,i.useState)(0),[j,y]=(0,i.useState)(64),[I,f]=(0,i.useState)(!1);(0,i.useEffect)((()=>{_||(b(!0),g((0,t.M5)()),(0,p.N0)(m),(0,r.Ht)("global_accounts","global_account_params",m))}));const N=()=>{},D=s=>{(0,n.EY)(k)},w=()=>{y((s=>s+64))},k=()=>{var s;(async(s,e)=>{64!==j?y(64):g((0,t.M5)()),f(!1)})();let e=Math.ceil((null===(s=(0,t._2)((0,t.bh)("deposits_list")))||void 0===s?void 0:s.length)/64);(0,t.Z$)(w,1250,e),setTimeout((()=>{f(!1)}),230)};return(0,c.jsxs)("div",{className:"",children:[(0,c.jsxs)("div",{className:"accounts_header",children:[(0,c.jsx)("h2",{children:"Deposits"}),(0,c.jsxs)("div",{className:"_dsplFlx ",children:[null!==(e=(0,t.Ch)()[(0,t.bh)("date_current_year")])&&void 0!==e&&e.isClosed?null:(0,c.jsx)("p",{className:"group_title addBtn purple",onClick:()=>{(0,n.LY)()},children:"Add Deposit"}),(0,c.jsx)("p",{className:"group_title addBtn purple",onClick:()=>{let s={zIndex:450,height:"80vh",props:{minHeight:"1vh",overlay:!0}};(0,d.OpenModal)(s)},children:"Compare Deposit"}),(0,c.jsx)("p",{className:"group_title addBtn purple",onClick:()=>{let s={zIndex:450,height:"80vh",props:{minHeight:"1vh",overlay:!0}};(0,d.OpenModal)(s)},children:"Print Check"})]}),(0,c.jsxs)("div",{className:"_dsplFlx ",style:{marginTop:14},children:[(0,c.jsx)(h,{placeholder:"Buscar ....",width:360,obs:g,fetchData:s=>{f(!0),(0,n.hj)(k)},loading:I,change:s=>{!I&&f(!0)},callempty:D,keyFlds:"searchQryDept"}),(0,c.jsx)("div",{className:"flexSpace"}),(0,c.jsxs)("div",{className:"_dsplFlx ",children:[(0,c.jsx)("div",{className:"total_comprobante_title",children:"No de Deposits:"}),(0,c.jsx)("div",{className:"total_comprobante gray",children:(0,c.jsx)("span",{children:null===(l=(0,t._2)((0,t.bh)("deposits_list")))||void 0===l?void 0:l.length})})]})]})]}),(0,c.jsx)("div",{className:"deposits_container scollVh",style:{height:"calc(98vh - 230px)"},children:(0,t.bh)("deposits_list")&&(null===(a=(0,t._2)((0,t.bh)("deposits_list")))||void 0===a?void 0:a.map(((s,e)=>(0,c.jsx)(u,{data:(0,t.bh)("deposits_list")[s],elmId:s,openUpdateView:N,handleRefreshAll:D,show:e<j,index:e},s))))})]})}},9498:(s,e,l)=>{l.d(e,{EY:()=>t,LY:()=>n,Sb:()=>o,hj:()=>a,in:()=>d});var i=l(2350);const t=async s=>{let e=(0,i.bh)("getall_deposit_last")||0;if(Date.now()>e){var l,t;(0,i.Rz)("getall_deposit_last",Date.now()+190);let e={...null===(l=(0,i.bh)((0,i.hQ)()))||void 0===l?void 0:l.scan_deposit_summary};e.params={businessId:null===(t=(0,i.bh)("profileUser"))||void 0===t?void 0:t.businessId};const a=(0,i.I7)(e),o=await a;o&&((0,i.Rz)("deposits_list",d(o,"depositDate")),(0,i.Rz)("deposits_ids",(0,i.ME)((0,i.jQ)(o),"depositId")),s&&s())}},a=async s=>{var e,l;let t={...null===(e=(0,i.bh)((0,i.hQ)()))||void 0===e?void 0:e.scan_deposit_summary};t.params={businessId:null===(l=(0,i.bh)("profileUser"))||void 0===l?void 0:l.businessId},(0,i.bh)("searchQryDept").split(" ").map(((s,e)=>{s&&(t.params[":search"+e]=s.trim())}));const a=(0,i.I7)(t),o=await a;console.log(t),o?((0,i.Rz)("deposits_list",d((0,i.jQ)(o),"date")),(0,i.Rz)("deposits_ids",o),s&&s()):(0,i.Rz)("deposits_list",[])},d=(s,e,l)=>(0,i.MV)("sortDeposits",[s],(()=>s&&s.sort(((s,i)=>{let t=s[e],a=i[e];return t<a?l?-1:1:t>a?l?1:-1:0})))),o=async(s,e)=>{var l,t;let a={...null===(l=(0,i.bh)((0,i.hQ)()))||void 0===l?void 0:l.delete_deposit};a.params={businessId:null===(t=(0,i.bh)("profileUser"))||void 0===t?void 0:t.businessId,depositId:s};const d=(0,i.I7)(a);await d&&e&&e()},n=async()=>{[].map((s=>{var e,l;let t={...s};t.depositSummaryId=s.id;let a={...null===(e=(0,i.bh)((0,i.hQ)()))||void 0===e?void 0:e.add_deposit_summary};a.params={businessId:null===(l=(0,i.bh)("profileUser"))||void 0===l?void 0:l.businessId},a.form=t})),console.log([])}},8202:()=>{},9803:()=>{}}]);
//# sourceMappingURL=2972.68c909c3.chunk.js.map