"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[2972],{8037:(e,s,t)=>{t.d(s,{N:()=>n});var a=t(2647),l=t(2350),i=t(184);const d=(0,a.PU)(),n=e=>{let{clickHandler:s,label:t,theme:a,width:n,icon:o,color:r}=e,c={"--btn_bg_hrm2":"var(--btn_bg_hrm1_".concat(a,")"),"--btn_bg_hover_hrm2":"var(--btn_bg_hover_hrm1_".concat(a,")"),"--btn_text_hrm2":"var(--btn_text_hrm1_".concat(a,")")};if(r){let{r:e,g:s,b:t}=(0,l.wK)(r);c={"--btn_bg_hrm2":"rgba("+[e,s,t].join(",")+", 0.11 )","--btn_bg_hover_hrm2":"rgba("+[e,s,t].join(",")+", 0.21 )","--btn_text_hrm2":r}}return n&&(c.width=n),(0,i.jsx)("div",{className:" jaqJnq_hrm1",style:c,children:(0,i.jsxs)("button",{className:"gHAsFI_hrm1 dqnOfN jUrKkb ".concat(a),onClick:s,children:[o?(0,i.jsx)("div",{style:{padding:"5px 10px 0 0",cursor:"pointer"},children:(0,i.jsx)(d,{name:o,color:"var(--btn_text_hrm2)"})}):null,(0,i.jsx)("span",{className:" jaqJnq_hrm1",children:t})]})})}},2972:(e,s,t)=>{t.r(s),t.d(s,{default:()=>v});var a=t(2791),l=t(2350),i=t(2647),d=t(9760),n=(t(8202),t(9803),t(5261)),o=t(9498),r=t(4050),c=t(713),h=t(8037),p=t(184);const m=(0,i.Vg)(),_=(0,i.YZ)(),u=(0,n.J2)(),v=e=>{var s,t;let{data:i,elmId:v,updObs:b}=e;const[x,j]=(0,a.useState)(!1),[f,g]=(0,a.useState)(0),[y,I]=(0,a.useState)(64),[N,w]=(0,a.useState)(!1),[F,S]=(0,a.useState)(!1);(0,a.useEffect)((()=>{x||(j(!0),g((0,l.M5)()),(0,c.N0)(b),(0,r.Ht)("global_accounts","global_account_params",b))}));const k=()=>{},D=e=>{(0,o.EY)(Q)},U=()=>{I((e=>e+64))},Q=()=>{var e;(async(e,s)=>{64!==y?I(64):g((0,l.M5)()),S(!1)})();let s=Math.ceil((null===(e=(0,l._2)((0,l.bh)("deposits_list")))||void 0===e?void 0:e.length)/64);(0,l.Z$)(U,1250,s),setTimeout((()=>{S(!1)}),230)};return(0,p.jsxs)("div",{className:"",children:[(0,p.jsxs)("div",{className:"accounts_header",children:[(0,p.jsx)("h2",{children:"Deposits"}),(0,p.jsxs)("div",{className:"_dsplFlx ",children:[(0,p.jsxs)("div",{className:"group_title addBtn purple upl",children:["Import Deposits from File",(0,p.jsx)("input",{id:"fileupload",type:"file",onChange:e=>{var s=new FileReader;s.onload=function(e){var s=e.target.result;(0,o.LY)(s)},s.readAsText(e.target.files[0],"UTF-8")}})]}),(0,p.jsx)("div",{className:"flexSpace"}),(0,p.jsxs)("div",{className:"_dsplFlx centerBx",children:[(0,p.jsx)("span",{className:"checklabel",children:"Add Fee"}),(0,p.jsx)(_,{initvalue:N,keyCode:57,updChange:w})]}),(0,p.jsx)("div",{className:"_dsplFlx ",style:{marginLeft:14},children:N?(0,p.jsx)(h.N,{color:"#007bfc",label:"Add Fee ",clickHandler:()=>{let e=(0,l.bh)("depositFeeSelected")||{},s="fee for deposit Ids",t=0;(0,l._2)(e).map((a=>{t+=e[a],s+=" ".concat(a,";")}));let a={zIndex:450,height:"80vh",props:{minHeight:"1vh",overlay:!0}};a.content=(0,p.jsx)(n.MI,{confirm:D,description:s,feeAmount:t,item:i}),(0,d.OpenModal)(a)}}):null})]}),(0,p.jsxs)("div",{className:"_dsplFlx ",style:{marginTop:14},children:[(0,p.jsx)(m,{placeholder:"Buscar ....",width:360,obs:g,fetchData:e=>{S(!0),(0,o.hj)(Q)},loading:F,change:e=>{!F&&S(!0)},callempty:D,keyFlds:"searchQryDept"}),(0,p.jsx)("div",{className:"flexSpace"}),(0,p.jsxs)("div",{className:"_dsplFlx ",children:[(0,p.jsx)("div",{className:"total_comprobante_title",children:"No de Deposits:"}),(0,p.jsx)("div",{className:"total_comprobante gray",children:(0,p.jsx)("span",{children:null===(s=(0,l._2)((0,l.bh)("deposits_list")))||void 0===s?void 0:s.length})})]})]})]}),(0,p.jsx)("div",{className:"deposits_container scollVh",style:{height:"calc(98vh - 230px)"},children:(0,l.bh)("deposits_list")&&(null===(t=(0,l._2)((0,l.bh)("deposits_list")))||void 0===t?void 0:t.map(((e,s)=>(0,p.jsx)(u,{data:(0,l.bh)("deposits_list")[e],elmId:e,openUpdateView:k,handleRefreshAll:D,show:s<y,index:s,viewFee:N},e))))})]})}},9498:(e,s,t)=>{t.d(s,{EY:()=>l,LY:()=>o,Sb:()=>n,hj:()=>i,in:()=>d});var a=t(2350);const l=async e=>{let s=(0,a.bh)("getall_deposit_last")||0;if(Date.now()>s){var t,l;(0,a.Rz)("getall_deposit_last",Date.now()+190);let s={...null===(t=(0,a.bh)((0,a.hQ)()))||void 0===t?void 0:t.scan_deposit_summary};s.params={businessId:null===(l=(0,a.bh)("profileUser"))||void 0===l?void 0:l.businessId};const i=(0,a.I7)(s),n=await i;n&&((0,a.Rz)("deposits_list",d(n,"depositSummaryId")),(0,a.Rz)("deposits_ids",(0,a.ME)((0,a.jQ)(n),"depositId")),e&&e())}},i=async e=>{var s,t;let l={...null===(s=(0,a.bh)((0,a.hQ)()))||void 0===s?void 0:s.scan_deposit_summary};l.params={businessId:null===(t=(0,a.bh)("profileUser"))||void 0===t?void 0:t.businessId},(0,a.bh)("searchQryDept").split(" ").map(((e,s)=>{e&&(l.params[":search"+s]=e.trim())}));const i=(0,a.I7)(l),n=await i;n?((0,a.Rz)("deposits_list",d((0,a.jQ)(n),"depositSummaryId")),(0,a.Rz)("deposits_ids",n),e&&e()):(0,a.Rz)("deposits_list",[])},d=(e,s,t)=>e&&e.sort(((e,a)=>{let l=e[s],i=a[s];return l<i?t?-1:1:l>i?t?1:-1:0})),n=async(e,s)=>{var t,l;let i={...null===(t=(0,a.bh)((0,a.hQ)()))||void 0===t?void 0:t.delete_deposit};i.params={businessId:null===(l=(0,a.bh)("profileUser"))||void 0===l?void 0:l.businessId,depositId:e};const d=(0,a.I7)(i);await d&&s&&s()},o=async e=>{var s,t;let l={...null===(s=(0,a.bh)((0,a.hQ)()))||void 0===s?void 0:s.all_deposit_summary};l.params={businessId:null===(t=(0,a.bh)("profileUser"))||void 0===t?void 0:t.businessId,":search1":"  "};const i=(0,a.I7)(l),d=await i;if(d){let s=[],t=(0,a._U)(d,"id");(0,a.sO)(e)&&(e=JSON.parse(e)),e.map((e=>{let l={...e};if(l.depositSummaryId=e.id,e.id&&e.amount&&e.paymentDepositFee&&!t[e.id]){var i,d;console.log("id 2 save ",e.id);let t={...null===(i=(0,a.bh)((0,a.hQ)()))||void 0===i?void 0:i.add_deposit_summary};t.params={businessId:null===(d=(0,a.bh)("profileUser"))||void 0===d?void 0:d.businessId},t.form=l,s.push(t)}})),(0,a.DF)(s,r)}},r=async e=>{const s=(0,a.I7)(e),t=await s;if(t)return t}},8202:()=>{},9803:()=>{}}]);
//# sourceMappingURL=2972.8f1ec9b2.chunk.js.map