"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[3075,9760],{9760:(e,l,a)=>{a.r(l),a.d(l,{CloseModal:()=>r,OpenModal:()=>c,default:()=>o});var t=a(2791),i=a(5408),s=a(2350),d=a(184);const n="listDialog_mdh392",o=()=>{const e=(0,s.bh)("listDialog")||{};(0,i.Z)(n);let l=Object.keys(e);return(0,d.jsx)(d.Fragment,{children:l.map(((l,a)=>{let i=e[l];if(i&&i.visible){let e={};i.height&&(e.heigth=i.height),i.width,i.zIndex&&(e.zIndex=i.zIndex-1);let a={zIndex:i.zIndex},s=null,n=i.data;return i.content&&(s=t.cloneElement(i.content,{data:n})),(0,d.jsxs)("div",{className:"ltr-1kbnjow",style:e,children:[(0,d.jsx)("div",{className:"ltr-hoe9xz",children:(0,d.jsx)("div",{className:"ltr-1wao6ny",style:a,id:l,children:s})}),i.data.overlay?(0,d.jsx)("div",{className:"DialogHRMOverlay ".concat(i.visible?"active":""),onClick:()=>{var e;e=l,document.getElementsByTagName("html")[0].classList.remove("has-level-two"),r({id:e})}}):null]},l)}}))})},c=e=>{let l=(0,s.bh)("listDialog")||{},a=(0,s.M5)();l[a]||(l[a]={}),l[a].visible=!0;let t={};e.props?(t=e.props,t.modalID=a):t.modalID=a;let i=document.getElementsByTagName("body")[0];null!==i&&void 0!==i&&i.style&&(i.style.overflowY="hidden"),l[a].isView=e.isView,l[a].observeResize=e.observeResize,l[a].observeResize&&(l[a].observeInterval=setInterval((()=>{let e=document.querySelector("[dialog-key-id='".concat(a,"']")),t=e&&e.getBoundingClientRect();t&&(t.width===l[a].width&&t.height===l[a].height||(l[a].height=t.height+10,l[a].width=t.width,(0,s.Rz)("listDialog",l),(0,s.wt)(n)))}),200)),l[a].display=!0,e.zIndex&&(l[a].zIndex=e.zIndex),e.height&&(l[a].height=e.height),e.width&&(l[a].width=e.width),e.content&&(l[a].content=e.content),l[a].data=t,(0,s.Rz)("listDialog",l),(0,s.wt)(n),setTimeout((()=>{document.getElementsByTagName("html")[0].classList.add("has-level-two"),(0,s.Rz)("modalOpen",a),(0,s.wt)(n)}),125)},r=e=>{let l=(0,s.bh)("listDialog")||{},a=e.id;if(l[a]){var t,i,d;l[a].observeResize&&l[a].observeInterval&&clearInterval(l[a].observeInterval),l[a].display=!1,null===(t=l[a])||void 0===t||null===(i=t.data)||void 0===i||null===(d=i.closeEvent)||void 0===d||d.call(i),(0,s.Rz)("listDialog",l),delete l[a],document.getElementsByTagName("body")[0].style.overflowY=null,(0,s.wt)(n),setTimeout((()=>{delete l[a],document.getElementsByTagName("html")[0].classList.remove("has-level-two"),(0,s.Rz)("modalOpen",null)}),750)}}},4304:(e,l,a)=>{a.d(l,{lp:()=>d,NK:()=>s});a(2791);var t=a(1087),i=a(184);const s=e=>{let{clickHandler:l,label:a,navTo:s}=e;return(0,i.jsx)("button",{className:"gHAsFI dqnOfN jUrKkb",onClick:l,children:(0,i.jsx)(t.OL,{className:" jaqJnq",to:s,children:a})})},d=e=>{let{children:l}=e;return(0,i.jsx)("div",{className:"jRutKh",children:(0,i.jsx)("div",{className:"jSvsvz",children:(0,i.jsx)("div",{className:"jzcvbH",children:(0,i.jsx)("div",{className:" kfqEsq",children:l})})})})}},3075:(e,l,a)=>{a.r(l),a.d(l,{default:()=>z});var t=a(2791),i=a(2350),s=(a(5196),a(5288)),d=a(9760),n=a(1475),o=a(2647),c=(a(5027),a(184));const r=e=>{let{data:l,confirm:a,handleClick:t,close:i}=e;const{modalID:s}=l,n=e=>{(0,d.CloseModal)({id:s})};return(0,c.jsxs)("div",{style:{maxHeight:"40vh",minHeight:"28vh",overflow:"auto",background:"#fff",borderRadius:13,padding:"10px 19px"},children:[(0,c.jsxs)("div",{className:"_dsplFlx ",children:[(0,c.jsx)("p",{className:"form_title",children:"Eliminar Comprobante"}),(0,c.jsx)("div",{className:"flexSpace"})]}),(0,c.jsx)("div",{className:"_dsplFlx ",children:(0,c.jsx)("span",{children:"Una vez eliminado no podra ser recuperado"})}),(0,c.jsxs)("div",{className:"_dsplFlx ",style:{padding:"15px 10px"},children:[(0,c.jsx)("div",{className:"flexSpace"}),(0,c.jsx)("p",{className:"group_title addBtn",onClick:n,children:"Cancelar"}),(0,c.jsx)("p",{className:"group_title addBtn red",onClick:()=>{a(),n()},children:"Eliminar"})]})]})};var m=a(4304),v=a(24),u=a(7689);(0,o.PU)();const h=(0,o.JC)(),p=((0,o.tW)(),(0,o.Np)()),_=(0,v.f_)(),b="cmp_feedfromMobile",x=e=>{var l,a,s,o,r;let{data:m,item:v,confirm:h}=e;const[x,y]=(0,t.useState)(!1),[j,N]=(0,t.useState)(0);(0,u.s0)();(0,t.useEffect)((()=>{if(!x){var e,l;y(!0);let a="debit",t="credit",s={...v};"expense"===(null===s||void 0===s?void 0:s.movementType)&&(a="credit",t="debit");let d=(null===s||void 0===s?void 0:s.title)+"; "+(null===s||void 0===s?void 0:s.description);I("description",d),I("date",1*(null===s||void 0===s?void 0:s.date)),s.document?I("document",null===s||void 0===s?void 0:s.document):I("document",(0,i.UG)(1*(null===s||void 0===s?void 0:s.date))+"_"+(0,i.LO)());let n=null===(e=(0,i.bh)("categories_ids"))||void 0===e?void 0:e[null===s||void 0===s?void 0:s.categoryId],o={};o.amount=null===s||void 0===s?void 0:s.amount,o.movementId=null===s||void 0===s?void 0:s.movementId,o.description=d,o.date=null===s||void 0===s?void 0:s.date,o.document=null===s||void 0===s?void 0:s.document;let c={...o};o.account=null===(l=(0,i.bh)("global_account_params"))||void 0===l?void 0:l.cash_bank.account,o.type=a,c.account=null===n||void 0===n?void 0:n.account,null!==n&&void 0!==n&&n.subAccount&&(c.subAccount=null===n||void 0===n?void 0:n.subAccount),c.type=t,(0,i.Rz)("cmpListfromMbl",[c,o]),N((0,i.M5)())}}),[null===(l=(0,i.bh)(b))||void 0===l?void 0:l.movementId]);const I=(e,l,a)=>{let t=(0,i.bh)(b)||{};a?(t[a]||(t[a]={}),t[a][e]=l):t[e]=l,(0,i.Rz)(b,t),N((0,i.M5)())},w=e=>{window.open(e)};return(0,c.jsxs)("div",{style:{maxHeight:"90vh",minHeight:"88vh",width:"960px",overflow:"auto",background:"var(--hrm_palette-general-background-b)",borderRadius:13,padding:"10px 19px"},children:[(0,c.jsxs)("div",{className:"_dsplFlx ",children:[(0,c.jsx)("p",{className:"form_title",children:"Associar Asiento"}),(0,c.jsx)("div",{className:"flexSpace"}),null!==v&&void 0!==v&&v.imagePath?(0,c.jsx)("p",{className:"group_title addBtn purple",onClick:()=>{(0,n.Qq)(v,w)},children:"See Image"}):null]}),(0,c.jsxs)("div",{className:"_dsplFlx ",children:[(0,c.jsx)(_,{init:null===(a=(0,i.bh)(b))||void 0===a?void 0:a.date,updDate:e=>I("date",e)}),(0,c.jsx)("div",{className:"flexSpace"}),(0,c.jsx)(p,{init:null===(s=(0,i.bh)(b))||void 0===s?void 0:s.document,label:"Documento",width:120,updChanges:e=>I("document",e)})]}),(0,c.jsx)("div",{className:"_dsplFlx ",children:(0,c.jsx)(p,{init:null===(o=(0,i.bh)(b))||void 0===o?void 0:o.description,label:"Descripcion",width:520,updChanges:e=>I("description",e)})}),(0,c.jsx)("div",{style:{marginTop:19},children:(0,c.jsx)(f,{item:(0,i.bh)("cmpListfromMbl"),updFrm:I,document:null===(r=(0,i.bh)(b))||void 0===r?void 0:r.document})}),(0,c.jsxs)("div",{className:"_dsplFlx ",style:{margin:"32px 32px 0 0"},children:[(0,c.jsx)("div",{className:"flexSpace"}),(0,c.jsx)(g,{clickHandler:async()=>{var e,l,a;let t={...(0,i.bh)(b)};t.date?t.date=new Date(t.date).getTime():t.date=(new Date).getTime()+800;let s=await(0,i.fN)(t.date);t.comprobanteId=s,t.document||(t.document=(0,i.LO)()+"_"+(0,i.UG)(t.date));let n=[];(0,i.bh)("cmpListfromMbl")&&(null===(e=(0,i._2)((0,i.bh)("cmpListfromMbl")))||void 0===e||e.map((async(e,l)=>{let a=(0,i.bh)("cmpListfromMbl")[e];if(!isNaN(1*a.amount)&&1*a.amount>0){var s,d;let e={...t};e.account=a.account,a.subAccount&&(e.subAccount=a.subAccount),e.movementRef=v.movementId,e.type=a.type,e.amount=1*a.amount,e.operationId=(0,i.M5)();let l={...null===(s=(0,i.bh)((0,i.hQ)()))||void 0===s?void 0:s.add_opera};l.params={businessId:null===(d=(0,i.bh)("profileUser"))||void 0===d?void 0:d.businessId,year:new Date(t.date).getFullYear()},l.form=e,n.push(l)}})));let o={...null===(l=(0,i.bh)((0,i.hQ)()))||void 0===l?void 0:l.upd__incms_expns};o.params={businessId:null===(a=(0,i.bh)("profileUser"))||void 0===a?void 0:a.businessId,movementId:v.movementId,year:(0,i.bh)("date_current_year")},o.data2update={comprobanteId:s},n.push(o);const c=n.map((async e=>{const l=(0,i.I7)(e);await l}));await Promise.all(c),setTimeout((()=>{(0,i.Rz)("cmpListfromMbl",null),(0,i.Rz)(b,null),(null===m||void 0===m?void 0:m.modalID)&&(0,d.CloseModal)({id:null===m||void 0===m?void 0:m.modalID}),(0,i.Ey)(h)&&h()}),400)},label:"Salvar"})]})]})},g=e=>{let{clickHandler:l,label:a}=e;return(0,c.jsx)("button",{className:"gHAsFI dqnOfN jUrKkb",onClick:l,children:(0,c.jsx)("div",{className:" jaqJnq",children:a})})},f=e=>{let{item:l,updFrm:a,document:s}=e;const[d,n]=(0,t.useState)(0),o=(e,t,s)=>{var d;let o=l||(null===(d=(0,i.bh)("global_account_params"))||void 0===d?void 0:d.w2_params);s?(o[s]||(o[s]={}),o[s][e]=t):o[e]=t,a("w2",o),n((0,i.M5)())};return(0,c.jsxs)(m.lp,{children:[(0,c.jsx)("div",{className:"iMTYiw hiKoiM",children:"Comprobante Contables"}),(0,c.jsx)("div",{className:"_dsplFlx w_100prc",style:{marginTop:19}}),(0,c.jsxs)("div",{className:"_dsplFlx w_100prc",children:[(0,c.jsx)("div",{className:"igLyC tr_bar_20 pddBtm-12",children:(0,c.jsx)("div",{className:"txfnt_lfal whi_headr",children:"Cuenta"})}),(0,c.jsx)("div",{className:"igLyC tr_bar_20 pddBtm-12",children:(0,c.jsx)("div",{className:"txfnt_lfal whi_headr",children:"Sub Cuenta"})}),(0,c.jsx)("div",{className:"igLyC tr_bar_30 pddBtm-12",children:(0,c.jsx)("div",{className:"txfnt_lfal whi_headr",children:"Documento"})}),(0,c.jsx)("div",{className:"igLyC tr_bar_15 pddBtm-12 tr_bar_15",children:(0,c.jsx)("div",{className:"txt_al_r whi_headr",children:"debito"})}),(0,c.jsx)("div",{className:"igLyC tr_bar_15 pddBtm-12 tr_bar_15",children:(0,c.jsx)("div",{className:"txt_al_r whi_headr",children:"Credito"})})]}),l&&l.map(((e,l)=>(0,c.jsx)(y,{item:e,document:s,label:"Federal Tax",percentDefault:14.5,onChange:o,keyFld:"federalTax"},e.movementId+"_"+l)))]})},y=e=>{var l,a;let{label:t,item:s,document:d,keyFld:n,percentDefault:o}=e;const r=e=>{};let m=null===(l=(0,i.bh)("account_ids"))||void 0===l?void 0:l[null===s||void 0===s?void 0:s.account],v=null===(a=(0,i.bh)("sub_account_ids"))||void 0===a?void 0:a[null===s||void 0===s?void 0:s.subAccount];return(0,c.jsxs)("div",{className:"_dsplFlx w_100prc",children:[(0,c.jsx)("div",{className:"igLyC light_300_color tr_bar_20 pddBtm-12",children:(0,c.jsx)("div",{className:"txfnt_lfal",children:(0,c.jsx)(h,{data:m,color:"var(--light-300)",labelField:"code",infoField:"name"})})}),(0,c.jsx)("div",{className:"igLyC light_300_color tr_bar_20 pddBtm-12",children:(0,c.jsx)("div",{className:"txfnt_lfal",children:(0,c.jsx)(h,{data:v,color:"var(--light-300)",labelField:"subAccount",infoField:"subAccountName"})})}),(0,c.jsx)("div",{className:"igLyC light_300_color tr_bar_30 pddBtm-12",children:(0,c.jsx)("div",{className:"txfnt_lfal",children:d})}),"debit"===s.type?(0,c.jsx)(j,{keyFld:"amount",item:s,onChange:r}):(0,c.jsx)("div",{className:"igLyC light_300_color tr_bar_15",children:(0,c.jsx)("div",{className:" txt_al_r",children:"0.00"})}),"credit"===s.type?(0,c.jsx)(j,{keyFld:"amount",item:s,onChange:r}):(0,c.jsx)("div",{className:"igLyC light_300_color tr_bar_15",children:(0,c.jsx)("div",{className:" txt_al_r",children:"0.00"})})]})},j=e=>{let{label:l,item:a,onChange:s,keyFld:d,percentDefault:n}=e;const[o,r]=(0,t.useState)(0),[m,v]=(0,t.useState)(0),u=e=>{v(e.target.value)},h=e=>{13===e.keyCode&&((0,i.UE)(m)&&s&&s(d,m),r(!1))};m||null===a||void 0===a||a[d];return o?(0,c.jsx)("div",{className:"igLyC light_300_color tr_bar_15",children:(0,c.jsx)("input",{className:"inpyt_tx",type:"number","aria-haspopup":"false","auto-capitalize":"off","auto-complete":"off","auto-correct":"off","spell-check":"false",onChange:u,onKeyDown:h})}):(0,c.jsx)("div",{className:"igLyC light_300_color tr_bar_15",onClick:()=>r(!o),children:(0,c.jsx)("div",{className:" txt_al_r",children:(1*a[d]).toFixed(2)})})};a(4382);var N=a(1087);const I=(0,o.PU)(),w=(0,s.Hb)(),C=(0,s._$)(),z=e=>{let{data:l,elmId:a,handleRefreshAll:s}=e;const[o,m]=(0,t.useState)(!1),[v,h]=(0,t.useState)(0),[p,_]=((0,u.s0)(),(0,t.useState)(0));(0,t.useEffect)((()=>{o||(m(!0),h((0,i.M5)()))}));const b=()=>{h((0,i.M5)())},g=()=>{(0,n.MX)(b)},f=()=>{(0,n.M_)(null===l||void 0===l?void 0:l.movementId,s)},y=e=>{var l;let a=(0,i.LH)(e);(0,n.Qq)(null===(l=(0,i.bh)("profileUser"))||void 0===l?void 0:l.businessId,e,(e=>j(e,a)))},j=async(e,l)=>{var a=await(0,i.Em)(e,l);(0,i.Rz)("image_url_mov",e),(0,i.Rz)("image_preview_mov",a),(e=>{var l=new Image;l.onload=function(){let e={oh:l.height,ow:l.width,h:l.height,w:l.width};(0,i.Rz)("preview_mov_dmz",e),z()},e&&(l.src=e)})(a)},z=(e,a)=>{let t={zIndex:450,height:"80vh",props:{minHeight:"1vh",overlay:!0}};t.content=(0,c.jsx)(C,{confirm:s,item:l}),(0,d.OpenModal)(t)},M=async(e,a)=>{if(e){var t=await(0,i.Em)(e,a);window.open(t)}else(async()=>{let e=l.imagePath;(0,i.LH)(e),(0,n.Qq)(e,(l=>(0,n.Je)(l,e)))})()};return(0,c.jsx)("div",{className:"item_acc",children:(0,c.jsxs)("div",{className:"_dsplFlx operation_item_box",children:[(0,c.jsx)("div",{className:"icon_revision",onClick:async()=>{if((0,i.I0)())if(l.inManualRevision)(0,i.Rz)((0,i.Ks)()+"_upd",l),(0,i.Rz)((0,i.Ks)()+"_upd_bck",JSON.parse(JSON.stringify(l))),y(l.imagePath);else if(l.comprobanteId){let e=window.location.origin+"/#/accounting-ledger?cId=".concat(l.comprobanteId);window.open(e)}else{let e={zIndex:450,height:"80vh",props:{minHeight:"1vh",overlay:!0}};e.content=(0,c.jsx)(x,{confirm:s,item:l}),(0,d.OpenModal)(e)}},children:(0,c.jsx)(I,{name:l.inManualRevision?"help":l.comprobanteId?"success":"alert",color:l.inManualRevision?"var(--partial-success)":l.comprobanteId?"var(--hrm_palette-success-fg)":"var(--hrm_palette-selected-nav-text)"})}),(0,c.jsx)("div",{className:" tr_bar_15 font_onm",children:(0,c.jsx)(N.OL,{to:{pathname:"/accounting-ledger",search:"?cId=".concat(l.comprobanteId)},children:null===l||void 0===l?void 0:l.comprobanteId})}),(0,c.jsxs)("div",{className:"_dsplFlx tr_bar_70",onClick:async()=>{l.imagePath?((0,i.Rz)((0,i.Ks)()+"_upd",l),(0,i.Rz)((0,i.Ks)()+"_upd_bck",JSON.parse(JSON.stringify(l))),y(l.imagePath)):(async()=>{if((0,i.I0)()){(0,i.Rz)("upd_fromMobile",l),(0,i.Rz)("upd_fromMobile_bck",JSON.parse(JSON.stringify(l)));let e={zIndex:450,height:"80vh",props:{minHeight:"1vh",overlay:!0}};e.content=(0,c.jsx)(w,{confirm:g}),(0,d.OpenModal)(e)}})()},children:[(0,c.jsx)("div",{className:" tr_bar_15",children:(0,i.sJ)(1*(null===l||void 0===l?void 0:l.date))}),(0,c.jsx)("div",{className:" tr_bar_25 font_onm",style:{color:"expense"===l.movementType?"var(--hrm_palette-selected-nav-text)":"var( --hrm_palette-blue-purple)"},children:null===l||void 0===l?void 0:l.title}),(0,c.jsx)("div",{className:" tr_bar_45  font_onm",style:{marginLeft:9},children:null===l||void 0===l?void 0:l.description}),(0,c.jsx)("div",{className:" tr_bar_15 txt_al_r",style:{color:"expense"===l.movementType?"var(--hrm_palette-selected-nav-text)":"var( --hrm_palette-blue-purple)"},children:null===l||void 0===l?void 0:l.amount})]}),(0,c.jsx)("div",{className:"flexSpace"}),null!==l&&void 0!==l&&l.imagePath?(0,c.jsx)("div",{className:"icon tr_bar_5",onClick:()=>{let e=l.imagePath;e=l.imagePath.split(".png")[0]+".webp";let a=(0,i.LH)(e);(0,n.Qq)(e,(e=>M(e,a)))},children:(0,c.jsx)(I,{name:"image_outline",color:"var(--partial-success)"})}):(0,c.jsx)("div",{className:"icon tr_bar_5"}),(0,c.jsx)("div",{className:"icon tr_bar_5",onClick:()=>{let e=(0,i.bh)("lastTimeCallModal")||0;if(Date.now()>e){(0,i.Rz)("lastTimeCallModal",Date.now()+320);let e={zIndex:450,height:"40vh",props:{minHeight:"1vh",overlay:!0,closeEvent:()=>{}}};e.content=(0,c.jsx)(r,{confirm:f,item:l}),(0,d.OpenModal)(e)}},children:(0,c.jsx)(I,{name:"outline_delete",color:"#c62828"})})]})})}},1475:(e,l,a)=>{a.d(l,{Je:()=>d,MX:()=>i,M_:()=>u,Qq:()=>s,bM:()=>m,lG:()=>o,p8:()=>c,sV:()=>n,tS:()=>h,vC:()=>r});var t=a(2350);const i=async e=>{e&&e()},s=async(e,l)=>{var a;let i={query:"getSignedUrl",params:{userId:null===(a=(0,t.bh)("profileUser"))||void 0===a?void 0:a.businessId,fileName:e}};const s=(0,t.I7)(i),d=await s;null!==d&&void 0!==d&&d.url?(0,t.Ey)(l)&&l(null===d||void 0===d?void 0:d.url):(0,t.Ey)(l)&&l(null)},d=async(e,l,a)=>{var i;let s={query:"ProccessImage",params:{userId:null===(i=(0,t.bh)("profileUser"))||void 0===i?void 0:i.businessId,fileName:l,url:e}};const d=(0,t.I7)(s),n=await d;null!==n&&void 0!==n&&n.url?(0,t.Ey)(a)&&a(null===n||void 0===n?void 0:n.url):(0,t.Ey)(a)&&a(null)},n=async(e,l)=>{let a={query:"detectLandMark",params:{url:e}};const i=(0,t.I7)(a),s=await i;l(e,s||null)},o=async e=>{var l,a,i,s;let d={...null===(l=(0,t.bh)((0,t.hQ)()))||void 0===l?void 0:l.search_incms_expns};d.params={businessId:null===(a=(0,t.bh)("profileUser"))||void 0===a?void 0:a.businessId,year:(0,t.bh)("date_current_year"),":date1":null===(i=(0,t.bh)("date_range_comps"))||void 0===i?void 0:i.initDate,":date2":null===(s=(0,t.bh)("date_range_comps"))||void 0===s?void 0:s.lastDate},(0,t.bh)("search_acc_record").split(" ").map(((e,l)=>{e&&(d.params[":search"+l]=e.trim())}));const n=(0,t.I7)(d),o=await n;o&&((0,t.Rz)("feedfMbls_ids",o),(0,t.Rz)("feedfMbls_list",v((0,t.jQ)(o),"date")),e&&e())},c=async()=>{let e=[];(0,t.bh)("feedfMbls_list").map((async(l,a)=>{var i,s,d,n,o,c;if(l.comprobanteId)return;let r={...l},m={...l},v="debit",u="credit";"expense"===(null===m||void 0===m?void 0:m.movementType)&&(v="credit",u="debit");let h=(null===m||void 0===m?void 0:m.title)+"; "+(null===m||void 0===m?void 0:m.description),p=null===(i=(0,t.bh)("categories_ids"))||void 0===i?void 0:i[null===m||void 0===m?void 0:m.categoryId],_={};_.amount=null===m||void 0===m?void 0:m.amount,_.movementId=null===m||void 0===m?void 0:m.movementId,_.description=h,_.date=null===m||void 0===m?void 0:m.date;let b={..._};_.account=null===(s=(0,t.bh)("global_account_params"))||void 0===s?void 0:s.cash_bank.account,_.type=v,b.account=null===p||void 0===p?void 0:p.account,null!==p&&void 0!==p&&p.subAccount&&(b.subAccount=null===p||void 0===p?void 0:p.subAccount),b.type=u;let x=[b,_];r.date?r.date=new Date(r.date).getTime():r.date=(new Date).getTime()+800;let g=await(0,t.V_)(r.date,1*a+4);r.comprobanteId=g,r.document=null===(d=r.document)||void 0===d?void 0:d.trim(),x&&(null===(n=(0,t._2)(x))||void 0===n||n.map((async(a,i)=>{let s=x[a];if(!isNaN(1*s.amount)&&1*s.amount>0){var d,n;let a={...r};a.account=s.account,s.subAccount&&(a.subAccount=s.subAccount),a.movementRef=l.movementId,a.type=s.type,a.amount=1*s.amount,a.operationId=(0,t.M5)(),a.document=(0,t.LO)()+"_"+(0,t.UG)(r.date);let i={...null===(d=(0,t.bh)((0,t.hQ)()))||void 0===d?void 0:d.add_opera};i.params={businessId:null===(n=(0,t.bh)("profileUser"))||void 0===n?void 0:n.businessId,year:new Date(r.date).getFullYear()},i.form=a,e.push(i)}})));let f={...null===(o=(0,t.bh)((0,t.hQ)()))||void 0===o?void 0:o.upd__incms_expns};f.params={businessId:null===(c=(0,t.bh)("profileUser"))||void 0===c?void 0:c.businessId,movementId:l.movementId,year:(0,t.bh)("date_current_year")},f.data2update={comprobanteId:g},e.push(f)})),setTimeout((()=>{}),4e3)},r=async e=>{var l,a;let i={...null===(l=(0,t.bh)((0,t.hQ)()))||void 0===l?void 0:l.search_categapp};i.params={businessId:null===(a=(0,t.bh)("profileUser"))||void 0===a?void 0:a.businessId},(0,t.bh)("search_categories").split(" ").map(((e,l)=>{e&&(i.params[":search"+l]=e.trim())}));const s=(0,t.I7)(i),d=await s;d&&((0,t.Rz)("categories_ids",d),(0,t.Rz)("categories_list",v((0,t.jQ)(d),"name")),e&&e())},m=async e=>{var l,a;let i={...null===(l=(0,t.bh)((0,t.hQ)()))||void 0===l?void 0:l.all_categapp};i.params={businessId:null===(a=(0,t.bh)("profileUser"))||void 0===a?void 0:a.businessId};const s=(0,t.I7)(i),d=await s;d&&(!function(e){const l=e=>({label:e.name,id:e.categoryId});(0,t.Rz)("categories_pick_data",e.map(l))}(d),(0,t.Rz)("categories_list",v(d,"name")),(0,t.Rz)("categories_ids",(0,t.ME)(d,"categoryId"))),e&&e()};const v=(e,l)=>(0,t.MV)("sort_feedfMbl",[e],(()=>e&&e.sort(((e,a)=>{let t=1*e[l],i=1*a[l];return t<i?-1:t>i?1:0})))),u=async(e,l)=>{var a,i;let s={...null===(a=(0,t.bh)((0,t.hQ)()))||void 0===a?void 0:a.delete__incms_expns};s.params={businessId:null===(i=(0,t.bh)("profileUser"))||void 0===i?void 0:i.businessId,movementId:e};const d=(0,t.I7)(s);await d&&l&&l()},h=(e,l)=>(0,t.MV)("rangeArr",[e,l],(()=>e?(0,t._2)(e).slice(0,l):[]))},5196:()=>{},5027:()=>{}}]);
//# sourceMappingURL=3075.3244a3cd.chunk.js.map