"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[31,9760],{31:function(e,a,n){n.r(a),n.d(a,{default:function(){return m}});var i=n(9439),l=n(2791),t=n(2350),s=n(2647),d=n(9760),c=n(5408),r=n(15),o=n(184),u=(0,s.PU)(),v=(0,s.YZ)(),h=function(e){var a=e.onConfirm,n=e.onCancel,s=e.init,d=e.last,c=e.isRange,r=e.appoitmentType,u=(0,l.useState)(s),v=(0,i.Z)(u,2),h=v[0],m=v[1],f=(0,l.useState)(d),p=(0,i.Z)(f,2),_=p[0],j=p[1],y=(0,l.useState)(!1),N=(0,i.Z)(y,2),D=N[0],w=N[1],b=(0,l.useState)(!1),C=(0,i.Z)(b,2),k=C[0],I=C[1],T=(0,l.useState)(null),z=(0,i.Z)(T,2),F=z[0],M=z[1],R=function(){k?I(!1):n()};return(0,o.jsxs)("div",{className:"dateBox darkmode",children:[(0,o.jsx)("div",{className:"date_header_box",children:(0,o.jsx)("div",{className:"date_header_title",children:c?"Select Ranges":"Escojer Dia"})}),(0,o.jsxs)("div",{className:"_dsplFlx date_calendar_header",children:[(0,o.jsx)("div",{className:"date_range_title",children:h?(0,t.kj)(h):"Start Date"}),c?(0,o.jsx)("div",{className:"date_range_space_title",children:" - "}):null,c?(0,o.jsx)("div",{className:"date_range_title",children:_?(0,t.kj)(_):"End Date"}):null,(0,o.jsx)("div",{className:"flexSpace"})]}),k?(0,o.jsx)(g,{onChange:M,date:h,selected:F,close:R}):(0,o.jsx)(x,{onChangeDate:function(e){r?(j(null),w(!0),m(e),I(!0)):c&&D&&e>h?(j(e),w(!1)):(m(e),j(null),w(!0))},init:h,last:_,isRange:c,appoitmentType:r}),(0,o.jsxs)("div",{className:"_dsplFlx calendar_action_group",children:[(0,o.jsx)("div",{className:"flexSpace"}),(0,o.jsx)("div",{onClick:R,size:40,className:"_dsplFlx",children:(0,o.jsx)("div",{className:"btn_cal_cancel",children:"Cancel"})}),(0,o.jsx)("div",{onClick:function(){r?(I(!1),a({initDate:h,appTimeSelected:F})):(c&&h&&_||h)&&a({initDate:h,lastDate:_})},children:(0,o.jsx)("div",{className:"_dsplFlx",style:{marginLeft:16,marginRight:8},children:(0,o.jsx)("div",{className:"btn_cal_confirm",children:"OK"})})})]})]})},m=function(e){var a=e.data,n=e.onConfirm,i=e.initValue,l=e.init,t=e.last,s=e.isRange,r=e.appoitmentType;(0,c.Z)("fb_updated_1128h");return(0,o.jsx)(h,{onConfirm:function(e){null===n||void 0===n||n(e),a.modalID&&(0,d.CloseModal)({id:a.modalID})},onCancel:function(){a.modalID&&(0,d.CloseModal)({id:a.modalID})},initValue:i,init:l,last:t,isRange:s,appoitmentType:r})},x=function(e){var a=e.init,n=e.last,s=e.onChangeDate,d=e.isRange,c=e.appoitmentType,r=(0,l.useState)((new Date).getFullYear()),v=(0,i.Z)(r,2),h=v[0],m=v[1],x=(0,l.useState)((new Date).getMonth()),p=(0,i.Z)(x,2),g=p[0],j=p[1],y=(0,l.useState)([]),N=(0,i.Z)(y,2),D=N[0],w=N[1],b=(0,l.useState)(!1),C=(0,i.Z)(b,2),k=C[0],I=C[1],T=(0,l.useState)(1),z=(0,i.Z)(T,2),F=(z[0],z[1]);(0,l.useEffect)((function(){return w((0,t.ul)(g,h)),setTimeout((function(){F((0,t.M5)())}),350),function(){}}),[g,h]);var M=t.f2.es[g+1],R=function(e){if(g+e>11||g+e<0){var a=g+e>11?0:g+e<0?11:g+e,n=g+e>11?h+1:g+e<0?h-1:h;j(a),m(n)}else j(g+e)},S=c&&h===(new Date).getFullYear()&&g<=(new Date).getMonth();return(0,o.jsxs)("div",{style:{marginLeft:4},children:[(0,o.jsxs)("div",{className:"_dsplFlx date_calendar_header",children:[(0,o.jsx)("div",{onClick:function(){return I(!k)},size:40,children:(0,o.jsxs)("div",{className:"_dsplFlx",style:{padding:8},children:[(0,o.jsx)("div",{className:"date_calendar_header_yearmonth",children:M}),(0,o.jsx)("div",{className:"date_calendar_header_yearmonth",children:h}),(0,o.jsx)("div",{style:{paddingHorizontal:2},children:(0,o.jsx)(u,{name:"arrow_drop_down",size:24,color:"var(--light-300)"})})]})}),(0,o.jsx)("div",{className:"flexSpace"}),!k&&(0,o.jsx)("div",{className:"_dsplFlx ".concat(S?"disabled":""),children:(0,o.jsx)("div",{style:{borderRadius:50},children:(0,o.jsx)("div",{style:{padding:"0 2px",marginRight:12},onClick:function(e){S||R(-1)},children:(0,o.jsx)(u,{name:"arrow_left",size:24,color:"var(--light-200)"})})})}),k?null:(0,o.jsx)("div",{className:"_dsplFlx",children:(0,o.jsx)("div",{style:{borderRadius:50},children:(0,o.jsx)("div",{style:{padding:"0 2px"},onClick:function(){return R(1)},children:(0,o.jsx)(u,{name:"arrow_right",size:24,color:"var(--light-200)"})})})})]}),k?(0,o.jsx)(_,{year:h,onChange:function(e){m(e),I(!1)}}):(0,o.jsx)(f,{year:h,month:g,calendarData:D,onChange:function(e){var a=e&&new Date(h,g,e).getTime();a&&s(a)},init:a,last:n,range:d,appoitmentType:c})]})},f=function(e){var a=e.year,n=e.month,i=e.calendarData,l=e.onChange,s=e.init,d=e.last,c=e.range,r=e.appoitmentType,u=864e5,v=Math.floor(s/u),h=Math.floor(d/u),m=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()),x=(0,t.bh)("AppointmentsDates");return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"_dsplFlx date_calendar_week_title",children:t.$l.en.map((function(e,a){return(0,o.jsx)("div",{className:"date_calendar_week_title_day",children:e},e+"_"+a)}))}),(0,o.jsx)("div",{style:{minHeight:282},children:i.map((function(e,i){return(0,o.jsx)("div",{className:"_dsplFlx",children:e.map((function(e,s){var d,f=e.day,_=new Date(a,n,f),g=r&&m>_,j=Math.floor(_/u),y=f&&j>v&&j<h,N=f&&j===v,D=f&&j===h,w=e.isToday,b=function(e){var a;((null===(a=(0,t.bh)((0,t.nc)()))||void 0===a?void 0:a.isAdmin)||k>0||C&&(0,t._2)(C).filter((function(e){var a,n;return(null===(a=C[e])||void 0===a?void 0:a.userId)===(null===(n=(0,t.bh)((0,t.nc)()))||void 0===n?void 0:n.userId)}))[0])&&!g&&((0,t.Rz)("isTodayPickApp",w),l(e))},C=null===x||void 0===x?void 0:x[a+"_"+n+"_"+f],k=(C&&(null===(d=(0,t._2)(C))||void 0===d||d.length),f&&!g&&p(C,w));return(0,o.jsx)("div",{className:"day_wrp ".concat(f?"":" empty_day"," ").concat(g?" disable_day":"").concat(c?" range":"").concat(w?" isToday":"").concat(f&&D?" lastActiveDay":"").concat(f&&N?" firstActiveDay":"").concat(y?" isSelected":""),children:(0,o.jsxs)("div",{className:"day_cal ",onClick:function(){return b(f)},children:[(0,o.jsx)("div",{className:"day_num ",children:f}),(0,o.jsx)("div",{className:"apps_left",children:k||""})]})},s+"_day_"+i)}))},"week_"+i)}))})]})},p=function(e,a){var n=0;if(null!==e&&void 0!==e&&e.isDayOff)return n;if(a){var i=(new Date).getHours();if(i>17)n=null;else if(i>9&&i<17){var l=0;e&&(0,t._2)(e).map((function(e){1*e.split("_")[1]>i&&(l+=1)})),n=17-i-l}else n=9-(e?(0,t._2)(e).length:0)}else n=9-(e?(0,t._2)(e).length:0);return n},_=function(e){var a=e.year,n=e.onChange,i=Array.from({length:9},(function(e,a){return a+((new Date).getFullYear()-0)})),t=(0,l.useRef)();return(0,l.useEffect)((function(){return setTimeout((function(){var e=41.6*(16+(a-(new Date).getFullYear())/3);t.current.scrollTo({x:e,y:0,animated:!0})}),20),function(){}}),[a]),(0,o.jsx)("div",{children:(0,o.jsx)("div",{ref:t,style:{maxHeight:"70vh"},className:"scrollV",children:(0,o.jsx)("div",{className:"_dsplFlx year_wrp",children:i.map((function(e){return(0,o.jsx)("div",{className:"year_tag",onClick:function(){return n(e)},children:(0,o.jsx)("div",{className:"year-itm".concat(e===a?" activeYear":""," "),children:(0,o.jsx)("div",{className:"y_num",children:e})})},e)}))})})})},g=function(e){var a,n,i=e.date,s=e.selected,c=e.onChange,u=e.close,h=new Date(i),m=h.getFullYear(),x=h.getMonth(),f=h.getDate(),_=(new Date).getHours(),g=(0,t.bh)("isTodayPickApp"),y={9:"9:00-9:59 AM",10:"10:00-10:59 AM",11:"11:00-11:59 AM",12:"12:00-12:59 PM",13:"1:00-1:59 PM",14:"2:00-2:59 PM",15:"3:00-3:59 PM",16:"4:00-4:59 PM",17:"5:00-5:59 PM"},N=((0,l.useRef)(),(0,t.bh)("AppointmentsDates")),D=null===N||void 0===N?void 0:N[m+"_"+x+"_"+f],w=(p(D,g),function(){return D&&(0,t._2)(D).filter((function(e){var a,n;return(null===(a=D[e])||void 0===a?void 0:a.userId)===(null===(n=(0,t.bh)((0,t.nc)()))||void 0===n?void 0:n.userId)}))[0]}),b=w(),C=function(){var e=1*(null===b||void 0===b?void 0:b.split("_")[1]),a=null===y||void 0===y?void 0:y[e];return(g?_<e&&a:a)&&(0,o.jsxs)("div",{children:["Tiene una cita programada ",(0,o.jsxs)("span",{children:["(",a,")"]})," "]})},k=function(e){var a,n,i,l=w(),s=(null===D||void 0===D||null===(a=D[l])||void 0===a?void 0:a.userId)===(null===(n=(0,t.bh)((0,t.nc)()))||void 0===n?void 0:n.userId);s&&1*l.split("_")[1]===1*e?function(e){var a=y[b.split("_")[1]],n={zIndex:950,height:"80vh",props:{minHeight:"1vh",overlay:!0}};n.content=(0,o.jsx)(j,{date:h,hour:a,confirm:function(){}}),(0,d.OpenModal)(n)}():null!==(i=(0,t.bh)((0,t.nc)()))&&void 0!==i&&i.isAdmin?c(e):s?(0,r.OpenToast)({text:"No puede hacer dos reservas el mismo dia",timeout:1500}):c(e)};return(0,o.jsxs)("div",{className:"hourlyPicker",children:[null!==(a=(0,t.bh)((0,t.nc)()))&&void 0!==a&&a.isAdmin?(0,o.jsxs)("div",{className:"_dsplFlx ",style:{margin:"4px 7px 15px"},children:[(0,o.jsx)("div",{className:"flexSpace"}),(0,o.jsx)(v,{initvalue:null===D||void 0===D?void 0:D.isDayOff,keyCode:77,updChange:function(e){u()},color:"var(--primary-hover)"}),(0,o.jsx)("span",{className:"checklabel",style:{marginLeft:6},children:"Dia Off "})]}):null,!(null!==(n=(0,t.bh)((0,t.nc)()))&&void 0!==n&&n.isAdmin)&&C()&&(0,o.jsx)("div",{className:"title_appts_confirmed",children:C()}),(0,o.jsx)("div",{className:"_dsplFlx year_wrp",children:!(null!==D&&void 0!==D&&D.isDayOff)&&[9,10,11,12,13,14,15,16,17].map((function(e,a){var n,i=null===D||void 0===D?void 0:D["app_"+e],l=(null===i||void 0===i?void 0:i.userId)===(null===(n=(0,t.bh)((0,t.nc)()))||void 0===n?void 0:n.userId);return g&&_>e||i&&!l?(0,o.jsx)("div",{className:"year_tag ".concat(i?"hasTaken":"")},e):(0,o.jsx)("div",{className:"year_tag ".concat(i?"hasTaken":"").concat(l?" youAlreadyHave":""),onClick:function(){return k(e)},children:(0,o.jsx)("div",{className:"year-itm".concat(e===s?" activeYear":""),children:(0,o.jsx)("div",{className:"y_num",children:i?l?"reservado ":"-":y[e]})})},e)}))})]})},j=function(e){var a=e.data,n=e.date,i=e.hour,l=e.confirm,s=function(){a.modalID&&(0,d.CloseModal)({id:a.modalID})};return(0,o.jsxs)("div",{type:"Free",className:"idfmDQ",children:[(0,o.jsx)("div",{className:" gPHWco",children:(0,o.jsx)("div",{className:"dcXXTq ",children:(0,o.jsx)("div",{className:"eKdSaJ",children:(0,o.jsxs)("div",{className:" jVaMjA dBwXbT",children:[(0,o.jsx)("div",{className:" date_calendar_header_yearmonth title_cancel_app",children:"Desea cancelar su cita  "}),(0,o.jsxs)("div",{className:"_dsplFlx date_calendar_header",children:[(0,o.jsx)("div",{className:"flexSpace"}),(0,o.jsx)("span",{children:(0,t.sG)(n)}),(0,o.jsx)("div",{className:"flexSpace"}),(0,o.jsx)("span",{style:{marginLeft:16},children:i}),(0,o.jsx)("div",{className:"flexSpace"})]})]})})})}),(0,o.jsxs)("div",{className:"_dsplFlx calendar_action_group",children:[(0,o.jsx)("div",{className:"flexSpace"}),(0,o.jsx)("div",{onClick:s,className:"_dsplFlx",children:(0,o.jsx)("div",{className:"btn_cal_cancel",children:"Cancel"})}),(0,o.jsx)("div",{onClick:function(){s(),l()},children:(0,o.jsx)("div",{className:"_dsplFlx",style:{marginLeft:16,marginRight:8},children:(0,o.jsx)("div",{className:"btn_cal_confirm",children:"Confirmar"})})})]})]})}},9760:function(e,a,n){n.r(a),n.d(a,{CloseModal:function(){return o},OpenModal:function(){return r},default:function(){return c}});var i=n(2791),l=n(5408),t=n(2350),s=n(184),d="listDialog_mdh392",c=function(){var e=(0,t.bh)("listDialog")||{},a=((0,l.Z)(d),Object.keys(e));return(0,s.jsx)(s.Fragment,{children:a.map((function(a,n){var l=e[a];if(l&&l.visible){var t={};l.height&&(t.heigth=l.height),l.width,l.zIndex&&(t.zIndex=l.zIndex-1);var d={zIndex:l.zIndex},c=null,r=l.data;return l.content&&(c=i.cloneElement(l.content,{data:r})),(0,s.jsxs)("div",{className:"ltr-1kbnjow",style:t,children:[(0,s.jsx)("div",{className:"ltr-hoe9xz",children:(0,s.jsx)("div",{className:"ltr-1wao6ny",style:d,id:a,children:c})}),l.data.overlay?(0,s.jsx)("div",{className:"DialogHRMOverlay ".concat(l.visible?"active":""),onClick:function(){var e;e=a,document.getElementsByTagName("html")[0].classList.remove("has-level-two"),o({id:e})}}):null]},a)}}))})},r=function(e){var a=(0,t.bh)("listDialog")||{},n=(0,t.M5)();a[n]||(a[n]={}),a[n].visible=!0;var i={};e.props?(i=e.props).modalID=n:i.modalID=n;var l=document.getElementsByTagName("body")[0];null!==l&&void 0!==l&&l.style&&(l.style.overflowY="hidden"),a[n].isView=e.isView,a[n].observeResize=e.observeResize,a[n].observeResize&&(a[n].observeInterval=setInterval((function(){var e=document.querySelector("[dialog-key-id='".concat(n,"']")),i=e&&e.getBoundingClientRect();i&&(i.width===a[n].width&&i.height===a[n].height||(a[n].height=i.height+10,a[n].width=i.width,(0,t.Rz)("listDialog",a),(0,t.wt)(d)))}),200)),a[n].display=!0,e.zIndex&&(a[n].zIndex=e.zIndex),e.height&&(a[n].height=e.height),e.width&&(a[n].width=e.width),e.content&&(a[n].content=e.content),a[n].data=i,(0,t.Rz)("listDialog",a),(0,t.wt)(d),setTimeout((function(){document.getElementsByTagName("html")[0].classList.add("has-level-two"),(0,t.Rz)("modalOpen",n),(0,t.wt)(d)}),125)},o=function(e){var a,n,i,l=(0,t.bh)("listDialog")||{},s=e.id;l[s]&&(l[s].observeResize&&l[s].observeInterval&&clearInterval(l[s].observeInterval),l[s].display=!1,null===(a=l[s])||void 0===a||null===(n=a.data)||void 0===n||null===(i=n.closeEvent)||void 0===i||i.call(n),(0,t.Rz)("listDialog",l),delete l[s],document.getElementsByTagName("body")[0].style.overflowY=null,(0,t.wt)(d),setTimeout((function(){delete l[s],document.getElementsByTagName("html")[0].classList.remove("has-level-two"),(0,t.Rz)("modalOpen",null)}),750))}}}]);
//# sourceMappingURL=31.e0effe14.chunk.js.map