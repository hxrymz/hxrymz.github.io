{"version":3,"file":"static/js/3264.d186c98a.chunk.js","mappings":"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","sources":["components/DialogHRM.jsx","features/Inventory/services/server_fetching.js","features/Invoices/component/ExtraCharges.jsx","features/Invoices/component/AddInvoice.jsx","../node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"sourcesContent":["import React from \"react\";\r\nimport ObserveEvent from \"../hooks/observeEvent\";\r\nimport { callDispatchEvent, updStore, getStore, gen16CodeId } from \"../stores/Utils\";\r\n\r\nimport './DialogHRM.css'\r\n\r\nconst obsCode = \"listDialog_mdh392\"\r\nconst DialogHRM = () => {\r\n\tconst list = getStore(\"listDialog\") || {};\r\n\tconst observeComponent = ObserveEvent(obsCode);\r\n\tlet _list = Object.keys(list);\r\n\tconst close = (Id) => {\r\n\t\tlet htm = document.getElementsByTagName(\"html\")[0];\r\n\t\thtm.classList.remove(\"has-level-two\");\r\n\t\tCloseModal({ id: Id });\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{_list.map((dg, indg) => {\r\n\t\t\t\tlet dlg = list[dg];\r\n\t\t\t\tif (dlg && dlg.visible) {\r\n\t\t\t\t\tlet _Style = {};\r\n\t\t\t\t\t//let _cldg = cleanbase64(dg);\r\n\t\t\t\t\t//_Style[`--s__${_cldg}_zIndex__`]=250;\r\n\t\t\t\t\t//_Style[`--overlay__${_cldg}_zIndex__`]=249;\r\n\t\t\t\t\tif (dlg.height) {\r\n\t\t\t\t\t\t_Style[`heigth`]=dlg.height;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (dlg.width) {\r\n\t\t\t\t\t\t//_Style[`--s__${_cldg}_width__`]=dlg.width;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (dlg.zIndex) {\r\n\t\t\t\t\t\t//_Style[`--s__${_cldg}_zIndex__`]=dlg.zIndex;\r\n\t\t\t\t\t\t//_Style[`--overlay__${_cldg}_zIndex__`]=dlg.zIndex-1;\r\n\t\t\t\t\t\t_Style[\"zIndex\"] = dlg.zIndex - 1;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet ts = {\r\n\t\t\t\t\t\t// height: dlg.height,\r\n\t\t\t\t\t\t// width: dlg.width,\r\n\t\t\t\t\t\tzIndex: dlg.zIndex,\r\n\t\t\t\t\t};\r\n\t\t\t\t\tlet cmp2render = null;\r\n\t\t\t\t\tlet data = dlg.data;\r\n\t\t\t\t\tif (dlg.content) {\r\n\t\t\t\t\t\tcmp2render = React.cloneElement(dlg.content, { data });\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div className={\"ltr-1kbnjow\"} style={_Style} key={dg} >\r\n\t\t\t\t\t\t\t<div className={\"ltr-hoe9xz\"}>\r\n\t\t\t\t\t\t\t\t<div className=\"ltr-1wao6ny\" style={ts} id={dg}>\r\n\t\t\t\t\t\t\t\t\t{ cmp2render}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{dlg.data.overlay ? (\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName={`DialogHRMOverlay ${\r\n\t\t\t\t\t\t\t\t\t\tdlg.visible ? \"active\" : \"\"\r\n\t\t\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tclose(dg)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t})}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default DialogHRM;\r\n\r\n\r\n\r\n/*************************************************************************************************************/\r\n/*************************************************************************************************************/\r\n/*************************************************************************************************************/\r\n\r\nexport const OpenModal = (data) => {\r\n\tlet list = getStore(\"listDialog\") || {};\r\n\tlet Id = gen16CodeId();\r\n\tif (!list[Id]) {\r\n\t  list[Id] = {};\r\n\t}\r\n\tlist[Id][\"visible\"] = true;\r\n\tlet _dataProps = {};\r\n\tif (!data[\"props\"]) {\r\n\t  _dataProps[\"modalID\"] = Id;\r\n\t} else {\r\n\t  _dataProps = data[\"props\"];\r\n\t  _dataProps[\"modalID\"] = Id;\r\n\t}\r\n\tlet doc = document.getElementsByTagName(\"body\")[0];\r\n\tif(doc?.style){\r\n\t\tdoc.style.overflowY = \"hidden\"\r\n\t}\r\n\tlist[Id][\"isView\"] = data[\"isView\"];\r\n\tlist[Id][\"observeResize\"] = data[\"observeResize\"];\r\n\tif (list[Id][\"observeResize\"]) {\r\n\t  list[Id][\"observeInterval\"] = setInterval(() => {\r\n\t\tlet cmp = document.querySelector(`[dialog-key-id='${Id}']`);\r\n\t\tlet dmz = cmp && cmp.getBoundingClientRect();\r\n\t\tif (dmz) {\r\n\t\t  if (\r\n\t\t\tdmz.width !== list[Id][\"width\"] ||\r\n\t\t\tdmz.height !== list[Id][\"height\"]\r\n\t\t  ) {\r\n\t\t\tlist[Id][\"height\"] = dmz.height + 10;\r\n\t\t\tlist[Id][\"width\"] = dmz.width;\r\n\t\t\tupdStore(\"listDialog\", list);\r\n\t\t\tcallDispatchEvent(obsCode);\r\n\t\t  }\r\n\t\t}\r\n\t  }, 200);\r\n\t}\r\n  \r\n\tlist[Id][\"display\"] = true;\r\n\tif (data[\"zIndex\"]) {\r\n\t  list[Id][\"zIndex\"] = data[\"zIndex\"];\r\n\t}\r\n\tif (data[\"height\"]) {\r\n\t  list[Id][\"height\"] = data[\"height\"];\r\n\t}\r\n\tif (data[\"width\"]) {\r\n\t  list[Id][\"width\"] = data[\"width\"];\r\n\t}\r\n\tif (data[\"content\"]) {\r\n\t  list[Id][\"content\"] = data[\"content\"];\r\n\t}\r\n\tlist[Id][\"data\"] = _dataProps;\r\n\tupdStore(\"listDialog\", list);\r\n\tcallDispatchEvent(obsCode);\r\n\tsetTimeout(() => {\r\n\t\t// updComponentStore('listDialog',list);\r\n\t\tlet htm = document.getElementsByTagName(\"html\")[0];\r\n\t\thtm.classList.add(\"has-level-two\");\r\n\t\tupdStore(\"modalOpen\", Id);\r\n\t\tcallDispatchEvent(obsCode);\r\n\t}, 125);\r\n  };\r\n  \r\n  export const CloseModal = (data) => {\r\n\tlet list = getStore(\"listDialog\") || {};\r\n\tlet Id = data[\"id\"];\r\n\tif (list[Id]) {\r\n\t  if (list[Id][\"observeResize\"]) {\r\n\t\tif (list[Id][\"observeInterval\"]) {\r\n\t\t  clearInterval(list[Id][\"observeInterval\"]);\r\n\t\t}\r\n\t  }\r\n\t  list[Id][\"display\"] = false;\r\n\t  list[Id]?.data?.closeEvent?.();\r\n\t  updStore(\"listDialog\", list);\r\n\t  delete list[Id];\r\n\t  let doc = document.getElementsByTagName(\"body\")[0];\r\n\t  doc.style.overflowY = null\r\n\t  callDispatchEvent(obsCode);\r\n\t  setTimeout(() => {\r\n\t\tdelete list[Id];\r\n\t\t//updComponentStore('listDialog',list);\r\n\t\t//getDispatch()(setObserveCmpt())\r\n\t\tlet htm = document.getElementsByTagName(\"html\")[0];\r\n\t\thtm.classList.remove(\"has-level-two\");\r\n\t\tupdStore(\"modalOpen\", null);\r\n\t  }, 750);\r\n\t}\r\n  };\r\n  ","import { fetchEncryptStream, updStore, getStore, convertArray2Obj, ObjectKeys, callbackOnMemory, convertObj2Array, qryStore, csvJSON, gen16CodeId, fetchQueue } from \"../../../stores/Utils\";\n\n\n\n// import prodCSV from './Yansel_products_inventory - Artículos.json'\n\n\nexport const get_inventory_by_prod = async (pId,cb) => {\n    \n    let bdyq2 = {...getStore(qryStore())?.get_inventory_prod};\n    bdyq2.params = {\n        businessId:  getStore(\"profileUser\")?.businessId,\n        \":productId\": pId\n    }\n    const res = fetchEncryptStream(bdyq2);\n    const td = await res;\n    if (td) {\n        updStore(\"inv_products_list\", sortProducts(convertObj2Array(td.list),\"name\"));\n        updStore(\"inv_products_stock\", td.stock);\n        cb && cb();\n    }\n};\n\n\nexport const get_prod_stock = async (pId,cb) => {\n    \n    let bdyq2 = {...getStore(qryStore())?.get_prod_stock};\n    bdyq2.params = {\n        businessId:  getStore(\"profileUser\")?.businessId,\n        \"productId\": pId\n    }\n    const res = fetchEncryptStream(bdyq2);\n    const td = await res;\n    if (td) {\n        let products_stock = {...getStore(\"products_stock\")};\n        products_stock[pId] = td.stock;\n        updStore(\"products_stock\", products_stock);\n        cb && cb();\n    }\n};\n\n\n\n\nexport const getall_product = async (cb) => {\n    let bdyq2 = {...getStore(qryStore())?.all_prods};\n    bdyq2.params = {\n        businessId:  getStore(\"profileUser\")?.businessId\n    }\n    const res = fetchEncryptStream(bdyq2);\n    const td = await res;\n    if (td) {\n        updStore(\"products_list\", sortProducts(td,\"name\"));\n        updStore(\"products_ids\", convertArray2Obj(convertObj2Array(td),\"productId\"));\n        cb && cb();\n    }\n};\n\n\n\n\nexport const search_product = async (cb) => {\n\n    let bdyq2 = {...getStore(qryStore())?.search_prod};\n    bdyq2.params = {\n        businessId:  getStore(\"profileUser\")?.businessId,\n        limit: 120\n    }\n\n   \n\n    if(getStore(\"searchQry\").length>2){\n        getStore(\"searchQry\").split(\" \").map((qry,inDq)=>{\n            if(qry){\n                bdyq2.params[\":search\"+inDq] = qry.trim();\n            }\n        })\n        const res = fetchEncryptStream(bdyq2);\n        const td = await res;\n        if (td) {\n            updStore(\"products_list\", sortProducts(convertObj2Array(td),\"code\"));\n            cb && cb();\n        }\n    }else{\n        updStore(\"products_list\",null);\n        cb && cb();\n    }\n\n};\n\n\n\n\nexport const getall_movement = async (cb) => {\n    let bdyq2 = {...getStore(qryStore())?.all_entry_invoices};\n    bdyq2.params = {\n        businessId:  getStore(\"profileUser\")?.businessId\n    }\n    const res = fetchEncryptStream(bdyq2);\n    const td = await res;\n    if (td) {\n        updStore(\"movements_list\", sortProducts(td,\"date\"));\n        updStore(\"movements_ids\", convertArray2Obj(convertObj2Array(td),\"inventoryId\"));\n        cb && cb();\n    }\n   \n};\n\n\n\n\nexport const search_movement = async (cb) => {\n\n    let bdyq2 = {...getStore(qryStore())?.search_entry_invoice};\n    bdyq2.params = {\n        businessId:  getStore(\"profileUser\")?.businessId,\n        \":search\": getStore(\"searchMovQry\")\n    }\n    const res = fetchEncryptStream(bdyq2);\n    const td = await res;\n    if (td) {\n        updStore(\"movements_list\", sortProducts(convertObj2Array(td),\"code\"));\n        cb && cb();\n    }\n};\n\n\n\n\n\n\n\nexport const get_filter_by_acc = async (frm,cb) => {\n   \n};\n\n\n\n\nexport function GroupbyAcc(arr, isPay) {\n    let key =  \"product\";\n    var obj = {\n        \"operations\":[]\n    };\n    let balance = 0;\n\n    let arr1 = arr && ObjectKeys(arr)\n    if (arr1.length > 0) {\n      arr1.map((ele) => {\n        let s = arr[ele];\n        if(s[\"type\"]){\n            if(isPay){\n                balance += s[\"type\"] === \"debit\" ? s[\"amount\"] * -1 : s[\"amount\"] * 1;\n            }\n            else{\n                balance += s[\"type\"] === \"credit\" ? s[\"amount\"] * -1 : s[\"amount\"] * 1;\n            }\n            obj[\"operations\"].push(convert4acc(s));\n        }\n      });\n    } else {\n      obj = null;\n    }\n    return obj;\n  }\n\n\n\n  export function convert4acc(s) {\n    let nItm = {};\n    nItm[\"product\"] =  getStore(\"products_ids\")?.[s[\"product\"]];\n    nItm[\"sub_product\"] = getStore(\"sub_products_ids\")?.[s[\"subProduct\"]];\n    nItm[\"comprobanteId\"] = s[\"comprobanteId\"];\n    nItm[\"document\"] = s[\"document\"];\n    nItm[\"date\"] = s[\"date\"];\n    if(s[\"type\"]===\"credit\"){\n        nItm[\"debit\"] = 0;\n        nItm[\"credit\"] = s[\"amount\"];\n        \n    }\n    else if(s[\"type\"]===\"debit\"){\n        nItm[\"credit\"] = 0;\n        nItm[\"debit\"] = s[\"amount\"];\n    }\n    return nItm;\n  }\n\n\n\n  \n//  sorting episodes comparing inputs to save in cache\nexport const sortProducts = (td, key) =>\ncallbackOnMemory(\n\t\"sortProducts\",\n\t[td],\n\t() => {\n        let order = true;\n\t\tlet sortedA = td && td.sort((a, b) => {\n\t\t\tlet A = a[key];\n\t\t\tlet B = b[key];\n\t\t\tif (A < B) {\n\t\t\t\treturn order ? -1 : 1;\n\t\t\t}\n\t\t\tif (A > B) {\n\t\t\t\treturn order ? 1 : -1;\n\t\t\t}\n\t\t\treturn 0;\n        });\n\t\treturn sortedA;\n\t}\n);\n\n\n\n\nexport const calcSf2fromInch = ({w,h}) =>\ncallbackOnMemory(\n\t\"calcSf2fromInch\",\n\t[w,h],\n\t() => {\n        let square_inch = w*h;\n\t\treturn square_inch;\n\t}\n);\n\n\n\n\nexport const sortComprobantesByDate = (td) =>\ncallbackOnMemory(\n\t\"sortComprobantesByDate\",\n\t[td],\n\t() => {\n        let order = true;\n        let key = \"date\";\n\t\tlet sortedA = td && td.sort((a, b) => {\n\t\t\tlet A =(new Date(a[key])).getTime();\n\t\t\tlet B = (new Date(b[key])).getTime();\n\t\t\tif (A < B) {\n\t\t\t\treturn order ? -1 : 1;\n\t\t\t}\n\t\t\tif (A > B) {\n\t\t\t\treturn order ? 1 : -1;\n\t\t\t}\n\t\t\treturn 0;\n        });\n\t\treturn sortedA;\n\t}\n);\n\n\n\n\nexport const calcSubmayor = (td, product, subProduct) =>\ncallbackOnMemory(\n\t\"calcSubmayor\",\n    [td, product, subProduct],() => {\n        let order = true;\n        let key = \"date\";\n\t\tlet sortedA = td.sort((a, b) => {\n\t\t\tlet A =(new Date(a[key])).getTime();\n\t\t\tlet B = (new Date(b[key])).getTime();\n\t\t\tif (A < B) {\n\t\t\t\treturn order ? -1 : 1;\n\t\t\t}\n\t\t\tif (A > B) {\n\t\t\t\treturn order ? 1 : -1;\n\t\t\t}\n\t\t\treturn 0;\n        });\n\n       let prevBal = 0;\n\n        const saldo = (item)=>{\n            let itm = {...item};\n            if(item?.product?.type===\"credit\"){\n                itm[\"saldo\"] = prevBal +  (itm[\"credit\"]*1) - (itm[\"debit\"]*1); \n            }else{\n                itm[\"saldo\"] = prevBal + (itm[\"debit\"]*1) - (itm[\"credit\"]*1); \n            }\n           \n            prevBal = itm[\"saldo\"];\n            return itm;\n        }\n\n\t\treturn sortedA.map((d)=>saldo(d));\n\t}\n);\n\n\n\n\n\nexport const delete_product = async (productId, cb) => {\n    \n    let bdyq2 = {...getStore(qryStore())?.delete_prod};\n    bdyq2.params = {\n        businessId:  getStore(\"profileUser\")?.businessId,\n        productId: productId\n    }\n    const res = fetchEncryptStream(bdyq2);\n    const td = await res;\n    if (td) {\n        cb && cb();\n    }\n};\n\n\n\nexport const delete_inventory = async (invId, cb) => {\n    let bdyq2 = {...getStore(qryStore())?.delete_inventory};\n    bdyq2.params = {\n        businessId:  getStore(\"profileUser\")?.businessId,\n        \"inventoryId\": invId\n    }\n    const res = fetchEncryptStream(bdyq2);\n    const td = await res;\n    if (td) {\n        cb && cb();\n    }\n};\n\n\nexport const delete_movement = async (invId, cb) => {\n    let bdyq2 = {...getStore(qryStore())?.delete_entry_invoice};\n    bdyq2.params = {\n        businessId:  getStore(\"profileUser\")?.businessId,\n        \"entriesInvoiceId\": invId\n    }\n    const res = fetchEncryptStream(bdyq2);\n    const td = await res;\n    if (td) {\n        cb && cb();\n    }\n};\n\n\n\nexport const entry_invoice_acc_2 = async (invId, cb) => {\n    let bdyq2 = {...getStore(qryStore())?.entry_invoice_acc_2};\n    bdyq2.params = {\n        businessId:  getStore(\"profileUser\")?.businessId,\n        \"entriesInvoiceId\": invId\n    }\n    \n    const res = fetchEncryptStream(bdyq2);\n    const td = await res;\n    if (td) {\n        cb && cb(td);\n    }\n};\n\n\nexport const clearComprobante = async (invId, cb) => {\n    let bdyq2 = {...getStore(qryStore())?.upd_entry_invoice};\n    bdyq2.params = {\n        businessId:  getStore(\"profileUser\")?.businessId,\n        \"entriesInvoiceId\": invId\n    };\n    bdyq2.data2update= {comprobanteId:\"\"};\n    const res = fetchEncryptStream(bdyq2);\n    const td = await res;\n    if (td) {\n        cb && cb();\n    }\n};\n\n// \n\n\n\n\n\nexport const fill_inv = async () => {\n    \n   /** \n    let comp2save = []\n    invJs.map(tS=>{\n\n        let frm = {...tS}\n        if(frm.document === \"Apertura-0001\"){\n           \n            frm[\"date\"] = 1672549200000;\n            let bdyq2 = {...getStore(qryStore())?.add_opera};\n            bdyq2.params = {\n                businessId:  getStore(\"profileUser\")?.businessId\n            }\n            bdyq2.form=frm;\n            comp2save.push(bdyq2)\n        }\n       \n        \n    })\n    console.log(comp2save)\n    \n      \n    const promises = comp2save.map(async (qry2Sv) => {\n        const res = fetchEncryptStream(qry2Sv);\n        const td = await res;\n        if (td) {\n            //console.log(td)\n        }\n    })      \n    await Promise.all(promises);\n\n\n\n        itm[\"cloverId\"] = it2[\"ID de Clover\"];\n        itm[\"name\"] = it2[\"Nombre\"];\n        itm[\"altName\"] = it2[\"Nombre alternativo\"];\n        itm[\"price\"] = it2[\"Precio\"]*1;\n        itm[\"priceType\"] = it2[\"Tipo de precio\"] === \"Fijo\"? \"static\":\"dynamic\";\n        itm[\"priceUnit\"] = it2[\"Unidad de precio\"];\n        itm[\"productCode\"] = it2[\"Código del producto\"];\n        itm[\"sku\"] = it2[\"SKU\"];\n        itm[\"group\"] = it2[\"Grupos de modificadores\"];\n        itm[\"labels\"] = it2[\"Etiquetas\"];\n        itm[\"hidde\"] = it2[\"Oculto\"] === \"NO\"?false:true;\n   */\n\n};\n\nlet idsProds = {};\n\nexport const loadCSVInve = () => {\n    /*\n    let hh = prodCSV;\n    let prod = []\n    false && hh.map(it2=>{\n        let itm = {...it2};\n        let pId = gen16CodeId();\n        let fixname =  itm.name;\n        fixname =  fixname.split(';').join(\"\");\n        fixname =  fixname.split('\"').join(\"\");\n        fixname =  fixname.split('.').join(\"\");\n        itm.name = fixname;\n        if(idsProds[pId]){\n            pId = gen16CodeId();\n            itm[\"productId\"]  = pId;\n            idsProds[pId] = 1;\n        }else{\n            itm[\"productId\"] = pId;\n            idsProds[pId] = 1;\n        }\n        console.log(itm);\n\t\t\n\t\tlet bdyq2 = {\n\t\t\tquery: \"addProductsHRG\",\n\t\t\tparams: {\n\t\t\t\tbusinessId:  getStore(\"profileUser\")?.businessId\n\t\t\t},\n\t\t\tform:itm\n        };\n        prod.push(bdyq2);\n    });\n\n     */\n  //  fetchQueue(prod, fetchCSVInve)\n   \n}\n\nconst fetchCSVInve = async (qry2Sv) => {\n    const res = fetchEncryptStream(qry2Sv);\n    const td = await res;\n    if (td) {\n        return td;\n    }\n}\n\n\n// \n\nexport const rangeProdArr = (obj, range) =>\ncallbackOnMemory(\n\t\"rangeProdArr\",\n\t[obj,range],\n\t() => {\n        return obj ? ObjectKeys(obj).slice(0,range) : [];\n    }\n);","import React, { useEffect, useState, useRef } from \"react\";\n\nimport { gen16CodeId, getStore, updStore, parseFloatToDecimal, ObjectKeys, getLabelTranslate } from \"../../../stores/Utils\";\nimport { TextInput_Cmpt, SvgIcon_Cmpt } from \"../../../components\";\n\nconst TextInput = TextInput_Cmpt();\nconst Svg = SvgIcon_Cmpt();\n\n\nconst AddExtraChargesInvoice = ({updParent}) => {\n\tconst [obs, set_obs] = useState(0);\n\tconst [loading, set_loading] = useState(false);\n\tconst updFrmExtraChargesInvoice = (f, v, k) => {\n\t\tlet frm2 = getStore(\"extraChargesInvoice\") || {};\n\t\tif(k){\n\t\t\tif( !frm2[k]){\n\t\t\t\tfrm2[k] = {};\n\t\t\t}\n\t\t\tfrm2[k][f] = v;\n\t\t}else{\n\t\t\tfrm2[f] = v;\n\t\t}\n\t\tupdStore(\"extraChargesInvoice\", frm2);\n\t\tset_obs(gen16CodeId())\n\t};\n\n\n\n\tconst addExtraAccount2List = () => {\n\t\tset_loading(true)\n\t\tlet frm2 = {...getStore(\"extraChargesInvoice\")} || {};\n\t\tlet extraChargesInvoiceList = {...getStore(\"extraChargesInvoiceList\")} || {};\n\t\tlet id = gen16CodeId();\n\t\tfrm2[\"qty\"] = 1;\n\t\textraChargesInvoiceList[id] = frm2;\n\t\tupdStore(\"extraChargesInvoiceList\", extraChargesInvoiceList);\n\t\t\n\t\tupdStore(\"extraChargesInvoice\", null);\n\t\tupdParent(gen16CodeId())\n\t\tsetTimeout(() => {\n\t\t\tset_loading(false)\n\t\t}, 350);\n\t}\n\n\n\treturn (\n\t\t<div >\n\t\t\t{loading ?\t<div className=\"load_animation\"/> :\n\t\t\t<div className=\"\" style={{maxWidth: 130 , marginLeft: 7}}>\n\t\t\t\t<TextInput  \n\t\t\t\t\tinit={getStore(\"extraChargesInvoice\")?.[\"description\"]} \n\t\t\t\t\tlabel={getLabelTranslate(4)} \n\t\t\t\t\twidth={750} \n\t\t\t\t\tupdChanges={(e)=>updFrmExtraChargesInvoice(\"description\",e)}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t}\n\t\t\t{loading ?\n\t\t\t<div className=\"_dsplFlx\"  >\n\t\t\t\t<div className=\"flexSpace\"/>\n\t\t\t\t\n\t\t\t\t<div className=\"form_title\">\n\t\t\t\t\t{\"Saving.....\"}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t:\n\t\t\t<div className=\"_dsplFlx\"  >\n\t\t\t\t\n\t\t\t\t<TextInput  \n\t\t\t\t\tinit={getStore(\"extraChargesInvoice\")?.[\"salePrice\"]} \n\t\t\t\t\tlabel={getLabelTranslate(14)}\n\t\t\t\t\twidth={120} \n\t\t\t\t\ttype={\"number\"}\n\t\t\t\t\tupdChanges={(e)=>updFrmExtraChargesInvoice(\"salePrice\",e)}\n\t\t\t\t/>\n\t\t\t\t<div className=\"flexSpace\"/>\n\t\t\t\t{getStore(\"extraChargesInvoice\")?.[\"description\"] && getStore(\"extraChargesInvoice\")?.[\"salePrice\"] ?\n\t\t\t\t\t<div className=\"card\">\n\t\t\t\t\t\t<button onClick={addExtraAccount2List}>\n\t\t\t\t\t\t\t{getLabelTranslate(7)}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t:null}\n\t\t\t\t\n\t\t\t</div>\n\t\t\t}\n\t\t</div>\n\t)\n}\n\n\nconst ExtraCharges = ({updMain}) => {\n\tconst [obs, set_obs] = useState(0);\n\n\t\n\t\n\tconst rmvExtraAccount2List = (id) => {\n\t\tlet extraChargesInvoiceList = getStore(\"extraChargesInvoiceList\") || {};\n\t\tdelete extraChargesInvoiceList[id];\n\t\tupdStore(\"extraChargesInvoiceList\", extraChargesInvoiceList);\n\t\tupdMain(gen16CodeId())\n\t}\n\n\n\tconst updList = (id) => {\n\t\tset_obs(gen16CodeId())\n\t\tupdMain(gen16CodeId())\n\t}\n\n\n\n\n\treturn (\n\t\t\n\t\t<div className=\"boxAddAcc\" style={{margin: \"18px 0\"}}>\n\t\t    <AddExtraChargesInvoice updParent={set_obs} />\n\n\t\t\t<div className=\"_dsplFlx hdr_bar purple\" style={{margin: \"18px 0\"}}>\n\t\t\t\t<div className=\"tr_bar tr_bar_80\">\n\t\t\t\t\t{getLabelTranslate(4)}\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div className=\"tr_bar tr_bar_20\">\n\t\t\t\t\t{getLabelTranslate(14)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{getStore(\"extraChargesInvoiceList\") && ObjectKeys(getStore(\"extraChargesInvoiceList\"))?.map((element, indE)=>\n\t\t\t\t<ListingAccounts key={element} idKey={element} data={getStore(\"extraChargesInvoiceList\")[element]} deleteItem={rmvExtraAccount2List}/>\n\t\t\t)}\n\t\t</div>\n\n\t)\n}\n\n\n\n\nconst ListingAccounts  = ({ data, deleteItem, idKey }) => {\n\tlet accountD = getStore(\"account_ids\")?.[data?.account];\n\tlet subaccountD = getStore(\"sub_account_ids\")?.[data?.subAccount];\n\n\tconst editSearchAccount = () => {\n\t\tdeleteItem(idKey)\n\t}\n\t\n\treturn (\n\t\t<div className=\"_dsplFlx hdr_bar\">\n\t\t\t\t\n\t\t\t<div className=\"tr_bar tr_bar_80\" style={{textAlign:\"left\"}}>\n\t\t\t\t{data?.description}\n\t\t\t</div>\n\t\t\t<div className=\"tr_bar tr_bar_20\">\n\t\t\t\t{parseFloatToDecimal(data?.salePrice,2)}\n\t\t\t</div>\n\t\t\t<div className=\"flexSpace\"/>\n\t\t\t<div className=\"icon\" onClick={editSearchAccount}>\n\t\t\t\t<Svg name={\"outline_delete\"} color={\"#c62828\"}/>\n\t\t\t</div>\n\n\t\t</div>\n\t)\n\n}\n\n\nexport default ExtraCharges;","import React, { useEffect, useState, useRef } from \"react\";\r\n\r\n\r\n\r\nimport { getStore, updStore, gen16CodeId,  fetchEncryptStream, ObjectKeys, genNumId, qryStore, parseFloatToDecimal, generateComprobanteId, getLabelTranslate } from \"../../../stores/Utils\";\r\n\r\nimport {  TextInput_Cmpt,  SvgIcon_Cmpt } from \"../../../components\";\r\n\r\n\r\nimport \"./styles.css\"\r\nimport { CloseModal, OpenModal } from \"../../../components/DialogHRM\";\r\n\r\nimport { useNavigate } from \"react-router\";\r\nimport { PickCustomer_Cmpt} from \"../../ComprobanteParametrizados\";\r\n\r\nimport ExtraCharges from \"./ExtraCharges\";\r\nimport { PickProduct_Cmpt, DateCalComponent_Cmpt } from \"../../Inventory\";\r\nimport { get_prod_stock } from \"../../Inventory/services/server_fetching\";\r\n\r\nconst Svg = SvgIcon_Cmpt();\r\n\r\n\r\nconst TextInput = TextInput_Cmpt();\r\n\r\nconst DateCalComponent =DateCalComponent_Cmpt();\r\n\r\n\r\nconst PickProvide = PickCustomer_Cmpt();\r\nconst PickProduct =PickProduct_Cmpt();\r\n\r\n\r\nconst frmNm = \"new_fatura_sale_comprobante\"\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst MakeSaleFactura  = ({ data, confirm }) => {\r\n\tconst [initialize, setInitialize] = useState(false);\r\n\tconst [obs, set_obs] = useState(0);\r\n\r\n\tconst navigate = useNavigate();\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!initialize) {\r\n\t\t\tsetInitialize(true);\r\n\t\t\tupdStore(\"accountPicker\", {});\r\n\t\t\tset_obs(gen16CodeId())\r\n\t\t}\r\n\t});\r\n\r\n\tconst updFrm = (f, v, k) => {\r\n\t\tlet frm2 = getStore(frmNm) || {};\r\n\t\tif(k){\r\n\t\t\tif( !frm2[k]){\r\n\t\t\t\tfrm2[k] = {};\r\n\t\t\t}\r\n\t\t\tfrm2[k][f] = v;\r\n\t\t}else{\r\n\t\t\tfrm2[f] = v;\r\n\t\t}\r\n\t\tupdStore(frmNm, frm2);\r\n\t\t\r\n\t\tset_obs(gen16CodeId())\r\n\t};\r\n\r\n\r\n\r\n\tlet TotalAmount = SumCollects(getStore(\"productListOnOut\"),getStore(\"extraChargesInvoiceList\"))\r\n\r\n\r\n\tconst save  = async ()  => {\r\n\t\tlet ffm = getStore(frmNm);\r\n\r\n\t\tlet date =   (new Date()).getTime()+800;\r\n\t\tif(ffm[\"date\"]){\r\n\t\t\tlet nn = (new Date(ffm[\"date\"])).getTime();\r\n\t\t\tdate = nn?nn:date;\r\n\t\t}\r\n\t\tffm[\"date\"] = date; \r\n\t\tlet comp2save = [];\r\n\t\t\r\n\t\t//let comprobanteId = await generateComprobanteId(ffm[\"date\"]);\r\n\t\t//ffm[\"comprobanteId\"] = comprobanteId;\r\n\r\n\r\n\t\tlet hasAdvancePay = ffm[\"hasAdvancePay\"];\r\n\t\tlet hasTax = ffm[\"hasTax\"];\r\n\r\n\t\t\r\n\t\tdelete ffm[\"hasTax\"];\r\n\t\tdelete ffm[\"hasAdvancePay\"];\r\n\t\t\r\n\t\r\n\t\tlet totalC = 0;\r\n\t\tlet sumInv = 0;\r\n\t\tlet inventoryList = []\r\n\r\n\t\tlet dtAcc = getStore(\"global_account_params\");\r\n\r\n\t\tlet arr2 = getStore(\"productListOnOut\") && ObjectKeys(getStore(\"productListOnOut\"));\r\n\t\tarr2 && arr2?.map(async (element, indE)=>{\r\n\t\t\t\r\n\t\t\tlet dataAcc = {...getStore(\"productListOnOut\")[element]};\r\n\t\t\t\r\n\t\t\tlet amount = (dataAcc[\"qty\"]*1)*(dataAcc[\"price\"]*1);\r\n\t\t\t\r\n\t\t\ttotalC +=  amount;\r\n\t\t\tsumInv +=  amount;\r\n\r\n\t\t\tinventoryList.push({\r\n\t\t\t\tinventoryId: gen16CodeId(),\r\n\t\t\t\tproduct: dataAcc[\"productId\"],\r\n\t\t\t\tqty: dataAcc[\"qty\"]*1,\r\n\t\t\t\tsalePrice: dataAcc[\"salePrice\"]*1,\r\n\t\t\t\tprice: dataAcc[\"price\"]*1,\r\n\t\t\t\tamount:amount\r\n\t\t\t})\r\n\t\t});\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\tif(sumInv > 0){\r\n\t\t\tlet nnfrm3 = {...ffm};\r\n\t\t\tnnfrm3[\"type\"] =  \"credit\";\r\n\t\t\tnnfrm3[\"account\"] = dtAcc?.inventory?.account;\r\n\t\t\tnnfrm3[\"amount\"] =  sumInv;\r\n\t\t\tnnfrm3[\"operationId\"] = gen16CodeId();\r\n\t\t\tcomp2save.push(nnfrm3)\r\n\r\n\r\n\t\t\tlet nnfrm4 = {...ffm};\r\n\t\t\tnnfrm4[\"type\"] =  \"debit\";\r\n\t\t\tnnfrm4[\"account\"] = dtAcc?.inventory_expensess?.account;\r\n\t\t\tnnfrm4[\"amount\"] =  sumInv;\r\n\t\t\tnnfrm4[\"operationId\"] = gen16CodeId();\r\n\t\t\tcomp2save.push(nnfrm4)\r\n\t\t\t\r\n\t\t}\r\n\r\n\r\n\t\tif(totalC > 0 && getStore(\"customerOutPicker\").account ){\r\n\t\t\tlet nnfrm3 = {...ffm};\r\n\t\t\tnnfrm3[\"type\"] =  \"debit\";\r\n\t\t\tnnfrm3[\"account\"] =  getStore(\"customerOutPicker\")?.[\"account\"];\r\n\t\t\tnnfrm3[\"subAccount\"] =  getStore(\"customerOutPicker\")?.[\"subAccount\"];\r\n\t\t\tnnfrm3[\"providerId\"] =  getStore(\"customerOutPicker\")?.[\"providerId\"];\r\n\t\t\tnnfrm3[\"operationId\"] = gen16CodeId();\r\n\t\t\tlet accountDeb = getStore(\"account_ids\")?.[getStore(\"customerOutPicker\")?.[\"account\"]];\r\n\t\t\tif(accountDeb && accountDeb.payOrCollect){\r\n\t\t\t\tnnfrm3[\"payOrCollect\"] = accountDeb.payOrCollect;\r\n\t\t\t}\r\n\t\t\tnnfrm3[\"amount\"] =   hasTax ?( hasTax /100 *  TotalAmount) + TotalAmount*1: TotalAmount*1;\r\n\t\t\tcomp2save.push(nnfrm3)\r\n\t\t}\r\n\r\n\t\tif(hasTax){\r\n\t\t\tlet nnfrm6 = {...ffm};\r\n\t\t\tnnfrm6[\"type\"] =  \"credit\";\r\n\t\t\tnnfrm6[\"account\"] = dtAcc?.sale_tax?.account;\r\n\t\t\tnnfrm6[\"operationId\"] = gen16CodeId();\r\n\t\t\tnnfrm6[\"amount\"] =  TotalAmount*hasTax/100;\r\n\t\t\tcomp2save.push(nnfrm6)\r\n\t\t}\r\n\r\n\t\tif(dtAcc?.sales_income?.account){\r\n\t\t\tlet nnfrm6 = {...ffm};\r\n\t\t\tnnfrm6[\"type\"] =  \"credit\";\r\n\t\t\tnnfrm6[\"account\"] = dtAcc?.sales_income?.account;\r\n\t\t\tnnfrm6[\"operationId\"] = gen16CodeId();\r\n\t\t\tnnfrm6[\"amount\"] =TotalAmount;\r\n\t\t\tcomp2save.push(nnfrm6)\r\n\t\t}\r\n\r\n\r\n\t\tlet invoiceFrm = {...ffm};\r\n\t\t\r\n\t\tinvoiceFrm[\"invoiceId\"] = gen16CodeId();\r\n\t\tinvoiceFrm[\"products\"] =  inventoryList;\r\n\t\tinvoiceFrm[\"amount\"] = TotalAmount*1;\r\n\r\n\r\n\t\tif(hasAdvancePay){\r\n\t\t\tinvoiceFrm[\"hasAdvancePay\"] = hasAdvancePay*1;\r\n\t\t}\r\n\t\tif(hasTax){\r\n\t\t\tinvoiceFrm[\"hasTax\"] = hasTax /100 *  TotalAmount;\r\n\t\t}\r\n\t\tinvoiceFrm[\"extras\"] = getStore(\"extraChargesInvoiceList\");\r\n\t\tinvoiceFrm[\"createdBy\"] = getStore(\"profileUser\")?.userId;\r\n\t\tinvoiceFrm[\"customer\"] =  {\r\n\t\t\taccount: getStore(\"customerOutPicker\")?.[\"account\"],\r\n\t\t\tsubAccount:  getStore(\"customerOutPicker\")?.[\"subAccount\"],\r\n\t\t\tproviderId: getStore(\"customerOutPicker\")?.[\"providerId\"]\r\n\t\t}\r\n\r\n\t\tinvoiceFrm[\"comprobantes\"] = comp2save;\r\n\r\n\r\n\t\tlet bdyqInvoice = {...getStore(qryStore())?.add_invoice};\r\n\t\tbdyqInvoice.params = {\r\n\t\t\tbusinessId:  getStore(\"profileUser\")?.businessId\r\n\t\t}\r\n\t\tbdyqInvoice.form=invoiceFrm;\r\n\r\n\t\t\r\n\t\tconst res = fetchEncryptStream(bdyqInvoice);\r\n\t\tconst td = await res;\r\n\t\tif (td) {\r\n\t\t\t//console.log(td)\r\n\t\t}\r\n\t\t/**\r\n\t\t\tconst promises = comp2save.map(async (qry2Sv) => {\r\n\t\t\t\tconst res = fetchEncryptStream(qry2Sv);\r\n\t\t\t\tconst td = await res;\r\n\t\t\t\tif (td) {\r\n\t\t\t\t\t//console.log(td)\r\n\t\t\t\t}\r\n\t\t\t})      \r\n\t\t\tawait Promise.all(promises);\r\n\t\t\tnavigate({\r\n\t\t\t\tpathname: \"/accounting-ledger\" ,\r\n\t\t\t\tsearch: `?cId=${comprobanteId}`\r\n\t\t\t});\r\n\t\t*/\r\n\t\tdata?.modalID && CloseModal({id:data?.modalID});\r\n\t\t\r\n\t\tsetTimeout(() => {\r\n\t\t\tupdStore(\"extraChargesInvoiceList\", null);\r\n\t\t\tupdStore(\"productListOnOut\", null);\r\n\t\t\tupdStore(\"customerOutPicker\", null);\r\n\t\t\tupdStore(frmNm, null)\r\n\t\t\tset_obs(gen16CodeId());\r\n\t\t\tconfirm && confirm();\r\n\t\t\t\r\n\t\t}, 400);\r\n\t\t\t\r\n\t\t\r\n\t};\r\n\r\n\t\r\n\t\r\n\t\r\n\t\r\n\r\n\r\n\treturn (\r\n\t\t<div style={{\r\n\t\t\tmaxHeight: \"90vh\",\r\n\t\t\tminHeight:  \"88vh\",\r\n\t\t\twidth: \"860px\",\r\n\t\t\toverflow: \"auto\",\r\n\t\t\tbackground: \"var(--hrm_palette-general-background-b)\",\r\n\t\t\tborderRadius: 13,\r\n\t\t\tpadding: \"10px 19px\"\r\n\t\t}}>\r\n\t\t\t<div className=\"_dsplFlx \">\r\n\t\t\t\t<p className=\"form_title\">\r\n\t\t\t\t{getLabelTranslate(1)}\r\n\t\t\t\t</p>\r\n\t\t\t\t<div className=\"flexSpace\"/>\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"_dsplFlx \">\r\n\t\t\t\t<DateCalComponent \r\n\t\t\t\t\tlabel={getLabelTranslate(3)}\r\n\t\t\t\t\tinit={getStore(frmNm)?.[\"date\"]} \r\n\t\t\t\t\tupdDate={(e)=>updFrm(\"date\",e)} \r\n\t\t\t\t/>\r\n               \r\n\r\n\t\t\t\t<div className=\"flexSpace\"/>\r\n\t\t\t\t<TextInput  \r\n\t\t\t\t\tinit={getStore(frmNm)?.[\"document\"]} \r\n\t\t\t\t\tlabel={getLabelTranslate(2)} \r\n\t\t\t\t\twidth={120} \r\n\t\t\t\t\tupdChanges={(e)=>updFrm(\"document\",e)}\r\n\t\t\t\t/>\r\n\t\t\t\t<div className=\"flexSpace\"/>\r\n\t\t\t\t<TextInput  \r\n\t\t\t\t\tinit={getStore(frmNm)?.[\"hasTax\"]} \r\n\t\t\t\t\tlabel={getLabelTranslate(16)} \r\n\t\t\t\t\twidth={120} \r\n\t\t\t\t\tupdChanges={(e)=>updFrm(\"hasTax\",e)}\r\n\t\t\t\t/>\r\n\t\t\t\t<div className=\"flexSpace\"/>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p className=\"label\">\r\n\t\t\t\t\t\t{ \"Total\"}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<div className=\"date2Upd\" style={{marginRight:30}} >\r\n\t\t\t\t\t\t{(TotalAmount?TotalAmount:0).toFixed(2)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<div className=\"_dsplFlx \"  style={{margin: \"18px 10px\"}}>\r\n\t\t\t\t<ProviderBox />\r\n\t\t\t\t<div className=\"flexSpace\"/>\r\n\t\t\t\t<TextInput  \r\n\t\t\t\t\tinit={getStore(frmNm)?.[\"hasAdvancePay\"]} \r\n\t\t\t\t\tlabel={getLabelTranslate(15)} \r\n\t\t\t\t\twidth={120} \r\n\t\t\t\t\tupdChanges={(e)=>updFrm(\"hasAdvancePay\",e)}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"_dsplFlx \"  style={{margin: \"18px 0\"}}>\r\n\t\t\t\t<div className=\"flexSpace\"/>\r\n\t\t\t\t<TextInput  \r\n\t\t\t\t\tinit={getStore(frmNm)?.[\"description\"]} \r\n\t\t\t\t\tlabel={getLabelTranslate(4)} \r\n\t\t\t\t\twidth={520} \r\n\t\t\t\t\tupdChanges={(e)=>updFrm(\"description\",e)}\r\n\t\t\t\t/>\r\n\t\t\t\t<div className=\"flexSpace\"/>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\r\n\t\t\t\r\n\r\n\t\t\t\r\n\t\t\t<ProductsBox updMain={set_obs} />\r\n\r\n\t\t\t<ExtraCharges updMain={set_obs} />\r\n\r\n\t\t\t\r\n\t\t\t<div className=\"_dsplFlx \">\r\n\t\t\t\t<div className=\"flexSpace\"/>\r\n\t\t\t\t{getStore(frmNm)?.[\"document\"] &&   getStore(\"customerOutPicker\")?.account && TotalAmount>0?\r\n\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t<button onClick={save}>\r\n\t\t\t\t\t\t{getLabelTranslate(5)}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t:null}\r\n\t\t\t</div>\r\n\t\t\r\n\r\n\t\t\t\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default MakeSaleFactura;\r\n\r\n\r\n\r\n\r\n\r\nconst EstaCuadrado = (obj) => {\r\n\tlet balance = 0;\r\n\tlet arr = obj && ObjectKeys(obj);\r\n\tarr && arr?.map((element, indE)=>{\r\n\t\tlet data = obj[element];\r\n\t\tlet newB = balance.toFixed(2);\r\n\t\tlet amount = data?.amount ? data?.type === \"debit\" ?  parseFloat(data.amount) :parseFloat(data.amount) *-1  : 0;\r\n\t\tbalance = amount + parseFloat(newB);\r\n\t\t\r\n\t});\r\n\treturn arr && arr?.length>0 && balance === 0;\r\n}  \r\n\r\n\r\n\r\nconst ProviderBox = ({}) => {\r\n\tconst [obs, set_obs] = useState(0);\r\n\r\n\r\n\t\r\n\tconst  handlePick = (v) =>{\r\n\t\tlet nn= {\r\n\t\t\t\"providerId\":v.providerId,\r\n\t\t\t\"account\":v.account,\r\n\t\t\t\"subAccount\":v.subAccount,\r\n\t\t}\r\n\t\tupdStore(\"customerOutPicker\", nn);\r\n\t\tset_obs(gen16CodeId())\r\n\t}\r\n\r\n\tconst  clear = () =>{\r\n\t\tupdStore(\"customerOutPicker\", null);\r\n\t\tset_obs(gen16CodeId())\r\n\t}\r\n\r\n\tlet accountD = getStore(\"providers_ids\")?.[getStore(\"customerOutPicker\")?.providerId];\r\n\t\r\n\r\n\treturn (\r\n\t\t<div >\r\n\t\t\t\t{accountD?.name ? \r\n\t\t\t\t<div className=\"_dsplFlx \" style={{margin: \"18px 0\"}}>\r\n\t\t\t\t\t<div className=\" acc_dtls\">\r\n\t\t\t\t\t\t<div className=\"_dsplFlx\"  >\r\n\t\t\t\t\t\t\t<div className=\"code\" style={{color: \"#646cff\"}} onClick={clear}>\r\n\t\t\t\t\t\t\t\t{accountD?.name} \r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"flexSpace\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t</div> :\r\n\t\t\t\t<PickProvide\r\n\t\t\t\t\tplaceholder={\"buscar una provedor\"} \r\n\t\t\t\t\twidth={320}\r\n\t\t\t\t\thandleClick={handlePick}\r\n\t\t\t\t/>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\r\n\t)\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/*********************\r\n ********************\r\n *******************\r\n *******************\r\n *******************\r\n *******************\r\n *******************\r\n *******************\r\n *******************\r\n *******************\r\n *******************\r\n *******************\r\n *******************\r\n *******************\r\n *******************\r\n *******************\r\n *******************\r\n *******************\r\n *******************\r\n *******************\r\n *******************\r\n ********************/\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst ProductsBox = ({updMain}) => {\r\n\tconst [obs, set_obs] = useState(0);\r\n\r\n\tconst  updObs = () =>{\r\n\t\tset_obs(gen16CodeId())\r\n    }\r\n\t\r\n    const  clear = (v) =>{\r\n        updStore(\"productPicker\", null);\r\n\t\tset_obs(gen16CodeId())\r\n    }\r\n\t\r\n\tconst  handlePick = (v) =>{\r\n\t\tlet nn= {\r\n\t\t\t\"productId\":v.productId,\r\n\t\t\t\"product\":v.product,\r\n\t\t\t\"subAccount\":v.subAccount,\r\n\t\t}\r\n\t\tupdStore(\"productPicker\", nn);\r\n\t\tget_prod_stock(v.productId,updObs);\r\n\t}\r\n\r\n\r\n\tlet productD = getStore(\"products_ids\")?.[getStore(\"productPicker\")?.productId];\r\n\t\r\n\t\r\n\tconst updFrmProducts = (f, v, k) => {\r\n\t\tlet frm2 = getStore(\"productPicker\") || {};\r\n\t\tif(k){\r\n\t\t\tif( !frm2[k]){\r\n\t\t\t\tfrm2[k] = {};\r\n\t\t\t}\r\n\t\t\tfrm2[k][f] = v;\r\n\t\t}else{\r\n\t\t\tfrm2[f] = v;\r\n\t\t}\r\n\t\tupdStore(\"productPicker\", frm2);\r\n\t\tset_obs(gen16CodeId())\r\n\t};\r\n\r\n\tconst addProduct2List = () => {\r\n\t\tlet frm2 = {...getStore(\"productPicker\")} || {};\r\n\t\tlet rstFrm = {...getStore(\"productPicker\")} || {};\r\n\t\tlet productListOnOut = {...getStore(\"productListOnOut\")} || {};\r\n\t\tlet id = frm2[\"productId\"];\r\n\t\tlet price_cost = getStore(\"products_stock\")?.[getStore(\"productPicker\")?.productId]?.amount / getStore(\"products_stock\")?.[getStore(\"productPicker\")?.productId]?.qty;\r\n\t\r\n\t\tfrm2[\"price\"] = price_cost;\r\n\t\tproductListOnOut[id] = frm2;\r\n\t\tupdStore(\"productListOnOut\", productListOnOut);\r\n\t\trstFrm[\"productId\"] = null;\r\n\t\trstFrm[\"qty\"] = \"\";\r\n\t\trstFrm[\"price\"] = \"\";\r\n\t\tupdStore(\"productPicker\", rstFrm);\r\n\t\tupdMain(gen16CodeId())\r\n\t}\r\n\r\n\tconst rmvProduct2List = (id) => {\r\n\t\tlet productListOnOut = getStore(\"productListOnOut\") || {};\r\n\t\tdelete productListOnOut[id];\r\n\t\tupdStore(\"productListOnOut\", productListOnOut);\r\n\t\tupdMain(gen16CodeId())\r\n\t}\r\n\r\n\r\n\r\n\treturn (\r\n\t\t\r\n\t\t<div className=\"boxAddAcc\" style={{margin: \"18px 0\"}}>\r\n\r\n\t\t\t{getStore(\"productPicker\")?.productId ? \r\n\t\t\t<div className=\"_dsplFlx \" style={{margin: \"18px 0\"}}>\r\n\t\t\t\t<div className=\" acc_dtls\">\r\n\t\t\t\t\t<div className=\"_dsplFlx\"   onClick={clear}>\r\n\t\t\t\t\t\t<div className=\"code\" style={{color: \"#646cff\"}}>\r\n\t\t\t\t\t\t\t{productD?.upc_barcode} \r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"name\">\r\n\t\t\t\t\t\t\t{productD?.name}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"flexSpace\"/>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div> :\r\n\t\t\t<PickProduct\r\n\t\t\t\twidth={420}\r\n\t\t\t\thandleClick={handlePick}\r\n\t\t\t/>\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t{ getStore(\"products_stock\")?.[getStore(\"productPicker\")?.productId]?.qty? \r\n\t\t\t<div className=\"_dsplFlx \" >\r\n\t\t\t\t<TextInput  \r\n\t\t\t\t\tinit={getStore(\"productPicker\")?.[\"qty\"]} \r\n\t\t\t\t\tlabel={getLabelTranslate(10)} \r\n\t\t\t\t\twidth={120} \r\n\t\t\t\t\ttype={\"number\"}\r\n\t\t\t\t\tupdChanges={(e)=>updFrmProducts(\"qty\",e)}\r\n\t\t\t\t/>\r\n\t\t\t\t<div style={{margin:\"0 5px\"}}/>\r\n\t\t\t\t<TextInput  \r\n\t\t\t\t\tinit={getStore(\"productPicker\")?.[\"salePrice\"]} \r\n\t\t\t\t\tlabel={getLabelTranslate(11)}\r\n\t\t\t\t\twidth={120} \r\n\t\t\t\t\ttype={\"number\"}\r\n\t\t\t\t\tupdChanges={(e)=>updFrmProducts(\"salePrice\",e)}\r\n\t\t\t\t/>\r\n\t\t\t\t<div className=\"flexSpace\"/>\r\n\t\t\t\t{getStore(\"productPicker\")?.qty && getStore(\"productPicker\")?.qty <= getStore(\"products_stock\")?.[getStore(\"productPicker\")?.productId]?.qty? \r\n\t\t\t\t<div style={{marginTop:38}}>\r\n\t\t\t\t\t<button onClick={addProduct2List}>\r\n\t\t\t\t\t\t{getLabelTranslate(7)}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t:null}\r\n\t\t\t</div>\r\n\t\t\t:null}\r\n\t\t\t<div className=\"_dsplFlx hdr_bar purple\" style={{margin: \"18px 0\"}}>\r\n\t\t\t\t<div className=\"tr_bar tr_bar_50 \">\r\n\t\t\t\t\t\r\n\t\t\t\t\t{getLabelTranslate(8)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"tr_bar tr_bar_20\">\r\n\t\t\t\t\tQty\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"tr_bar tr_bar_20\">\r\n\t\t\t\t\t{getLabelTranslate(11)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"tr_bar tr_bar_5\">\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t{getStore(\"productListOnOut\") && ObjectKeys(getStore(\"productListOnOut\"))?.map((element, indE)=>\r\n\t\t\t\t<ListingProducts key={element} idKey={element} data={getStore(\"productListOnOut\")[element]} deleteItem={rmvProduct2List}/>\r\n\t\t\t)}\r\n\t\t</div>\r\n\r\n\t)\r\n}\r\n\r\n\r\n\r\nconst ListingProducts  = ({ data, deleteItem, idKey }) => {\r\n\r\n\tlet productD = getStore(\"products_ids\")?.[data?.productId];\r\n\t\r\n\t\r\n\tconst editSearchAccount = () => {\r\n\t\tdeleteItem(idKey)\r\n\t}\r\n\t\r\n\t\r\n\treturn (\r\n\t\t<div className=\"_dsplFlx hdr_bar\">\r\n\t\t\t\r\n\t\t\t<div className=\"tr_bar tr_bar_50\">\r\n\t\t\t\t{productD?.name}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"tr_bar tr_bar_20\">\r\n\t\t\t\t{parseFloatToDecimal(data?.qty,2)}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"tr_bar tr_bar_20\">\r\n\t\t\t\t{parseFloatToDecimal(data?.salePrice,2)}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"flexSpace\"/>\r\n\t\t\t<div className=\"icon\" onClick={editSearchAccount}>\r\n\t\t\t\t<Svg name={\"outline_delete\"} color={\"#c62828\"}/>\r\n\t\t\t</div>\r\n\r\n\t\t</div>\r\n\t)\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\nconst SumCollects = (obj, obj2) => {\r\n\tlet balance = 0;\r\n\tobj && ObjectKeys(obj)?.map((flds, indE)=>{\r\n\t\tlet amount = (obj[flds].salePrice*1) * (obj[flds].qty*1);\r\n\t\tbalance =  parseFloatToDecimal(balance,2)*1 + parseFloatToDecimal(amount,2)*1;\r\n\t});\r\n\tobj2 && ObjectKeys(obj2)?.map((flds, indE)=>{\r\n\t\tlet amount = (obj2[flds].salePrice*1) * (obj2[flds].qty*1);\r\n\t\tbalance =  parseFloatToDecimal(balance,2)*1 + parseFloatToDecimal(amount,2)*1;\r\n\t});\r\n\treturn  balance;\r\n}  \r\n","export default function _objectDestructuringEmpty(obj) {\n  if (obj == null) throw new TypeError(\"Cannot destructure \" + obj);\n}","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}"],"names":["obsCode","list","getStore","_list","ObserveEvent","Object","keys","map","dg","indg","dlg","visible","_Style","height","width","zIndex","ts","cmp2render","data","content","React","className","style","id","overlay","onClick","Id","document","getElementsByTagName","classList","remove","CloseModal","OpenModal","gen16CodeId","_dataProps","doc","overflowY","setInterval","cmp","querySelector","dmz","getBoundingClientRect","updStore","callDispatchEvent","setTimeout","add","clearInterval","closeEvent","get_inventory_by_prod","pId","cb","bdyq2","qryStore","get_inventory_prod","params","businessId","res","fetchEncryptStream","td","sortProducts","convertObj2Array","stock","get_prod_stock","products_stock","getall_product","all_prods","convertArray2Obj","search_product","search_prod","limit","length","split","qry","inDq","trim","getall_movement","all_entry_invoices","search_movement","search_entry_invoice","key","callbackOnMemory","sort","a","b","A","B","delete_product","productId","delete_prod","delete_inventory","invId","delete_movement","delete_entry_invoice","entry_invoice_acc_2","rangeProdArr","obj","range","ObjectKeys","slice","TextInput","TextInput_Cmpt","Svg","SvgIcon_Cmpt","AddExtraChargesInvoice","updParent","useState","set_obs","loading","set_loading","updFrmExtraChargesInvoice","f","v","k","frm2","maxWidth","marginLeft","init","label","getLabelTranslate","updChanges","e","type","extraChargesInvoiceList","ListingAccounts","deleteItem","idKey","account","subAccount","textAlign","description","parseFloatToDecimal","salePrice","name","color","updMain","rmvExtraAccount2List","margin","element","indE","DateCalComponent","DateCalComponent_Cmpt","PickProvide","PickCustomer_Cmpt","PickProduct","PickProduct_Cmpt","frmNm","confirm","initialize","setInitialize","useNavigate","useEffect","updFrm","TotalAmount","SumCollects","save","ffm","date","Date","getTime","nn","comp2save","hasAdvancePay","hasTax","totalC","sumInv","inventoryList","dtAcc","arr2","dataAcc","amount","push","inventoryId","product","qty","price","nnfrm3","inventory","nnfrm4","inventory_expensess","accountDeb","payOrCollect","nnfrm6","sale_tax","sales_income","invoiceFrm","userId","providerId","bdyqInvoice","add_invoice","form","modalID","maxHeight","minHeight","overflow","background","borderRadius","padding","updDate","marginRight","toFixed","ProviderBox","ProductsBox","accountD","placeholder","handleClick","updObs","productD","updFrmProducts","rmvProduct2List","productListOnOut","upc_barcode","marginTop","rstFrm","price_cost","ListingProducts","obj2","balance","flds","_objectDestructuringEmpty","TypeError","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread2","target","i","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty"],"sourceRoot":""}