"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[3264,9760],{9760:function(e,n,t){t.r(n),t.d(n,{CloseModal:function(){return l},OpenModal:function(){return c},default:function(){return a}});var r=t(2791),i=t(5408),s=t(2350),o=t(184),d="listDialog_mdh392",a=function(){var e=(0,s.bh)("listDialog")||{},n=((0,i.Z)(d),Object.keys(e));return(0,o.jsx)(o.Fragment,{children:n.map((function(n,t){var i=e[n];if(i&&i.visible){var s={};i.height&&(s.heigth=i.height),i.width,i.zIndex&&(s.zIndex=i.zIndex-1);var d={zIndex:i.zIndex},a=null,c=i.data;return i.content&&(a=r.cloneElement(i.content,{data:c})),(0,o.jsxs)("div",{className:"ltr-1kbnjow",style:s,children:[(0,o.jsx)("div",{className:"ltr-hoe9xz",children:(0,o.jsx)("div",{className:"ltr-1wao6ny",style:d,id:n,children:a})}),i.data.overlay?(0,o.jsx)("div",{className:"DialogHRMOverlay ".concat(i.visible?"active":""),onClick:function(){var e;e=n,document.getElementsByTagName("html")[0].classList.remove("has-level-two"),l({id:e})}}):null]},n)}}))})},c=function(e){var n=(0,s.bh)("listDialog")||{},t=(0,s.M5)();n[t]||(n[t]={}),n[t].visible=!0;var r={};e.props?(r=e.props).modalID=t:r.modalID=t;var i=document.getElementsByTagName("body")[0];null!==i&&void 0!==i&&i.style&&(i.style.overflowY="hidden"),n[t].isView=e.isView,n[t].observeResize=e.observeResize,n[t].observeResize&&(n[t].observeInterval=setInterval((function(){var e=document.querySelector("[dialog-key-id='".concat(t,"']")),r=e&&e.getBoundingClientRect();r&&(r.width===n[t].width&&r.height===n[t].height||(n[t].height=r.height+10,n[t].width=r.width,(0,s.Rz)("listDialog",n),(0,s.wt)(d)))}),200)),n[t].display=!0,e.zIndex&&(n[t].zIndex=e.zIndex),e.height&&(n[t].height=e.height),e.width&&(n[t].width=e.width),e.content&&(n[t].content=e.content),n[t].data=r,(0,s.Rz)("listDialog",n),(0,s.wt)(d),setTimeout((function(){document.getElementsByTagName("html")[0].classList.add("has-level-two"),(0,s.Rz)("modalOpen",t),(0,s.wt)(d)}),125)},l=function(e){var n,t,r,i=(0,s.bh)("listDialog")||{},o=e.id;i[o]&&(i[o].observeResize&&i[o].observeInterval&&clearInterval(i[o].observeInterval),i[o].display=!1,null===(n=i[o])||void 0===n||null===(t=n.data)||void 0===t||null===(r=t.closeEvent)||void 0===r||r.call(t),(0,s.Rz)("listDialog",i),delete i[o],document.getElementsByTagName("body")[0].style.overflowY=null,(0,s.wt)(d),setTimeout((function(){delete i[o],document.getElementsByTagName("html")[0].classList.remove("has-level-two"),(0,s.Rz)("modalOpen",null)}),750))}},713:function(e,n,t){t.d(n,{QJ:function(){return u},Rd:function(){return a},Ve:function(){return l},WA:function(){return b},ZW:function(){return d},Zj:function(){return p},dZ:function(){return v},ii:function(){return c},nj:function(){return h},tH:function(){return m}});var r=t(4165),i=t(1413),s=t(5861),o=t(2350),d=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n,t){var s,d,a,c,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=(0,i.Z)({},null===(s=(0,o.bh)((0,o.hQ)()))||void 0===s?void 0:s.get_inventory_prod)).params={businessId:null===(d=(0,o.bh)("profileUser"))||void 0===d?void 0:d.businessId,":productId":n},c=(0,o.I7)(a),e.next=5,c;case 5:(l=e.sent)&&((0,o.Rz)("inv_products_list",p((0,o.jQ)(l.list),"name")),(0,o.Rz)("inv_products_stock",l.stock),t&&t());case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),a=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n,t){var s,d,a,c,l,u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=(0,i.Z)({},null===(s=(0,o.bh)((0,o.hQ)()))||void 0===s?void 0:s.get_prod_stock)).params={businessId:null===(d=(0,o.bh)("profileUser"))||void 0===d?void 0:d.businessId,productId:n},c=(0,o.I7)(a),e.next=5,c;case 5:(l=e.sent)&&((u=(0,i.Z)({},(0,o.bh)("products_stock")))[n]=l.stock,(0,o.Rz)("products_stock",u),t&&t());case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),c=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n){var t,s,d,a,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(d=(0,i.Z)({},null===(t=(0,o.bh)((0,o.hQ)()))||void 0===t?void 0:t.all_prods)).params={businessId:null===(s=(0,o.bh)("profileUser"))||void 0===s?void 0:s.businessId},a=(0,o.I7)(d),e.next=5,a;case 5:(c=e.sent)&&((0,o.Rz)("products_list",p(c,"name")),(0,o.Rz)("products_ids",(0,o.ME)((0,o.jQ)(c),"productId")),n&&n());case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),l=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n){var t,s,d,a,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(d=(0,i.Z)({},null===(t=(0,o.bh)((0,o.hQ)()))||void 0===t?void 0:t.search_prod)).params={businessId:null===(s=(0,o.bh)("profileUser"))||void 0===s?void 0:s.businessId,":search":(0,o.bh)("searchQry")},a=(0,o.I7)(d),e.next=5,a;case 5:(c=e.sent)&&((0,o.Rz)("products_list",p((0,o.jQ)(c),"code")),n&&n());case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),u=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n){var t,s,d,a,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(d=(0,i.Z)({},null===(t=(0,o.bh)((0,o.hQ)()))||void 0===t?void 0:t.all_entry_invoices)).params={businessId:null===(s=(0,o.bh)("profileUser"))||void 0===s?void 0:s.businessId},a=(0,o.I7)(d),e.next=5,a;case 5:(c=e.sent)&&((0,o.Rz)("movements_list",p(c,"date")),(0,o.Rz)("movements_ids",(0,o.ME)((0,o.jQ)(c),"inventoryId")),n&&n());case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),v=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n){var t,s,d,a,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(d=(0,i.Z)({},null===(t=(0,o.bh)((0,o.hQ)()))||void 0===t?void 0:t.search_entry_invoice)).params={businessId:null===(s=(0,o.bh)("profileUser"))||void 0===s?void 0:s.businessId,":search":(0,o.bh)("searchMovQry")},a=(0,o.I7)(d),e.next=5,a;case 5:(c=e.sent)&&((0,o.Rz)("movements_list",p((0,o.jQ)(c),"code")),n&&n());case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();var p=function(e,n){return(0,o.MV)("sortProducts",[e],(function(){return e&&e.sort((function(e,t){var r=e[n],i=t[n];return r<i?-1:r>i?1:0}))}))},h=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n,t){var s,d,a,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=(0,i.Z)({},null===(s=(0,o.bh)((0,o.hQ)()))||void 0===s?void 0:s.delete_prod)).params={businessId:null===(d=(0,o.bh)("profileUser"))||void 0===d?void 0:d.businessId,productId:n},c=(0,o.I7)(a),e.next=5,c;case 5:e.sent&&t&&t();case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),b=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n,t){var s,d,a,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=(0,i.Z)({},null===(s=(0,o.bh)((0,o.hQ)()))||void 0===s?void 0:s.delete_inventory)).params={businessId:null===(d=(0,o.bh)("profileUser"))||void 0===d?void 0:d.businessId,inventoryId:n},c=(0,o.I7)(a),e.next=5,c;case 5:e.sent&&t&&t();case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),m=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n,t){var s,d,a,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=(0,i.Z)({},null===(s=(0,o.bh)((0,o.hQ)()))||void 0===s?void 0:s.delete_entry_invoice)).params={businessId:null===(d=(0,o.bh)("profileUser"))||void 0===d?void 0:d.businessId,entriesInvoiceId:n},c=(0,o.I7)(a),e.next=5,c;case 5:e.sent&&t&&t();case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()},3264:function(e,n,t){t.r(n),t.d(n,{default:function(){return z}});var r=t(4296),i=t(4165),s=t(1413),o=t(5861),d=t(9439),a=t(2791),c=t(2350),l=t(2647),u=(t(261),t(9760)),v=t(7689),p=t(9661),h=t(184),b=(0,l.Np)(),m=(0,l.PU)(),f=function(e){var n,t,r,i,o=e.updParent,l=(0,a.useState)(0),u=(0,d.Z)(l,2),v=(u[0],u[1]),p=(0,a.useState)(!1),m=(0,d.Z)(p,2),f=m[0],x=m[1],I=function(e,n,t){var r=(0,c.bh)("extraChargesInvoice")||{};t?(r[t]||(r[t]={}),r[t][e]=n):r[e]=n,(0,c.Rz)("extraChargesInvoice",r),v((0,c.M5)())};return(0,h.jsxs)("div",{children:[f?(0,h.jsx)("div",{className:"load_animation"}):(0,h.jsx)("div",{className:"",style:{maxWidth:130,marginLeft:7},children:(0,h.jsx)(b,{init:null===(n=(0,c.bh)("extraChargesInvoice"))||void 0===n?void 0:n.description,label:(0,c.zE)(4),width:750,updChanges:function(e){return I("description",e)}})}),f?(0,h.jsxs)("div",{className:"_dsplFlx",children:[(0,h.jsx)("div",{className:"flexSpace"}),(0,h.jsx)("div",{className:"form_title",children:"Saving....."})]}):(0,h.jsxs)("div",{className:"_dsplFlx",children:[(0,h.jsx)(b,{init:null===(t=(0,c.bh)("extraChargesInvoice"))||void 0===t?void 0:t.salePrice,label:(0,c.zE)(14),width:120,type:"number",updChanges:function(e){return I("salePrice",e)}}),(0,h.jsx)("div",{className:"flexSpace"}),null!==(r=(0,c.bh)("extraChargesInvoice"))&&void 0!==r&&r.description&&null!==(i=(0,c.bh)("extraChargesInvoice"))&&void 0!==i&&i.salePrice?(0,h.jsx)("div",{className:"card",children:(0,h.jsx)("button",{onClick:function(){x(!0);var e=(0,s.Z)({},(0,c.bh)("extraChargesInvoice"))||{},n=(0,s.Z)({},(0,c.bh)("extraChargesInvoiceList"))||{},t=(0,c.M5)();e.qty=1,n[t]=e,(0,c.Rz)("extraChargesInvoiceList",n),(0,c.Rz)("extraChargesInvoice",null),o((0,c.M5)()),setTimeout((function(){x(!1)}),350)},children:(0,c.zE)(7)})}):null]})]})},x=function(e){var n,t,r=e.data,i=e.deleteItem,s=e.idKey;null===(n=(0,c.bh)("account_ids"))||void 0===n||n[null===r||void 0===r?void 0:r.account],null===(t=(0,c.bh)("sub_account_ids"))||void 0===t||t[null===r||void 0===r?void 0:r.subAccount];return(0,h.jsxs)("div",{className:"_dsplFlx hdr_bar",children:[(0,h.jsx)("div",{className:"tr_bar tr_bar_80",style:{textAlign:"left"},children:null===r||void 0===r?void 0:r.description}),(0,h.jsx)("div",{className:"tr_bar tr_bar_20",children:(0,c.Zv)(null===r||void 0===r?void 0:r.salePrice,2)}),(0,h.jsx)("div",{className:"flexSpace"}),(0,h.jsx)("div",{className:"icon",onClick:function(){i(s)},children:(0,h.jsx)(m,{name:"outline_delete",color:"#c62828"})})]})},I=function(e){var n,t=e.updMain,r=(0,a.useState)(0),i=(0,d.Z)(r,2),s=(i[0],i[1]),o=function(e){var n=(0,c.bh)("extraChargesInvoiceList")||{};delete n[e],(0,c.Rz)("extraChargesInvoiceList",n),t((0,c.M5)())};return(0,h.jsxs)("div",{className:"boxAddAcc",style:{margin:"18px 0"},children:[(0,h.jsx)(f,{updParent:s}),(0,h.jsxs)("div",{className:"_dsplFlx hdr_bar purple",style:{margin:"18px 0"},children:[(0,h.jsx)("div",{className:"tr_bar tr_bar_80",children:(0,c.zE)(4)}),(0,h.jsx)("div",{className:"tr_bar tr_bar_20",children:(0,c.zE)(14)})]}),(0,c.bh)("extraChargesInvoiceList")&&(null===(n=(0,c._2)((0,c.bh)("extraChargesInvoiceList")))||void 0===n?void 0:n.map((function(e,n){return(0,h.jsx)(x,{idKey:e,data:(0,c.bh)("extraChargesInvoiceList")[e],deleteItem:o},e)})))]})},_=t(24),y=t(713),j=(0,l.PU)(),g=(0,l.Np)(),Z=(0,_.f_)(),k=(0,p.FC)(),w=(0,_.Az)(),N="new_fatura_sale_comprobante",z=function(e){var n,t,r,l,p,b,m,f=e.data,x=e.confirm,_=(0,a.useState)(!1),y=(0,d.Z)(_,2),j=y[0],k=y[1],w=(0,a.useState)(0),z=(0,d.Z)(w,2),C=(z[0],z[1]),M=(0,v.s0)();(0,a.useEffect)((function(){j||(k(!0),(0,c.Rz)("accountPicker",{}),C((0,c.M5)()))}));var E=function(e,n,t){var r=(0,c.bh)(N)||{};t?(r[t]||(r[t]={}),r[t][e]=n):r[e]=n,(0,c.Rz)(N,r),C((0,c.M5)())},L=R((0,c.bh)("productListOnOut"),(0,c.bh)("extraChargesInvoiceList")),S=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){var n,t,r,d,a,l,v,p,h,b,m,I,_,y,j,g,Z,k,w,z,O,P,R,E,S,Q,A,U,D,F,q,T,B,H,K,V,W,Y,J,G,X,$,ee,ne,te,re,ie;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v=(0,c.bh)(N),p=Date.now(),v.date&&(h=new Date(v.date).getTime(),p=h||p),v.date=p,b=[],e.next=7,(0,c.fN)();case 7:return m=e.sent,v.comprobanteId=m,I=v.hasAdvancePay,_=v.hasTax,delete v.hasTax,delete v.hasAdvancePay,y=0,j=0,g=[],Z=(0,c.bh)("global_account_params"),(k=(0,c.bh)("productListOnOut")&&(0,c._2)((0,c.bh)("productListOnOut")))&&(null===k||void 0===k||k.map(function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n,t){var r,o,d,a,l,u;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d=(0,s.Z)({},(0,c.bh)("productListOnOut")[n]),(a=(0,s.Z)({},d)).document=v.document.trim(),a.date=p,a.price=1*d.price,a.qty=-1*d.qty,a.comprobanteId=v.comprobanteId,a.inventoryId=(0,c.M5)(),l=1*d.qty*(1*d.price),y+=l,j+=l,a.amount=-1*l,g.push({inventoryId:a.inventoryId,product:a.productId,qty:a.qty,salePrice:a.salePrice}),delete a.product,delete a.account,delete a.subAccount,(u=(0,s.Z)({},null===(r=(0,c.bh)((0,c.hQ)()))||void 0===r?void 0:r.add_inventory)).params={businessId:null===(o=(0,c.bh)("profileUser"))||void 0===o?void 0:o.businessId},u.form=a,b.push(u);case 20:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}())),j>0&&((R=(0,s.Z)({},v)).type="credit",R.account=null===Z||void 0===Z?void 0:Z.inventory,R.amount=j,R.operationId=(0,c.M5)(),(E=(0,s.Z)({},null===(w=(0,c.bh)((0,c.hQ)()))||void 0===w?void 0:w.add_opera)).params={businessId:null===(z=(0,c.bh)("profileUser"))||void 0===z?void 0:z.businessId},E.form=R,b.push(E),(S=(0,s.Z)({},v)).type="debit",S.account=null===Z||void 0===Z?void 0:Z.inventory_expensess,S.amount=j,S.operationId=(0,c.M5)(),(Q=(0,s.Z)({},null===(O=(0,c.bh)((0,c.hQ)()))||void 0===O?void 0:O.add_opera)).params={businessId:null===(P=(0,c.bh)("profileUser"))||void 0===P?void 0:P.businessId},Q.form=S,b.push(Q)),y>0&&(0,c.bh)("customerOutPicker").account&&((H=(0,s.Z)({},v)).type="debit",H.account=null===(A=(0,c.bh)("customerOutPicker"))||void 0===A?void 0:A.account,H.subAccount=null===(U=(0,c.bh)("customerOutPicker"))||void 0===U?void 0:U.subAccount,H.providerId=null===(D=(0,c.bh)("customerOutPicker"))||void 0===D?void 0:D.providerId,H.operationId=(0,c.M5)(),(K=null===(F=(0,c.bh)("account_ids"))||void 0===F?void 0:F[null===(q=(0,c.bh)("customerOutPicker"))||void 0===q?void 0:q.account])&&K.payOrCollect&&(H.payOrCollect=K.payOrCollect),H.amount=_?_/100*L+1*L:1*L,(V=(0,s.Z)({},null===(T=(0,c.bh)((0,c.hQ)()))||void 0===T?void 0:T.add_opera)).params={businessId:null===(B=(0,c.bh)("profileUser"))||void 0===B?void 0:B.businessId},V.form=H,b.push(V)),_&&((J=(0,s.Z)({},v)).type="credit",J.account=null===Z||void 0===Z?void 0:Z.sale_tax,J.operationId=(0,c.M5)(),J.amount=L*_/100,(G=(0,s.Z)({},null===(W=(0,c.bh)((0,c.hQ)()))||void 0===W?void 0:W.add_opera)).params={businessId:null===(Y=(0,c.bh)("profileUser"))||void 0===Y?void 0:Y.businessId},G.form=J,b.push(G)),null!==Z&&void 0!==Z&&Z.sales_income&&((ee=(0,s.Z)({},v)).type="credit",ee.account=null===Z||void 0===Z?void 0:Z.sales_income,ee.operationId=(0,c.M5)(),ee.amount=L,(ne=(0,s.Z)({},null===(X=(0,c.bh)((0,c.hQ)()))||void 0===X?void 0:X.add_opera)).params={businessId:null===($=(0,c.bh)("profileUser"))||void 0===$?void 0:$.businessId},ne.form=ee,b.push(ne)),(te=(0,s.Z)({},v)).invoiceId=(0,c.M5)(),te.products=g,te.amount=1*L,I&&(te.hasAdvancePay=1*I),_&&(te.hasTax=_/100*L),te.extras=(0,c.bh)("extraChargesInvoiceList"),te.createdBy=null===(n=(0,c.bh)("profileUser"))||void 0===n?void 0:n.userId,te.customer={account:null===(t=(0,c.bh)("customerOutPicker"))||void 0===t?void 0:t.account,subAccount:null===(r=(0,c.bh)("customerOutPicker"))||void 0===r?void 0:r.subAccount,providerId:null===(d=(0,c.bh)("customerOutPicker"))||void 0===d?void 0:d.providerId},(re=(0,s.Z)({},null===(a=(0,c.bh)((0,c.hQ)()))||void 0===a?void 0:a.add_invoice)).params={businessId:null===(l=(0,c.bh)("profileUser"))||void 0===l?void 0:l.businessId},re.form=te,b.push(re),ie=b.map(function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,c.I7)(n),e.next=3,t;case 3:e.sent;case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),e.next=39,Promise.all(ie);case 39:(null===f||void 0===f?void 0:f.modalID)&&(0,u.CloseModal)({id:null===f||void 0===f?void 0:f.modalID}),setTimeout((function(){(0,c.Rz)("extraChargesInvoiceList",null),(0,c.Rz)("productListOnOut",null),(0,c.Rz)("customerOutPicker",null),(0,c.Rz)(N,null),C((0,c.M5)()),x&&x(),M({pathname:"/accounting-ledger",search:"?cId=".concat(m)})}),400);case 41:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,h.jsxs)("div",{style:{maxHeight:"90vh",minHeight:"88vh",width:"860px",overflow:"auto",background:"#fff",borderRadius:13,padding:"10px 19px"},children:[(0,h.jsxs)("div",{className:"_dsplFlx ",children:[(0,h.jsx)("p",{className:"form_title",children:(0,c.zE)(1)}),(0,h.jsx)("div",{className:"flexSpace"})]}),(0,h.jsxs)("div",{className:"_dsplFlx ",children:[(0,h.jsx)(Z,{label:(0,c.zE)(3),init:null===(n=(0,c.bh)(N))||void 0===n?void 0:n.date,updDate:function(e){return E("date",e)}}),(0,h.jsx)("div",{className:"flexSpace"}),(0,h.jsx)(g,{init:null===(t=(0,c.bh)(N))||void 0===t?void 0:t.document,label:(0,c.zE)(2),width:120,updChanges:function(e){return E("document",e)}}),(0,h.jsx)("div",{className:"flexSpace"}),(0,h.jsx)(g,{init:null===(r=(0,c.bh)(N))||void 0===r?void 0:r.hasTax,label:(0,c.zE)(16),width:120,updChanges:function(e){return E("hasTax",e)}}),(0,h.jsx)("div",{className:"flexSpace"}),(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"label",children:"Total"}),(0,h.jsx)("div",{className:"date2Upd",style:{marginRight:30},children:(L||0).toFixed(2)})]})]}),(0,h.jsxs)("div",{className:"_dsplFlx ",style:{margin:"18px 10px"},children:[(0,h.jsx)(O,{}),(0,h.jsx)("div",{className:"flexSpace"}),(0,h.jsx)(g,{init:null===(l=(0,c.bh)(N))||void 0===l?void 0:l.hasAdvancePay,label:(0,c.zE)(15),width:120,updChanges:function(e){return E("hasAdvancePay",e)}})]}),(0,h.jsxs)("div",{className:"_dsplFlx ",style:{margin:"18px 0"},children:[(0,h.jsx)("div",{className:"flexSpace"}),(0,h.jsx)(g,{init:null===(p=(0,c.bh)(N))||void 0===p?void 0:p.description,label:(0,c.zE)(4),width:520,updChanges:function(e){return E("description",e)}}),(0,h.jsx)("div",{className:"flexSpace"})]}),(0,h.jsx)(P,{updMain:C}),(0,h.jsx)(I,{updMain:C}),(0,h.jsxs)("div",{className:"_dsplFlx ",children:[(0,h.jsx)("div",{className:"flexSpace"}),null!==(b=(0,c.bh)(N))&&void 0!==b&&b.document&&null!==(m=(0,c.bh)("customerOutPicker"))&&void 0!==m&&m.account&&L>0?(0,h.jsx)("div",{className:"card",children:(0,h.jsx)("button",{onClick:S,children:(0,c.zE)(5)})}):null]})]})},O=function(e){var n,t;(0,r.Z)(e);var i=(0,a.useState)(0),s=(0,d.Z)(i,2),o=(s[0],s[1]),l=null===(n=(0,c.bh)("providers_ids"))||void 0===n?void 0:n[null===(t=(0,c.bh)("customerOutPicker"))||void 0===t?void 0:t.providerId];return(0,h.jsx)("div",{children:null!==l&&void 0!==l&&l.name?(0,h.jsx)("div",{className:"_dsplFlx ",style:{margin:"18px 0"},children:(0,h.jsxs)("div",{className:" acc_dtls",children:[(0,h.jsx)("div",{className:"_dsplFlx",children:(0,h.jsx)("div",{className:"code",style:{color:"#646cff"},onClick:function(){(0,c.Rz)("customerOutPicker",null),o((0,c.M5)())},children:null===l||void 0===l?void 0:l.name})}),(0,h.jsx)("div",{className:"flexSpace"})]})}):(0,h.jsx)(k,{placeholder:"buscar una provedor",width:320,handleClick:function(e){var n={providerId:e.providerId,account:e.account,subAccount:e.subAccount};(0,c.Rz)("customerOutPicker",n),o((0,c.M5)())}})})},P=function(e){var n,t,r,i,o,l,u,v,p,b,m,f,x,I,_=e.updMain,j=(0,a.useState)(0),Z=(0,d.Z)(j,2),k=(Z[0],Z[1]),N=function(){k((0,c.M5)())},z=null===(n=(0,c.bh)("products_ids"))||void 0===n?void 0:n[null===(t=(0,c.bh)("productPicker"))||void 0===t?void 0:t.productId],O=function(e,n,t){var r=(0,c.bh)("productPicker")||{};t?(r[t]||(r[t]={}),r[t][e]=n):r[e]=n,(0,c.Rz)("productPicker",r),k((0,c.M5)())},P=function(e){var n=(0,c.bh)("productListOnOut")||{};delete n[e],(0,c.Rz)("productListOnOut",n),_((0,c.M5)())};return(0,h.jsxs)("div",{className:"boxAddAcc",style:{margin:"18px 0"},children:[null!==(r=(0,c.bh)("productPicker"))&&void 0!==r&&r.productId?(0,h.jsx)("div",{className:"_dsplFlx ",style:{margin:"18px 0"},children:(0,h.jsxs)("div",{className:" acc_dtls",children:[(0,h.jsxs)("div",{className:"_dsplFlx",onClick:function(e){(0,c.Rz)("productPicker",null),k((0,c.M5)())},children:[(0,h.jsx)("div",{className:"code",style:{color:"#646cff"},children:null===z||void 0===z?void 0:z.upc_barcode}),(0,h.jsx)("div",{className:"name",children:null===z||void 0===z?void 0:z.name})]}),(0,h.jsx)("div",{className:"flexSpace"})]})}):(0,h.jsx)(w,{width:420,handleClick:function(e){var n={productId:e.productId,product:e.product,subAccount:e.subAccount};(0,c.Rz)("productPicker",n),(0,y.Rd)(e.productId,N)}}),null!==(i=(0,c.bh)("products_stock"))&&void 0!==i&&null!==(o=i[null===(l=(0,c.bh)("productPicker"))||void 0===l?void 0:l.productId])&&void 0!==o&&o.qty?(0,h.jsxs)("div",{className:"_dsplFlx ",children:[(0,h.jsx)(g,{init:null===(u=(0,c.bh)("productPicker"))||void 0===u?void 0:u.qty,label:(0,c.zE)(10),width:120,type:"number",updChanges:function(e){return O("qty",e)}}),(0,h.jsx)("div",{style:{margin:"0 5px"}}),(0,h.jsx)(g,{init:null===(v=(0,c.bh)("productPicker"))||void 0===v?void 0:v.salePrice,label:(0,c.zE)(11),width:120,type:"number",updChanges:function(e){return O("salePrice",e)}}),(0,h.jsx)("div",{className:"flexSpace"}),null!==(p=(0,c.bh)("productPicker"))&&void 0!==p&&p.qty&&(null===(b=(0,c.bh)("productPicker"))||void 0===b?void 0:b.qty)<=(null===(m=(0,c.bh)("products_stock"))||void 0===m||null===(f=m[null===(x=(0,c.bh)("productPicker"))||void 0===x?void 0:x.productId])||void 0===f?void 0:f.qty)?(0,h.jsx)("div",{style:{marginTop:38},children:(0,h.jsx)("button",{onClick:function(){var e,n,t,r,i,o,d=(0,s.Z)({},(0,c.bh)("productPicker"))||{},a=(0,s.Z)({},(0,c.bh)("productPicker"))||{},l=(0,s.Z)({},(0,c.bh)("productListOnOut"))||{},u=d.productId,v=(null===(e=(0,c.bh)("products_stock"))||void 0===e||null===(n=e[null===(t=(0,c.bh)("productPicker"))||void 0===t?void 0:t.productId])||void 0===n?void 0:n.amount)/(null===(r=(0,c.bh)("products_stock"))||void 0===r||null===(i=r[null===(o=(0,c.bh)("productPicker"))||void 0===o?void 0:o.productId])||void 0===i?void 0:i.qty);d.price=v,l[u]=d,(0,c.Rz)("productListOnOut",l),a.productId=null,a.qty="",a.price="",(0,c.Rz)("productPicker",a),_((0,c.M5)())},children:(0,c.zE)(7)})}):null]}):null,(0,h.jsxs)("div",{className:"_dsplFlx hdr_bar purple",style:{margin:"18px 0"},children:[(0,h.jsx)("div",{className:"tr_bar tr_bar_50 ",children:(0,c.zE)(8)}),(0,h.jsx)("div",{className:"tr_bar tr_bar_20",children:"Qty"}),(0,h.jsx)("div",{className:"tr_bar tr_bar_20",children:(0,c.zE)(11)}),(0,h.jsx)("div",{className:"tr_bar tr_bar_5"})]}),(0,c.bh)("productListOnOut")&&(null===(I=(0,c._2)((0,c.bh)("productListOnOut")))||void 0===I?void 0:I.map((function(e,n){return(0,h.jsx)(C,{idKey:e,data:(0,c.bh)("productListOnOut")[e],deleteItem:P},e)})))]})},C=function(e){var n,t=e.data,r=e.deleteItem,i=e.idKey,s=null===(n=(0,c.bh)("products_ids"))||void 0===n?void 0:n[null===t||void 0===t?void 0:t.productId];return(0,h.jsxs)("div",{className:"_dsplFlx hdr_bar",children:[(0,h.jsx)("div",{className:"tr_bar tr_bar_50",children:null===s||void 0===s?void 0:s.name}),(0,h.jsx)("div",{className:"tr_bar tr_bar_20",children:(0,c.Zv)(null===t||void 0===t?void 0:t.qty,2)}),(0,h.jsx)("div",{className:"tr_bar tr_bar_20",children:(0,c.Zv)(null===t||void 0===t?void 0:t.salePrice,2)}),(0,h.jsx)("div",{className:"flexSpace"}),(0,h.jsx)("div",{className:"icon",onClick:function(){r(i)},children:(0,h.jsx)(j,{name:"outline_delete",color:"#c62828"})})]})},R=function(e,n){var t,r,i=0;return e&&(null===(t=(0,c._2)(e))||void 0===t||t.map((function(n,t){var r=1*e[n].salePrice*(1*e[n].qty);i=1*(0,c.Zv)(i,2)+1*(0,c.Zv)(r,2)}))),n&&(null===(r=(0,c._2)(n))||void 0===r||r.map((function(e,t){var r=1*n[e].salePrice*(1*n[e].qty);i=1*(0,c.Zv)(i,2)+1*(0,c.Zv)(r,2)}))),i}},261:function(){},4942:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(9142);function i(e,n,t){return(n=(0,r.Z)(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}},4296:function(e,n,t){function r(e){if(null==e)throw new TypeError("Cannot destructure "+e)}t.d(n,{Z:function(){return r}})},1413:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(4942);function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}}}]);
//# sourceMappingURL=3264.e581b07e.chunk.js.map