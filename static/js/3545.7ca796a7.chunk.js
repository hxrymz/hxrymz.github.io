"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[3545],{4483:(e,l,a)=>{a.d(l,{Z:()=>h});var t=a(2791),n=a(2350),i=a(2647),s=(a(7889),a(9760)),r=a(184);(0,i.YZ)();const d=(0,i.Np)(),c=((0,i.tL)(),(0,i.A5)()),o="new_area_location",h=e=>{var l,a;let{data:i,confirm:h}=e;const[v,p]=(0,t.useState)(!1),[u,_]=(0,t.useState)(0);(0,t.useEffect)((()=>{v||(p(!0),_((0,n.M5)()))}));const m=(e,l,a)=>{let t=(0,n.bh)(o)||{};a?(t[a]||(t[a]={}),t[a][e]=l):t[e]=l,(0,n.Rz)(o,t),_((0,n.M5)())};return(0,r.jsxs)("div",{style:{maxHeight:"80vh",width:"560px",overflow:"auto",background:"var(--hrm_palette-general-background-b)",borderRadius:13,padding:"10px 19px"},children:[(0,r.jsxs)("div",{className:"_dsplFlx ",children:[(0,r.jsx)("p",{className:"form_title",children:"Add Location"}),(0,r.jsx)("div",{className:"flexSpace"})]}),(0,r.jsx)("div",{className:"_dsplFlx spaceAround",children:(0,r.jsx)(c,{init:null===(l=(0,n.bh)(o))||void 0===l?void 0:l.areaId,lbl_empty:"Area",list:[{label:"Almacen",id:"WH"},{label:"Production",id:"PR"},{label:"Patio",id:"PT"}],onSelect:e=>m("areaId",e.id),background:"#f9f9f9",color:"var(--hrm_palette-blue-purple)",direction:"left",width:"220px"})}),(0,r.jsx)("div",{className:"_dsplFlx spaceAround",style:{marginTop:20},children:(0,r.jsx)(d,{init:null===(a=(0,n.bh)(o))||void 0===a?void 0:a.location,label:"Location",width:320,updChanges:e=>m("location",e)})}),(0,r.jsxs)("div",{className:"_dsplFlx ",children:[(0,r.jsx)("div",{className:"flexSpace"}),(0,r.jsx)("div",{className:"card",children:(0,r.jsx)("button",{onClick:async()=>{var e,l;let a=(0,n.bh)(o);a.areaLocationId=(0,n.M5)();let t={...null===(e=(0,n.bh)((0,n.hQ)()))||void 0===e?void 0:e.add_area_location};t.params={businessId:null===(l=(0,n.bh)("profileUser"))||void 0===l?void 0:l.businessId},t.form=a,console.log(t);const r=(0,n.I7)(t);await r&&((0,n.Rz)(o,{}),h&&h(),(null===i||void 0===i?void 0:i.modalID)&&(0,s.CloseModal)({id:null===i||void 0===i?void 0:i.modalID}))},children:"Guardar"})})]})]})}},7212:(e,l,a)=>{a.r(l),a.d(l,{default:()=>f});var t=a(2791),n=a(2350),i=a(2647),s=a(9760),r=(a(7889),a(24)),d=a(713),c=a(4050),o=(a(4483),a(6824),a(6732),a(6245)),h=a(184);const v=(0,i.PU)(),p=e=>{var l;let{init:a,onSelect:n,lbl_empty:i,direction:s,background:r,color:d,width:c,func:p}=e;const[u,_]=(0,t.useState)([]),[m,x]=(0,t.useState)(!1),[b,j]=(0,t.useState)(""),g=(0,t.useRef)(!1);let f=(0,o.Z)(b);(0,t.useEffect)((()=>(f?N(f):_([]),()=>{})),[f]);const N=async e=>{let l=await p(e);_(l)},k=e=>{g.current?(g.current=!1,x(!1),e&&n(e)):g.current||(x(!0),setTimeout((()=>{g.current=!0}),50))};let y=null===(l=u.filter((e=>e.id===a)))||void 0===l?void 0:l[0],w=s||"left",I={"--color-pck":d||null,"--backColor-pck":r||null,"--width-pck":c||"130px"};return(0,h.jsxs)("div",{id:"drpdwn_click_outside",open:m,style:I,children:[(0,h.jsxs)("div",{className:"filter_month_btn _dsplFlx",onClick:k,children:[(0,h.jsx)("div",{className:"lbl date",children:(null===y||void 0===y?void 0:y.label)||i}),(0,h.jsx)(v,{name:"arrow_drop_down",color:"var(--color-pck)"})]}),m?(0,h.jsxs)("div",{className:"OpenBoxContainer",style:r?{backgroundColor:r}:null,direction:"".concat(w),children:[(0,h.jsx)("input",{className:"OpenBoxInput",placeholder:"search",onChange:async e=>{j(e.target.value)}}),(0,h.jsx)("div",{className:"separator"}),(0,h.jsx)("div",{className:" monthList",style:{},children:u.map(((e,l)=>{let a=e.label;return a?(0,h.jsx)("div",{className:"filter_month_item _dsplFlx",onClick:()=>{k(e)},children:(0,h.jsx)("div",{className:"lbl tr_bar_90 ",style:{marginLeft:5},children:a})},a+"_"+l):null}))})]}):null]})},u=(0,i.Vg)(),_=(0,i.PU)(),m=(0,r.i8)(),x=(0,i.A5)(),b=(0,i.LA)(),j=(0,r.dZ)(),g=(0,r.JK)(),f=e=>{var l,a,i,r,o;let{data:v,elmId:f,updObs:N}=e;const[k,y]=(0,t.useState)(!1),[,w]=(0,t.useState)(0),[I,F]=(0,t.useState)(!1);(0,t.useEffect)((()=>{k||(y(!0),w((0,n.M5)()),(0,d.N0)(S),(0,c.Ht)("global_accounts","global_account_params",N))}));const S=e=>{D()},C=e=>{F(!0),(0,d._U)(D)},D=async(e,l)=>{w((0,n.M5)()),F(!1)},L=e=>{},A=(e,l)=>{(0,n.Rz)(e,l),C()},B=e=>{if(null!==e&&void 0!==e&&e.initDate&&null!==e&&void 0!==e&&e.lastDate){let l={...e};l.initDate=l.initDate-100,l.lastDate=l.lastDate+8638e4,(0,n.Rz)("date_range_inv_loc",l)}C()},R=e=>{(0,n.Rz)("date_range_inv_loc",{}),C()};let M=(null===(l=(0,n.bh)("date_range_inv_loc"))||void 0===l?void 0:l.initDate)&&(0,n.sJ)(null===(a=(0,n.bh)("date_range_inv_loc"))||void 0===a?void 0:a.initDate)+" - "+(0,n.sJ)(null===(i=(0,n.bh)("date_range_inv_loc"))||void 0===i?void 0:i.lastDate);return(0,h.jsxs)("div",{className:"inv_loc_dash",children:[(0,h.jsxs)("div",{className:"accounts_header",children:[(0,h.jsx)("h2",{children:"Inventory and Locations"}),(0,h.jsxs)("div",{className:"_dsplFlx ",children:[(0,n.I0)()?(0,h.jsx)("p",{className:"btn_lkjh addBtn purple",onClick:()=>{let e={zIndex:450,height:"80vh",props:{minHeight:"1vh",overlay:!0}};e.content=(0,h.jsx)(j,{}),(0,s.OpenModal)(e)},children:"Locations"}):null,(0,n.I0)()?(0,h.jsx)("p",{className:"btn_lkjh addBtn purple",onClick:()=>{let e={zIndex:450,height:"80vh",props:{minHeight:"1vh",overlay:!0}};e.content=(0,h.jsx)(g,{}),(0,s.OpenModal)(e)},children:"Inventory By Location"}):null]})]}),(0,h.jsxs)("div",{className:"_dsplFlx ",style:{marginTop:14},children:[(0,h.jsx)(u,{placeholder:"Buscar ....",width:560,obs:w,fetchData:C,loading:I,change:e=>{!I&&F(!0)},callempty:e=>{(0,d._U)(D)},keyFlds:"searchLocationQry"}),(0,h.jsx)("div",{className:"_dsplFlx spaceAround",style:{padding:3},children:(0,h.jsx)(x,{init:(0,n.bh)("locationId2F"),lbl_empty:"Location",list:(0,n.bh)("location_drpdwn")||[],onSelect:e=>A("locationId2F",e.id),background:"#f9f9f9",color:"var(--hrm_palette-blue-purple)",direction:"left",width:"220px"})}),(0,h.jsx)("div",{className:"_dsplFlx spaceAround",style:{padding:3},children:(0,h.jsx)(p,{init:(0,n.bh)("productId2F"),lbl_empty:"Product",func:d.yJ,onSelect:e=>A("productId2F",e.id),background:"#f9f9f9",color:"var(--hrm_palette-blue-purple)",direction:"left",width:"280px"})}),(0,h.jsxs)("div",{className:"filter_date_btn _dsplFlx",onClick:()=>{var e,l;let a={zIndex:950,height:"80vh",props:{minHeight:"1vh",overlay:!0}};a.content=(0,h.jsx)(b,{onConfirm:B,onClear:R,init:null===(e=(0,n.bh)("date_range_inv_loc"))||void 0===e?void 0:e.initDate,last:null===(l=(0,n.bh)("date_range_inv_loc"))||void 0===l?void 0:l.lastDate,isRange:!0,hasClear:!0,colors:{"--calendar-primary-color":"var(--hrm_palette-blue-purple)","--calendar-primary-backcolor":"var(--primary-light)","--calendar-light-backcolor":"var(--hrm_palette-general-background-b)","--calendar-primary-hover-backcolor":"var(--hrm_palette-blue-purple_100)","--calendar-light-300":"var(--disabled)","--calendar-light-200":"var(--dark-800)","--calendar-light-100":"var(--dark-900)","--calendar-dark-800":"var(--hrm_palette-blue-purple_100)","--calendar-white-100":"var(--light-100)","--calendar-white":"var(--dark-700)","--calendar-selected_lbl_color":"var(--light-400)","--calendar-selected_lbl_color":"var(--primary-blue--color-30)"}}),(0,s.OpenModal)(a)},children:[(0,h.jsx)("div",{className:"lbl date",children:M||"Fecha"}),(0,h.jsx)(_,{name:"calendar",color:"#66666"})]}),(0,h.jsx)("div",{className:"flexSpace"}),(0,h.jsxs)("div",{className:"_dsplFlx ",children:[(0,h.jsx)("div",{className:"total_comprobante_title",children:"No:"}),(0,h.jsx)("div",{className:"total_comprobante gray",children:(0,h.jsx)("span",{children:null===(r=(0,n._2)((0,n.bh)("inv_location_list")))||void 0===r?void 0:r.length})})]})]}),(0,h.jsxs)("div",{className:"_dsplFlx hdr_bar purple",style:{marginTop:10},children:[(0,h.jsxs)("div",{className:"_dsplFlx tr_bar_90 ",children:[(0,h.jsx)("div",{className:" tr_bar_20 centerBx",children:"Fecha"}),(0,h.jsx)("div",{className:" tr_bar_20 centerBx",children:"Location"}),(0,h.jsx)("div",{className:" tr_bar_20 centerBx",children:"Code"}),(0,h.jsx)("div",{className:" tr_bar_20 centerBx",children:"Product"})]}),(0,h.jsx)("div",{className:"flexSpace"}),(0,h.jsx)("div",{className:"icon tr_bar_5"})]}),(0,h.jsx)("div",{className:"movements_container scollVh",children:(0,n.bh)("inv_location_list")&&(null===(o=(0,n._2)((0,n.bh)("inv_location_list")))||void 0===o?void 0:o.map((e=>(0,h.jsx)(m,{data:(0,n.bh)("inv_location_list")[e],elmId:e,openUpdateView:L,handleRefreshAll:C},e))))})]})}},6245:(e,l,a)=>{a.d(l,{Z:()=>n});var t=a(2791);const n=e=>{const[l,a]=(0,t.useState)(null),[n,i]=(0,t.useState)(""),[s,r]=(0,t.useState)(null);return(0,t.useEffect)((()=>{l||i(e),l>0&&l<Date.now()||s&&clearTimeout(s);let t=setTimeout((()=>{l>0&&l<Date.now()&&e!==n&&i(e)}),250);return r(t),a(Date.now()+220),()=>{}}),[e]),n}},6732:()=>{},7889:()=>{}}]);
//# sourceMappingURL=3545.7ca796a7.chunk.js.map