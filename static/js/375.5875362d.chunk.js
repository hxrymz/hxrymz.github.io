"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[375],{4304:function(e,n,t){t.d(n,{lp:function(){return r},NK:function(){return l}});t(2791);var a=t(1087),i=t(184),l=function(e){var n=e.clickHandler,t=e.label,l=e.navTo;return(0,i.jsx)("button",{className:"gHAsFI dqnOfN jUrKkb",onClick:n,children:(0,i.jsx)(a.OL,{className:" jaqJnq",to:l,children:t})})},r=function(e){var n=e.children;return(0,i.jsx)("div",{className:"jRutKh",children:(0,i.jsx)("div",{className:"jSvsvz",children:(0,i.jsx)("div",{className:"jzcvbH",children:(0,i.jsx)("div",{className:" kfqEsq",children:n})})})})}},3075:function(e,n,t){t.r(n),t.d(n,{default:function(){return M}});var a=t(4165),i=t(5861),l=t(9439),r=t(2791),o=t(2350),s=(t(5196),t(5288)),c=t(9760),d=t(1475),u=t(2647),m=(t(5027),t(184)),v=function(e){var n=e.data,t=e.confirm,a=(e.handleClick,e.close,n.modalID),i=function(e){(0,c.CloseModal)({id:a})};return(0,m.jsxs)("div",{style:{maxHeight:"40vh",minHeight:"28vh",overflow:"auto",background:"#fff",borderRadius:13,padding:"10px 19px"},children:[(0,m.jsxs)("div",{className:"_dsplFlx ",children:[(0,m.jsx)("p",{className:"form_title",children:"Eliminar Comprobante"}),(0,m.jsx)("div",{className:"flexSpace"})]}),(0,m.jsx)("div",{className:"_dsplFlx ",children:(0,m.jsx)("span",{children:"Una vez eliminado no podra ser recuperado"})}),(0,m.jsxs)("div",{className:"_dsplFlx ",style:{padding:"15px 10px"},children:[(0,m.jsx)("div",{className:"flexSpace"}),(0,m.jsx)("p",{className:"group_title addBtn",onClick:i,children:"Cancelar"}),(0,m.jsx)("p",{className:"group_title addBtn red",onClick:function(){t(),i()},children:"Eliminar"})]})]})},p=t(1413),h=t(4304),f=t(24),x=t(7689),_=((0,u.PU)(),(0,u.JC)()),b=((0,u.tW)(),(0,u.Np)()),j=(0,f.f_)(),g="cmp_feedfromMobile",N=function(e){var n,t,s,u,v,h=e.data,f=e.item,_=(e.handleRefreshAll,(0,r.useState)(!1)),N=(0,l.Z)(_,2),C=N[0],k=N[1],I=(0,r.useState)(0),Z=(0,l.Z)(I,2),O=(Z[0],Z[1]);(0,x.s0)();(0,r.useEffect)((function(){if(!C){var e,n;k(!0);var t="debit",a="credit",i=(0,p.Z)({},f);"expense"===(null===i||void 0===i?void 0:i.movementType)&&(t="credit",a="debit");var l=(null===i||void 0===i?void 0:i.title)+"; "+(null===i||void 0===i?void 0:i.description);F("description",l),F("date",1*(null===i||void 0===i?void 0:i.date)),i.document||F("document",(0,o.UG)(1*(null===i||void 0===i?void 0:i.date))+"_"+(0,o.LO)());var r=null===(e=(0,o.bh)("categories_ids"))||void 0===e?void 0:e[null===i||void 0===i?void 0:i.categoryId],s={};s.amount=null===i||void 0===i?void 0:i.amount,s.movementId=null===i||void 0===i?void 0:i.movementId,s.description=l,s.date=null===i||void 0===i?void 0:i.date;var c=(0,p.Z)({},s);s.account=null===(n=(0,o.bh)("global_account_params"))||void 0===n?void 0:n.cash_bank.account,s.type=t,c.account=null===r||void 0===r?void 0:r.account,null!==r&&void 0!==r&&r.subAccount&&(c.subAccount=null===r||void 0===r?void 0:r.subAccount),c.type=a,(0,o.Rz)("cmpListfromMbl",[c,s]),O((0,o.M5)())}}),[null===(n=(0,o.bh)(g))||void 0===n?void 0:n.movementId]);var F=function(e,n,t){var a=(0,o.bh)(g)||{};t?(a[t]||(a[t]={}),a[t][e]=n):a[e]=n,(0,o.Rz)(g,a),O((0,o.M5)())},M=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){var n,t,l,r,s,d,u,m;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=(0,p.Z)({},(0,o.bh)(g))).date?r.date=new Date(r.date).getTime():r.date=(new Date).getTime()+800,e.next=4,(0,o.fN)(r.date);case 4:return s=e.sent,r.comprobanteId=s,r.document||(r.document=(0,o.LO)()+"_"+(0,o.UG)(r.date)),d=[],(0,o.bh)("cmpListfromMbl")&&(null===(n=(0,o._2)((0,o.bh)("cmpListfromMbl")))||void 0===n||n.map(function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n,t){var i,l,s,c,u;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=(0,o.bh)("cmpListfromMbl")[n],!isNaN(1*i.amount)&&1*i.amount>0&&((c=(0,p.Z)({},r)).account=i.account,i.subAccount&&(c.subAccount=i.subAccount),c.movementRef=f.movementId,c.type=i.type,c.amount=1*i.amount,c.operationId=(0,o.M5)(),(u=(0,p.Z)({},null===(l=(0,o.bh)((0,o.hQ)()))||void 0===l?void 0:l.add_opera)).params={businessId:null===(s=(0,o.bh)("profileUser"))||void 0===s?void 0:s.businessId,year:(0,o.bh)("date_current_year")},u.form=c,d.push(u));case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}())),(u=(0,p.Z)({},null===(t=(0,o.bh)((0,o.hQ)()))||void 0===t?void 0:t.upd__incms_expns)).params={businessId:null===(l=(0,o.bh)("profileUser"))||void 0===l?void 0:l.businessId,movementId:f.movementId,year:(0,o.bh)("date_current_year")},u.data2update={comprobanteId:s},d.push(u),m=d.map(function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,o.I7)(n),e.next=3,t;case 3:e.sent;case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),e.next=16,Promise.all(m);case 16:setTimeout((function(){(0,o.Rz)("cmpListfromMbl",null),(0,o.Rz)(g,null),(null===h||void 0===h?void 0:h.modalID)&&(0,c.CloseModal)({id:null===h||void 0===h?void 0:h.modalID})}),400);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(e){window.open(e)};return(0,m.jsxs)("div",{style:{maxHeight:"90vh",minHeight:"88vh",width:"960px",overflow:"auto",background:"var(--hrm_palette-general-background-b)",borderRadius:13,padding:"10px 19px"},children:[(0,m.jsxs)("div",{className:"_dsplFlx ",children:[(0,m.jsx)("p",{className:"form_title",children:"Associar Asiento"}),(0,m.jsx)("div",{className:"flexSpace"}),null!==f&&void 0!==f&&f.imagePath?(0,m.jsx)("p",{className:"group_title addBtn purple",onClick:function(){(0,d.Qq)(f,L)},children:"See Image"}):null]}),(0,m.jsxs)("div",{className:"_dsplFlx ",children:[(0,m.jsx)(j,{init:null===(t=(0,o.bh)(g))||void 0===t?void 0:t.date,updDate:function(e){return F("date",e)}}),(0,m.jsx)("div",{className:"flexSpace"}),(0,m.jsx)(b,{init:null===(s=(0,o.bh)(g))||void 0===s?void 0:s.document,label:"Documento",width:120,updChanges:function(e){return F("document",e)}})]}),(0,m.jsx)("div",{className:"_dsplFlx ",children:(0,m.jsx)(b,{init:null===(u=(0,o.bh)(g))||void 0===u?void 0:u.description,label:"Descripcion",width:520,updChanges:function(e){return F("description",e)}})}),(0,m.jsx)("div",{style:{marginTop:19},children:(0,m.jsx)(w,{item:(0,o.bh)("cmpListfromMbl"),updFrm:F,document:null===(v=(0,o.bh)(g))||void 0===v?void 0:v.document})}),(0,m.jsxs)("div",{className:"_dsplFlx ",style:{margin:"32px 32px 0 0"},children:[(0,m.jsx)("div",{className:"flexSpace"}),(0,m.jsx)(y,{clickHandler:M,label:"Salvar"})]})]})},y=function(e){var n=e.clickHandler,t=e.label;return(0,m.jsx)("button",{className:"gHAsFI dqnOfN jUrKkb",onClick:n,children:(0,m.jsx)("div",{className:" jaqJnq",children:t})})},w=function(e){var n=e.item,t=e.updFrm,a=e.document,i=(0,r.useState)(0),s=(0,l.Z)(i,2),c=(s[0],s[1]),d=function(e,a,i){var l,r=n||(null===(l=(0,o.bh)("global_account_params"))||void 0===l?void 0:l.w2_params);i?(r[i]||(r[i]={}),r[i][e]=a):r[e]=a,t("w2",r),c((0,o.M5)())};return(0,m.jsxs)(h.lp,{children:[(0,m.jsx)("div",{className:"iMTYiw hiKoiM",children:"Comprobante Contables"}),(0,m.jsx)("div",{className:"_dsplFlx w_100prc",style:{marginTop:19}}),(0,m.jsxs)("div",{className:"_dsplFlx w_100prc",children:[(0,m.jsx)("div",{className:"igLyC tr_bar_20 pddBtm-12",children:(0,m.jsx)("div",{className:"txfnt_lfal whi_headr",children:"Cuenta"})}),(0,m.jsx)("div",{className:"igLyC tr_bar_20 pddBtm-12",children:(0,m.jsx)("div",{className:"txfnt_lfal whi_headr",children:"Sub Cuenta"})}),(0,m.jsx)("div",{className:"igLyC tr_bar_30 pddBtm-12",children:(0,m.jsx)("div",{className:"txfnt_lfal whi_headr",children:"Documento"})}),(0,m.jsx)("div",{className:"igLyC tr_bar_15 pddBtm-12 tr_bar_15",children:(0,m.jsx)("div",{className:"txt_al_r whi_headr",children:"debito"})}),(0,m.jsx)("div",{className:"igLyC tr_bar_15 pddBtm-12 tr_bar_15",children:(0,m.jsx)("div",{className:"txt_al_r whi_headr",children:"Credito"})})]}),n&&n.map((function(e,n){return(0,m.jsx)(C,{item:e,document:a,label:"Federal Tax",percentDefault:14.5,onChange:d,keyFld:"federalTax"},e.movementId+"_"+n)}))]})},C=function(e){e.label;var n,t,a=e.item,i=e.document,l=(e.keyFld,e.percentDefault,function(e){}),r=null===(n=(0,o.bh)("account_ids"))||void 0===n?void 0:n[null===a||void 0===a?void 0:a.account],s=null===(t=(0,o.bh)("sub_account_ids"))||void 0===t?void 0:t[null===a||void 0===a?void 0:a.subAccount];return(0,m.jsxs)("div",{className:"_dsplFlx w_100prc",children:[(0,m.jsx)("div",{className:"igLyC light_300_color tr_bar_20 pddBtm-12",children:(0,m.jsx)("div",{className:"txfnt_lfal",children:(0,m.jsx)(_,{data:r,color:"var(--light-300)",labelField:"code",infoField:"name"})})}),(0,m.jsx)("div",{className:"igLyC light_300_color tr_bar_20 pddBtm-12",children:(0,m.jsx)("div",{className:"txfnt_lfal",children:(0,m.jsx)(_,{data:s,color:"var(--light-300)",labelField:"subAccount",infoField:"subAccountName"})})}),(0,m.jsx)("div",{className:"igLyC light_300_color tr_bar_30 pddBtm-12",children:(0,m.jsx)("div",{className:"txfnt_lfal",children:i})}),"debit"===a.type?(0,m.jsx)(k,{keyFld:"amount",item:a,onChange:l}):(0,m.jsx)("div",{className:"igLyC light_300_color tr_bar_15",children:(0,m.jsx)("div",{className:" txt_al_r",children:"0.00"})}),"credit"===a.type?(0,m.jsx)(k,{keyFld:"amount",item:a,onChange:l}):(0,m.jsx)("div",{className:"igLyC light_300_color tr_bar_15",children:(0,m.jsx)("div",{className:" txt_al_r",children:"0.00"})})]})},k=function(e){e.label;var n=e.item,t=e.onChange,a=e.keyFld,i=(e.percentDefault,(0,r.useState)(0)),s=(0,l.Z)(i,2),c=s[0],d=s[1],u=(0,r.useState)(0),v=(0,l.Z)(u,2),p=v[0],h=v[1];p||null===n||void 0===n||n[a];return c?(0,m.jsx)("div",{className:"igLyC light_300_color tr_bar_15",children:(0,m.jsx)("input",{className:"inpyt_tx",type:"number","aria-haspopup":"false","auto-capitalize":"off","auto-complete":"off","auto-correct":"off","spell-check":"false",onChange:function(e){h(e.target.value)},onKeyDown:function(e){13===e.keyCode&&((0,o.UE)(p)&&t&&t(a,p),d(!1))}})}):(0,m.jsx)("div",{className:"igLyC light_300_color tr_bar_15",onClick:function(){return d(!c)},children:(0,m.jsx)("div",{className:" txt_al_r",children:(1*n[a]).toFixed(2)})})},I=t(799);var Z=(0,u.PU)(),O=(0,s.Hb)(),F=((0,u.tW)(),(0,I.ZP)((function(){return Promise.all([t.e(3977),t.e(2205)]).then(t.bind(t,2205))}))),M=function(e){var n=e.data,t=(e.elmId,e.handleRefreshAll),s=(0,r.useState)(!1),u=(0,l.Z)(s,2),p=u[0],h=u[1],f=(0,r.useState)(0),_=(0,l.Z)(f,2),b=(_[0],_[1]),j=((0,x.s0)(),(0,r.useState)(0)),g=(0,l.Z)(j,2);g[0],g[1];(0,r.useEffect)((function(){p||(h(!0),b((0,o.M5)()))}));var y=function(){b((0,o.M5)())},w=function(){(0,d.MX)(y)},C=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,o.I0)()&&((0,o.Rz)("upd_fromMobile",n),(0,o.Rz)("upd_fromMobile_bck",JSON.parse(JSON.stringify(n))),(t={}).zIndex=450,t.height="80vh",t.props={minHeight:"1vh",overlay:!0},t.content=(0,m.jsx)(O,{confirm:w}),(0,c.OpenModal)(t));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){(0,d.M_)(null===n||void 0===n?void 0:n.movementId,t)},I=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){var t,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,o.I0)()&&(n.comprobanteId?(t=window.location.origin+"/#/accounting-ledger?cId=".concat(n.comprobanteId),window.open(t)):((i={}).zIndex=450,i.height="80vh",i.props={minHeight:"1vh",overlay:!0},i.content=(0,m.jsx)(N,{confirm:w,item:n}),(0,c.OpenModal)(i)));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(e){(0,o.Rz)("loading_image_text",!0),(0,o.Rz)("image_text",null);var n={zIndex:450,height:"80vh",props:{minHeight:"1vh",overlay:!0}};n.content=(0,m.jsx)(F,{confirm:w,image:e,item:{image:e}}),(0,c.OpenModal)(n)};return(0,m.jsx)("div",{className:"item_acc",children:(0,m.jsxs)("div",{className:"_dsplFlx operation_item_box",children:[(0,m.jsx)("div",{className:"icon_revision",onClick:I,children:(0,m.jsx)(Z,{name:n.comprobanteId?"success":"alert",color:n.comprobanteId?"var(--hrm_palette-success-fg)":"var(--hrm_palette-selected-nav-text)"})}),(0,m.jsxs)("div",{className:"_dsplFlx tr_bar_90",onClick:C,children:[(0,m.jsx)("div",{className:" tr_bar_15",children:(0,o.sJ)(1*(null===n||void 0===n?void 0:n.date))}),(0,m.jsx)("div",{className:" tr_bar_25 font_onm",style:{color:"expense"===n.movementType?"var(--hrm_palette-selected-nav-text)":"var( --hrm_palette-blue-purple)"},children:null===n||void 0===n?void 0:n.title}),(0,m.jsx)("div",{className:" tr_bar_45  font_onm",style:{marginLeft:9},children:null===n||void 0===n?void 0:n.description}),(0,m.jsx)("div",{className:" tr_bar_15 txt_al_r",style:{color:"expense"===n.movementType?"var(--hrm_palette-selected-nav-text)":"var( --hrm_palette-blue-purple)"},children:null===n||void 0===n?void 0:n.amount})]}),(0,m.jsx)("div",{className:"flexSpace"}),null!==n&&void 0!==n&&n.imagePath?(0,m.jsx)("div",{className:"icon tr_bar_5",onClick:function(){(0,d.Qq)(n,M)},children:(0,m.jsx)(Z,{name:"image_outline",color:"var(--partial-success)"})}):(0,m.jsx)("div",{className:"icon tr_bar_5"}),(0,m.jsx)("div",{className:"icon tr_bar_5",onClick:function(){var e=(0,o.bh)("lastTimeCallModal")||0;if(Date.now()>e){(0,o.Rz)("lastTimeCallModal",Date.now()+320);var t={zIndex:450,height:"40vh",props:{minHeight:"1vh",overlay:!0,closeEvent:function(){}}};t.content=(0,m.jsx)(v,{confirm:k,item:n}),(0,c.OpenModal)(t)}},children:(0,m.jsx)(Z,{name:"outline_delete",color:"#c62828"})})]})})}},5196:function(){},5027:function(){},1413:function(e,n,t){t.d(n,{Z:function(){return l}});var a=t(4942);function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}}}]);
//# sourceMappingURL=375.5875362d.chunk.js.map