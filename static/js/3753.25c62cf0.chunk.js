"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[3753],{810:function(e,n,t){var o=t(9439),a=t(2791),i=t(2350),r=t(2647),l=(t(1636),t(4050)),s=t(184),d=(0,r.kp)();n.Z=function(e){var n,t=e.handleClick,r=(0,a.useState)(!1),c=(0,o.Z)(r,2),v=c[0],m=c[1],f=(0,a.useState)(0),x=(0,o.Z)(f,2),h=(x[0],x[1]),b=(0,a.useState)(!1),p=(0,o.Z)(b,2),y=p[0],F=p[1],z=(0,a.useState)([]),R=(0,o.Z)(z,2),T=R[0],g=R[1],w=(0,a.useRef)();(0,a.useEffect)((function(){v||(m(!0),(0,l.ZX)(B))}));var B=function(e){h((0,i.M5)())},I=function(e){t(e),w.current.clearTx()};return(0,s.jsx)("div",{children:(0,s.jsx)(d,{placeholder:"associar una cuenta",width:420,fetchData:function(e){g((0,i.MA)((0,i.bh)("account_list"),e)),y&&F(!1)},loading:y,change:function(e){!y&&F(!0)},callempty:function(e){g([]),y&&F(!1)},ref:w,children:(0,s.jsx)("div",{className:"",children:T&&(null===(n=(0,i._2)(T))||void 0===n?void 0:n.map((function(e){return(0,s.jsx)(u,{data:T[e],elmId:e,selectItem:I},e)})))})})})};var u=function(e){var n=e.data,t=e.selectItem;return(0,s.jsx)("div",{className:"item_acc",children:(0,s.jsx)("div",{className:"_dsplFlx account_item_box account_header",children:(0,s.jsxs)("div",{className:"_dsplFlx",onClick:function(){return t(null===n||void 0===n?void 0:n.accountId,null)},children:[(0,s.jsx)("div",{className:"code",children:null===n||void 0===n?void 0:n.code}),(0,s.jsx)("div",{className:"name",children:null===n||void 0===n?void 0:n.name})]})})})}},3266:function(e,n,t){t.d(n,{$z:function(){return b},f9:function(){return F}});var o=t(4165),a=t(5861),i=t(6963),r=t(2350),l=t(4e3);function s(e){var n=new Blob([e],{type:"application/pdf"});return(window.URL||window.webkitURL).createObjectURL(n)}var d=0,u=null,c=null;function v(e,n,t){var o,a,l=0,s=[];s.push({yInc:0,label:{value:"Balance de Resultado",x:110,size:14,font:"TimesRomanBold"}});var d={yInc:0,label:{value:"Fecha: "+(0,r.Gv)(Date.now()),x:490,size:12,font:"timesRomanFont"}};s.push(d),e&&(0,r._2)(e).map((function(o,a){var d,u,v=0,m={yInc:20,label:{value:o,x:30,y:20,size:13,font:"TimesRomanBold"}};s.push(m),Array.isArray(e[o])?e[o].map((function(e,o){v=f(e,n,t,v,0,s)})):(0,r._2)(e[o]).map((function(a,i){var l={yInc:16,label:{value:a,x:40,size:11,font:"TimesRomanBold"}};s.push(l),(0,r._2)(e[o][a]).map((function(i,r){var l=e[o][a][i];v=f(l,n,t,v,0,s)}))}));var x=c.widthOfTextAtSize((null===(d=v)||void 0===d?void 0:d.toFixed(2))+"",11);l+="Ingresos"===o?v:-1*v;var h={yInc:16,line:{x:520,y:10,width:70,height:.5,borderColor:(0,i.rgb)(0,0,0)},label:{value:"Total "+o,x:30,size:11,font:"TimesRomanBold"},amount:{value:null===(u=v)||void 0===u?void 0:u.toFixed(2),x:580-x,size:11,font:"TimesRomanBold"}};s.push(h)}));var u=c.widthOfTextAtSize((null===(o=l)||void 0===o?void 0:o.toFixed(2))+"",11),v={yInc:16,line:{x:520,y:10,width:70,height:.5,borderColor:(0,i.rgb)(0,0,0)},label:{value:"Ganancia o perdida  (Ingresos - gastos)",x:30,size:11,font:"TimesRomanBold"},amount:{value:null===(a=l)||void 0===a?void 0:a.toFixed(2),x:580-u,size:11,font:"TimesRomanBold"}};return s.push(v),{totalGP:l,listArr:s}}function m(e,n,t,o){var a,l,s=0,d=[];d.push({yInc:0,label:{value:"Balance de Situacion",x:110,size:14,font:"TimesRomanBold"}});var u={yInc:0,label:{value:"Fecha: "+(0,r.Gv)(Date.now()),x:490,size:12,font:"timesRomanFont"}};d.push(u),e&&(0,r._2)(e).map((function(a,l){var u,v,m=0,x={yInc:20,label:{value:a,x:30,y:20,size:13,font:"TimesRomanBold"}};d.push(x),Array.isArray(e[a])?e[a].map((function(e,a){m=f(e,n,t,m,o,d)})):(0,r._2)(e[a]).map((function(i,l){var s={yInc:16,label:{value:i,x:40,size:11,font:"TimesRomanBold"}};d.push(s),(0,r._2)(e[a][i]).map((function(r,l){var s=e[a][i][r];m=f(s,n,t,m,o,d)}))})),s+="Activos"!==a?m:0;var h=c.widthOfTextAtSize((null===(u=m)||void 0===u?void 0:u.toFixed(2))+"",11),b={yInc:16,line:{x:520,y:10,width:70,height:.5,borderColor:(0,i.rgb)(0,0,0)},label:{value:"Total "+a,x:30,size:11,font:"TimesRomanBold"},amount:{value:null===(v=m)||void 0===v?void 0:v.toFixed(2),x:580-h,size:11,font:"TimesRomanBold"}};d.push(b)}));var v=c.widthOfTextAtSize((null===(a=s)||void 0===a?void 0:a.toFixed(2))+"",11),m={yInc:16,line:{x:520,y:10,width:70,height:.5,borderColor:(0,i.rgb)(0,0,0)},label:{value:"Total ( Pasivos + Patrimonio )",x:30,size:11,font:"TimesRomanBold"},amount:{value:null===(l=s)||void 0===l?void 0:l.toFixed(2),x:580-v,size:11,font:"TimesRomanBold"}};return d.push(m),d}var f=function(e,n,t,o,a,i){var l,s,d=10,c=n[e.key],v=(0,r._2)(c)[0],m=null===c||void 0===c||null===(l=c[v])||void 0===l?void 0:l.saldo,f=null===(s=(0,r.bh)("account_ids"))||void 0===s?void 0:s[v];if("Resultado (ganancia o perdida)"===e.key&&a&&0!==a){var x=a;o+=x;var h=u.widthOfTextAtSize((null===x||void 0===x?void 0:x.toFixed(2))+"",d),b={yInc:13,label:{value:e.key,x:50,size:d,font:"timesRomanFont"},amount:{value:null===x||void 0===x?void 0:x.toFixed(2),x:580-h,size:d,font:"timesRomanFont"}};i.push(b)}else if(m&&0!==m&&(0,r._2)(c).length>0){var p,y=null===(p=c[t[e.key]])||void 0===p?void 0:p.sub;if(m="credit"===(null===f||void 0===f?void 0:f.type)?-1*m:m,y&&(0,r._2)(y).length>0){var F,z,R={yInc:13,label:{value:f.code+" - "+e.key,x:50,size:d,font:"timesRomanFont"}};i.push(R),(0,r._2)(y).map((function(e){var t,o=e,a=n&&(null===(t=(0,r.bh)("sub_account_ids"))||void 0===t?void 0:t[o]),l=y[e].saldo;if(0!==(l="credit"===(null===f||void 0===f?void 0:f.type)?-1*l:l)){var s,c,v=u.widthOfTextAtSize((null===(s=l)||void 0===s?void 0:s.toFixed(2))+"",d),m={yInc:13,label:{value:null===a||void 0===a?void 0:a.subAccountName,x:70,size:d,font:"timesRomanFont"},amount:{value:null===(c=l)||void 0===c?void 0:c.toFixed(2),x:520-v,size:d,font:"timesRomanFont"}};i.push(m)}})),o+=m;var T=u.widthOfTextAtSize((null===(F=m)||void 0===F?void 0:F.toFixed(2))+"",d),g={yInc:13,label:{value:"Total "+e.key,x:60,size:d,font:"TimesRomanBold"},amount:{value:null===(z=m)||void 0===z?void 0:z.toFixed(2),x:580-T,size:d,font:"TimesRomanBold"}};i.push(g)}else{var w=c[t[e.key]].saldo;if(0!==(w="credit"===(null===f||void 0===f?void 0:f.type)?-1*w:w)){"Depreciacion Activos fijos"===e.key&&(w*=-1),o+=w;var B=w;e.key;var I=u.widthOfTextAtSize((null===B||void 0===B?void 0:B.toFixed(2))+"",d),S={yInc:13,label:{value:f.code+" - "+e.key,x:50,size:d,font:"timesRomanFont"},amount:{value:null===B||void 0===B?void 0:B.toFixed(2),x:580-I,size:d,font:"timesRomanFont"}};i.push(S)}}}return o};function x(e,n){return h.apply(this,arguments)}function h(){return(h=(0,a.Z)((0,o.Z)().mark((function e(n,t){var a,r,l,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.addPage(),r=a.getSize(),l=r.height,d=l-30,60,s=Math.ceil(t.length/60),Array.from(Array(s).keys()).map((function(e){e>0&&(a=n.addPage(),d=l-30);var o=t.slice(60*e,60*(e+1));o&&o.map((function(e,n){d-=e.yInc,e.line&&a.drawRectangle({x:e.line.x,y:d+e.line.y,width:e.line.width,height:e.line.height,borderColor:(0,i.rgb)(0,0,0)}),e.label&&a.drawText(e.label.value,{x:e.label.x,y:d,size:e.label.size,font:"TimesRomanBold"===e.label.font?c:u,color:(0,i.rgb)(0,0,0)}),e.amount&&a.drawText(e.amount.value,{x:e.amount.x,y:d,size:e.amount.size,font:"TimesRomanBold"===e.amount.font?c:u,color:(0,i.rgb)(0,0,0)})}))}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,n,t,o,a){return p.apply(this,arguments)}function p(){return(p=(0,a.Z)((0,o.Z)().mark((function e(n,t,a,d,f){var h,b,p,y,F,z,R,T,g,w,B,I,S;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.PDFDocument.create();case 2:return(h=e.sent).registerFontkit(l.Z),e.next=6,h.embedFont(i.StandardFonts.TimesRoman,{subset:!0});case 6:return u=e.sent,e.next=9,h.embedFont(i.StandardFonts.TimesRomanBold,{subset:!0});case 9:return c=e.sent,e.next=12,h.embedFont(i.StandardFonts.TimesRomanBold,{subset:!0});case 12:if(e.sent,!(0,r.bh)("modernFontReport")){e.next=35;break}return b=(0,r.bh)("Roboto-Bold.ttf"),p=(0,r.bh)("ggSans-Italic.ttf"),y=(0,r.bh)("ggSans-Medium.ttf"),e.next=19,fetch(b).then((function(e){return e.arrayBuffer()}));case 19:return F=e.sent,e.next=22,h.embedFont(F,{subset:!0});case 22:return c=e.sent,e.next=25,fetch(p).then((function(e){return e.arrayBuffer()}));case 25:return z=e.sent,e.next=28,h.embedFont(z,{subset:!0});case 28:return u=e.sent,e.next=31,fetch(y).then((function(e){return e.arrayBuffer()}));case 31:return R=e.sent,e.next=34,h.embedFont(R,{subset:!0});case 34:e.sent;case 35:return T=v(d,null===n||void 0===n?void 0:n.result,f),g=T.totalGP,w=T.listArr,B=m(t,null===n||void 0===n?void 0:n.general,a,g),x(h,w),x(h,B),e.next=41,h.save();case 41:I=e.sent,S=s(I),window.open(S);case 44:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=function(e){var n,t,o,a,r=[],l=10,s=0,d=0;e&&e.map((function(e,n){var t=(e.saldo,1*e.saldo);if(t){var o={};if(e.sub_cuenta){var a=u.widthOfTextAtSize((null===t||void 0===t?void 0:t.toFixed(2))+"",l);o={yInc:13,code:{value:e.sub_cuenta,x:45,size:l,font:"timesRomanFont"},name:{value:"- "+e.nombre_sub_cuenta,x:70,size:l,font:"timesRomanFont"},amount:{value:null===t||void 0===t?void 0:t.toFixed(2),x:460-a,size:l,font:"timesRomanFont"}}}else{var i=c.widthOfTextAtSize((null===t||void 0===t?void 0:t.toFixed(2))+"",l);"debit"===e.type?s+=t:d+=t,o={yInc:13,code:{value:e.cuenta,x:30,size:l,font:"TimesRomanBold"},name:{value:e.nombre,x:65,size:l,font:"TimesRomanBold"},amount:{value:null===t||void 0===t?void 0:t.toFixed(2),x:("debit"===e.type?520:580)-i,size:l,font:"TimesRomanBold"}}}r.push(o)}}));var v=c.widthOfTextAtSize((null===(n=s)||void 0===n?void 0:n.toFixed(2))+"",l),m=c.widthOfTextAtSize((null===(t=d)||void 0===t?void 0:t.toFixed(2))+"",l),f={yInc:21,line:{x:517-v,y:10,width:583-(517-v),height:.5,borderColor:(0,i.rgb)(0,0,0)},name:{value:null===(o=s)||void 0===o?void 0:o.toFixed(2),x:520-v,size:l,font:"TimesRomanBold"},amount:{value:null===(a=d)||void 0===a?void 0:a.toFixed(2),x:580-m,size:l,font:"TimesRomanBold"}};return r.push(f),r},F=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(n){var t,a,v,m,f,x,h,b,p,F,z,R,T,g;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.PDFDocument.create();case 2:return(t=e.sent).registerFontkit(l.Z),e.next=6,t.embedFont(i.StandardFonts.TimesRoman);case 6:return u=e.sent,e.next=9,t.embedFont(i.StandardFonts.TimesRomanBold);case 9:return c=e.sent,e.next=12,t.embedFont(i.StandardFonts.TimesRomanBold);case 12:if(e.sent,!(0,r.bh)("modernFontReport")){e.next=35;break}return a=(0,r.bh)("Roboto-Bold.ttf"),v=(0,r.bh)("ggSans-Italic.ttf"),m=(0,r.bh)("ggSans-Medium.ttf"),e.next=19,fetch(a).then((function(e){return e.arrayBuffer()}));case 19:return f=e.sent,e.next=22,t.embedFont(f);case 22:return c=e.sent,e.next=25,fetch(v).then((function(e){return e.arrayBuffer()}));case 25:return x=e.sent,e.next=28,t.embedFont(x);case 28:return u=e.sent,e.next=31,fetch(m).then((function(e){return e.arrayBuffer()}));case 31:return h=e.sent,e.next=34,t.embedFont(h);case 34:e.sent;case 35:return b=t.addPage(),p=b.getSize(),p.width,F=p.height,d=F-40,55,b.drawText("Balance de Comprobacion",{x:110,y:d,size:16,font:c,color:(0,i.rgb)(0,0,0)}),b.drawText("Fecha: "+(0,r.Gv)(Date.now()),{x:500,y:d,size:11,font:u,color:(0,i.rgb)(0,0,0)}),d-=15,z=y(n),R=Math.ceil(z.length/55),Array.from(Array(R).keys()).map((function(e){e>0&&(b=t.addPage(),d=F-40);var n=z.slice(55*e,55*(e+1));n&&n.map((function(e,n){d-=e.yInc,e.line&&b.drawRectangle({x:e.line.x,y:d+e.line.y,width:e.line.width,height:e.line.height,borderColor:(0,i.rgb)(0,0,0)}),e.code&&b.drawText(e.code.value,{x:e.code.x,y:d,size:e.code.size,font:"TimesRomanBold"===e.code.font?c:u,color:(0,i.rgb)(0,0,0)}),e.name&&b.drawText(e.name.value,{x:e.name.x,y:d,size:e.name.size,font:"TimesRomanBold"===e.name.font?c:u,color:(0,i.rgb)(0,0,0)}),e.amount&&b.drawText(e.amount.value,{x:e.amount.x,y:d,size:e.amount.size,font:"TimesRomanBold"===e.amount.font?c:u,color:(0,i.rgb)(0,0,0)})}))})),e.next=47,t.save();case 47:T=e.sent,g=s(T),window.open(g);case 50:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},1636:function(){}}]);
//# sourceMappingURL=3753.25c62cf0.chunk.js.map