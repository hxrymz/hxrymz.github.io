"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[3753],{810:function(e,n,t){var a=t(9439),i=t(2791),o=t(2350),u=t(2647),r=(t(1636),t(4050)),l=t(184),s=(0,u.kp)();n.Z=function(e){var n,t=e.handleClick,u=(0,i.useState)(!1),c=(0,a.Z)(u,2),v=c[0],f=c[1],x=(0,i.useState)(0),m=(0,a.Z)(x,2),h=(m[0],m[1]),p=(0,i.useState)(!1),b=(0,a.Z)(p,2),y=b[0],S=b[1],z=(0,i.useState)([]),w=(0,a.Z)(z,2),G=w[0],g=w[1],I=(0,i.useRef)();(0,i.useEffect)((function(){v||(f(!0),(0,r.ZX)(F))}));var F=function(e){h((0,o.M5)())},M=function(e){t(e),I.current.clearTx()};return(0,l.jsx)("div",{children:(0,l.jsx)(s,{placeholder:"associar una cuenta",width:420,fetchData:function(e){g((0,o.MA)((0,o.bh)("account_list"),e)),y&&S(!1)},loading:y,change:function(e){!y&&S(!0)},callempty:function(e){g([]),y&&S(!1)},ref:I,children:(0,l.jsx)("div",{className:"",children:G&&(null===(n=(0,o._2)(G))||void 0===n?void 0:n.map((function(e){return(0,l.jsx)(d,{data:G[e],elmId:e,selectItem:M},e)})))})})})};var d=function(e){var n=e.data,t=e.selectItem;return(0,l.jsx)("div",{className:"item_acc",children:(0,l.jsx)("div",{className:"_dsplFlx account_item_box account_header",children:(0,l.jsxs)("div",{className:"_dsplFlx",onClick:function(){return t(null===n||void 0===n?void 0:n.accountId,null)},children:[(0,l.jsx)("div",{className:"code",children:null===n||void 0===n?void 0:n.code}),(0,l.jsx)("div",{className:"name",children:null===n||void 0===n?void 0:n.name})]})})})}},3266:function(e,n,t){t.d(n,{$z:function(){return b},f9:function(){return z}});var a=t(4165),i=t(5861),o=t(6963),u=t(2350),r=t(4e3);function l(e){var n=new Blob([e],{type:"application/pdf"});return(window.URL||window.webkitURL).createObjectURL(n)}function s(e){return d.apply(this,arguments)}function d(){return d=(0,i.Z)((0,a.Z)().mark((function e(n){var t,i,r,l,s,d,c,v,f,x,m,h,p,b,y;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.embedFont(o.StandardFonts.Helvetica);case 2:return t=e.sent,e.next=5,n.embedFont(o.StandardFonts.TimesRomanBold);case 5:return i=e.sent,e.next=8,n.embedFont(o.StandardFonts.TimesRoman);case 8:return r=e.sent,l=(0,u.bh)("Roboto-Bold.ttf"),e.next=12,fetch(l).then((function(e){return e.arrayBuffer()}));case 12:return s=e.sent,e.next=15,n.embedFont(s,{subset:!0});case 15:return d=e.sent,c=(0,u.bh)("Roboto-Regular.ttf"),e.next=19,fetch(c).then((function(e){return e.arrayBuffer()}));case 19:return v=e.sent,e.next=22,n.embedFont(v,{subset:!0});case 22:return f=e.sent,x=(0,u.bh)("ggSans-Medium.ttf"),e.next=26,fetch(x).then((function(e){return e.arrayBuffer()}));case 26:return m=e.sent,e.next=29,n.embedFont(m,{subset:!0});case 29:return h=e.sent,p=(0,u.bh)("ggSans-Italic.ttf"),e.next=33,fetch(p).then((function(e){return e.arrayBuffer()}));case 33:return b=e.sent,e.next=36,n.embedFont(b);case 36:return y=e.sent,e.abrupt("return",{GSansMedium:h,GSansItalic:y,RobotoBold:d,RobotoRegular:f,TimesRomanBold:i,helveticaFont:t,TimesRomanItalic:r});case 38:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}var c=0,v=null;function f(e,n,t){var a,i,r=0,l=[],s={yInc:0,label:{value:"Balance de Resultado",x:110,size:14,font:v.GSansMedium}};l.push(s);var d={yInc:0,label:{value:"Fecha: "+(0,u.Gv)(Date.now()),x:490,size:12,font:v.GSansItalic}};l.push(d),e&&(0,u._2)(e).map((function(a,i){var s,d,c=0,f={yInc:20,label:{value:a,x:30,y:20,size:13,font:v.GSansMedium}};l.push(f),Array.isArray(e[a])?e[a].map((function(e,a){c=m(e,n,t,c,0,l)})):(0,u._2)(e[a]).map((function(i,o){var r={yInc:16,label:{value:i,x:40,size:11,font:v.GSansMedium}};l.push(r),(0,u._2)(e[a][i]).map((function(o,u){var r=e[a][i][o];c=m(r,n,t,c,0,l)}))}));var x=v.GSansMedium.widthOfTextAtSize((null===(s=c)||void 0===s?void 0:s.toFixed(2))+"",11);r+="Ingresos"===a?c:-1*c;var h={yInc:16,line:{x:520,y:10,width:70,height:.5,borderColor:(0,o.rgb)(0,0,0)},label:{value:"Total "+a,x:30,size:11,font:v.GSansMedium},amount:{value:null===(d=c)||void 0===d?void 0:d.toFixed(2),x:580-x,size:11,font:v.GSansMedium}};l.push(h)}));var c=v.GSansMedium.widthOfTextAtSize((null===(a=r)||void 0===a?void 0:a.toFixed(2))+"",11),f={yInc:16,line:{x:520,y:10,width:70,height:.5,borderColor:(0,o.rgb)(0,0,0)},label:{value:"Ganancia o perdida  (Ingresos - gastos)",x:30,size:11,font:v.GSansMedium},amount:{value:null===(i=r)||void 0===i?void 0:i.toFixed(2),x:580-c,size:11,font:v.GSansMedium}};return l.push(f),{totalGP:r,listArr:l}}function x(e,n,t,a){var i,r,l=0,s=[],d={yInc:0,label:{value:"Balance de Situacion",x:110,size:14,font:v.GSansMedium}};s.push(d);var c={yInc:0,label:{value:"Fecha: "+(0,u.Gv)(Date.now()),x:490,size:12,font:v.GSansItalic}};s.push(c),e&&(0,u._2)(e).map((function(i,r){var d,c,f=0,x={yInc:20,label:{value:i,x:30,y:20,size:13,font:v.GSansMedium}};s.push(x),Array.isArray(e[i])?e[i].map((function(e,i){f=m(e,n,t,f,a,s)})):(0,u._2)(e[i]).map((function(o,r){var l={yInc:16,label:{value:o,x:40,size:11,font:v.GSansMedium}};s.push(l),(0,u._2)(e[i][o]).map((function(u,r){var l=e[i][o][u];f=m(l,n,t,f,a,s)}))})),l+="Activos"!==i?f:0;var h=v.GSansMedium.widthOfTextAtSize((null===(d=f)||void 0===d?void 0:d.toFixed(2))+"",11);(0,o.rgb)(0,0,0),v.GSansMedium,null===(c=f)||void 0===c||c.toFixed(2),v.GSansMedium}));var f=v.GSansMedium.widthOfTextAtSize((null===(i=l)||void 0===i?void 0:i.toFixed(2))+"",11),x={yInc:16,line:{x:520,y:10,width:70,height:.5,borderColor:(0,o.rgb)(0,0,0)},label:{value:"Total ( Pasivos + Patrimonio )",x:30,size:11,font:v.GSansMedium},amount:{value:null===(r=l)||void 0===r?void 0:r.toFixed(2),x:580-f,size:11,font:v.GSansMedium}};return s.push(x),s}var m=function(e,n,t,a,i,o){var r,l,s=10,d=n[e.key],c=(0,u._2)(d)[0],f=null===d||void 0===d||null===(r=d[c])||void 0===r?void 0:r.saldo,x=null===(l=(0,u.bh)("account_ids"))||void 0===l?void 0:l[c];if("Resultado (ganancia o perdida)"===e.key&&i&&0!==i){var m=i;a+=m;var h=v.GSansItalic.widthOfTextAtSize((null===m||void 0===m?void 0:m.toFixed(2))+"",s),p={yInc:13,label:{value:e.key,x:50,size:s,font:v.GSansItalic},amount:{value:null===m||void 0===m?void 0:m.toFixed(2),x:580-h,size:s,font:v.GSansItalic}};o.push(p)}else if(f&&0!==f&&(0,u._2)(d).length>0){var b,y=null===(b=d[t[e.key]])||void 0===b?void 0:b.sub;if(f="credit"===(null===x||void 0===x?void 0:x.type)?-1*f:f,y&&(0,u._2)(y).length>0){var S,z,w=v.GSansMedium.widthOfTextAtSize((null===(S=f)||void 0===S?void 0:S.toFixed(2))+"",s),G={yInc:13,label:{value:x.code+" - "+e.key,x:50,size:s,font:v.GSansMedium},amount:{value:null===(z=f)||void 0===z?void 0:z.toFixed(2),x:580-w,size:s,font:v.GSansMedium}};o.push(G),(0,u._2)(y).map((function(e){var t,a=e,i=n&&(null===(t=(0,u.bh)("sub_account_ids"))||void 0===t?void 0:t[a]),r=y[e].saldo;if(0!==(r="credit"===(null===x||void 0===x?void 0:x.type)?-1*r:r)){var l,d,c=v.GSansItalic.widthOfTextAtSize((null===(l=r)||void 0===l?void 0:l.toFixed(2))+"",s),f={yInc:13,label:{value:null===i||void 0===i?void 0:i.subAccountName,x:70,size:s,font:v.GSansItalic},amount:{value:null===(d=r)||void 0===d?void 0:d.toFixed(2),x:520-c,size:s,font:v.GSansItalic}};o.push(f)}})),a+=f}else{var g=d[t[e.key]].saldo;if(0!==(g="credit"===(null===x||void 0===x?void 0:x.type)?-1*g:g)){"Depreciacion Activos fijos"===e.key&&(g*=-1),a+=g;var I=g;e.key;var F=v.GSansItalic.widthOfTextAtSize((null===I||void 0===I?void 0:I.toFixed(2))+"",s),M={yInc:13,label:{value:x.code+" - "+e.key,x:50,size:s,font:v.GSansItalic},amount:{value:null===I||void 0===I?void 0:I.toFixed(2),x:580-F,size:s,font:v.GSansItalic}};o.push(M)}}}return a};function h(e,n){return p.apply(this,arguments)}function p(){return(p=(0,i.Z)((0,a.Z)().mark((function e(n,t){var i,u,r,l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=n.addPage(),u=i.getSize(),r=u.height,c=r-30,60,l=Math.ceil(t.length/60),Array.from(Array(l).keys()).map((function(e){e>0&&(i=n.addPage(),c=r-30);var a=t.slice(60*e,60*(e+1));a&&a.map((function(e,n){c-=e.yInc,e.line&&i.drawRectangle({x:e.line.x,y:c+e.line.y,width:e.line.width,height:e.line.height,borderColor:(0,o.rgb)(0,0,0)}),e.label&&i.drawText(e.label.value,{x:e.label.x,y:c,size:e.label.size,font:e.label.font,color:(0,o.rgb)(0,0,0)}),e.amount&&i.drawText(e.amount.value,{x:e.amount.x,y:c,size:e.amount.size,font:e.amount.font,color:(0,o.rgb)(0,0,0)})}))}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,n,t,a,i){return y.apply(this,arguments)}function y(){return(y=(0,i.Z)((0,a.Z)().mark((function e(n,t,i,u,d){var c,m,p,b,y,S,z;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.PDFDocument.create();case 2:return(c=e.sent).registerFontkit(r.Z),e.next=6,s(c);case 6:return v=e.sent,m=f(u,null===n||void 0===n?void 0:n.result,d),p=m.totalGP,b=m.listArr,y=x(t,null===n||void 0===n?void 0:n.general,i,p),h(c,b),h(c,y),e.next=13,c.save();case 13:S=e.sent,z=l(S),window.open(z);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=function(e){var n,t,a,i,u=[],r=10,l=0,s=0;e&&e.map((function(e,n){var t=(e.saldo,1*e.saldo);if(t){var a={};if(e.sub_cuenta){var i=v.GSansItalic.widthOfTextAtSize((null===t||void 0===t?void 0:t.toFixed(2))+"",r);a={yInc:13,code:{value:e.sub_cuenta,x:45,size:r,font:v.GSansItalic},name:{value:"- "+e.nombre_sub_cuenta,x:70,size:r,font:v.GSansItalic},amount:{value:null===t||void 0===t?void 0:t.toFixed(2),x:460-i,size:r,font:v.GSansItalic}}}else{var o=v.GSansMedium.widthOfTextAtSize((null===t||void 0===t?void 0:t.toFixed(2))+"",r);"debit"===e.type?l+=t:s+=t,a={yInc:13,code:{value:e.cuenta,x:30,size:r,font:v.GSansMedium},name:{value:e.nombre,x:65,size:r,font:v.GSansMedium},amount:{value:null===t||void 0===t?void 0:t.toFixed(2),x:("debit"===e.type?520:580)-o,size:r,font:v.GSansMedium}}}u.push(a)}}));var d=v.GSansItalic.widthOfTextAtSize((null===(n=l)||void 0===n?void 0:n.toFixed(2))+"",r),c=v.GSansItalic.widthOfTextAtSize((null===(t=s)||void 0===t?void 0:t.toFixed(2))+"",r),f={yInc:21,line:{x:517-d,y:10,width:583-(517-d),height:.5,borderColor:(0,o.rgb)(0,0,0)},name:{value:null===(a=l)||void 0===a?void 0:a.toFixed(2),x:520-d,size:r,font:v.GSansItalic},amount:{value:null===(i=s)||void 0===i?void 0:i.toFixed(2),x:580-c,size:r,font:v.GSansMedium}};return u.push(f),u},z=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n){var t,i,d,f,x,m,h,p;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.PDFDocument.create();case 2:return(t=e.sent).registerFontkit(r.Z),e.next=6,s(t);case 6:return v=e.sent,i=t.addPage(),d=i.getSize(),d.width,f=d.height,c=f-40,55,i.drawText("Balance de Comprobacion",{x:110,y:c,size:16,font:v.GSansMedium,color:(0,o.rgb)(0,0,0)}),i.drawText("Fecha: "+(0,u.Gv)(Date.now()),{x:500,y:c,size:11,font:v.GSansMedium,color:(0,o.rgb)(0,0,0)}),c-=15,x=S(n),m=Math.ceil(x.length/55),Array.from(Array(m).keys()).map((function(e){e>0&&(i=t.addPage(),c=f-40);var n=x.slice(55*e,55*(e+1));n&&n.map((function(e,n){c-=e.yInc,e.line&&i.drawRectangle({x:e.line.x,y:c+e.line.y,width:e.line.width,height:e.line.height,borderColor:(0,o.rgb)(0,0,0)}),e.code&&i.drawText(e.code.value,{x:e.code.x,y:c,size:e.code.size,font:e.code.font,color:(0,o.rgb)(0,0,0)}),e.name&&i.drawText(e.name.value,{x:e.name.x,y:c,size:e.name.size,font:e.name.font,color:(0,o.rgb)(0,0,0)}),e.amount&&i.drawText(e.amount.value,{x:e.amount.x,y:c,size:e.amount.size,font:e.amount.font,color:(0,o.rgb)(0,0,0)})}))})),e.next=19,t.save();case 19:h=e.sent,p=l(h),window.open(p);case 22:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},1636:function(){}}]);
//# sourceMappingURL=3753.2f9a2a0b.chunk.js.map