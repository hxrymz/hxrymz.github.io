"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[3753],{810:(e,t,a)=>{a.d(t,{Z:()=>u});var i=a(2791),n=a(2350),o=a(2647),l=(a(1636),a(4050)),d=a(184);const s=(0,o.kp)(),u=e=>{var t;let{handleClick:a}=e;const[o,u]=(0,i.useState)(!1),[r,v]=(0,i.useState)(0),[m,x]=(0,i.useState)(!1),[h,f]=(0,i.useState)([]),b=(0,i.useRef)();(0,i.useEffect)((()=>{o||(u(!0),(0,l.ZX)(y))}));const y=e=>{v((0,n.M5)())},S=e=>{a(e),b.current.clearTx()};return(0,d.jsx)("div",{children:(0,d.jsx)(s,{placeholder:"associar una cuenta",width:420,fetchData:e=>{f((0,n.MA)((0,n.bh)("account_list"),e)),m&&x(!1)},loading:m,change:e=>{!m&&x(!0)},callempty:e=>{f([]),m&&x(!1)},ref:b,children:(0,d.jsx)("div",{className:"",children:h&&(null===(t=(0,n._2)(h))||void 0===t?void 0:t.map((e=>(0,d.jsx)(c,{data:h[e],elmId:e,selectItem:S},e))))})})})},c=e=>{let{data:t,selectItem:a}=e;return(0,d.jsx)("div",{className:"item_acc",children:(0,d.jsx)("div",{className:"_dsplFlx account_item_box account_header",children:(0,d.jsxs)("div",{className:"_dsplFlx",onClick:()=>a(null===t||void 0===t?void 0:t.accountId,null),children:[(0,d.jsx)("div",{className:"code",children:null===t||void 0===t?void 0:t.code}),(0,d.jsx)("div",{className:"name",children:null===t||void 0===t?void 0:t.name})]})})})}},3266:(e,t,a)=>{a.d(t,{$z:()=>v,f9:()=>m});var i=a(6963),n=a(2350),o=a(4e3);function l(e){let t=new Blob([e],{type:"application/pdf"});return(window.URL||window.webkitURL).createObjectURL(t)}async function d(e){const t=await e.embedFont(i.StandardFonts.Helvetica);let a=await e.embedFont(i.StandardFonts.TimesRomanBold),o=await e.embedFont(i.StandardFonts.TimesRoman),l=(0,n.bh)("Roboto-Bold.ttf");const d=await fetch(l).then((e=>e.arrayBuffer())),s=await e.embedFont(d,{subset:!0});let u=(0,n.bh)("Roboto-Regular.ttf");const c=await fetch(u).then((e=>e.arrayBuffer())),r=await e.embedFont(c,{subset:!0});let v=(0,n.bh)("ggSans-Medium.ttf");const m=await fetch(v).then((e=>e.arrayBuffer())),x=await e.embedFont(m,{subset:!0});let h=(0,n.bh)("ggSans-Italic.ttf");const f=await fetch(h).then((e=>e.arrayBuffer()));return{GSansMedium:x,GSansItalic:await e.embedFont(f,{subset:!0}),RobotoBold:s,RobotoRegular:r,TimesRomanBold:a,helveticaFont:t,TimesRomanItalic:o}}let s=0,u=null;const c=(e,t,a,i,o,l)=>{var d,s;let c=10,r=t[e.key],v=(0,n._2)(r)[0],m=null===r||void 0===r||null===(d=r[v])||void 0===d?void 0:d.saldo,x=null===(s=(0,n.bh)("account_ids"))||void 0===s?void 0:s[v];if("Resultado (ganancia o perdida)"===e.key&&o&&0!==o){let t=o;i+=t;const a=u.GSansItalic.widthOfTextAtSize((null===t||void 0===t?void 0:t.toFixed(2))+"",c);let n={yInc:13,label:{value:e.key,x:50,size:c,font:u.GSansItalic},amount:{value:null===t||void 0===t?void 0:t.toFixed(2),x:580-a,size:c,font:u.GSansItalic}};l.push(n)}else if(m&&0!==m&&(0,n._2)(r).length>0){var h;let o=null===(h=r[a[e.key]])||void 0===h?void 0:h.sub;if(m="credit"===(null===x||void 0===x?void 0:x.type)?-1*m:m,o&&(0,n._2)(o).length>0){var f,b;let a=u.GSansMedium.widthOfTextAtSize((null===(f=m)||void 0===f?void 0:f.toFixed(2))+"",c),d={yInc:13,label:{value:x.code+" - "+e.key,x:50,size:c,font:u.GSansMedium},amount:{value:null===(b=m)||void 0===b?void 0:b.toFixed(2),x:580-a,size:c,font:u.GSansMedium}};l.push(d),(0,n._2)(o).map((e=>{var a;let i=e,d=t&&(null===(a=(0,n.bh)("sub_account_ids"))||void 0===a?void 0:a[i]),s=o[e].saldo;if(s="credit"===(null===x||void 0===x?void 0:x.type)?-1*s:s,0!==s){var r,v;const e=u.GSansItalic.widthOfTextAtSize((null===(r=s)||void 0===r?void 0:r.toFixed(2))+"",c);let t={yInc:13,label:{value:null===d||void 0===d?void 0:d.subAccountName,x:70,size:c,font:u.GSansItalic},amount:{value:null===(v=s)||void 0===v?void 0:v.toFixed(2),x:520-e,size:c,font:u.GSansItalic}};l.push(t)}})),i+=m}else{let t=r[a[e.key]].saldo;if(t="credit"===(null===x||void 0===x?void 0:x.type)?-1*t:t,0!==t){"Depreciacion Activos fijos"===e.key&&(t*=-1),i+=t;let a=t;e.key;let n=u.GSansItalic.widthOfTextAtSize((null===a||void 0===a?void 0:a.toFixed(2))+"",c),o={yInc:13,label:{value:x.code+" - "+e.key,x:50,size:c,font:u.GSansItalic},amount:{value:null===a||void 0===a?void 0:a.toFixed(2),x:580-n,size:c,font:u.GSansItalic}};l.push(o)}}}return i};async function r(e,t){let a=e.addPage();const{height:n}=a.getSize();s=n-30;let o=Math.ceil(t.length/60);Array.from(Array(o).keys()).map((o=>{o>0&&(a=e.addPage(),s=n-30);let l=t.slice(60*o,60*(o+1));l&&l.map(((e,t)=>{s-=e.yInc,e.line&&a.drawRectangle({x:e.line.x,y:s+e.line.y,width:e.line.width,height:e.line.height,borderColor:(0,i.rgb)(0,0,0)}),e.label&&a.drawText(e.label.value,{x:e.label.x,y:s,size:e.label.size,font:e.label.font,color:(0,i.rgb)(0,0,0)}),e.amount&&a.drawText(e.amount.value,{x:e.amount.x,y:s,size:e.amount.size,font:e.amount.font,color:(0,i.rgb)(0,0,0)})}))}))}async function v(e,t,a,s,v){const m=await i.PDFDocument.create();m.registerFontkit(o.Z),u=await d(m);let{totalGP:x,listArr:h}=function(e,t,a){var o,l;let d=0,s=[],r={yInc:0,label:{value:"Balance de Resultado",x:110,size:14,font:u.GSansMedium}};s.push(r);let v={yInc:0,label:{value:"Fecha: "+(0,n.Gv)(Date.now()),x:490,size:12,font:u.GSansItalic}};s.push(v),e&&(0,n._2)(e).map(((o,l)=>{var r,v;let m=0,x={yInc:20,label:{value:o,x:30,y:20,size:13,font:u.GSansMedium}};s.push(x),Array.isArray(e[o])?e[o].map(((e,i)=>{m=c(e,t,a,m,0,s)})):(0,n._2)(e[o]).map(((i,l)=>{let d={yInc:16,label:{value:i,x:40,size:11,font:u.GSansMedium}};s.push(d),(0,n._2)(e[o][i]).map(((n,l)=>{let d=e[o][i][n];m=c(d,t,a,m,0,s)}))}));const h=u.GSansMedium.widthOfTextAtSize((null===(r=m)||void 0===r?void 0:r.toFixed(2))+"",11);d+="Ingresos"===o?m:-1*m;let f={yInc:16,line:{x:520,y:10,width:70,height:.5,borderColor:(0,i.rgb)(0,0,0)},label:{value:"Total "+o,x:30,size:11,font:u.GSansMedium},amount:{value:null===(v=m)||void 0===v?void 0:v.toFixed(2),x:580-h,size:11,font:u.GSansMedium}};s.push(f)}));const m=u.GSansMedium.widthOfTextAtSize((null===(o=d)||void 0===o?void 0:o.toFixed(2))+"",11);let x={yInc:16,line:{x:520,y:10,width:70,height:.5,borderColor:(0,i.rgb)(0,0,0)},label:{value:"Ganancia o perdida  (Ingresos - gastos)",x:30,size:11,font:u.GSansMedium},amount:{value:null===(l=d)||void 0===l?void 0:l.toFixed(2),x:580-m,size:11,font:u.GSansMedium}};return s.push(x),{totalGP:d,listArr:s}}(s,null===e||void 0===e?void 0:e.result,v),f=function(e,t,a,o){var l,d;let s=0,r=[],v={yInc:0,label:{value:"Balance de Situacion",x:110,size:14,font:u.GSansMedium}};r.push(v);let m={yInc:0,label:{value:"Fecha: "+(0,n.Gv)(Date.now()),x:490,size:12,font:u.GSansItalic}};r.push(m),e&&(0,n._2)(e).map(((l,d)=>{var v,m;let x=0,h={yInc:20,label:{value:l,x:30,y:20,size:13,font:u.GSansMedium}};r.push(h),Array.isArray(e[l])?e[l].map(((e,i)=>{x=c(e,t,a,x,o,r)})):(0,n._2)(e[l]).map(((i,d)=>{let s={yInc:16,label:{value:i,x:40,size:11,font:u.GSansMedium}};r.push(s),(0,n._2)(e[l][i]).map(((n,d)=>{let s=e[l][i][n];x=c(s,t,a,x,o,r)}))})),s+="Activos"!==l?x:0;const f=u.GSansMedium.widthOfTextAtSize((null===(v=x)||void 0===v?void 0:v.toFixed(2))+"",11);let b={yInc:16,line:{x:520,y:"Activos"!==l?10:-4,width:70,height:"Activos"!==l?.5:16,borderColor:(0,i.rgb)(0,0,0)},label:{value:"Total "+l,x:30,size:11,font:u.GSansMedium},amount:{value:null===(m=x)||void 0===m?void 0:m.toFixed(2),x:580-f,size:11,font:u.GSansMedium}};r.push(b)}));const x=u.GSansMedium.widthOfTextAtSize((null===(l=s)||void 0===l?void 0:l.toFixed(2))+"",11);let h={yInc:16,line:{x:520,y:-4,width:70,height:16,color:(0,i.rgb)(.78,.78,.78),blendMode:i.BlendMode.Normal},label:{value:"Total ( Pasivos + Patrimonio )",x:30,size:11,font:u.GSansMedium},amount:{value:null===(d=s)||void 0===d?void 0:d.toFixed(2),x:580-x,size:11,font:u.GSansMedium}};return r.push(h),r}(t,null===e||void 0===e?void 0:e.general,a,x);r(m,h),r(m,f);let b=l(await m.save());window.open(b)}const m=async e=>{const t=await i.PDFDocument.create();t.registerFontkit(o.Z),u=await d(t);let a=t.addPage();const{width:c,height:r}=a.getSize();s=r-40;a.drawText("Balance de Comprobacion",{x:110,y:s,size:16,font:u.GSansMedium,color:(0,i.rgb)(0,0,0)}),a.drawText("Fecha: "+(0,n.Gv)(Date.now()),{x:500,y:s,size:11,font:u.GSansMedium,color:(0,i.rgb)(0,0,0)}),s-=15;let v=(e=>{var t,a,n,o;let l=[];const d=10;let s=0,c=0;e&&e.map(((e,t)=>{let a=(e.saldo,1*e.saldo);if(a){let t={};if(e.sub_cuenta){const i=u.GSansItalic.widthOfTextAtSize((null===a||void 0===a?void 0:a.toFixed(2))+"",d);t={yInc:13,code:{value:e.sub_cuenta,x:45,size:d,font:u.GSansItalic},name:{value:"- "+e.nombre_sub_cuenta,x:70,size:d,font:u.GSansItalic},amount:{value:null===a||void 0===a?void 0:a.toFixed(2),x:460-i,size:d,font:u.GSansItalic}}}else{const i=u.GSansMedium.widthOfTextAtSize((null===a||void 0===a?void 0:a.toFixed(2))+"",d);"debit"===e.type?s+=a:c+=a,t={yInc:13,code:{value:e.cuenta,x:30,size:d,font:u.GSansMedium},name:{value:e.nombre,x:65,size:d,font:u.GSansMedium},amount:{value:null===a||void 0===a?void 0:a.toFixed(2),x:("debit"===e.type?520:580)-i,size:d,font:u.GSansMedium}}}l.push(t)}}));const r=u.GSansItalic.widthOfTextAtSize((null===(t=s)||void 0===t?void 0:t.toFixed(2))+"",d),v=u.GSansItalic.widthOfTextAtSize((null===(a=c)||void 0===a?void 0:a.toFixed(2))+"",d);let m={yInc:21,line:{x:517-r,y:10,width:583-(517-r),height:.5,borderColor:(0,i.rgb)(0,0,0)},name:{value:null===(n=s)||void 0===n?void 0:n.toFixed(2),x:520-r,size:d,font:u.GSansItalic},amount:{value:null===(o=c)||void 0===o?void 0:o.toFixed(2),x:580-v,size:d,font:u.GSansMedium}};return l.push(m),l})(e),m=Math.ceil(v.length/55);Array.from(Array(m).keys()).map((e=>{e>0&&(a=t.addPage(),s=r-40);let n=v.slice(55*e,55*(e+1));n&&n.map(((e,t)=>{s-=e.yInc,e.line&&a.drawRectangle({x:e.line.x,y:s+e.line.y,width:e.line.width,height:e.line.height,borderColor:(0,i.rgb)(0,0,0)}),e.code&&a.drawText(e.code.value,{x:e.code.x,y:s,size:e.code.size,font:e.code.font,color:(0,i.rgb)(0,0,0)}),e.name&&a.drawText(e.name.value,{x:e.name.x,y:s,size:e.name.size,font:e.name.font,color:(0,i.rgb)(0,0,0)}),e.amount&&a.drawText(e.amount.value,{x:e.amount.x,y:s,size:e.amount.size,font:e.amount.font,color:(0,i.rgb)(0,0,0)})}))}));let x=l(await t.save());window.open(x)}},1636:()=>{}}]);
//# sourceMappingURL=3753.fc09a95a.chunk.js.map