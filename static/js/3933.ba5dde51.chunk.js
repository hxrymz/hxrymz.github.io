"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[3933],{8667:function(e,a,t){t.r(a),t.d(a,{default:function(){return Z}});var n=t(9439),i=t(2791),l=(t(5868),t(9760)),s=t(2647),c=t(7689),r=t(1087),o=t(2350),d=t(4165),v=t(5861),u=t(5143),m=t(184),x=function(e){var a=e.data,t=(e.elmId,(0,i.useState)(!1)),l=(0,n.Z)(t,2),s=l[0],c=l[1],u=(0,i.useState)(0),x=(0,n.Z)(u,2),p=(x[0],x[1]);(0,i.useEffect)((function(){s||(c(!0),p((0,o.M5)()))}));var h=function(){var e=(0,v.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,o.Rz)((0,o.Ks)(),a);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=null!==a&&void 0!==a&&a.amount?(1*(null===a||void 0===a?void 0:a.amount)).toFixed(2):"0.00";return(0,m.jsx)(r.OL,{className:"",to:{pathname:"/movements/detail",search:"?cId="+(null===a||void 0===a?void 0:a.movementId)+"&view=1"},children:(0,m.jsx)("div",{className:"client_item_box gWXAaj jlytmu",onClick:h,style:{marginBottom:9},children:(0,m.jsxs)("div",{className:"_dsplFlx",children:[(0,m.jsxs)("div",{className:"",children:[(0,m.jsx)("div",{className:"name  title  ",children:"".concat(null===a||void 0===a?void 0:a.title)}),(0,m.jsx)("div",{className:"name  date ",children:"".concat((0,o.sG)(1*(null===a||void 0===a?void 0:a.date)))})]}),(0,m.jsx)("div",{className:"flexSpace"}),(0,m.jsxs)("div",{className:"name amount lbl_tx",children:["$",f]})]})})})},p=t(1413);t(6963),t(4e3);(0,s.Np)();var h=(0,s.JY)(),f=(0,s.LA)(),j=function(e){var a=e.data,t=e.confirm,s=(0,i.useState)(!1),c=(0,n.Z)(s,2),r=c[0],d=c[1],v=(0,i.useState)(1),u=(0,n.Z)(v,2),x=(u[0],u[1]);(0,i.useEffect)((function(){r||(d(!0),x((0,o.M5)()))}));var j=function(e){var a=new Date;if("last1M"===e){var n=a.getMonth()+1,i=new Date(a.getMonth()+1+"/01/"+a.getFullYear()),l=i.getTime(),s=i.setMonth(n)-600;(0,o.Rz)("date_range_comps",{initDate:l,lastDate:s})}else if("last3M"===e){var c=a.getMonth()+1,r=a.getMonth()-3;r<0&&(r=0);var d=new Date(a.getMonth()+1+"/01/"+a.getFullYear()),v=d.setMonth(r),u=d.setMonth(c)-600;(0,o.Rz)("date_range_comps",{initDate:v,lastDate:u})}else if("last6M"===e){var m=a.getMonth()+1,p=a.getMonth()-6;p<0&&(p=0);var h=new Date(a.getMonth()-6+"/01/"+a.getFullYear()),f=h.setMonth(p),j=h.setMonth(m)-600;(0,o.Rz)("date_range_comps",{initDate:f,lastDate:j})}else if("allYear"===e){var g=1*a.getFullYear(),b=1*a.getFullYear()+1,N=new Date("01/01/"+g).getTime(),y=new Date("01/01/"+b).getTime()-10;(0,o.Rz)("date_range_comps",{initDate:N,lastDate:y})}(0,o.Rz)("date_range_option",e),x((0,o.M5)()),(0,o.Ey)(t)&&(_(),t())},g=function(e){var a=(0,p.Z)({},e);a.initDate=a.initDate-100,a.lastDate=a.lastDate+8638e4,(0,o.Rz)("date_range_comps",a),(0,o.Ey)(t)&&(_(),t())},_=function(){(null===a||void 0===a?void 0:a.modalID)&&(0,l.CloseModal)({id:null===a||void 0===a?void 0:a.modalID})};return(0,m.jsxs)("div",{style:{height:"300px",width:"80vw",overflow:"auto",background:"var(--dark-800)",borderRadius:13,padding:"10px 19px"},children:[(0,m.jsxs)("div",{className:"_dsplFlx ",children:[(0,m.jsx)("p",{className:"form_title blue30",children:"Rango de Fecha"}),(0,m.jsx)("div",{className:"flexSpace"})]}),(0,m.jsx)("div",{className:"_dsplFlx spaceAround",style:{marginTop:20}}),(0,m.jsx)(h,{label:"mes actual",active:"last1M"===(0,o.bh)("date_range_option"),updSelect:function(){return j("last1M")}}),(0,m.jsx)(h,{label:"ultimos 3 meses",active:"last3M"===(0,o.bh)("date_range_option"),updSelect:function(){return j("last3M")}}),(0,m.jsx)(h,{label:"ultimos 6 meses",active:"last6M"===(0,o.bh)("date_range_option"),updSelect:function(){return j("last6M")}}),(0,m.jsx)(h,{label:"actual year",active:"allYear"===(0,o.bh)("date_range_option"),updSelect:function(){return j("allYear")}}),(0,m.jsx)(h,{label:"Rango de fechas",active:"range"===(0,o.bh)("date_range_option"),updSelect:function(){return function(e){(0,o.Rz)("date_range_option",e),x((0,o.M5)());var a={zIndex:950,height:"80vh",props:{minHeight:"1vh",overlay:!0}};a.content=(0,m.jsx)(f,{onConfirm:g,isRange:!0,colors:{"--calendar-primary-color":"var(--primary-blue--backg-30)","--calendar-primary-backcolor":"var(--primary-blue--hover-back-30)","--calendar-selected_lbl_color":"var(--primary-blue--color-30)"}}),(0,l.OpenModal)(a)}("range")}}),(0,m.jsx)("div",{className:"_dsplFlx spaceAround",style:{marginTop:20},children:(0,m.jsx)("div",{className:"card"})})]})},g=t(2825),_=((0,s.Np)(),(0,s.JY)(),(0,s.h0)(),function(e){var a,t=e.data,s=e.confirm,c=(0,i.useState)(!1),r=(0,n.Z)(c,2),d=r[0],v=r[1],x=(0,i.useState)(1),p=(0,n.Z)(x,2),h=(p[0],p[1]),f=function(){h((0,o.M5)())};(0,i.useEffect)((function(){d||(v(!0),h((0,o.M5)()),(0,u.Je)(f))}));var j=function(e){(0,o.Rz)("provider_filter",e),h((0,o.M5)()),(0,o.Ey)(s)&&(g(),s())},g=function(){(null===t||void 0===t?void 0:t.modalID)&&(0,l.CloseModal)({id:null===t||void 0===t?void 0:t.modalID})},_=(0,o.bh)("providers_list");return(0,m.jsxs)("div",{style:{height:"80vh",width:"80vw",overflow:"auto",background:"var(--dark-800)",borderRadius:13,padding:"10px 19px"},children:[(0,m.jsxs)("div",{className:"_dsplFlx ",children:[(0,m.jsx)("p",{className:"form_title blue30",children:"Clientes"}),(0,m.jsx)("div",{className:"flexSpace"})]}),(0,m.jsx)("div",{className:" spaceAround flxWrp scollVh",style:{marginTop:20,maxHeight:"calc( 78vh - 70px)"},children:_&&(null===(a=(0,o._2)(_))||void 0===a?void 0:a.map((function(e){return(0,m.jsx)(b,{data:_[e],elmId:_[e].providerId,label:_[e].name,clickHandler:j,active:(0,o.bh)("provider_filter")},_[e].providerId)})))})]})}),b=function(e){var a=e.clickHandler,t=e.label,n=e.active,i=e.elmId,l=n===i?null:i;return(0,m.jsx)("div",{className:" btn_filter y2 itmMrg ".concat(n===i?"active":""," "),onClick:function(){return a(l)},children:(0,m.jsx)("span",{className:"y2",children:t})})},N=t(5882),y=(0,s.PU)(),M=(0,s.Vg)(),w=(0,s.tW)(),k=(0,N.lT)(),S=function(e){e.title,e.description;var a,t,s,c,r,p,h,f,b=(0,i.useState)(1),N=(0,n.Z)(b,2),S=(N[0],N[1]),I=(0,i.useState)(!1),Z=(0,n.Z)(I,2),F=(Z[0],Z[1]),C=(0,i.useState)(!1),T=(0,n.Z)(C,2),z=T[0],R=T[1],E=(0,i.useState)("expenses"),H=(0,n.Z)(E,2),Y=H[0],V=H[1],O=(0,i.useState)(!1),A=(0,n.Z)(O,2),J=A[0],L=A[1];(0,i.useEffect)((function(){F(!0),(0,u.EV)(W)}),[]);var W=function(){S((0,o.M5)()),setTimeout((function(){F(!1),R(!1)}),50)},P=function(){var e=(0,v.Z)((0,d.Z)().mark((function e(a){return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,o.Rz)("category_filter",a),!z&&R(!0),F(!0),(0,u.EV)(W),setTimeout((function(){}),100);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),B=function(){},U=(0,o.bh)("client_list_"+Y),K=function(e){V(e),(0,o.Rz)("movement_type",e),F(!0),(0,u.EV)(W)},X=null!==(a=(0,o.bh)("date_range_comps"))&&void 0!==a&&a.initDate?(0,o.sJ)(null===(t=(0,o.bh)("date_range_comps"))||void 0===t?void 0:t.initDate)+" - "+(0,o.sJ)(null===(s=(0,o.bh)("date_range_comps"))||void 0===s?void 0:s.lastDate):null,$=null===(c=(0,o.bh)("categories_ids"))||void 0===c||null===(r=c[(0,o.bh)("category_filter")])||void 0===r?void 0:r.name,q=null===(p=(0,o.bh)("providers_ids"))||void 0===p||null===(h=p[(0,o.bh)("provider_filter")])||void 0===h?void 0:h.name;return(0,m.jsxs)("div",{className:" customer_bx_dash\t ",children:[(0,m.jsxs)("div",{className:"_dsplFlx ",children:[(0,m.jsx)("div",{style:{marginTop:"8px"},children:(0,m.jsx)(M,{loadingColor:"var(-primary-blue--backg-30)",label:"Buscar un cliente",obs:S,fetchData:P,change:function(e){!z&&R(!0)},callempty:P,keyFlds:"searchQryNotary"})}),(0,m.jsx)("div",{className:"flexSpace"}),(0,m.jsx)("div",{className:"icon blue30",children:(0,m.jsx)("div",{className:" action ",onClick:function(){var e={zIndex:450,height:"80vh",props:{minHeight:"1vh",overlay:!0}};e.content=(0,m.jsx)(k,{confirm:B}),(0,l.OpenModal)(e)},children:(0,m.jsx)(y,{name:"add"})})}),(0,m.jsx)("div",{className:"flexSpace"}),(0,m.jsx)("div",{className:"icon blue30",children:(0,m.jsx)("div",{className:" action ".concat(J?"active":""," "),onClick:function(){return L(!J)},children:(0,m.jsx)(y,{name:"filter"})})}),(0,m.jsx)("div",{className:"flexSpace"})]}),J?(0,m.jsx)("div",{className:"_dsplFlx bx_filter",style:{marginTop:2},children:(0,m.jsxs)("div",{className:"_dsplFlx w100",children:[(0,m.jsx)("div",{className:"flexSpace"}),(0,m.jsx)("div",{className:" btn_filter y2  ".concat(X?"w33 active":""," "),onClick:function(e){var a={zIndex:480,props:{minHeight:"1vh",overlay:!0}};a.content=(0,m.jsx)(j,{confirm:P}),(0,l.OpenModal)(a)},children:X||"Date"}),(0,m.jsx)("div",{className:"flexSpace"}),(0,m.jsx)("div",{className:" btn_filter y2  ".concat($?"w33 active":""," "),onClick:function(e){var a={zIndex:480,props:{minHeight:"1vh",overlay:!0}};a.content=(0,m.jsx)(g.Z,{type:Y,confirm:P}),(0,l.OpenModal)(a)},children:$||"Categories"}),(0,m.jsx)("div",{className:"flexSpace"}),(0,m.jsx)("div",{className:" btn_filter y2  ".concat(q?"w33 active":""," "),onClick:function(e){var a={zIndex:480,props:{minHeight:"1vh",overlay:!0}};a.content=(0,m.jsx)(_,{confirm:P}),(0,l.OpenModal)(a)},children:q||"Customers"}),(0,m.jsx)("div",{className:"flexSpace"})]})}):(0,m.jsx)("div",{className:"_dsplFlx bx_filter",style:{marginTop:2},children:(0,m.jsxs)("div",{className:"_dsplFlx w100 ",children:[(0,m.jsxs)("div",{className:" _dsplFlx totalize ",children:["Total:",(0,m.jsxs)("div",{className:"blue ",children:["$",D(U)]})]}),(0,m.jsx)("div",{className:"flexSpace"}),(0,m.jsx)("div",{className:" tab_switch ".concat("expenses"===Y?"active":""," "),onClick:function(){return K("expenses")},children:"Expenses"}),(0,m.jsx)("div",{className:"flexSpace"}),(0,m.jsx)("div",{className:" tab_switch ".concat("incomes"===Y?"active":""," "),onClick:function(){return K("incomes")},children:"Incomes"}),(0,m.jsx)("div",{className:"flexSpace"})]})}),(0,m.jsx)("div",{children:z?(0,m.jsxs)("div",{style:{marginTop:2},children:[(0,m.jsx)("div",{className:"load_animation",style:{backgroundColor:"var(--primary-blue--backg-30)"}}),(0,m.jsxs)("div",{className:"_dsplFlx ",style:{marginTop:32},children:[(0,m.jsx)("div",{className:"flexSpace"}),(0,m.jsxs)("div",{className:"icon_compr _dsplFlx",children:[(0,m.jsx)("div",{className:"lbl_saving",children:"searching ..."}),(0,m.jsx)(w,{stroke:"var(--primary-blue--backg-30)",size:24,strokeW:8})]}),(0,m.jsx)("div",{className:"flexSpace"})]})]}):(0,m.jsx)("div",{className:"clients_container",children:U&&(null===(f=(0,o._2)(U))||void 0===f?void 0:f.map((function(e){return(0,m.jsx)(x,{data:U[e],elmId:e},e)})))})})]})},D=function(e){var a,t=0;return e&&(null===(a=(0,o._2)(e))||void 0===a||a.map((function(a,n){var i=1*e[a].amount;t=1*(0,o.Zv)(t,2)+1*(0,o.Zv)(i,2)}))),1*(0,o.Zv)(t,2)},I=(0,s.PU)(),Z=function(e){e.data,e.confirm,e.label,e.item;var a,t,l=(0,i.useState)(1),s=(0,n.Z)(l,2),d=(s[0],s[1]),v=(0,c.TH)(),u=(0,c.s0)(),x=null===(a=v.search)||void 0===a||null===(t=a.split("?"))||void 0===t?void 0:t[1],p=(0,o.mB)(x),h=null===p||void 0===p?void 0:p.tab;(0,i.useEffect)((function(){h||u({pathname:"/movements",search:"?tab=customers"})}),[h]);return(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:"listFlx  ",children:(0,m.jsx)("p",{className:"nav_title_header header_mobile"})}),(0,m.jsxs)("div",{className:"ebEwoI",children:[(0,m.jsx)("div",{className:"jKZvHt ",children:(0,m.jsx)(r.OL,{className:"",to:"/",children:(0,m.jsx)("div",{className:"nav_title_header header_mobile ",children:(0,m.jsx)("div",{className:"logo_ssg  ",children:(0,m.jsx)("img",{src:"https://www.hrmfinance.com/logo192.png",alt:"logo"})})})})}),(0,m.jsx)("nav",{className:" iHJbYx",children:[{id:"customers",label:"Movements",navTo:{pathname:"/movements",search:"?tab=customers"},icon:"search"},{id:"reports",label:"Reports",navTo:{pathname:"/movements",search:"?tab=reports"},icon:"pdf_box"}].map((function(e){return(0,m.jsxs)(r.OL,{className:"bXnHIV ".concat(h===e.id?"activeTab":""),to:e.navTo,children:[(0,m.jsx)(I,{name:e.icon,size:22}),(0,m.jsx)("div",{className:"eULkqP",children:e.label})]},e.id+"_header")}))})]}),(0,m.jsx)(F,{viewId:"image",activeView:null===p||void 0===p?void 0:p.tab}),(0,m.jsx)(F,{viewId:"customers",activeView:null===p||void 0===p?void 0:p.tab,children:(0,m.jsx)(S,{updObPrnt:function(e){d((0,o.M5)())}})})]})},F=function(e){var a=e.viewId,t=e.activeView,n=e.children;return(0,m.jsx)("div",{className:"opacityView",style:{opacity:a===t?1:0,marginTop:29},children:a===t?n:null})}},2825:function(e,a,t){var n=t(9439),i=t(2791),l=t(9760),s=t(2647),c=t(2350),r=t(5143),o=t(184);(0,s.Np)(),(0,s.JY)(),(0,s.LA)();a.Z=function(e){var a,t=e.data,s=e.confirm,v=e.type,u=(0,i.useState)(!1),m=(0,n.Z)(u,2),x=m[0],p=m[1],h=(0,i.useState)(1),f=(0,n.Z)(h,2),j=(f[0],f[1]),g=function(){j((0,c.M5)())};(0,i.useEffect)((function(){x||(p(!0),j((0,c.M5)()),(0,r.bM)(g))}));var _=function(e){j((0,c.M5)()),(0,c.Ey)(s)&&(b(),s(e))},b=function(){(null===t||void 0===t?void 0:t.modalID)&&(0,l.CloseModal)({id:null===t||void 0===t?void 0:t.modalID})},N=(0,c.bh)("categories_list");return(0,o.jsxs)("div",{style:{height:"80vh",width:"80vw",overflow:"auto",background:"var(--dark-800)",borderRadius:13,padding:"10px 19px"},children:[(0,o.jsxs)("div",{className:"_dsplFlx ",children:[(0,o.jsx)("p",{className:"form_title blue30",children:"Categories"}),(0,o.jsx)("div",{className:"flexSpace"})]}),(0,o.jsx)("div",{className:" spaceAround flxWrp scollVh",style:{marginTop:20,maxHeight:"calc( 78vh - 70px)"},children:N&&(null===(a=(0,c._2)(N))||void 0===a?void 0:a.map((function(e){return(0,o.jsx)(d,{data:N[e],elmId:N[e].categoryId,label:N[e].name,clickHandler:_,active:(0,c.bh)("category_filter"),type:v},N[e].categoryId)})))})]})};var d=function(e){var a=e.clickHandler,t=e.label,n=e.active,i=e.elmId,l=e.data,s=e.type,c=n===i?null:i;return l.type!==s?null:(0,o.jsx)("div",{className:" btn_filter itmMrg ".concat(n===i?"active":""," "),onClick:function(){return a(c)},children:t})}},5868:function(){}}]);
//# sourceMappingURL=3933.ba5dde51.chunk.js.map