"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[4286,9760],{9760:(e,t,l)=>{l.r(t),l.d(t,{CloseModal:()=>r,OpenModal:()=>d,default:()=>c});var o=l(2791),i=l(5408),a=l(2350),n=l(184);const s="listDialog_mdh392",c=()=>{const e=(0,a.bh)("listDialog")||{};(0,i.Z)(s);let t=Object.keys(e);return(0,n.jsx)(n.Fragment,{children:t.map(((t,l)=>{let i=e[t];if(i&&i.visible){let e={};i.height&&(e.heigth=i.height),i.width,i.zIndex&&(e.zIndex=i.zIndex-1);let l={zIndex:i.zIndex},a=null,s=i.data;return i.content&&(a=o.cloneElement(i.content,{data:s})),(0,n.jsxs)("div",{className:"ltr-1kbnjow",style:e,children:[(0,n.jsx)("div",{className:"ltr-hoe9xz",children:(0,n.jsx)("div",{className:"ltr-1wao6ny",style:l,id:t,children:a})}),i.data.overlay?(0,n.jsx)("div",{className:"DialogHRMOverlay ".concat(i.visible?"active":""),onClick:()=>{var e;e=t,document.getElementsByTagName("html")[0].classList.remove("has-level-two"),r({id:e})}}):null]},t)}}))})},d=e=>{let t=(0,a.bh)("listDialog")||{},l=(0,a.M5)();t[l]||(t[l]={}),t[l].visible=!0;let o={};e.props?(o=e.props,o.modalID=l):o.modalID=l;let i=document.getElementsByTagName("body")[0];null!==i&&void 0!==i&&i.style&&(i.style.overflowY="hidden"),t[l].isView=e.isView,t[l].observeResize=e.observeResize,t[l].observeResize&&(t[l].observeInterval=setInterval((()=>{let e=document.querySelector("[dialog-key-id='".concat(l,"']")),o=e&&e.getBoundingClientRect();o&&(o.width===t[l].width&&o.height===t[l].height||(t[l].height=o.height+10,t[l].width=o.width,(0,a.Rz)("listDialog",t),(0,a.wt)(s)))}),200)),t[l].display=!0,e.zIndex&&(t[l].zIndex=e.zIndex),e.height&&(t[l].height=e.height),e.width&&(t[l].width=e.width),e.content&&(t[l].content=e.content),t[l].data=o,(0,a.Rz)("listDialog",t),(0,a.wt)(s),setTimeout((()=>{document.getElementsByTagName("html")[0].classList.add("has-level-two"),(0,a.Rz)("modalOpen",l),(0,a.wt)(s)}),125)},r=e=>{let t=(0,a.bh)("listDialog")||{},l=e.id;if(t[l]){var o,i,n;t[l].observeResize&&t[l].observeInterval&&clearInterval(t[l].observeInterval),t[l].display=!1,null===(o=t[l])||void 0===o||null===(i=o.data)||void 0===i||null===(n=i.closeEvent)||void 0===n||n.call(i),(0,a.Rz)("listDialog",t),delete t[l],document.getElementsByTagName("body")[0].style.overflowY=null,(0,a.wt)(s),setTimeout((()=>{delete t[l],document.getElementsByTagName("html")[0].classList.remove("has-level-two"),(0,a.Rz)("modalOpen",null)}),750)}}},4286:(e,t,l)=>{l.r(t),l.d(t,{default:()=>u});var o=l(2791),i=l(2350),a=(l(6021),l(9760)),n=l(1232),s=l(9179),c=l(2647),d=l(184);const r=(0,s.t8)(),u=((0,c.Np)(),(0,c.PU)(),e=>{let{data:t,elmId:l,openUpdateView:s}=e;const[c,u]=(0,o.useState)(!1),[v,h]=(0,o.useState)(0);(0,o.useEffect)((()=>{c||(u(!0),h((0,i.M5)()))}));const m=()=>{h((0,i.M5)())},b=()=>{(0,n.i7)(m)};return(0,d.jsx)("div",{className:"item_acc",children:(0,d.jsxs)("div",{className:"_dsplFlx operation_item_box",onClick:()=>{(0,i.Rz)("show_comprobante",t);let e={zIndex:450,height:"80vh",props:{minHeight:"1vh",overlay:!0}};e.content=(0,d.jsx)(r,{confirm:b,item:t,accountForm:"Acc2Collect"}),(0,a.OpenModal)(e)},children:[(0,d.jsx)("div",{className:"name",children:null===t||void 0===t?void 0:t.document}),(0,d.jsx)("div",{className:"entryName",children:null===t||void 0===t?void 0:t.entryName}),(0,d.jsx)("div",{className:"flexSpace"}),(0,d.jsxs)("div",{className:"code",children:["$",(1*(null===t||void 0===t?void 0:t.amount)).toFixed(2)]}),(0,d.jsx)("div",{className:"flexSpace"})]})})})},1232:(e,t,l)=>{l.d(t,{GP:()=>c,N$:()=>n,hF:()=>r,i7:()=>i,nr:()=>a,pj:()=>u});var o=l(2350);const i=async(e,t)=>{var l,i;let a={...null===(l=(0,o.bh)((0,o.hQ)()))||void 0===l?void 0:l.filter_search_opera};a.params={businessId:null===(i=(0,o.bh)("profileUser"))||void 0===i?void 0:i.businessId,":account":null===e||void 0===e?void 0:e.account,":subAccount":null===e||void 0===e?void 0:e.subAccount};const n=(0,o.I7)(a),c=await n;if((0,o.wL)("getall_collects"),(0,o.wL)(a),(0,o.wL)(c),c&&!c.error){(0,o.Rz)("collect_list",c),(0,o.Rz)("collect_by_doc",s(c)),(0,o.Rz)("collect_by_docM",s(c));let t=(null===e||void 0===e?void 0:e.account)+"_"+(null===e||void 0===e?void 0:e.subAccount);d(c,t)}t&&t()},a=async(e,t)=>{var l,i;let a={...null===(l=(0,o.bh)((0,o.hQ)()))||void 0===l?void 0:l.filter_search_opera};a.params={businessId:null===(i=(0,o.bh)("profileUser"))||void 0===i?void 0:i.businessId,":account":null===e||void 0===e?void 0:e.account,":subAccount":null===e||void 0===e?void 0:e.subAccount};const n=(0,o.I7)(a),c=await n;if((0,o.wL)("getall_toPay"),(0,o.wL)(a),(0,o.wL)(c),c&&!c.error){(0,o.Rz)("toPay_list",c),(0,o.Rz)("toPay_by_doc",s(c,!0)),(0,o.Rz)("toPay_by_docM",s(c,!0));let t=(null===e||void 0===e?void 0:e.account)+"_"+(null===e||void 0===e?void 0:e.subAccount);d(c,t)}t&&t()},n=async e=>{var t,l;let i={...null===(t=(0,o.bh)((0,o.hQ)()))||void 0===t?void 0:t.search_opera};i.params={businessId:null===(l=(0,o.bh)("profileUser"))||void 0===l?void 0:l.businessId,":search":(0,o.bh)("search_acc_record")};const a=(0,o.I7)(i),n=await a;n&&!n.error&&((0,o.Rz)("comprobante_list",n),(0,o.Rz)("comprobante_by_doc",s(n))),e&&e()};function s(e,t){var l={};let i=e&&(0,o._2)(e);return i.length>0?i.map((i=>{var a;let n=e[i],s=null===(a=n.document)||void 0===a?void 0:a.trim();if(!l[s]){l[s]={},["date","description","document","entryName"].forEach((e=>{l[s][e]=n[e]})),l[s].amount=0,l[s].operations=[]}if(n.type){let e=(0,o.Zv)(n.amount,2),i=(0,o.Zv)(l[s].amount,2),a=0;a=t?1*i+e*("debit"===n.type?-1:1):1*i+e*("credit"===n.type?-1:1),l[s].amount=(0,o.Zv)(a,2),l[s].operations.push(function(e){var t,l;let i={};i.account=null===(t=(0,o.bh)("account_ids"))||void 0===t?void 0:t[e.account],i.sub_account=null===(l=(0,o.bh)("sub_account_ids"))||void 0===l?void 0:l[e.subAccount],i.comprobanteId=e.comprobanteId,i.date=e.date,i.description=e.description;let a=(0,o.Zv)(e.amount,2);"credit"===e.type?(i.debit=0,i.credit=a):"debit"===e.type&&(i.credit=0,i.debit=a);return i}(n))}})):l=null,l}const c=(e,t,l)=>(0,o.MV)("SumDocuments",[e,t,l],(()=>{var l;let i=0;return e&&(null===(l=(0,o._2)(e))||void 0===l||l.map(((l,o)=>{var a;i+=1*(null===(a=e[l])||void 0===a?void 0:a[t])}))),i})),d=async(e,t,l)=>{let i=(0,o.bh)("rec_by_acc")||{};i[t]=((e,t,l)=>{var i;let a=0;return e&&(null===(i=(0,o._2)(e))||void 0===i||i.map(((t,l)=>{var i;let n=(0,o.Zv)(e[t].amount,2);a+=n*("credit"===(null===(i=e[t])||void 0===i?void 0:i.type)?-1:1)}))),a})(e)||"no",(0,o.Rz)("rec_by_acc",i),l&&l()},r=async(e,t,l)=>{var i,a;let n={...null===(i=(0,o.bh)((0,o.hQ)()))||void 0===i?void 0:i.filter_search_opera};n.params={businessId:null===(a=(0,o.bh)("profileUser"))||void 0===a?void 0:a.businessId,":account":null===e||void 0===e?void 0:e.account,":subAccount":null===e||void 0===e?void 0:e.subAccount};const s=(0,o.I7)(n),c=await s;c&&!c.error&&d(c,t),l&&l()},u=async(e,t,l)=>{var i,a;let n={...null===(i=(0,o.bh)((0,o.hQ)()))||void 0===i?void 0:i.search_subacc_acc};n.params={businessId:null===(a=(0,o.bh)("profileUser"))||void 0===a?void 0:a.businessId,":account":e,":search":t};const s=(0,o.I7)(n),c=await s;if((0,o.wL)("searchSubAccbyCode"),(0,o.wL)(n),(0,o.wL)(c),c&&!c.error){var d;let e=null===(d=(0,o._2)(c))||void 0===d?void 0:d[0];l&&l(c[e])}}},6021:()=>{}}]);
//# sourceMappingURL=4286.93f474e1.chunk.js.map