"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[4493],{4493:(e,l,i)=>{i.r(l),i.d(l,{default:()=>b});var d=i(2791),n=i(2350),o=(i(7889),i(24)),t=i(9760),s=i(713),a=i(2647),r=i(8779),c=i(7852),v=i(6824),u=i(4622),p=i(7709),m=i(184);const h=(0,a.PU)(),x=(0,o.AA)(),f=((0,o.P3)(),(0,a.tW)()),j="new_product_entry_comprobante",b=e=>{var l,i;let{data:o,elmId:a,handleRefreshAll:b}=e;const[_,g]=(0,d.useState)(!1),[N,y]=(0,d.useState)(0),[I,P]=(0,d.useState)(!1);(0,d.useEffect)((()=>{_||(g(!0),y((0,n.M5)()))}));const w=()=>{},k=()=>{};(0,s.Zj)(null===(l=(0,n.bh)("sub_product_group"))||void 0===l?void 0:l[o.productId],"subProduct");return(0,m.jsxs)("div",{className:"item_acc",children:[(0,m.jsxs)("div",{className:"_dsplFlx item_box product_header",children:[(0,m.jsxs)("div",{className:"_dsplFlx",children:[(0,m.jsx)("div",{className:"code centerBx",onClick:()=>(async()=>{if((0,n.I0)()){(0,n.Rz)(j,o),(0,n.Rz)(j+"_bck",JSON.parse(JSON.stringify(o))),(0,n.Rz)("productListOnVoucherCmp",o.products);let e={zIndex:450,height:"80vh",props:{minHeight:"1vh",overlay:!0}};e.content=(0,m.jsx)(x,{confirm:w,updateView:!0}),(0,t.OpenModal)(e)}})(),children:null===o||void 0===o?void 0:o.invoice}),(0,m.jsx)("div",{className:"name centerBx",children:null===o||void 0===o?void 0:o.clientName})]}),(0,m.jsx)("div",{className:"flexSpace"}),(0,m.jsx)("div",{className:" addSbAcc purple centerBx",onClick:()=>(async()=>{P(!0),(0,n.Rz)("bluePrint",null);let e=o||{},l={invoice:null===e||void 0===e?void 0:e.invoice,date:null===e||void 0===e?void 0:e.date,clientAddress:null===e||void 0===e?void 0:e.clientAddress,clientName:null===e||void 0===e?void 0:e.clientName,products:[]},i=(new Date).getTime()+800;if(l.date){i=new Date(l.date).getTime()||i}l.date=i;const d=o.products.map((async e=>{var i,d;let o=null===(i=(0,n.bh)("products_ids"))||void 0===i?void 0:i[null===e||void 0===e?void 0:e.productId],t={};if(t.productName=null===o||void 0===o?void 0:o.name,t.qty=1*(null===e||void 0===e?void 0:e.qty),t.profile=null===e||void 0===e?void 0:e.profile,null!==e&&void 0!==e&&null!==(d=e.bluePrint)&&void 0!==d&&d.type){var s;let l=document.getElementById(e.productId+"_"+(null===e||void 0===e||null===(s=e.bluePrint)||void 0===s?void 0:s.type)),i=await u.YM(l);t.pngId=i}l.products.push(t)}));await Promise.all(d);let t=await(0,v.jD)(l);P(!1),window.open(t)})(),children:I?(0,m.jsxs)("div",{className:"icon_compr _dsplFlx centerBx",children:[(0,m.jsx)("div",{className:"lbl_saving ",children:"generating report ..."}),(0,m.jsx)(f,{stroke:"var(--partial-success)",size:24,strokeW:8})]}):(0,m.jsx)("div",{children:"Print"})}),(0,n.I0)()?(0,m.jsx)("div",{className:"icon",style:{marginLeft:19},onClick:()=>{let e=(0,n.bh)("lastTimeCallModal")||0;if((0,n.I0)()){if(Date.now()>e){(0,n.Rz)("lastTimeCallModal",Date.now()+320);let e={zIndex:450,height:"40vh",props:{minHeight:"1vh",overlay:!0,closeEvent:()=>{}}};e.content=(0,m.jsx)(r.Z,{label:"Eliminar Voucher",confirm:k,item:o}),(0,t.OpenModal)(e)}}else{let e={zIndex:450,height:"40vh",props:{minHeight:"1vh",overlay:!0,closeEvent:()=>{}}};e.content=(0,m.jsx)(c.Z,{}),(0,t.OpenModal)(e)}},children:(0,m.jsx)(h,{name:"outline_delete",color:"#c62828"})}):null]}),(0,m.jsx)("div",{className:"rndImghidde",children:o.products&&(null===(i=o.products)||void 0===i?void 0:i.map(((e,l)=>{var i,d;const n={LL:(0,m.jsx)(p.gY,{item:e,svDm:null===e||void 0===e?void 0:e.bluePrint,addBlPr:()=>{},profile:null===e||void 0===e?void 0:e.profile},l+"_"+(null===e||void 0===e?void 0:e.productId)),U:(0,m.jsx)(p.Xu,{item:e,svDm:null===e||void 0===e?void 0:e.bluePrint,addBlPr:()=>{},profile:null===e||void 0===e?void 0:e.profile},l+"_"+(null===e||void 0===e?void 0:e.productId))};return null!==e&&void 0!==e&&null!==(i=e.bluePrint)&&void 0!==i&&i.type?n[null===e||void 0===e||null===(d=e.bluePrint)||void 0===d?void 0:d.type]:null})))})]})}}}]);
//# sourceMappingURL=4493.318be672.chunk.js.map