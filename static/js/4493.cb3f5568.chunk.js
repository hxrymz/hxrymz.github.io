"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[4493],{7852:function(e,n,i){i(2791),i(1534);var l=i(9760),d=i(184);n.Z=function(e){var n=e.data,i=(e.confirm,e.handleClick,e.close,n.modalID);return(0,d.jsxs)("div",{style:{maxHeight:"40vh",minHeight:"18vh",overflow:"auto",background:"#fff",borderRadius:13,padding:"10px 19px"},children:[(0,d.jsxs)("div",{className:"_dsplFlx ",children:[(0,d.jsx)("p",{className:"form_title",style:{color:"var(--hrm_palette-static-brand-red"},children:"Lo sentimos"}),(0,d.jsx)("div",{className:"flexSpace"})]}),(0,d.jsx)("div",{className:"_dsplFlx ",children:(0,d.jsx)("span",{children:"no tiene acceso a esta operacion"})}),(0,d.jsxs)("div",{className:"_dsplFlx ",style:{padding:"5px 10px"},children:[(0,d.jsx)("div",{className:"flexSpace"}),(0,d.jsx)("p",{className:"group_title addBtn blue",onClick:function(){(0,l.CloseModal)({id:i})},children:"OK"})]})]})}},4493:function(e,n,i){i.r(n);var l=i(4165),d=i(5861),t=i(9439),r=i(2791),s=i(2350),a=(i(7889),i(24)),o=i(9760),c=i(713),u=i(2647),v=i(8779),p=i(7852),m=i(6824),x=i(4622),f=i(7709),h=i(184),j=(0,u.PU)(),N=(0,a.AA)(),g=((0,a.P3)(),(0,u.tW)()),_="new_product_entry_comprobante";n.default=function(e){var n,i,a=e.data,u=(e.elmId,e.handleRefreshAll,(0,r.useState)(!1)),b=(0,t.Z)(u,2),y=b[0],k=b[1],w=(0,r.useState)(0),I=(0,t.Z)(w,2),Z=(I[0],I[1]),C=(0,r.useState)(!1),P=(0,t.Z)(C,2),S=P[0],z=P[1];(0,r.useEffect)((function(){y||(k(!0),Z((0,s.M5)()))}));var B=function(){},D=function(){var e=(0,d.Z)((0,l.Z)().mark((function e(){var n;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,s.I0)()&&((0,s.Rz)(_,a),(0,s.Rz)(_+"_bck",JSON.parse(JSON.stringify(a))),(0,s.Rz)("productListOnVoucherCmp",a.products),(n={}).zIndex=450,n.height="80vh",n.props={minHeight:"1vh",overlay:!0},n.content=(0,h.jsx)(N,{confirm:B,updateView:!0}),(0,o.OpenModal)(n));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){},M=((0,c.Zj)(null===(n=(0,s.bh)("sub_product_group"))||void 0===n?void 0:n[a.productId],"subProduct"),function(){var e=(0,d.Z)((0,l.Z)().mark((function e(){var n,i,t,r,o,c;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),(0,s.Rz)("bluePrint",null),i={invoice:null===(n=a||{})||void 0===n?void 0:n.invoice,date:null===n||void 0===n?void 0:n.date,clientAddress:null===n||void 0===n?void 0:n.clientAddress,clientName:null===n||void 0===n?void 0:n.clientName,products:[]},t=(new Date).getTime()+800,i.date&&(r=new Date(i.date).getTime(),t=r||t),i.date=t,o=a.products.map(function(){var e=(0,d.Z)((0,l.Z)().mark((function e(n){var d,t,r,a,o,c,u;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null===(d=(0,s.bh)("products_ids"))||void 0===d?void 0:d[null===n||void 0===n?void 0:n.productId],(a={}).productName=null===r||void 0===r?void 0:r.name,a.qty=1*(null===n||void 0===n?void 0:n.qty),null===n||void 0===n||null===(t=n.bluePrint)||void 0===t||!t.type){e.next=11;break}return c=document.getElementById(n.productId+"_"+(null===n||void 0===n||null===(o=n.bluePrint)||void 0===o?void 0:o.type)),e.next=8,x.YM(c);case 8:u=e.sent,a.profile=null===n||void 0===n?void 0:n.profile,a.pngId=u;case 11:i.products.push(a);case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),e.next=10,Promise.all(o);case 10:return e.sent,e.next=13,(0,m.jD)(i);case 13:c=e.sent,z(!1),window.open(c);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return(0,h.jsxs)("div",{className:"item_acc",children:[(0,h.jsxs)("div",{className:"_dsplFlx item_box product_header",children:[(0,h.jsxs)("div",{className:"_dsplFlx",children:[(0,h.jsx)("div",{className:"code centerBx",onClick:function(){return D()},children:null===a||void 0===a?void 0:a.invoice}),(0,h.jsx)("div",{className:"name centerBx",children:null===a||void 0===a?void 0:a.clientName})]}),(0,h.jsx)("div",{className:"flexSpace"}),(0,h.jsx)("div",{className:" addSbAcc purple centerBx",onClick:function(){return M(null)},children:S?(0,h.jsxs)("div",{className:"icon_compr _dsplFlx centerBx",children:[(0,h.jsx)("div",{className:"lbl_saving ",children:"generating report ..."}),(0,h.jsx)(g,{stroke:"var(--partial-success)",size:24,strokeW:8})]}):(0,h.jsx)("div",{children:"Print"})}),(0,s.I0)()?(0,h.jsx)("div",{className:"icon",style:{marginLeft:19},onClick:function(){var e=(0,s.bh)("lastTimeCallModal")||0;if((0,s.I0)()){if(Date.now()>e){(0,s.Rz)("lastTimeCallModal",Date.now()+320);var n={zIndex:450,height:"40vh",props:{minHeight:"1vh",overlay:!0,closeEvent:function(){}}};n.content=(0,h.jsx)(v.Z,{label:"Eliminar Voucher",confirm:F,item:a}),(0,o.OpenModal)(n)}}else{var i={zIndex:450,height:"40vh",props:{minHeight:"1vh",overlay:!0,closeEvent:function(){}}};i.content=(0,h.jsx)(p.Z,{}),(0,o.OpenModal)(i)}},children:(0,h.jsx)(j,{name:"outline_delete",color:"#c62828"})}):null]}),(0,h.jsx)("div",{className:"rndImghidde",children:a.products&&(null===(i=a.products)||void 0===i?void 0:i.map((function(e,n){var i,l,d={LL:(0,h.jsx)(f.gY,{item:e,svDm:null===e||void 0===e?void 0:e.bluePrint,addBlPr:function(){},profile:null===e||void 0===e?void 0:e.profile},n+"_"+(null===e||void 0===e?void 0:e.productId)),U:(0,h.jsx)(f.Xu,{item:e,svDm:null===e||void 0===e?void 0:e.bluePrint,addBlPr:function(){},profile:null===e||void 0===e?void 0:e.profile},n+"_"+(null===e||void 0===e?void 0:e.productId))};return null!==e&&void 0!==e&&null!==(i=e.bluePrint)&&void 0!==i&&i.type?d[null===e||void 0===e||null===(l=e.bluePrint)||void 0===l?void 0:l.type]:null})))})]})}},8779:function(e,n,i){i(2791),i(1534);var l=i(9760),d=i(184);n.Z=function(e){var n=e.data,i=e.confirm,t=e.label,r=(e.close,n.modalID),s=function(e){(0,l.CloseModal)({id:r})};return(0,d.jsxs)("div",{style:{maxHeight:"40vh",minHeight:"28vh",overflow:"auto",background:"#fff",borderRadius:13,padding:"10px 19px"},children:[(0,d.jsxs)("div",{className:"_dsplFlx ",children:[(0,d.jsx)("p",{className:"form_title",children:t}),(0,d.jsx)("div",{className:"flexSpace"})]}),(0,d.jsx)("div",{className:"_dsplFlx ",children:(0,d.jsx)("span",{children:"Una vez eliminado no podra ser recuperado"})}),(0,d.jsxs)("div",{className:"_dsplFlx ",style:{padding:"15px 10px"},children:[(0,d.jsx)("div",{className:"flexSpace"}),(0,d.jsx)("p",{className:"group_title addBtn",onClick:s,children:"Cancelar"}),(0,d.jsx)("p",{className:"group_title addBtn red",onClick:function(){i(),s()},children:"Eliminar"})]})]})}}}]);
//# sourceMappingURL=4493.cb3f5568.chunk.js.map