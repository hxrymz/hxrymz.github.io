"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[4521],{4521:function(n,e,r){r.r(e),r.d(e,{filterArr:function(){return l}});var t=r(9439),u=r(2791),o=r(2350),i=r(2647),c=(r(1534),r(713)),s=r(184),a=(0,i.kp)();e.default=function(n){var e,r=n.handleClick,i=(0,u.useState)(!1),f=(0,t.Z)(i,2),p=f[0],v=f[1],h=(0,u.useState)(0),b=(0,t.Z)(h,2),m=(b[0],b[1]),Z=(0,u.useState)(!1),j=(0,t.Z)(Z,2),x=j[0],w=j[1],_=(0,u.useState)([]),I=(0,t.Z)(_,2),y=I[0],O=I[1],k=(0,u.useRef)();(0,u.useEffect)((function(){p||(v(!0),(0,c.ii)(g),m((0,o.M5)()))}));var g=function(n){m((0,o.M5)())},P=function(n,e){r(n,e),k.current.clearTx()};return(0,s.jsx)("div",{children:(0,s.jsx)(a,{placeholder:"buscar producto",width:420,fetchData:function(n){O(l((0,o.bh)("products_list"),n)),x&&w(!1)},loading:x,change:function(n){!x&&w(!0)},callempty:function(n){O([]),x&&w(!1)},ref:k,children:(0,s.jsx)("div",{className:"",children:y&&(null===(e=(0,o._2)(y))||void 0===e?void 0:e.map((function(n){return(0,s.jsx)(d,{data:y[n],elmId:n,selectItem:P},n)})))})})})};var d=function(n){var e=n.data,r=n.selectItem;return(0,s.jsx)("div",{className:"item_acc",children:(0,s.jsx)("div",{className:"_dsplFlx item_box account_header",children:(0,s.jsx)("div",{className:"_dsplFlx",onClick:function(){return r(e,null)},children:(0,s.jsx)("div",{className:"code",children:null===e||void 0===e?void 0:e.name})})})})};function l(n,e){var r=e.toLowerCase(),t=[];return n.length>0&&n.map((function(n){var e,u,o,i,c;((null===(e=n.name)||void 0===e||null===(u=e.toLowerCase())||void 0===u?void 0:u.indexOf(r))>=0||(null===(o=n.upc_barcode)||void 0===o||null===(i=o.toString())||void 0===i||null===(c=i.toLowerCase())||void 0===c?void 0:c.indexOf(r))>=0)&&t.push(n)})),t}},713:function(n,e,r){r.d(e,{Rd:function(){return s},Ve:function(){return d},ZW:function(){return c},Zj:function(){return l},ii:function(){return a},nj:function(){return f}});var t=r(4165),u=r(1413),o=r(5861),i=r(2350),c=function(){var n=(0,o.Z)((0,t.Z)().mark((function n(e,r){var o,c,s,a,d;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(s=(0,u.Z)({},null===(o=(0,i.bh)((0,i.hQ)()))||void 0===o?void 0:o.get_inventory_prod)).params={businessId:null===(c=(0,i.bh)("profileUser"))||void 0===c?void 0:c.businessId,":productId":e},a=(0,i.I7)(s),n.next=5,a;case 5:(d=n.sent)&&((0,i.Rz)("inv_products_list",l((0,i.jQ)(d.list),"name")),(0,i.Rz)("inv_products_stock",d.stock),r&&r());case 7:case"end":return n.stop()}}),n)})));return function(e,r){return n.apply(this,arguments)}}(),s=function(){var n=(0,o.Z)((0,t.Z)().mark((function n(e,r){var o,c,s,a,d,l;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(s=(0,u.Z)({},null===(o=(0,i.bh)((0,i.hQ)()))||void 0===o?void 0:o.get_prod_stock)).params={businessId:null===(c=(0,i.bh)("profileUser"))||void 0===c?void 0:c.businessId,productId:e},a=(0,i.I7)(s),n.next=5,a;case 5:(d=n.sent)&&((l=(0,u.Z)({},(0,i.bh)("products_stock")))[e]=d.stock,(0,i.Rz)("products_stock",l),r&&r());case 7:case"end":return n.stop()}}),n)})));return function(e,r){return n.apply(this,arguments)}}(),a=function(){var n=(0,o.Z)((0,t.Z)().mark((function n(e){var r,o,c,s,a;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(c=(0,u.Z)({},null===(r=(0,i.bh)((0,i.hQ)()))||void 0===r?void 0:r.all_prods)).params={businessId:null===(o=(0,i.bh)("profileUser"))||void 0===o?void 0:o.businessId},s=(0,i.I7)(c),n.next=5,s;case 5:(a=n.sent)&&((0,i.Rz)("products_list",l(a,"name")),(0,i.Rz)("products_ids",(0,i.ME)((0,i.jQ)(a),"productId")),e&&e());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),d=function(){var n=(0,o.Z)((0,t.Z)().mark((function n(e){var r,o,c,s,a;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(c=(0,u.Z)({},null===(r=(0,i.bh)((0,i.hQ)()))||void 0===r?void 0:r.search_prod)).params={businessId:null===(o=(0,i.bh)("profileUser"))||void 0===o?void 0:o.businessId,":search":(0,i.bh)("searchQry")},s=(0,i.I7)(c),n.next=5,s;case 5:(a=n.sent)&&((0,i.Rz)("products_list",l((0,i.jQ)(a),"code")),e&&e());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();var l=function(n,e){return(0,i.MV)("sortProducts",[n],(function(){return n&&n.sort((function(n,r){var t=1*n[e],u=1*r[e];return t<u?-1:t>u?1:0}))}))},f=function(){var n=(0,o.Z)((0,t.Z)().mark((function n(e,r){var u,o,c;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={query:"deleteProductsHRG",params:{businessId:null===(u=(0,i.bh)("profileUser"))||void 0===u?void 0:u.businessId,productId:e}},c=(0,i.I7)(o),n.next=4,c;case 4:n.sent&&r&&r();case 6:case"end":return n.stop()}}),n)})));return function(e,r){return n.apply(this,arguments)}}()},1534:function(){},4942:function(n,e,r){r.d(e,{Z:function(){return u}});var t=r(9142);function u(n,e,r){return(e=(0,t.Z)(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}},1413:function(n,e,r){r.d(e,{Z:function(){return o}});var t=r(4942);function u(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.push.apply(r,t)}return r}function o(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){(0,t.Z)(n,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}))}return n}}}]);
//# sourceMappingURL=4521.df379f76.chunk.js.map