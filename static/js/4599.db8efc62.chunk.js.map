{"version":3,"file":"static/js/4599.db8efc62.chunk.js","mappings":"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","sources":["features/CuentasContables/component/ResultSheet.jsx"],"sourcesContent":["import React , {useEffect, useState} from \"react\";\r\n\r\nimport \"./styles.css\"\r\nimport { \r\n\tgetStore, gen16CodeId, ObjectKeys, updStore, \r\n\tfetchEncryptStream, qryStore, compareJSON\r\n} from \"../../../stores/Utils\";\r\n\r\nimport SelectAccounts from \"./SelectAccounts\";\r\nimport { SvgIcon_Cmpt } from \"../../../components\";\r\nimport { createPdf } from \"../services/print_services\";\r\nimport { OpenToast } from \"../../../components/Toast\";\r\n\r\nconst Svg = SvgIcon_Cmpt();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst ResultSheet  = ({ keyId,  }) => {\r\n\tconst [obs, set_obs] = useState(0);\r\n\tlet BgPmtz = getStore(\"result_sheet_params\");\r\n\tlet flds=getStore(\"result_sheet_upd_flds\")\r\n\t\r\n\tconst validateRes = () => {\r\n\t\tOpenToast({ text: \"Los cambios en el Balance de Resultado fueron guardados exitosamente\", timeout: 3500 });\r\n\t\tset_obs(gen16CodeId())\r\n\t}\r\n\r\n\tconst save = async () => {\r\n\t\tif(getStore(\"result_params_value\")?.balanceId){\r\n\t\t\tlet frm2Sv = {...getStore(\"result_params_value\")};\r\n\t\t\tlet bdyq2 = {...getStore(qryStore())?.upd_balances};\r\n\t\t\tbdyq2.params = {\r\n\t\t\t\tbusinessId:  getStore(\"profileUser\")?.businessId,\r\n\t\t\t\tbalanceId: getStore(\"result_params_value\")?.balanceId,\r\n\t\t\t};\r\n\r\n\t\t\tlet diff = compareJSON(flds,getStore(\"result_params_value\"),getStore(\"result_params_value\" + \"_bck\") )\r\n\t\t\t\r\n\t\t\tbdyq2.data2update=diff.data;\r\n\r\n\t\t\tconst res = fetchEncryptStream(bdyq2);\r\n\t\t\tconst td = await res;\r\n\t\t\tif (td) {\r\n\t\t\t\tupdStore(\"result_params_value\", frm2Sv);\r\n\t\t\t\tvalidateRes();\r\n\t\t\t}\r\n\t\t}\r\n\t\telse{\r\n\t\t\tlet frm2Sv = {...getStore(\"result_params_value\")};\r\n\t\t\tfrm2Sv.balanceId = gen16CodeId();\r\n\t\t\tfrm2Sv.type = \"result_sheet\";\r\n\t\t\tlet bdyq2 = {...getStore(qryStore())?.add_balances};\r\n\t\t\tbdyq2.params = {\r\n\t\t\t\tbusinessId:  getStore(\"profileUser\")?.businessId\r\n\t\t\t};\r\n\t\t\tbdyq2.form=frm2Sv;\r\n\t\t\tconst res = fetchEncryptStream(bdyq2);\r\n\t\t\tconst td = await res;\r\n\t\t\tif (td) {\r\n\t\t\t\tupdStore(\"result_params_value\", frm2Sv);\r\n\t\t\t\tvalidateRes();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n\treturn (\r\n\t\t\r\n\t\t\t<div  style={{marginTop: 20, maxWidth: \"90%\"}}>\r\n\t\t\t<div className=\"_dsplFlx \">\r\n\t\t\t\t<p className=\"title_collect\">\r\n\t\t\t\t\t{ \"Balance Resultado\"}\r\n\t\t\t\t</p>\r\n\t\t\t\t<div className=\"flexSpace\"/>\r\n\t\t\t\t<p className=\"group_title addBtn purple\" onClick={save}>\r\n\t\t\t\t\tGuardar Parametros\r\n\t\t\t\t</p>\r\n\r\n\t\t\t</div>\r\n\t\t\t<div className=\"balance\" style={{marginTop: 10}}>\r\n\t\t\t{BgPmtz && ObjectKeys(BgPmtz).map(r=>{\r\n\t\t\t\r\n\t\t\t\treturn(\r\n\t\t\t\t\t<div key={r} style={{marginLeft: 12}}>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<h5>{r}</h5>\r\n\t\t\t\t\t\t{!Array.isArray(BgPmtz[r])? \r\n\t\t\t\t\t\t\t<div >\r\n\t\t\t\t\t\t\t\t{ObjectKeys(BgPmtz[r]).map(it=>{\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div key={it}  style={{marginLeft: 27}}>\r\n\t\t\t\t\t\t\t\t\t\t\t<p>{it}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<div >\r\n\t\t\t\t\t\t\t\t\t\t\t\t{BgPmtz[r][it].map(suit=> <DetailAccount key={suit.key} keyId={suit.key} accountId={getStore(\"result_params_value\")?.[suit.key]} />)}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t:<div>\r\n\t\t\t\t\t\t\t{BgPmtz[r].map(it=> <DetailAccount keyId={it.key} key={it.key} accountId={getStore(\"balance_params\")?.[it.key]}/>)}\r\n\t\t\t\t\t\t\t</div>}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t})}\r\n\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n\r\n\r\nexport default ResultSheet;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst DetailAccount  = ({ keyId,  }) => {\r\n\tconst [edit, setEdit] = useState(false);\r\n\tconst [show, setShow] = useState(false);\r\n\tconst [obs, set_obs] = useState(0);\r\n\tlet accountId = getStore(\"result_params_value\")?.[keyId];\r\n\r\n\tlet data = getStore(\"account_ids\")?.[accountId];\r\n\tlet subAcc = data && getStore(\"sub_account_group\")?.[data?.accountId];\r\n\r\n\r\n\r\n\r\n\t\r\n\tconst updFrm = (f, v, k) => {\r\n\t\tlet frmNm = \"result_params_value\"\r\n\t\tlet frm2 = getStore(frmNm) || {};\r\n\t\tif(k){\r\n\t\t\tif( !frm2[k]){\r\n\t\t\t\tfrm2[k] = {};\r\n\t\t\t}\r\n\t\t\tfrm2[k][f] = v;\r\n\t\t}else{\r\n\t\t\tfrm2[f] = v;\r\n\t\t}\r\n\t\tupdStore(frmNm, frm2);\r\n\t\t\r\n\t\tset_obs(gen16CodeId())\r\n\t};\r\n\r\n\tconst selectItem = (v) => {\r\n\t\tupdFrm(keyId, v);\r\n\t\tsetEdit(false)\r\n\t}\r\n\r\n\r\n\treturn (\r\n\t\t<div style={{marginLeft: 27}}>\r\n\t\t\t<div  className=\"_dsplFlx \" >\r\n\t\t\t<div onClick={()=>setEdit(!edit)} className={`${edit?\"editing\":\"\"}`}  style={{marginRight: 27}}>\r\n\t\t\t\t<span>\r\n\t\t\t\t\t{keyId}\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t\t{edit?\r\n\t\t\t<div>\r\n\t\t\t\t<SelectAccounts\r\n\t\t\t\t\thandleClick={selectItem}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t:\r\n\t\t\t<div>\r\n\t\t\t\t<div className={\"bg_acc_code\"}>\r\n\t\t\t\t\t{data?.code}\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t}\r\n\t\t\t<div className=\"flexSpace\"/>\r\n\t\t\t{ subAcc?.length > 0 ?\r\n\t\t\t\t<div className=\"icon\" onClick={()=>setShow(!show)}>\r\n\t\t\t\t\t<Svg name={show?\"key_arrow_up\":\"key_arrow_down\"} color={\"#828282\"}/>\r\n\t\t\t\t</div>\r\n\t\t\t:null}\r\n\t\t</div>\r\n\t\t{show && subAcc?.length && \r\n\t\t\t<div >\r\n\t\t\t\t{ subAcc?.map(subacc=>{\r\n\t\t\t\t\tif(!subacc.subAccount){\r\n\t\t\t\t\t\treturn null\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn(\r\n\t\t\t\t\t\t<div \r\n\t\t\t\t\t\t\tkey={subacc.sub_accountId} \r\n\t\t\t\t\t\t\tclassName=\"_dsplFlx account_item_box\"  \r\n\t\t\t\t\t\t\tstyle={{marginLeft:\"35px\"}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div className=\"_dsplFlx\" >\r\n\t\t\t\t\t\t\t\t<div className=\"code\" >\r\n\t\t\t\t\t\t\t\t\t{subacc.subAccount}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"name\">\r\n\t\t\t\t\t\t\t\t\t{subacc.subAccountName}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t\t}\r\n\t</div>\r\n\t)\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// npx create-react-app qvamarkets"],"names":["Svg","SvgIcon_Cmpt","keyId","useState","set_obs","BgPmtz","getStore","flds","validateRes","OpenToast","text","timeout","gen16CodeId","save","balanceId","frm2Sv","bdyq2","qryStore","upd_balances","params","businessId","diff","compareJSON","data2update","data","res","fetchEncryptStream","updStore","type","add_balances","form","style","marginTop","maxWidth","className","onClick","ObjectKeys","map","r","marginLeft","Array","isArray","it","DetailAccount","key","accountId","suit","edit","setEdit","show","setShow","subAcc","marginRight","handleClick","v","f","k","frmNm","frm2","updFrm","code","length","name","color","subacc","subAccount","subAccountName","sub_accountId"],"sourceRoot":""}