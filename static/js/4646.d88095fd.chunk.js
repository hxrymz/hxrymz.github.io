"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[4646],{4646:function(n,r,e){e.d(r,{WB:function(){return i},ly:function(){return u},N$:function(){return c},Eb:function(){return p}});var t=e(4165),o=e(5861),a=e(2350),u=function(){var n=(0,o.Z)((0,t.Z)().mark((function n(r){var e,o,u,c,i;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(u=null===(e=(0,a.bh)((0,a.hQ)()))||void 0===e?void 0:e.all_opera).params={businessId:null===(o=(0,a.bh)("profileUser"))||void 0===o?void 0:o.businessId},c=(0,a.I7)(u),n.next=5,c;case 5:(i=n.sent)&&!i.error&&((0,a.Rz)("comprobante_list",i),(0,a.Rz)("comprobante_by_doc",s(i)),r&&r());case 7:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}(),c=function(){var n=(0,o.Z)((0,t.Z)().mark((function n(r){var e,o,u,c,i;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(u=null===(e=(0,a.bh)((0,a.hQ)()))||void 0===e?void 0:e.search_opera).params={businessId:null===(o=(0,a.bh)("profileUser"))||void 0===o?void 0:o.businessId,":search":(0,a.bh)("search_acc_record")},c=(0,a.I7)(u),n.next=5,c;case 5:(i=n.sent)&&!i.error&&((0,a.Rz)("comprobante_list",i),(0,a.Rz)("comprobante_by_doc",s((0,a.jQ)(i))),r&&r());case 7:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}(),i=function(){var n=(0,o.Z)((0,t.Z)().mark((function n(r,e){var u,c;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=[],r.map((function(n){var r,e,t=null===(r=(0,a.bh)((0,a.hQ)()))||void 0===r?void 0:r.delete_opera;t.params={businessId:null===(e=(0,a.bh)("profileUser"))||void 0===e?void 0:e.businessId,operationId:n.operationId},u.push(t)})),c=u.map(function(){var n=(0,o.Z)((0,t.Z)().mark((function n(r){var e;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,a.I7)(r),n.next=3,e;case 3:n.sent;case 5:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}()),n.next=5,Promise.all(c);case 5:e&&e();case 6:case"end":return n.stop()}}),n)})));return function(r,e){return n.apply(this,arguments)}}();function s(n){var r={};return n.length>0?n.map((function(n){var e=new Date(n.date).getTime()+"_"+n.comprobanteId;if(!r[e]){r[e]={};["date","description","document","entryName","comprobanteId"].forEach((function(t){r[e][t]=n[t]})),r[e].amount=0,r[e].operations=[]}n.type&&(r[e].amount+="credit"===n.type?(0,a.Zv)(n.amount,2):0,r[e].operations.push(function(n){var r,e,t={};t.account=null===(r=(0,a.bh)("account_ids"))||void 0===r?void 0:r[n.account],t.sub_account=null===(e=(0,a.bh)("sub_account_ids"))||void 0===e?void 0:e[n.subAccount],t.comprobanteId=n.comprobanteId,t.operationId=n.operationId,t.type=n.type;var o=(0,a.Zv)(n.amount,2);"credit"===n.type?(t.debit=0,t.credit=o):"debit"===n.type&&(t.credit=0,t.debit=o);return t}(n)))})):r=null,r}var p=function(n){return(0,a.MV)("sortComprobantesByType",[n],(function(){var r="type";return n&&n.sort((function(n,e){var t=n[r],o=e[r];return t===o?e[o]-n[t]:o>t?1:-1}))}))}}}]);
//# sourceMappingURL=4646.d88095fd.chunk.js.map