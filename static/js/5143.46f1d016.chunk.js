"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[5143],{5143:(e,a,o)=>{o.d(a,{Dr:()=>h,EV:()=>i,JG:()=>c,Je:()=>r,Qq:()=>v,Rh:()=>y,Tb:()=>f,bM:()=>t,mU:()=>I,o6:()=>s,sV:()=>m,uB:()=>d,yO:()=>p});var n=o(2350);const i=async e=>{var a,o,i,s;let t={...null===(a=(0,n.bh)((0,n.hQ)()))||void 0===a?void 0:a.search_incms_expns};t.params={businessId:null===(o=(0,n.bh)("profileUser"))||void 0===o?void 0:o.businessId,year:(0,n.bh)("date_current_year"),":date1":null===(i=(0,n.bh)("date_range_comps"))||void 0===i?void 0:i.initDate,":date2":null===(s=(0,n.bh)("date_range_comps"))||void 0===s?void 0:s.lastDate},(0,n.bh)("searchQryNotary")&&(0,n.bh)("searchQryNotary").split(" ").map(((e,a)=>{e&&(t.params[":search"+a]=e.trim())})),(0,n.bh)("category_filter")&&(t.params[":search5"]=(0,n.bh)("category_filter").trim()),(0,n.bh)("provider_filter")&&(t.params[":search4"]=(0,n.bh)("provider_filter").trim());const r=(0,n.I7)(t),d=await r;d&&((0,n.Rz)("client_list_ids",d),(0,n.Rz)("client_list_expenses",u(l(d,"movementType","expense"),"date")),(0,n.Rz)("client_list_incomes",u(l(d,"movementType","income"),"date")),(0,n.Ey)(e)&&e())},s=async e=>{var a,o;let i={...null===(a=(0,n.bh)((0,n.hQ)()))||void 0===a?void 0:a.resume__incms_expns};i.params={businessId:null===(o=(0,n.bh)("profileUser"))||void 0===o?void 0:o.businessId};const s=(0,n.I7)(i),t=await s;if(t){var r,l;(0,n.Rz)("resume_graph",t);let e=[[I(65),I(42),I(40)]],a=[],o=[[I(58),I(51)]];o.push([I(42),null===(r=t[901])||void 0===r?void 0:r.total]),o.push([I(40),null===(l=t[902])||void 0===l?void 0:l.total]);for(let n in Array.from(Array(12).keys())){var d,u,v,c,m,p,h,y;let o=[_(1*n+1),null===(d=t[901])||void 0===d||null===(u=d.month)||void 0===u?void 0:u[n],null===(v=t[902])||void 0===v||null===(c=v.month)||void 0===c?void 0:c[n]];e.push(o);let i=[1*n+1,null===(m=t[901])||void 0===m||null===(p=m.month)||void 0===p?void 0:p[n],null===(h=t[902])||void 0===h||null===(y=h.month)||void 0===y?void 0:y[n]];a.push(i)}(0,n.Rz)("graphCurveLineMonth",e),(0,n.Rz)("graphLineMonth",a),(0,n.Rz)("graphDonutCMonth",o)}e&&e()},t=async e=>{var a,o;let i={...null===(a=(0,n.bh)((0,n.hQ)()))||void 0===a?void 0:a.all_categapp};i.params={businessId:null===(o=(0,n.bh)("profileUser"))||void 0===o?void 0:o.businessId};const s=(0,n.I7)(i),t=await s;t&&((0,n.Rz)("categories_list",u(t,"name",1)),(0,n.Rz)("categories_ids",(0,n.ME)(t,"categoryId"))),e&&e()},r=async e=>{var a,o;let i={...null===(a=(0,n.bh)((0,n.hQ)()))||void 0===a?void 0:a.all_prov_cust};i.params={businessId:null===(o=(0,n.bh)("profileUser"))||void 0===o?void 0:o.businessId};const s=(0,n.I7)(i),t=await s;t&&((0,n.Rz)("providers_list",u(t,"name",1)),(0,n.Rz)("providers_ids",(0,n.ME)(t,"providerId")),e&&e())};function l(e,a,o){var i=[];return e&&(0,n._2)(e).map((n=>{e[n][a]===o&&i.push(e[n])})),i}const d=async(e,a)=>{var o,i;let s={...null===(o=(0,n.bh)((0,n.hQ)()))||void 0===o?void 0:o.fndone_incms_expns};s.params={businessId:null===(i=(0,n.bh)("profileUser"))||void 0===i?void 0:i.businessId,id:e};const t=(0,n.I7)(s),r=await t;r&&((0,n.Rz)((0,n.Ks)(),r),(0,n.Rz)((0,n.Ks)()+"_bck",JSON.parse(JSON.stringify(r))),a&&a())},u=(e,a,o)=>(0,n.MV)("sortByName",[e,a],(()=>e&&e.sort(((e,n)=>{let i=e[a],s=n[a];return i<s?o?-1:1:i>s?o?1:-1:0})))),v=async(e,a,o)=>{var i;let s={query:"getSignedUrl",params:{userId:o||(null===(i=(0,n.bh)("profileUser"))||void 0===i?void 0:i.businessId),fileName:e}};const t=(0,n.I7)(s),r=await t;null!==r&&void 0!==r&&r.url?(0,n.Ey)(a)&&a(null===r||void 0===r?void 0:r.url):(0,n.Ey)(a)&&a(null)},c=async(e,a,o)=>{var i;let s={query:"ProccessImage",params:{userId:null===(i=(0,n.bh)("profileUser"))||void 0===i?void 0:i.businessId,fileName:a,url:e}};const t=(0,n.I7)(s);await t;(0,n.Ey)(o)&&o()},m=async(e,a)=>{var o;let i={query:"detectLandMark",params:{userId:null===(o=(0,n.bh)("profileUser"))||void 0===o?void 0:o.businessId,fileName:e}},s=(0,n.bh)("detectLandMark_last"+e)||0;if(Date.now()>s){(0,n.Rz)("detectLandMark_last"+e,Date.now()+490);const o=(0,n.I7)(i),s=await o;a(s||null)}},p=async e=>{var a;let o={query:"readExpensesDocument",params:{userId:null===(a=(0,n.bh)("profileUser"))||void 0===a?void 0:a.businessId,fileName:e}},i=(0,n.bh)("handleDetectExpenseDoc_"+e)||0;if(Date.now()>i){(0,n.Rz)("handleDetectExpenseDoc_"+e,Date.now()+490);const a=(0,n.I7)(o),i=await a;return i||null}return null},h=async(e,a,o)=>{const i=await fetch(e,{method:"PUT",headers:{"Content-Type":a.type},body:a});200===(null===i||void 0===i?void 0:i.status)?(0,n.Ey)(o)&&o(1):(0,n.Ey)(o)&&o(null)},y=async(e,a,o,i)=>{let s={query:"SignedUrlUpload",params:{userId:i||(0,n.bh)((0,n.Ks)()).clientNotaryId,fileName:a,mimeType:e.type}};const t=(0,n.I7)(s),r=await t;r&&!r.error?(0,n.Ey)(o)&&o(r.uploadURL):(0,n.Ey)(o)&&o()};let b={ES:{1:"Escoja una Imagen",2:"Subir",3:"Escanear",4:"Imagen a Revisar",5:"Texto a Associar:",6:"Buscar",12:"Rotar",13:"Recortar",20:"Comprimiendo imagen",21:"Subiendo imagen",22:"Escaneando imagen",23:"Recortando image",24:"Reconociendo Texto en Imagen",28:"Enviando a revision manual",40:"Gastos",42:"Ingresos",43:"Guardar",44:"Actualizar",45:"escojer uno",46:"Agregar",47:"Resumen por categorias",48:"Resumen del a\xf1o ",50:"Titulo o Lugar",51:"Monto",52:"Documento",53:"Descripcion",54:"Categorias",55:"Fecha",56:"Nombre",57:"Clientes",58:"Tipo",60:"Mes actual",61:"Ultimos 3 meses",62:"Ultimos 6 meses",63:"A\xf1o actual",64:"Rango de fechas",65:"Mes"},EN:{1:"Choose File",2:"Upload",3:"Scan",4:"Image to Revision",5:"Text to Link:",6:"Search",12:"Rotate",13:"Crop",20:"Compressing image",21:"Uploading image",22:"Scanning image",23:"Cropping image",24:"Detecting Text on Image",28:"Sending to revision",40:"Expenses",42:"Incomes",43:"Save",44:"Update",45:"choose one",46:"Add",47:"Resume by categories",48:"Resume of Year",50:"Title or Place",51:"Amount",52:"Document",53:"Description",54:"Categories",55:"Date",56:"Name",57:"Customers",58:"Type",60:"Current month",61:"Last 3 month",62:"Last 6 month",63:"Current year",64:"Custom range",65:"Month"}};const g=()=>{var e,a,o;return(null===(e=navigator.language)||void 0===e||null===(a=e.split("-"))||void 0===a||null===(o=a[0])||void 0===o?void 0:o.toUpperCase())||"ES"},I=e=>{var a;return e?null===b||void 0===b||null===(a=b[g()])||void 0===a?void 0:a[e]:""},_=e=>{var a;return e?null===n.mn||void 0===n.mn||null===(a=n.mn[g()])||void 0===a?void 0:a[e]:""};let R=["AID","REF #","TRANS ID","APPROVAL","OP#","ST#","TC","TERMINAL #"];const f=(e,a)=>{let o={description:"",document:"",title:"",amount:0},n={},i=[];return e&&e.map(((e,a)=>{(null===e||void 0===e?void 0:e.SummaryFields)&&(null===e||void 0===e||e.SummaryFields.map(((e,a)=>{var s,t,r;let l=null===e||void 0===e||null===(s=e.Type)||void 0===s?void 0:s.Text,d=null===e||void 0===e||null===(t=e.LabelDetection)||void 0===t?void 0:t.Text,u=null===e||void 0===e||null===(r=e.ValueDetection)||void 0===r?void 0:r.Text;"OTHER"===l&&(n[d]=u),"TOTAL"===l&&(o.amount=1*u),"VENDOR_NAME"===l&&i.push(u),"NAME"===l&&i.push(u)})))})),R.map((e=>{n[e]&&(o.description+=e+" "+n[e]+"; ")})),i.map((e=>{o.title+=e+"; "})),o.title.indexOf("almart")>=0&&n["TC#"]&&(o.document="TC# "+n["TC#"]),o}}}]);
//# sourceMappingURL=5143.46f1d016.chunk.js.map