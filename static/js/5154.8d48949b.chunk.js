"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[5154],{9760:(o,t,e)=>{e.r(t),e.d(t,{CloseModal:()=>c,OpenModal:()=>r,default:()=>s});var i=e(2791),n=e(5408),a=e(2350),l=e(184);const d="listDialog_mdh392",s=()=>{const o=(0,a.bh)("listDialog")||{};(0,n.Z)(d);let t=Object.keys(o);return(0,l.jsx)(l.Fragment,{children:t.map(((t,e)=>{let n=o[t];if(n&&n.visible){let o={};n.height&&(o.heigth=n.height),n.width,n.zIndex&&(o.zIndex=n.zIndex-1);let e={zIndex:n.zIndex},a=null,d=n.data;return n.content&&(a=i.cloneElement(n.content,{data:d})),(0,l.jsxs)("div",{className:"ltr-1kbnjow",style:o,children:[(0,l.jsx)("div",{className:"ltr-hoe9xz",children:(0,l.jsx)("div",{className:"ltr-1wao6ny",style:e,id:t,children:a})}),n.data.overlay?(0,l.jsx)("div",{className:"DialogHRMOverlay ".concat(n.visible?"active":""),onClick:()=>{var o;o=t,document.getElementsByTagName("html")[0].classList.remove("has-level-two"),c({id:o})}}):null]},t)}}))})},r=o=>{let t=(0,a.bh)("listDialog")||{},e=(0,a.M5)();t[e]||(t[e]={}),t[e].visible=!0;let i={};o.props?(i=o.props,i.modalID=e):i.modalID=e;let n=document.getElementsByTagName("body")[0];null!==n&&void 0!==n&&n.style&&(n.style.overflowY="hidden"),t[e].isView=o.isView,t[e].observeResize=o.observeResize,t[e].observeResize&&(t[e].observeInterval=setInterval((()=>{let o=document.querySelector("[dialog-key-id='".concat(e,"']")),i=o&&o.getBoundingClientRect();i&&(i.width===t[e].width&&i.height===t[e].height||(t[e].height=i.height+10,t[e].width=i.width,(0,a.Rz)("listDialog",t),(0,a.wt)(d)))}),200)),t[e].display=!0,o.zIndex&&(t[e].zIndex=o.zIndex),o.height&&(t[e].height=o.height),o.width&&(t[e].width=o.width),o.content&&(t[e].content=o.content),t[e].data=i,(0,a.Rz)("listDialog",t),(0,a.wt)(d),setTimeout((()=>{document.getElementsByTagName("html")[0].classList.add("has-level-two"),(0,a.Rz)("modalOpen",e),(0,a.wt)(d)}),125)},c=o=>{let t=(0,a.bh)("listDialog")||{},e=o.id;if(t[e]){var i,n,l;t[e].observeResize&&t[e].observeInterval&&clearInterval(t[e].observeInterval),t[e].display=!1,null===(i=t[e])||void 0===i||null===(n=i.data)||void 0===n||null===(l=n.closeEvent)||void 0===l||l.call(n),(0,a.Rz)("listDialog",t),delete t[e],document.getElementsByTagName("body")[0].style.overflowY=null,(0,a.wt)(d),setTimeout((()=>{delete t[e],document.getElementsByTagName("html")[0].classList.remove("has-level-two"),(0,a.Rz)("modalOpen",null)}),750)}}},6824:(o,t,e)=>{e.d(t,{Hc:()=>s,M9:()=>v,cg:()=>u,eR:()=>r,jD:()=>c});var i=e(6963),n=e(2350),a=e(4e3),l=e(713);async function d(o){const t=await o.embedFont(i.StandardFonts.Helvetica);let e=await o.embedFont(i.StandardFonts.TimesRomanBold),a=await o.embedFont(i.StandardFonts.TimesRoman),l=(0,n.bh)("Roboto-Bold.ttf");const d=await fetch(l).then((o=>o.arrayBuffer())),s=await o.embedFont(d,{subset:!0});let r=(0,n.bh)("ggSans-Medium.ttf");const c=await fetch(r).then((o=>o.arrayBuffer())),v=await o.embedFont(c,{subset:!0});let u=(0,n.bh)("Roboto-Regular.ttf");const b=await fetch(u).then((o=>o.arrayBuffer())),h=await o.embedFont(b,{subset:!0});let x=(0,n.bh)("arial_bold.ttf");const y=await fetch(x).then((o=>o.arrayBuffer()));return{GSansBold:v,helveticaFont:t,RobotoBold:s,RobotoRegular:h,aria_regurlar:await o.embedFont(y,{subset:!0}),TimesRomanBold:e,TimesRomanItalic:a}}const s=async o=>{const t=await i.PDFDocument.create();t.registerFontkit(a.Z);const e=await d(t),l=o.map((async(o,a)=>{var l,d;const s=t.addPage([288,162]),{width:r,height:c}=s.getSize();let v=c-14;const u=(0,n.ye)((null===o||void 0===o?void 0:o.inventoryId)+""),b=await fetch(u).then((o=>o.arrayBuffer()));let h=await t.embedPng(b);h&&s.drawImage(h,{x:10,y:80,width:80,height:80});const x=e.GSansBold.widthOfTextAtSize((null===o||void 0===o?void 0:o.inventoryId)+"",12),y=e.GSansBold.widthOfTextAtSize("ID: ",11);s.drawText("ID: ",{x:270-x-y,y:v,size:11,font:e.GSansBold,color:(0,i.rgb)(0,0,0)}),s.drawText((null===o||void 0===o?void 0:o.inventoryId)+"",{x:270-x,y:v,size:12,font:e.GSansBold,color:(0,i.rgb)(0,0,0)}),v-=20;const m=e.RobotoBold.widthOfTextAtSize("Date: ",11),w=e.GSansBold.widthOfTextAtSize((0,n.Gv)(null===o||void 0===o?void 0:o.date)+"",12);s.drawText("Date: ",{x:270-m-w,y:v,size:11,font:e.RobotoBold,color:(0,i.rgb)(0,0,0)}),s.drawText((0,n.Gv)(null===o||void 0===o?void 0:o.date)+"",{x:270-w,y:v,size:12,font:e.GSansBold,color:(0,i.rgb)(.06,.06,.06)});let g=null!==o&&void 0!==o&&o.dimension?(null===o||void 0===o?void 0:o.dimension.split(",")[0])+" X "+(null===o||void 0===o?void 0:o.dimension.split(",")[1])+" inch":"";const f=e.GSansBold.widthOfTextAtSize(g+"",19);s.drawText(g+"",{x:270-f,y:v+4,size:19,font:e.GSansBold,color:(0,i.rgb)(.06,.06,.06)});let p=(null===o||void 0===o?void 0:o.qty)+" "+(null!==o&&void 0!==o&&o.unit?null===o||void 0===o?void 0:o.unit:"");const z=e.GSansBold.widthOfTextAtSize(p+"",19);s.drawText(p+"",{x:270-z,y:v-54,size:19,font:e.GSansBold,color:(0,i.rgb)(.06,.06,.06)}),v-=65,s.drawRectangle({x:5,y:v+1,width:275,height:.85,color:(0,i.rgb)(0,0,0),borderColor:(0,i.rgb)(0,0,0)});let B=null===(l=(0,n.bh)("products_ids"))||void 0===l||null===(d=l[null===o||void 0===o?void 0:o.productId])||void 0===d?void 0:d.name;s.drawText(B+"",{x:20,y:v-15,size:14,font:e.GSansBold,color:(0,i.rgb)(0,0,0)}),v-=25,s.drawRectangle({x:5,y:v+1,width:275,height:.85,color:(0,i.rgb)(0,0,0),borderColor:(0,i.rgb)(0,0,0)}),v-=10,v-=20,s.drawText(p+"",{x:270-z,y:v+4,size:19,font:e.GSansBold,color:(0,i.rgb)(.06,.06,.06)}),s.drawText((null===o||void 0===o?void 0:o.alphaCode)+"",{x:20,y:v+4,size:22,font:e.RobotoBold,color:(0,i.rgb)(.06,.06,.06)})})),s=(await Promise.all(l),await t.save());let r=(0,n.ou)(s);window.open(r)},r=async o=>{const t=await i.PDFDocument.create();t.registerFontkit(a.Z);const e=await d(t),s=o.map((async(o,a)=>{const d=t.addPage([288,162]),{width:s,height:r}=d.getSize();let c=r-14;const v=(0,n.ye)((null===o||void 0===o?void 0:o.areaLocationId)+""),u=await fetch(v).then((o=>o.arrayBuffer()));let b=await t.embedPng(u);b&&d.drawImage(b,{x:10,y:80,width:80,height:80});const h=(0,n.vF)((null===o||void 0===o?void 0:o.areaLocationId)+""),x=await fetch(h).then((o=>o.arrayBuffer()));let y=await t.embedPng(x);const m=e.GSansBold.widthOfTextAtSize((null===o||void 0===o?void 0:o.areaLocationId)+"",12),w=e.GSansBold.widthOfTextAtSize("ID: ",11);d.drawText("ID: ",{x:270-m-w,y:c,size:11,font:e.GSansBold,color:(0,i.rgb)(0,0,0)}),d.drawText((null===o||void 0===o?void 0:o.areaLocationId)+"",{x:270-m,y:c,size:12,font:e.GSansBold,color:(0,i.rgb)(0,0,0)}),c-=20;let g=null!==o&&void 0!==o&&o.dimension?(null===o||void 0===o?void 0:o.dimension.split(",")[0])+" X "+(null===o||void 0===o?void 0:o.dimension.split(",")[1])+" inch":"";const f=e.GSansBold.widthOfTextAtSize(g+"",19);d.drawText(g+"",{x:270-f,y:c+4,size:19,font:e.GSansBold,color:(0,i.rgb)(.06,.06,.06)});let p=(null===o||void 0===o?void 0:o.areaId)+"-"+(null===o||void 0===o?void 0:o.location);const z=e.GSansBold.widthOfTextAtSize(p+"",23);d.drawText(p+"",{x:270-z,y:c-54,size:23,font:e.GSansBold,color:(0,i.rgb)(.06,.06,.06)}),c-=65,d.drawRectangle({x:5,y:c+1,width:275,height:.85,color:(0,i.rgb)(0,0,0),borderColor:(0,i.rgb)(0,0,0)});let B=l.g5[null===o||void 0===o?void 0:o.areaId];d.drawText(B+"",{x:20,y:c-15,size:14,font:e.GSansBold,color:(0,i.rgb)(0,0,0)}),c-=25,d.drawRectangle({x:5,y:c+1,width:275,height:.85,color:(0,i.rgb)(0,0,0),borderColor:(0,i.rgb)(0,0,0)}),c-=10,c-=20,y&&d.drawImage(y,{x:90,y:c-6,width:190,height:34}),d.drawText(p+"",{x:6,y:c+4,size:16,font:e.RobotoBold,color:(0,i.rgb)(.06,.06,.06)})})),r=(await Promise.all(s),await t.save());let c=(0,n.ou)(r);window.open(c)},c=async o=>{const t=await i.PDFDocument.create();t.registerFontkit(a.Z);const e=await d(t);const l=[null].map((async(n,a)=>{const l=t.addPage([432,288]),{width:d,height:s}=l.getSize();let r=s-24;const c=e.GSansBold.widthOfTextAtSize((null===o||void 0===o?void 0:o.invoice)+"",18),v=e.GSansBold.widthOfTextAtSize("Invoice: ",15);l.drawText("Production Voucher: ",{x:10,y:r,size:18,font:e.GSansBold,color:(0,i.rgb)(0,0,0)}),l.drawText("Invoice: ",{x:400-c-v,y:r,size:15,font:e.GSansBold,color:(0,i.rgb)(0,0,0)}),l.drawText((null===o||void 0===o?void 0:o.invoice)+"",{x:400-c,y:r-2,size:18,font:e.GSansBold,color:(0,i.rgb)(0,0,0)}),r-=30;const u=e.GSansBold.widthOfTextAtSize("Customer: ",13);l.drawText("Customer: ",{x:10,y:r,size:13,font:e.GSansBold,color:(0,i.rgb)(0,0,0)}),l.drawText((null===o||void 0===o?void 0:o.clientName)+"",{x:10+u,y:r,size:14,font:e.GSansBold,color:(0,i.rgb)(0,0,0)}),r-=15;const b=e.GSansBold.widthOfTextAtSize("Address: ",13);l.drawText("Address: ",{x:12,y:r,size:13,font:e.GSansBold,color:(0,i.rgb)(0,0,0)}),l.drawText((null===o||void 0===o?void 0:o.clientAddress)+"",{x:12+b,y:r,size:14,font:e.GSansBold,color:(0,i.rgb)(0,0,0)}),r-=40,l.drawRectangle({x:5,y:r-6,width:410,height:.85,color:(0,i.rgb)(0,0,0),borderColor:(0,i.rgb)(0,0,0)}),l.drawText("PROFILE",{x:350,y:r,size:14,font:e.GSansBold,color:(0,i.rgb)(0,0,0)}),l.drawText("QTY",{x:310,y:r,size:14,font:e.GSansBold,color:(0,i.rgb)(0,0,0)}),l.drawText("PRODUCT",{x:20,y:r,size:14,font:e.GSansBold,color:(0,i.rgb)(0,0,0)}),r-=5,o.products.map((async(o,t)=>{r-=24,l.drawText(null!==o&&void 0!==o&&o.profile?(null===o||void 0===o?void 0:o.profile)+"":"",{x:350,y:r,size:14,font:e.GSansBold,color:(0,i.rgb)(0,0,0)}),l.drawText((null===o||void 0===o?void 0:o.qty)+"",{x:316,y:r,size:16,font:e.GSansBold,color:(0,i.rgb)(0,0,0)}),l.drawText((null===o||void 0===o?void 0:o.productName)+"",{x:5,y:r,size:13,font:e.GSansBold,color:(0,i.rgb)(0,0,0)})}))})),s=(await Promise.all(l),await t.save());return(0,n.ou)(s)},v=async o=>{const t=await i.PDFDocument.create();t.registerFontkit(a.Z);const e=await d(t);let l=t.addPage();const{width:s,height:r}=l.getSize();let c=r-26;l.drawText("Inventario",{x:20,y:c,size:16,font:e.GSansBold,color:(0,i.rgb)(0,0,0)}),l.drawText("Date: "+(0,n.Gv)(Date.now()),{x:500,y:c,size:11,font:e.GSansBold,color:(0,i.rgb)(0,0,0)}),c-=20;let v=13;l.drawText("Product",{x:20,y:c,size:v,font:e.RobotoBold,color:(0,i.rgb)(0,0,0)});const u=e.RobotoBold.widthOfTextAtSize("Qty",v);l.drawText("Qty",{x:430-u,y:c,size:v,font:e.RobotoBold,color:(0,i.rgb)(0,0,0)});const b=e.RobotoBold.widthOfTextAtSize("Cost",v);l.drawText("Cost",{x:500-b,y:c,size:v,font:e.RobotoBold,color:(0,i.rgb)(0,0,0)});const h=e.RobotoBold.widthOfTextAtSize("Amount",v);l.drawText("Amount",{x:580-h,y:c,size:v,font:e.RobotoBold,color:(0,i.rgb)(0,0,0)}),c-=1;let x=((o,t)=>{var e,a;let l=[];const d=10;let s=0;o&&o.map(((o,e)=>{let a=o.amount;if(a){let r={},c="("+o.unit+")              "+o.qty;const v=t.GSansBold.widthOfTextAtSize((0,n.fY)(a),d),u=t.GSansBold.widthOfTextAtSize((0,n.fY)(c),d),b=t.GSansBold.widthOfTextAtSize((0,n.fY)(o.cost),d);s+=1*a,r={yInc:19,back:e%2===0?{x:22,y:-25,width:564,height:18,color:(0,i.rgb)(.78,.78,.78)}:null,name:{value:(0,n.fY)(o.name),x:30,size:d,font:t.GSansBold},qty:{value:(0,n.fY)(c),x:440-u,size:d,font:t.GSansBold},cost:{value:(0,n.fY)(o.cost),x:500-b,size:d,font:t.GSansBold},amount:{value:(0,n.fY)(a),x:580-v,size:d,font:t.GSansBold}},l.push(r)}}));const r=t.GSansBold.widthOfTextAtSize((null===(e=s)||void 0===e?void 0:e.toFixed(2))+"",12);let c={yInc:23,line:{x:396,y:12.3,width:192,height:.5,borderColor:(0,i.rgb)(0,0,0)},cost:{value:(0,n.fY)("Total"),x:400,size:12,font:t.GSansBold},amount:{value:(0,n.fY)(null===(a=s)||void 0===a?void 0:a.toFixed(2)),x:580-r,size:12,font:t.GSansBold}};return l.push(c),l})(o.list,e),y=Math.ceil(x.length/36);Array.from(Array(y).keys()).map((o=>{if(o>0){l=t.addPage(),c=r-26,l.drawText("Product",{x:20,y:c,size:v,font:e.RobotoBold,color:(0,i.rgb)(0,0,0)});const o=e.RobotoBold.widthOfTextAtSize("Qty",v);l.drawText("Qty",{x:430-o,y:c,size:v,font:e.RobotoBold,color:(0,i.rgb)(0,0,0)});const n=e.RobotoBold.widthOfTextAtSize("Cost",v);l.drawText("Cost",{x:500-n,y:c,size:v,font:e.RobotoBold,color:(0,i.rgb)(0,0,0)});const a=e.RobotoBold.widthOfTextAtSize("Amount",v);l.drawText("Amount",{x:580-a,y:c,size:v,font:e.RobotoBold,color:(0,i.rgb)(0,0,0)}),c-=2}let n=x.slice(36*o,36*(o+1));n&&n.map(((o,t)=>{c-=o.yInc,o.back&&l.drawRectangle({x:o.back.x,y:c+o.back.y,width:o.back.width,height:o.back.height,color:o.back.color,blendMode:i.BlendMode.Normal}),o.line&&l.drawRectangle({x:o.line.x,y:c+o.line.y,width:o.line.width,height:o.line.height,borderColor:(0,i.rgb)(0,0,0)}),o.name&&l.drawText(o.name.value,{x:o.name.x,y:c,size:o.name.size,font:e.GSansBold,color:(0,i.rgb)(0,0,0)}),o.qty&&l.drawText(o.qty.value,{x:o.qty.x,y:c,size:o.qty.size,font:e.GSansBold,color:(0,i.rgb)(0,0,0)}),o.cost&&l.drawText(o.cost.value,{x:o.cost.x,y:c,size:o.cost.size,font:e.GSansBold,color:(0,i.rgb)(0,0,0)}),o.amount&&l.drawText(o.amount.value,{x:o.amount.x,y:c,size:o.amount.size,font:e.GSansBold,color:(0,i.rgb)(0,0,0)})}))}));const m=await t.save();let w=(0,n.ou)(m);window.open(w)},u=async o=>{const t=[792,612],e=await i.PDFDocument.create();e.registerFontkit(a.Z);const l=await d(e);let s=e.addPage(t);const{width:r,height:c}=s.getSize();let v=440,u=c-26;s.drawText("Invoices",{x:20,y:u,size:16,font:l.GSansBold,color:(0,i.rgb)(0,0,0)}),s.drawText("Fecha del reporte: "+(0,n.Gv)(Date.now()),{x:620,y:u,size:11,font:l.GSansBold,color:(0,i.rgb)(0,0,0)}),u-=35;let b=13;s.drawText("Fecha",{x:20,y:u,size:b,font:l.RobotoBold,color:(0,i.rgb)(0,0,0)}),s.drawText("Documento",{x:100,y:u,size:b,font:l.RobotoBold,color:(0,i.rgb)(0,0,0)}),s.drawText("Importe",{x:v,y:u,size:b,font:l.RobotoBold,color:(0,i.rgb)(0,0,0)}),s.drawText("Vendido",{x:510,y:u,size:b,font:l.RobotoBold,color:(0,i.rgb)(0,0,0)}),s.drawText("Anticipo",{x:580,y:u,size:b,font:l.RobotoBold,color:(0,i.rgb)(0,0,0)}),s.drawText("Cobrado",{x:650,y:u,size:b,font:l.RobotoBold,color:(0,i.rgb)(0,0,0)}),s.drawText("Saldo",{x:720,y:u,size:b,font:l.RobotoBold,color:(0,i.rgb)(0,0,0)}),u-=1;let h=((o,t)=>{let e=[];const a=10;let l=446;return o&&o.map(((o,d)=>{let s={};s={yInc:19,back:d%2===0?{x:22,y:-25,width:764,height:18,color:(0,i.rgb)(.78,.78,.78)}:null,date:{value:o.date?(0,n.sJ)(o.date):"",x:30,size:a,font:t.GSansBold},document:{value:(0,n.fY)(o.document),x:110,size:a,font:t.GSansBold},import:{value:(0,n.fY)(o.amount),x:l,size:a,font:t.GSansBold},vendido:{value:(0,n.fY)(o.cc_d),x:516,size:a,font:t.GSansBold},anticipo:{value:(0,n.fY)(o.hasAnticipo),x:586,size:a,font:t.GSansBold},cobrado:{value:(0,n.fY)(o.cc_c),x:656,size:a,font:t.GSansBold},saldo:{value:(0,n.fY)(o.cc_c),x:726,size:a,font:t.GSansBold}},e.push(s)})),e})(o,l),x=Math.ceil(h.length/28);Array.from(Array(x).keys()).map((o=>{o>0&&(s=e.addPage(t),u=c-26,s.drawText("Fecha",{x:20,y:u,size:b,font:l.RobotoBold,color:(0,i.rgb)(0,0,0)}),s.drawText("Documento",{x:100,y:u,size:b,font:l.RobotoBold,color:(0,i.rgb)(0,0,0)}),s.drawText("Importe",{x:v,y:u,size:b,font:l.RobotoBold,color:(0,i.rgb)(0,0,0)}),s.drawText("Vendido",{x:510,y:u,size:b,font:l.RobotoBold,color:(0,i.rgb)(0,0,0)}),s.drawText("Anticipo",{x:580,y:u,size:b,font:l.RobotoBold,color:(0,i.rgb)(0,0,0)}),s.drawText("Cobrado",{x:650,y:u,size:b,font:l.RobotoBold,color:(0,i.rgb)(0,0,0)}),s.drawText("Saldo",{x:720,y:u,size:b,font:l.RobotoBold,color:(0,i.rgb)(0,0,0)}),u-=2);let n=h.slice(28*o,28*(o+1));n&&n.map(((o,t)=>{u-=o.yInc,o.back&&s.drawRectangle({x:o.back.x,y:u+o.back.y,width:o.back.width,height:o.back.height,color:o.back.color,blendMode:i.BlendMode.Normal}),o.line&&s.drawRectangle({x:o.line.x,y:u+o.line.y,width:o.line.width,height:o.line.height,borderColor:(0,i.rgb)(0,0,0)}),o.date&&s.drawText(o.date.value,{x:o.date.x,y:u,size:o.date.size,font:l.GSansBold,color:(0,i.rgb)(0,0,0)}),o.document&&s.drawText(o.document.value,{x:o.document.x,y:u,size:o.document.size,font:l.GSansBold,color:(0,i.rgb)(0,0,0)}),o.import&&s.drawText(o.import.value,{x:o.import.x,y:u,size:o.import.size,font:l.GSansBold,color:(0,i.rgb)(0,0,0)}),o.vendido&&s.drawText(o.vendido.value,{x:o.vendido.x,y:u,size:o.vendido.size,font:l.GSansBold,color:(0,i.rgb)(0,0,0)}),o.anticipo&&s.drawText(o.anticipo.value,{x:o.anticipo.x,y:u,size:o.anticipo.size,font:l.GSansBold,color:(0,i.rgb)(0,0,0)}),o.cobrado&&s.drawText(o.cobrado.value,{x:o.cobrado.x,y:u,size:o.cobrado.size,font:l.GSansBold,color:(0,i.rgb)(0,0,0)}),o.saldo&&s.drawText(o.saldo.value,{x:o.saldo.x,y:u,size:o.saldo.size,font:l.GSansBold,color:(0,i.rgb)(0,0,0)})}))}));const y=await e.save();let m=(0,n.ou)(y);window.open(m)}},713:(o,t,e)=>{e.d(t,{$P:()=>y,B8:()=>p,IR:()=>v,N0:()=>a,QJ:()=>x,Rd:()=>r,VI:()=>f,Ve:()=>h,WA:()=>g,ZW:()=>s,Zj:()=>m,fK:()=>l,g5:()=>n,ii:()=>b,nj:()=>w,qT:()=>c,qv:()=>u,yk:()=>d});var i=e(2350);const n={WH:"Almacen",PR:"Production",PT:"Patio"},a=async o=>{var t,e;let n={...null===(t=(0,i.bh)((0,i.hQ)()))||void 0===t?void 0:t.scan_area_location};n.params={businessId:null===(e=(0,i.bh)("profileUser"))||void 0===e?void 0:e.businessId,limit:120};const a=(0,i.I7)(n),l=await a;l?((0,i.Rz)("locations_ids",l),(0,i.Rz)("locations_list",m((0,i.jQ)(l),"areaLocationId")),o&&o()):o&&o()},l=async(o,t)=>{var e,n;let a={...null===(e=(0,i.bh)((0,i.hQ)()))||void 0===e?void 0:e.scan_voucher_production};a.params={businessId:null===(n=(0,i.bh)("profileUser"))||void 0===n?void 0:n.businessId,":search0":o};const l=(0,i.I7)(a),d=await l;d&&!d.error&&(0,i._2)(d)&&(0,i._2)(d).length>0?t&&t(d):t&&t(null)},d=async o=>{var t,e;let n={...null===(t=(0,i.bh)((0,i.hQ)()))||void 0===t?void 0:t.scan_voucher_production};if(n.params={businessId:null===(e=(0,i.bh)("profileUser"))||void 0===e?void 0:e.businessId,limit:120},(0,i.bh)("searchVoucherQry")&&(0,i.bh)("searchVoucherQry").length>1){(0,i.bh)("searchVoucherQry").split(" ").map(((o,t)=>{o&&(n.params[":search"+t]=o.trim())}));const t=(0,i.I7)(n),e=await t;e&&((0,i.Rz)("voucher_production",e),(0,i.Rz)("vouchers_list",m((0,i.jQ)(e),"voucherId")),o&&o())}else(0,i.Rz)("vouchers_list",null),o&&o()},s=async(o,t)=>{var e,n;let a={...null===(e=(0,i.bh)((0,i.hQ)()))||void 0===e?void 0:e.get_inventory_prod};a.params={businessId:null===(n=(0,i.bh)("profileUser"))||void 0===n?void 0:n.businessId,":productId":o};const l=(0,i.I7)(a),d=await l;d&&((0,i.Rz)("inv_products_list",m((0,i.jQ)(d.list),"name")),(0,i.Rz)("inv_products_stock",d.stock),t&&t())},r=async(o,t)=>{var e,n;let a={...null===(e=(0,i.bh)((0,i.hQ)()))||void 0===e?void 0:e.get_prod_stock};a.params={businessId:null===(n=(0,i.bh)("profileUser"))||void 0===n?void 0:n.businessId,productId:o};const l=(0,i.I7)(a),d=await l;if(d){let e={...(0,i.bh)("products_stock")};e[o]=d.stock,(0,i.Rz)("products_stock",e),t&&t()}},c=async o=>{var t,e;let n={...null===(t=(0,i.bh)((0,i.hQ)()))||void 0===t?void 0:t.all_prods};n.params={businessId:null===(e=(0,i.bh)("profileUser"))||void 0===e?void 0:e.businessId},n.subQuerys={},n.subQuerys.stock=1;const a=(0,i.I7)(n),l=await a;if(l){let t={},e=[],n=0;l.map((o=>{var a;if(null!==o&&void 0!==o&&null!==(a=o.inventory)&&void 0!==a&&a.qty){var l,d,s;if(n+=1*(0,i.Zv)(null===o||void 0===o||null===(l=o.inventory)||void 0===l?void 0:l.amount,2),t[o.unit])t[o.unit]+=null===o||void 0===o||null===(d=o.inventory)||void 0===d?void 0:d.qty;else t[o.unit]=null===o||void 0===o||null===(s=o.inventory)||void 0===s?void 0:s.qty;e.push({productId:o.productId,name:o.name,unit:o.unit,qty:(1*o.inventory.qty).toFixed(2),amount:(1*o.inventory.amount).toFixed(2),cost:(o.inventory.amount/o.inventory.qty*1).toFixed(2)})}})),(0,i.Ey)(o)&&o({list:m(e,"name"),total:n,units:t})}},v=async(o,t)=>{var e,n;let a={...null===(e=(0,i.bh)((0,i.hQ)()))||void 0===e?void 0:e.group_prod_stock};a.params={businessId:null===(n=(0,i.bh)("profileUser"))||void 0===n?void 0:n.businessId};const l=(0,i.I7)(a),d=await l;if(d){let e=(0,i._I)(d.comps),n=0,a=0,l=0,s=[],r=[];(0,i._2)(o).map((t=>{let c={...o[t]},v=("debit"===o[t].type?1:-1)*o[t].amount,u=1*(0,i.Zv)(v,2);if(n+=u,d.comps[o[t].comprobanteId]){c.inventory=d.comps[o[t].comprobanteId];let n=0;if((0,i._2)(d.comps[o[t].comprobanteId]).map((e=>{n=1*(0,i.Zv)(n,2)+1*(0,i.Zv)(d.comps[o[t].comprobanteId][e],2)})),n=n<0?-1*n:n,n=1*(0,i.Zv)(n,2),c.inventoryAmount=n,a+=n,u=u<0?-1*u:u,u-n!==0){let o=u-n;l+=o,r.push(c),console.log("diff",c,u,n,o)}else s.push(c);delete e[o[t].comprobanteId]}else l+=v,r.push(c)}));let c=0;(0,i._2)(e).map((o=>{let t=0;(0,i._2)(e[o]).map((n=>{t=1*(0,i.Zv)(t,2)+1*(0,i.Zv)(e[o][n],2)})),c+=t})),console.log("inventoryBack",e,"inventoryBackTotal",c),(0,i.Rz)("inv_comprobantes_compare",{hasError:r,success:s,inventoryBack:e}),(0,i.Ey)(t)&&t()}},u=async o=>{var t,e,n;let a={...null===(t=(0,i.bh)((0,i.hQ)()))||void 0===t?void 0:t.filter_search_opera};a.params={businessId:null===(e=(0,i.bh)("profileUser"))||void 0===e?void 0:e.businessId,year:(0,i.bh)("date_current_year"),":account":null===(n=(0,i.bh)("global_account_params"))||void 0===n?void 0:n.inventory.account};const l=(0,i.I7)(a),d=await l;d&&!d.error&&(0,i.Ey)(o)&&o(m((0,i.jQ)(d),"date"))},b=async o=>{var t,e;let n={...null===(t=(0,i.bh)((0,i.hQ)()))||void 0===t?void 0:t.all_prods};n.params={businessId:null===(e=(0,i.bh)("profileUser"))||void 0===e?void 0:e.businessId};const a=(0,i.I7)(n),l=await a;l&&((0,i.Rz)("products_list",m(l,"name")),(0,i.Rz)("products_ids",(0,i.ME)((0,i.jQ)(l),"productId")),o&&o())},h=async o=>{var t,e;let n={...null===(t=(0,i.bh)((0,i.hQ)()))||void 0===t?void 0:t.search_prod};if(n.params={businessId:null===(e=(0,i.bh)("profileUser"))||void 0===e?void 0:e.businessId,limit:120},(0,i.bh)("searchQry").length>1){(0,i.bh)("searchQry").split(" ").map(((o,t)=>{o&&(n.params[":search"+t]=o.trim())}));const t=(0,i.I7)(n),e=await t;e&&((0,i.Rz)("products_list",m((0,i.jQ)(e),"code")),o&&o())}else(0,i.Rz)("products_list",null),o&&o()},x=async o=>{var t,e;let n={...null===(t=(0,i.bh)((0,i.hQ)()))||void 0===t?void 0:t.all_entry_invoices};n.params={businessId:null===(e=(0,i.bh)("profileUser"))||void 0===e?void 0:e.businessId};const a=(0,i.I7)(n),l=await a;l&&((0,i.Rz)("movements_list",m(l,"date")),(0,i.Rz)("movements_ids",(0,i.ME)((0,i.jQ)(l),"inventoryId")),o&&o())},y=async o=>{var t;if((null===(t=(0,i.bh)("searchMovQry"))||void 0===t?void 0:t.length)>1){var e,n;let t={...null===(e=(0,i.bh)((0,i.hQ)()))||void 0===e?void 0:e.search_inventory};t.params={businessId:null===(n=(0,i.bh)("profileUser"))||void 0===n?void 0:n.businessId,":search0":(0,i.bh)("searchMovQry")};const a=(0,i.I7)(t),l=await a;l&&((0,i.Rz)("movements_list",function(o){var t={};let e=o&&(0,i._2)(o);e.length>0?e.map((e=>{let i=o[e];t[i.comprobanteId]||(t[i.comprobanteId]={},t[i.comprobanteId].amount=0,t[i.comprobanteId].document=i.document,t[i.comprobanteId].date=i.date,t[i.comprobanteId].comprobanteId=i.comprobanteId,t[i.comprobanteId].products=[]),t[i.comprobanteId].amount+=i.qty*i.price,t[i.comprobanteId].products.push({productId:i.productId,qty:i.qty,price:i.price,inventoryId:i.inventoryId})})):t=null;return t}(l)),(0,i.Rz)("movements_ids",l),o&&o())}else(0,i.Rz)("movements_list",[]),(0,i.Rz)("movements_ids",{}),o&&o()};const m=(o,t)=>(0,i.MV)("sortProducts",[o],(()=>o&&o.sort(((o,e)=>{let i=o[t],n=e[t];return i<n?-1:i>n?1:0})))),w=async(o,t)=>{var e,n;let a={...null===(e=(0,i.bh)((0,i.hQ)()))||void 0===e?void 0:e.delete_prod};a.params={businessId:null===(n=(0,i.bh)("profileUser"))||void 0===n?void 0:n.businessId,productId:o};const l=(0,i.I7)(a);await l&&t&&t()},g=async(o,t)=>{var e,n;let a={...null===(e=(0,i.bh)((0,i.hQ)()))||void 0===e?void 0:e.delete_inventory};a.params={businessId:null===(n=(0,i.bh)("profileUser"))||void 0===n?void 0:n.businessId,inventoryId:o};const l=(0,i.I7)(a);await l&&t&&t()},f=async(o,t)=>{var e,n;({...null===(e=(0,i.bh)((0,i.hQ)()))||void 0===e?void 0:e.entry_invoice_acc_2}).params={businessId:null===(n=(0,i.bh)("profileUser"))||void 0===n?void 0:n.businessId,entriesInvoiceId:o}},p=(o,t)=>(0,i.MV)("rangeProdArr",[o,t],(()=>o?(0,i._2)(o).slice(0,t):[]))}}]);
//# sourceMappingURL=5154.8d48949b.chunk.js.map