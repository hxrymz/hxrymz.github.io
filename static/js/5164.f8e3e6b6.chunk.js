"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[5164,9760],{9760:(e,l,a)=>{a.r(l),a.d(l,{CloseModal:()=>r,OpenModal:()=>c,default:()=>n});var t=a(2791),s=a(5408),i=a(2350),d=a(184);const o="listDialog_mdh392",n=()=>{const e=(0,i.bh)("listDialog")||{};(0,s.Z)(o);let l=Object.keys(e);return(0,d.jsx)(d.Fragment,{children:l.map(((l,a)=>{let s=e[l];if(s&&s.visible){let e={};s.height&&(e.heigth=s.height),s.width,s.zIndex&&(e.zIndex=s.zIndex-1);let a={zIndex:s.zIndex},i=null,o=s.data;return s.content&&(i=t.cloneElement(s.content,{data:o})),(0,d.jsxs)("div",{className:"ltr-1kbnjow",style:e,children:[(0,d.jsx)("div",{className:"ltr-hoe9xz",children:(0,d.jsx)("div",{className:"ltr-1wao6ny",style:a,id:l,children:i})}),s.data.overlay?(0,d.jsx)("div",{className:"DialogHRMOverlay ".concat(s.visible?"active":""),onClick:()=>{var e;e=l,document.getElementsByTagName("html")[0].classList.remove("has-level-two"),r({id:e})}}):null]},l)}}))})},c=e=>{let l=(0,i.bh)("listDialog")||{},a=(0,i.M5)();l[a]||(l[a]={}),l[a].visible=!0;let t={};e.props?(t=e.props,t.modalID=a):t.modalID=a;let s=document.getElementsByTagName("body")[0];null!==s&&void 0!==s&&s.style&&(s.style.overflowY="hidden"),l[a].isView=e.isView,l[a].observeResize=e.observeResize,l[a].observeResize&&(l[a].observeInterval=setInterval((()=>{let e=document.querySelector("[dialog-key-id='".concat(a,"']")),t=e&&e.getBoundingClientRect();t&&(t.width===l[a].width&&t.height===l[a].height||(l[a].height=t.height+10,l[a].width=t.width,(0,i.Rz)("listDialog",l),(0,i.wt)(o)))}),200)),l[a].display=!0,e.zIndex&&(l[a].zIndex=e.zIndex),e.height&&(l[a].height=e.height),e.width&&(l[a].width=e.width),e.content&&(l[a].content=e.content),l[a].data=t,(0,i.Rz)("listDialog",l),(0,i.wt)(o),setTimeout((()=>{document.getElementsByTagName("html")[0].classList.add("has-level-two"),(0,i.Rz)("modalOpen",a),(0,i.wt)(o)}),125)},r=e=>{let l=(0,i.bh)("listDialog")||{},a=e.id;if(l[a]){var t,s,d;l[a].observeResize&&l[a].observeInterval&&clearInterval(l[a].observeInterval),l[a].display=!1,null===(t=l[a])||void 0===t||null===(s=t.data)||void 0===s||null===(d=s.closeEvent)||void 0===d||d.call(s),(0,i.Rz)("listDialog",l),delete l[a],document.getElementsByTagName("body")[0].style.overflowY=null,(0,i.wt)(o),setTimeout((()=>{delete l[a],document.getElementsByTagName("html")[0].classList.remove("has-level-two"),(0,i.Rz)("modalOpen",null)}),750)}}},5164:(e,l,a)=>{a.r(l),a.d(l,{default:()=>F});var t=a(2791),s=a(2350),i=(a(1206),a(1573)),d=a(9760),o=a(2502),n=a(2647),c=(a(6794),a(184));const r=e=>{let{data:l,confirm:a,handleClick:t,close:s}=e;const{modalID:i}=l,o=e=>{(0,d.CloseModal)({id:i})};return(0,c.jsxs)("div",{style:{maxHeight:"40vh",minHeight:"28vh",overflow:"auto",background:"#fff",borderRadius:13,padding:"10px 19px"},children:[(0,c.jsxs)("div",{className:"_dsplFlx ",children:[(0,c.jsx)("p",{className:"form_title",children:"Eliminar Comprobante"}),(0,c.jsx)("div",{className:"flexSpace"})]}),(0,c.jsx)("div",{className:"_dsplFlx ",children:(0,c.jsx)("span",{children:"Una vez eliminado no podra ser recuperado"})}),(0,c.jsxs)("div",{className:"_dsplFlx ",style:{padding:"15px 10px"},children:[(0,c.jsx)("div",{className:"flexSpace"}),(0,c.jsx)("p",{className:"group_title addBtn",onClick:o,children:"Cancelar"}),(0,c.jsx)("p",{className:"group_title addBtn red",onClick:()=>{a(),o()},children:"Eliminar"})]})]})};var u=a(24),m=a(4304),v=a(9661),p=a(7689);const h=(0,n.YZ)(),b=(0,n.Np)(),x=((0,n.A5)(),(0,u.f_)()),y=((0,v.a)(),(0,n.PU)()),_="paystub_employee",g="paystub_W2_manual",j=e=>{var l,a,i,o,n;let{data:r,confirm:u,item:v}=e;const[y,j]=(0,t.useState)(!1),[I,N]=(0,t.useState)(0),w=(0,p.s0)();(0,t.useEffect)((()=>{y||(j(!0),N((0,s.M5)()))}));const k=(e,l,a)=>{let t=(0,s.bh)(_)||{};a?(t[a]||(t[a]={}),t[a][e]=l):t[e]=l,(0,s.Rz)(_,t),N((0,s.M5)())};let C=(0,s.bh)(_)||{},z=(new Date).getTime()+800;if(C.date){z=new Date(C.date).getTime()}let F="Check No ".concat(C.document?C.document:""," - Salary ").concat((0,s.sJ)(z)," - ").concat(null===v||void 0===v?void 0:v.name).toUpperCase();const S=async e=>{var l,a,t,i,d,o,n;let c=(0,s.bh)(_)||{},r=(new Date).getTime()+800;if(c.date){let e=new Date(c.date).getTime();r=e||r}c.date=r;let u=await(0,s.fN)(c.date);c.comprobanteId=u,c.document=null===(l=c.document)||void 0===l?void 0:l.trim(),c.description||(c.description=F),c.employeeId=null===v||void 0===v?void 0:v.employeeId;let m=[],p={...c};p.account=null===(a=(0,s.bh)("global_account_params"))||void 0===a?void 0:a.salary.account;let h=(0,s.Zv)(c.amount,2);p.type="debit",p.operationId=(0,s.M5)(),p.amount=1*h;let b={...null===(t=(0,s.bh)((0,s.hQ)()))||void 0===t?void 0:t.add_opera};b.params={businessId:null===(i=(0,s.bh)("profileUser"))||void 0===i?void 0:i.businessId,year:new Date(c.date).getFullYear()},b.form=p,m.push(b);let x={...c};var y,g,j,f;(x.account=null===(d=(0,s.bh)("global_account_params"))||void 0===d?void 0:d.cash_bank.account,null!==c&&void 0!==c&&c.futureSlipCheck)&&(x.account=null===(y=(0,s.bh)("global_account_params"))||void 0===y||null===(g=y.futureSlipCheck)||void 0===g?void 0:g.account,x.subAccount=null===(j=(0,s.bh)("global_account_params"))||void 0===j||null===(f=j.futureSlipCheck)||void 0===f?void 0:f.subAccount);let I=(0,s.Zv)(c.amount,2);x.type="credit",x.operationId=(0,s.M5)(),x.amount=1*I;let N={...null===(o=(0,s.bh)((0,s.hQ)()))||void 0===o?void 0:o.add_opera};N.params={businessId:null===(n=(0,s.bh)("profileUser"))||void 0===n?void 0:n.businessId,year:new Date(c.date).getFullYear()},N.form=x,m.push(N),M(m,u)},D=async e=>{var l,a,t,i,d,o,n,c;let r=(0,s.bh)(_)||{},u=(new Date).getTime()+800;if(r.date){let e=new Date(r.date).getTime();u=e||u}r.date=u;const m=r.cash_amount;delete r.cash_amount;let p=await(0,s.fN)(r.date);r.comprobanteId=p,r.document=null===(l=r.document)||void 0===l?void 0:l.trim(),r.description||(r.description=F),r.employeeId=null===v||void 0===v?void 0:v.employeeId;let h=[],b=0;v.w2&&(0,s._2)(v.w2).map((e=>{var l,a,t,i;let d={...r},o={...null===(l=(0,s.bh)("global_account_params"))||void 0===l||null===(a=l.w2_params)||void 0===a||null===(t=a[e])||void 0===t?void 0:t.account};d.account=o.account,d.subAccount=o.subAccount;let n=d.amount*(null===(i=v.w2[e])||void 0===i?void 0:i.percent)/100,c=(0,s.Zv)(n,2);if(d.type="credit",d.operationId=(0,s.M5)(),(0,s.bh)(g)[e]&&(c=(0,s.bh)(g)[e]),"socialSecurity"===e){var u,m,p,x;let e={...r};e.account=null===(u=(0,s.bh)("global_account_params"))||void 0===u||null===(m=u.socialsecurity_tax_expenses)||void 0===m?void 0:m.account,e.type="debit",e.amount=1*c,e.operationId=(0,s.M5)(),b+=1*c,d.amount=2*c;let l={...null===(p=(0,s.bh)((0,s.hQ)()))||void 0===p?void 0:p.add_opera};l.params={businessId:null===(x=(0,s.bh)("profileUser"))||void 0===x?void 0:x.businessId,year:new Date(r.date).getFullYear()},l.form=e,h.push(l)}else if("medicareTax"===e){var y,_,j,f;let e={...r};e.account=null===(y=(0,s.bh)("global_account_params"))||void 0===y||null===(_=y.medicare_tax_expenses)||void 0===_?void 0:_.account,e.type="debit",e.amount=1*c,e.operationId=(0,s.M5)(),d.amount=2*c,b+=1*c;let l={...null===(j=(0,s.bh)((0,s.hQ)()))||void 0===j?void 0:j.add_opera};l.params={businessId:null===(f=(0,s.bh)("profileUser"))||void 0===f?void 0:f.businessId,year:new Date(r.date).getFullYear()},l.form=e,h.push(l)}else d.amount=1*c,b+=1*c;if(1*c>0){var I,N;let e={...null===(I=(0,s.bh)((0,s.hQ)()))||void 0===I?void 0:I.add_opera};e.params={businessId:null===(N=(0,s.bh)("profileUser"))||void 0===N?void 0:N.businessId},e.form=d,h.push(e)}}));let x={...r};x.account=null===(a=(0,s.bh)("global_account_params"))||void 0===a||null===(t=a.salary)||void 0===t?void 0:t.account;let y=r.amount,j=(0,s.Zv)(y,2);x.type="debit",x.operationId=(0,s.M5)(),x.amount=1*j;let f={...null===(i=(0,s.bh)((0,s.hQ)()))||void 0===i?void 0:i.add_opera};f.params={businessId:null===(d=(0,s.bh)("profileUser"))||void 0===d?void 0:d.businessId,year:new Date(r.date).getFullYear()},f.form=x,h.push(f);let I={...r};var N,w,k,C;(I.account=null===(o=(0,s.bh)("global_account_params"))||void 0===o?void 0:o.cash_bank.account,null!==r&&void 0!==r&&r.futureSlipCheck)&&(I.account=null===(N=(0,s.bh)("global_account_params"))||void 0===N||null===(w=N.futureSlipCheck)||void 0===w?void 0:w.account,I.subAccount=null===(k=(0,s.bh)("global_account_params"))||void 0===k||null===(C=k.futureSlipCheck)||void 0===C?void 0:C.subAccount);let z=r.amount-b;m&&(z-=m);let S=(0,s.Zv)(z,2);I.type="credit",I.operationId=(0,s.M5)(),I.amount=1*S;let D={...null===(n=(0,s.bh)((0,s.hQ)()))||void 0===n?void 0:n.add_opera};if(D.params={businessId:null===(c=(0,s.bh)("profileUser"))||void 0===c?void 0:c.businessId,year:new Date(r.date).getFullYear()},D.form=I,h.push(D),m){var R,T,E;let e={...r};e.account=null===(R=(0,s.bh)("global_account_params"))||void 0===R?void 0:R.cash_fluid.account;let l=(0,s.Zv)(m,2);e.type="credit",e.operationId=(0,s.M5)(),e.amount=1*l;let a={...null===(T=(0,s.bh)((0,s.hQ)()))||void 0===T?void 0:T.add_opera};a.params={businessId:null===(E=(0,s.bh)("profileUser"))||void 0===E?void 0:E.businessId,year:new Date(r.date).getFullYear()},a.form=e,h.push(a)}M(h,p)},M=async(e,l)=>{const a=e.map((async e=>{const l=(0,s.I7)(e);await l}));await Promise.all(a),setTimeout((()=>{(0,s.Rz)(_,null),(0,s.Rz)(g,null),(null===r||void 0===r?void 0:r.modalID)&&(0,d.CloseModal)({id:null===r||void 0===r?void 0:r.modalID}),w({pathname:"/accounting-ledger",search:"?cId=".concat(l)})}),400)};return(0,c.jsxs)("div",{style:{maxHeight:"96vh",width:"890px",overflow:"auto",background:"var(--hrm_palette-general-background-b)",borderRadius:13,padding:"10px 19px 25px"},children:[(0,c.jsxs)("div",{className:"_dsplFlx ",children:[(0,c.jsx)("p",{className:"form_title",children:"Registrar Pago Nomina"}),(0,c.jsx)("div",{className:"flexSpace"}),(0,c.jsx)("div",{className:"employee_name",children:null===v||void 0===v?void 0:v.name})]}),(0,c.jsxs)("div",{className:"_dsplFlx ",style:{margin:"10px 10px 10px 0"},children:[(0,c.jsx)("div",{className:"flexSpace"}),(0,c.jsx)("div",{style:{margin:"14px 10px 0px 0"},children:(0,c.jsx)(x,{init:null===(l=(0,s.bh)(_))||void 0===l?void 0:l.date,label:"Fecha",updDate:e=>k("date",e)})}),(0,c.jsx)("div",{className:"flexSpace"}),(0,c.jsx)(b,{init:null===(a=(0,s.bh)(_))||void 0===a?void 0:a.document,label:"Document",width:220,updChanges:e=>k("document",e)}),(0,c.jsx)("div",{className:"flexSpace"}),(0,c.jsx)(b,{init:null===(i=(0,s.bh)(_))||void 0===i?void 0:i.amount,label:"Salario Gross",width:120,type:"number",updChanges:e=>k("amount",e)}),(0,c.jsx)("div",{className:"flexSpace"})]}),(0,c.jsxs)("div",{className:"_dsplFlx ",style:{margin:"10px 10px 10px 0"},children:[(0,c.jsx)("div",{className:"flexSpace"}),(0,c.jsxs)("div",{className:"_dsplFlx ",style:{marginTop:48},children:[(0,c.jsx)("span",{className:"checklabel",children:"Cheque a Futuro"}),(0,c.jsx)(h,{initvalue:null===(o=(0,s.bh)(_))||void 0===o?void 0:o.futureSlipCheck,keyCode:57,updChange:e=>k("futureSlipCheck",e)})]})]}),(0,c.jsx)("div",{className:"_dsplFlx ",style:{margin:"10px 10px 10px 0"},children:F}),null!==v&&void 0!==v&&v.hasW2?(0,c.jsx)("div",{style:{marginTop:19},children:(0,c.jsx)(f,{item:null===v||void 0===v?void 0:v.w2,amount:(null===(n=(0,s.bh)(_))||void 0===n?void 0:n.amount)||0})}):null,(0,c.jsxs)("div",{className:"_dsplFlx ",children:[(0,c.jsx)("div",{className:"flexSpace"}),(0,c.jsx)("div",{style:{margin:"38px 10px 0px 0"},children:(0,c.jsx)(m.NK,{clickHandler:()=>{v.hasW2?D():S()},label:"Guardar"})})]})]})},f=e=>{let{item:l,amount:a}=e;const[i,d]=(0,t.useState)(0),[o,n]=(0,t.useState)(!1),r=()=>{d((0,s.M5)())};return(0,c.jsxs)(m.lp,{children:[(0,c.jsx)("div",{className:"iMTYiw hiKoiM",style:{width:"100%"},children:(0,c.jsxs)("div",{className:"_dsplFlx ",children:["W2 Tax deduction",(0,c.jsx)("div",{className:"flexSpace"}),"Neto: $",a?(a-w((0,s.bh)(g))).toFixed(2):"0.00",(0,c.jsx)("div",{className:"flexSpace"}),"Taxes: $",a?w((0,s.bh)(g)).toFixed(2):"0.00"]})}),(0,c.jsx)("div",{className:"_dsplFlx w_100prc",style:{marginTop:19}}),(0,c.jsx)(I,{label:"Federal Tax",keyFld:"federalTax",item:l,amount:a,updObs:r}),(0,c.jsx)(I,{label:"Social Security",keyFld:"socialSecurity",item:l,amount:a}),(0,c.jsx)(I,{label:"Medicare",keyFld:"medicareTax",item:l,amount:a}),(0,c.jsx)(I,{label:"Estate",keyFld:"stateTax",item:l,amount:a,updObs:r}),(0,c.jsx)(I,{label:"City",keyFld:"cityTax",item:l,amount:a,updObs:r}),(0,c.jsx)(N,{label:"Cash",keyFld:"cash_fluid",item:l,amount:a,updObs:r})]})},I=e=>{var l,a,i,d,o;let{label:n,item:r,keyFld:u,percentDefault:m,amount:v,manual:p,updObs:h}=e,x=(null===r||void 0===r||null===(l=r[u])||void 0===l?void 0:l.percent)||m,_={...null===(a=(0,s.bh)("global_account_params"))||void 0===a||null===(i=a.w2_params)||void 0===i||null===(d=i[u])||void 0===d?void 0:d.account},j=!(null!==_&&void 0!==_&&_.account);(0,t.useEffect)((()=>{let e=1*(x/100*v).toFixed(2);f(u,e)}),[p,u,x,v]);const f=(e,l,a)=>{let t=(0,s.bh)(g)||{};a?(t[a]||(t[a]={}),t[a][e]=l):t[e]=l,(0,s.Rz)(g,t),h&&h()};return(0,c.jsxs)("div",{className:"_dsplFlx w_100prc",children:[(0,c.jsx)("div",{className:"icon_revision",children:(0,c.jsx)(y,{name:j?"alert":"check_circle",color:j?"var(--hrm_palette-selected-nav-text)":"var(--hrm_palette-success-fg)"})}),(0,c.jsx)("div",{className:"igLyC jyoObE pddBtm-12",children:(0,c.jsx)("div",{className:"txfnt_lfal",children:n})}),(0,c.jsx)("div",{className:"igLyC jyoObE",children:x+"%"}),(0,c.jsx)("div",{className:"igLyC jyoObE",children:(0,c.jsx)(b,{init:null===(o=(0,s.bh)(g))||void 0===o?void 0:o[u],width:120,updChanges:e=>f(u,e),type:"number"})})]})},N=e=>{var l,a,t;let{label:i,item:d,keyFld:o,percentDefault:n,amount:r}=e,u=!{...null===(l=(0,s.bh)("global_account_params"))||void 0===l||null===(a=l[o])||void 0===a?void 0:a.account};return(0,c.jsxs)("div",{className:"_dsplFlx w_100prc",children:[(0,c.jsx)("div",{className:"icon_revision",children:(0,c.jsx)(y,{name:u?"alert":"check_circle",color:u?"var(--hrm_palette-selected-nav-text)":"var(--hrm_palette-success-fg)"})}),(0,c.jsx)("div",{className:"igLyC jyoObE pddBtm-12",children:(0,c.jsx)("div",{className:"txfnt_lfal",children:i})}),(0,c.jsx)("div",{className:"igLyC jyoObE"}),(0,c.jsx)("div",{className:"igLyC jyoObE",children:(0,c.jsx)(b,{init:null===(t=(0,s.bh)(_))||void 0===t?void 0:t.cash_amount,width:120,updChanges:e=>((e,l,a)=>{let t=(0,s.bh)(_)||{};a?(t[a]||(t[a]={}),t[a][e]=l):t[e]=l,(0,s.Rz)(_,t)})("cash_amount",e)})})]})},w=e=>{var l;let a=0;return e&&(null===(l=(0,s._2)(e))||void 0===l||l.map(((l,t)=>{let i=e[l],d=(0,s.Zv)(i,2);a=1*(0,s.Zv)(a,2)+1*(0,s.Zv)(d,2)}))),a},k=(0,n.PU)(),C=(0,i.MZ)(),z=(0,i.P3)(),F=e=>{var l;let{data:a,elmId:i,handleRefreshAll:n}=e;const[u,m]=(0,t.useState)(!1),[v,p]=(0,t.useState)(0);(0,t.useEffect)((()=>{u||(m(!0),p((0,s.M5)()))}));const h=()=>{p((0,s.M5)())},b=()=>{(0,o.Dy)(h)},x=e=>{(0,s.Rz)("employee_sub_mayor",a);let l={zIndex:450,height:"80vh",props:{minHeight:"1vh",overlay:!0}};l.content=(0,c.jsx)(z,{confirm:b,item:a}),(0,d.OpenModal)(l)},y=()=>{(0,o.G)(null===a||void 0===a?void 0:a.employeeId,n)};(0,o.aU)(null===(l=(0,s.bh)("sub_employee_group"))||void 0===l?void 0:l[a.employeeId],"subEmployee");return(0,c.jsx)("div",{className:"item_acc",children:(0,c.jsxs)("div",{className:"_dsplFlx item_box employee_header",children:[(0,c.jsxs)("div",{className:"_dsplFlx",onClick:async()=>{(0,s.Rz)("upd_employee",a),(0,s.Rz)("upd_employee_bck",JSON.parse(JSON.stringify(a)));let e={zIndex:450,height:"80vh",props:{minHeight:"1vh",overlay:!0}};e.content=(0,c.jsx)(C,{confirm:b}),(0,d.OpenModal)(e)},children:[(0,c.jsx)("div",{className:"code"}),(0,c.jsx)("div",{className:"name",children:null===a||void 0===a?void 0:a.name}),(0,c.jsx)("div",{className:"unit",children:null===a||void 0===a?void 0:a.unit})]}),(0,c.jsx)("div",{className:"flexSpace"}),(0,c.jsx)("div",{className:" addSbAcc purple",onClick:e=>{(0,s.Rz)("employee_sub_mayor",a);let l={zIndex:450,height:"80vh",props:{minHeight:"1vh",overlay:!0}};l.content=(0,c.jsx)(j,{item:a}),(0,d.OpenModal)(l)},children:"Make a Payment"}),(0,c.jsx)("div",{className:" addSbAcc purple",onClick:()=>{(0,o.lG)(null===a||void 0===a?void 0:a.employeeId,x)},children:"Paychecks"}),(0,c.jsx)("div",{className:"icon",style:{marginLeft:19},onClick:()=>{let e=(0,s.bh)("lastTimeCallModal")||0;if(Date.now()>e){(0,s.Rz)("lastTimeCallModal",Date.now()+320);let e={zIndex:450,height:"40vh",props:{minHeight:"1vh",overlay:!0,closeEvent:()=>{}}};e.content=(0,c.jsx)(r,{confirm:y,item:a}),(0,d.OpenModal)(e)}},children:(0,c.jsx)(k,{name:"outline_delete",color:"#c62828"})})]})})}},4304:(e,l,a)=>{a.d(l,{lp:()=>d,NK:()=>i});a(2791);var t=a(1087),s=a(184);const i=e=>{let{clickHandler:l,label:a,navTo:i}=e;return(0,s.jsx)("button",{className:"gHAsFI dqnOfN jUrKkb",onClick:l,children:(0,s.jsx)(t.OL,{className:" jaqJnq",to:i,children:a})})},d=e=>{let{children:l}=e;return(0,s.jsx)("div",{className:"jRutKh",children:(0,s.jsx)("div",{className:"jSvsvz",children:(0,s.jsx)("div",{className:"jzcvbH",children:(0,s.jsx)("div",{className:" kfqEsq",children:l})})})})}},2502:(e,l,a)=>{a.d(l,{Dy:()=>s,G:()=>n,aU:()=>o,kQ:()=>i,lG:()=>d});var t=a(2350);const s=async e=>{var l,a;let s={...null===(l=(0,t.bh)((0,t.hQ)()))||void 0===l?void 0:l.all_employee};s.params={businessId:null===(a=(0,t.bh)("profileUser"))||void 0===a?void 0:a.businessId};const i=(0,t.I7)(s),d=await i;d&&((0,t.Rz)("employees_list",o((0,t.jQ)(d),"code")),(0,t.Rz)("employees_ids",(0,t.ME)((0,t.jQ)(d),"employeeId")),e&&e())},i=async e=>{var l,a;let s={...null===(l=(0,t.bh)((0,t.hQ)()))||void 0===l?void 0:l.search_employee};s.params={businessId:null===(a=(0,t.bh)("profileUser"))||void 0===a?void 0:a.businessId,":search":(0,t.bh)("searchQry")};const i=(0,t.I7)(s),d=await i;d&&((0,t.Rz)("employees_list",o((0,t.jQ)(d),"code")),e&&e())},d=async(e,l)=>{var a,s,i,d;let o={...null===(a=(0,t.bh)((0,t.hQ)()))||void 0===a?void 0:a.filter_search_opera};o.params={businessId:null===(s=(0,t.bh)("profileUser"))||void 0===s?void 0:s.businessId,year:(0,t.bh)("date_current_year"),":date1":(null===(i=(0,t.bh)("date_range_comps"))||void 0===i?void 0:i.initDate)-10,":date2":null===(d=(0,t.bh)("date_range_comps"))||void 0===d?void 0:d.lastDate,":search0":e};const n=(0,t.I7)(o),c=await n;c&&!c.error&&((0,t.Rz)("paystub_submayor_list",c),(0,t.Rz)("paystub_submayor_group",function(e){var l={};e.length>0?e.map((e=>{let a=e.date+"_"+e.comprobanteId;if(!l[a]){l[a]={},["date","description","entryName","comprobanteId","employeeId","document"].forEach((t=>{l[a][t]=e[t]})),l[a].amount=0,l[a].balance=0,l[a].operations=[]}e.type&&(l[a].balance=1*(0,t.Zv)(l[a].balance,2)+("debit"===e.type?1*(0,t.Zv)(e.amount,2):0),l[a].operations.push(function(e){var l;let a={};a.employeeId=null===(l=(0,t.bh)("employees_ids"))||void 0===l?void 0:l[e.employeeId],a.comprobanteId=e.comprobanteId,a.operationId=e.operationId,a.document=e.document,a.date=e.date,"credit"===e.type?(a.debit=0,a.credit=e.amount):"debit"===e.type&&(a.credit=0,a.debit=e.amount);return a}(e)))})):l=null;return l}((0,t.jQ)(c)))),l&&l()};const o=(e,l)=>(0,t.MV)("sortEmployees",[e],(()=>e&&e.sort(((e,a)=>{let t=1*e[l],s=1*a[l];return t<s?-1:t>s?1:0})))),n=async(e,l)=>{var a;let s={query:"deleteEmployeesHRG",params:{businessId:null===(a=(0,t.bh)("profileUser"))||void 0===a?void 0:a.businessId,employeeId:e}};const i=(0,t.I7)(s);await i&&l&&l()}},1206:()=>{},6794:()=>{}}]);
//# sourceMappingURL=5164.f8e3e6b6.chunk.js.map