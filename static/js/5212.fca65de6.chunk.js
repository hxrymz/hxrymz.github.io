"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[5212],{9585:function(i,e,n){n.r(e);var l=n(1413),s=n(4165),t=n(5861),a=n(9439),d=n(2791),c=(n(5027),n(2647)),o=n(7689),r=n(2350),v=n(9760),u=n(6514),m=n(1475),x=n(184),h=(0,c.Np)(),p=(0,c.PU)(),f=(0,c.tW)(),j=(0,c.A5)(),g=(0,c.YZ)(),_=(0,r.Ks)()+"_upd";e.default=function(i){var e,n,l=i.data,s=i.confirm,t=(0,d.useState)(1),c=(0,a.Z)(t,2),u=(c[0],c[1],(0,d.useState)(2)),m=(0,a.Z)(u,2),h=m[0],f=m[1],j=(0,o.TH)(),g=((0,o.s0)(),null===(e=j.search)||void 0===e||null===(n=e.split("?"))||void 0===n?void 0:n[1]),_=(0,r.mB)(g),w=null===_||void 0===_?void 0:_.cId;(0,d.useEffect)((function(){}),[w]);var k=function(){(null===l||void 0===l?void 0:l.modalID)&&(0,v.CloseModal)({id:null===l||void 0===l?void 0:l.modalID}),(0,r.Ey)(s)&&s()},C=function(i){f(i)};(0,r.bh)((0,r.Ks)());return(0,x.jsx)("div",{style:{height:"90vh",width:"650px",overflow:"auto",background:"var(--dark-800)",borderRadius:13,padding:"10px 6px"},children:(0,x.jsxs)("div",{className:" ",children:[(0,x.jsxs)("div",{className:"h23g9woI",children:[(0,x.jsxs)("div",{className:"jKZvHt ",onClick:k,children:[(0,x.jsx)(p,{name:"arrowBack",size:22,color:"var(--light-200)"}),(0,x.jsx)("div",{className:"eULkqP"})]}),(0,x.jsx)("div",{className:"flexSpace"}),(0,x.jsx)("div",{className:"icon_action ".concat(1===h?"active":""," "),onClick:function(){return C(1)},children:(0,x.jsx)(p,{name:"image_outline",color:"var(--light-200)"})}),(0,x.jsx)("div",{className:"icon_action ".concat(2===h?"active":""," "),onClick:function(){return C(2)},children:(0,x.jsx)(p,{name:"list_form",color:"var(--light-200)"})})]}),(0,x.jsx)("div",{style:{paddingTop:4}}),(0,x.jsx)(N,{viewId:1,activeView:h,children:(0,x.jsx)(y,{})}),(0,x.jsx)(N,{viewId:2,activeView:h,children:(0,x.jsx)(b,{close:k})})]})})};var y=function(i){i.activeView,i.children;var e=(0,d.useState)(1),n=(0,a.Z)(e,2),l=(n[0],n[1]),s=(0,d.useState)(""),t=(0,a.Z)(s,2),c=t[0],o=t[1],v=function(){l((0,r.M5)())},h=function(i,e){(0,r.Rz)("image_mov_text",e.textAnnotations),(0,r.Rz)("loading_image_text",!1),v()};return(0,x.jsxs)("div",{style:{height:"90vmin",padding:"5px!important"},children:[(0,x.jsxs)("div",{className:"_dsplFlx ",style:{padding:9},children:[(0,x.jsx)("div",{className:"flexSpace"}),(0,r.bh)("image_url_mov")?(0,x.jsx)("div",{style:{marginBottom:10},children:(0,r.bh)("loading_image_text")?(0,x.jsxs)("div",{className:"icon_compr _dsplFlx",style:{marginTop:10},children:[(0,x.jsx)("div",{className:"lbl_saving ",children:"scanning image ..."}),(0,x.jsx)(f,{stroke:"var(--partial-success)",size:24,strokeW:8})]}):(0,x.jsxs)("div",{className:"_dsplFlx",style:{margin:"6px 20px 5px"},onClick:function(i){(0,r.Rz)("loading_image_text",!0),v(),(0,m.sV)((0,r.bh)("image_url_mov"),h)},children:[(0,x.jsx)("div",{className:"lbl_saving ",style:{margin:"4px 20px 0 0"},children:"Escanear Imagen"}),(0,x.jsxs)("div",{className:"btn_icon",children:[(0,x.jsx)("div",{className:"icon_absol inside ",children:(0,x.jsx)(p,{name:"image_outline",color:"var(--light-300)",size:20})}),(0,x.jsx)("div",{className:"icon_absol ",children:(0,x.jsx)(p,{name:"scan-helper",color:"var(--partial-success)",size:28})})]})]})}):null]}),(0,x.jsxs)("div",{className:"_dsplFlx ",style:{padding:9},children:[(0,x.jsx)("div",{className:"flexSpace"}),c?(0,x.jsxs)("div",{className:"imagePreview",children:[(0,x.jsxs)("div",{className:"_dsplFlx",onClick:function(){return o(null)},children:[(0,x.jsx)("div",{className:"lbl_dtls",children:"Text to Copy:"}),(0,x.jsx)("div",{className:"text2link",children:c})]}),(0,x.jsx)("div",{style:{margin:"10px 0 20px"}}),(0,x.jsx)(k,{title:"Title:",frmNm:_,keyfld:"title",updObs:v,newValue:c,confirm:o,join:" "}),(0,x.jsx)(k,{title:"Amount:",frmNm:_,keyfld:"amount",updObs:v,newValue:c,confirm:o,replace:!0}),(0,x.jsx)(k,{title:"Descripcion:",frmNm:_,keyfld:"description",updObs:v,newValue:c,confirm:o,join:"; "}),(0,x.jsx)(k,{title:"Document:",frmNm:_,keyfld:"document",updObs:v,newValue:c,confirm:o,join:"; "})]}):(0,x.jsx)("div",{className:"imagePreview",style:{width:360},children:(0,r.bh)("preview_mov_dmz")?(0,x.jsx)(u.d$,{children:(0,x.jsx)(u.Uv,{children:(0,x.jsx)(I,{image:(0,r.bh)("image_preview_mov"),updTxt:o})})}):null}),(0,x.jsx)("div",{className:"flexSpace"})]})]})},b=function(i){i.activeView;var e,n,c=i.close,o=(0,d.useState)(1),v=(0,a.Z)(o,2),u=(v[0],v[1]),m=function(){u((0,r.M5)())},h=["title","description","document","amount","categoryId","inManualRevision"],p=(0,r.vy)(h,(0,r.bh)(_),(0,r.bh)(_+"_bck")),f=function(){var i=(0,t.Z)((0,s.Z)().mark((function i(e){var n,l;return(0,s.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=(0,r.I7)(e),i.next=3,n;case 3:(l=i.sent)&&!l.error&&c(!0);case 5:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}(),y=function(){var i=(0,t.Z)((0,s.Z)().mark((function i(){var e,n,t,a,d;return(0,s.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:a=(0,r.vy)(h,(0,r.bh)(_),(0,r.bh)(_+"_bck")),(d=(0,l.Z)({},null===(e=(0,r.bh)((0,r.hQ)()))||void 0===e?void 0:e.upd__incms_expns)).params={businessId:null===(n=(0,r.bh)("profileUser"))||void 0===n?void 0:n.businessId,movementId:null===(t=(0,r.bh)(_))||void 0===t?void 0:t.movementId},d.data2update=a.data,f(d);case 5:case"end":return i.stop()}}),i)})));return function(){return i.apply(this,arguments)}}(),b=function(i,e){var n=(0,r.bh)(_)||{};n[i]=e,(0,r.Rz)(_,n),u((0,r.M5)())};return(0,x.jsxs)("div",{style:{maxWidth:560,height:"90vmin",padding:"5px!important"},children:[(0,x.jsxs)("div",{className:"_dsplFlx ",style:{padding:9},children:[(0,x.jsx)("div",{className:"flexSpace"}),p.hasChange?(0,x.jsx)("div",{className:"",children:(0,x.jsx)(C,{label:"Guardar",clickHandler:y})}):null]}),(0,x.jsxs)("div",{className:"_dsplFlx ",style:{padding:9},children:[(0,x.jsx)("div",{className:"flexSpace"}),(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"_dsplFlx ",style:{marginTop:20},children:[(0,x.jsx)(g,{initvalue:null===(e=(0,r.bh)(_))||void 0===e?void 0:e.inManualRevision,keyCode:57,updChange:function(i){return b("inManualRevision",i)}}),(0,x.jsx)("span",{className:"checklabel",children:"En revision"})]}),(0,x.jsxs)("div",{className:" dtls minhh",style:{maxWidth:230},children:[(0,x.jsx)("div",{className:"lbl_h_dtls",style:{marginTop:8,textAlign:"left"},children:"Categories"}),(0,x.jsx)("div",{style:{marginTop:9},children:(0,x.jsx)(j,{init:null===(n=(0,r.bh)(_))||void 0===n?void 0:n.categoryId,lbl_empty:"Categorias",list:(0,r.bh)("categories_pick_data"),onSelect:function(i){return b("categoryId",i)},direction:"right"})})]}),(0,x.jsx)(w,{title:"Title:",frmNm:_,keyfld:"title",updObs:m}),(0,x.jsx)(w,{title:"Amount:",frmNm:_,keyfld:"amount",updObs:m}),(0,x.jsx)(w,{title:"Descripcion:",frmNm:_,keyfld:"description",updObs:m}),(0,x.jsx)(w,{title:"Document:",frmNm:_,keyfld:"document",updObs:m}),"'"]}),(0,x.jsx)("div",{className:"flexSpace"})]})]})},N=function(i){var e=i.viewId,n=i.activeView,l=i.children;return(0,x.jsx)("div",{className:"opacityView",style:{opacity:e===n?1:0,marginTop:2},children:e===n?l:null})},w=function(i){var e,n=i.title,l=i.keyfld,s=i.updObs,t=i.frmNm,c=(0,d.useState)(!1),o=(0,a.Z)(c,2),v=o[0],u=o[1],m=(0,d.useState)(1),f=(0,a.Z)(m,2),j=(f[0],f[1]),g=function(){s&&s(),u(!1)},_=null===(e=(0,r.bh)(t))||void 0===e?void 0:e[l];return(0,x.jsxs)("div",{className:" dtls minhh",children:[(0,x.jsx)("div",{className:"lbl_h_dtls",style:{marginTop:8,textAlign:"left"},children:n}),v?(0,x.jsxs)("div",{className:"_dsplFlx",children:[(0,x.jsx)("div",{className:"lbl_dtls",children:(0,x.jsx)(h,{init:_,width:"430px",updChanges:function(i){return function(i,e){var n=(0,r.bh)(t)||{};n[i]=e,(0,r.Rz)(t,n),j((0,r.M5)())}(l,i)},onEnter:g})}),(0,x.jsx)("div",{className:"icon_image ",onClick:g,children:(0,x.jsx)(p,{name:"success",color:"var(--success)"})})]}):(0,x.jsx)("div",{className:"lbl_dtls",style:{marginTop:8,textAlign:"left"},onClick:function(){return u(!0)},children:_||"click to type"})]})},k=function(i){var e,n=i.title,l=i.keyfld,s=i.replace,t=i.frmNm,c=i.newValue,o=i.confirm,v=i.join,u=(0,d.useState)(1),m=(0,a.Z)(u,2),h=(m[0],m[1]),p=function(){!function(i,e){var n=(0,r.bh)(t)||{};n[i]=e||(0,r.fY)(n[i])+v+c,(0,r.Rz)(t,n),h((0,r.M5)())}(l,s?c:null),(0,r.Ey)(o)&&o()},f=null===(e=(0,r.bh)(t))||void 0===e?void 0:e[l];return(0,x.jsxs)("div",{className:" dtls minhh",onClick:function(){return p()},children:[(0,x.jsx)("div",{className:"lbl_h_dtls",style:{marginTop:8,textAlign:"left"},children:n}),(0,x.jsx)("div",{className:"lbl_dtls",style:{marginTop:8,textAlign:"left"},children:f||"click to type"}),"}"]})},C=function(i){var e=i.clickHandler,n=i.label;return(0,x.jsx)("div",{className:" jaqJnq_hrm1",children:(0,x.jsx)("button",{className:"gHAsFI_hrm1 dqnOfN jUrKkb",onClick:e,children:(0,x.jsx)("span",{className:" jaqJnq_hrm1",style:{color:"var(--white)"},children:n})})})},I=function(i){var e,n=i.image,l=i.updTxt,s=(0,r.bh)("preview_mov_dmz");return(0,x.jsxs)("svg",{id:"ssg_business_card_front",xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 ".concat(null===s||void 0===s?void 0:s.w," ").concat(null===s||void 0===s?void 0:s.h),preserveAspectRatio:"xMidYMid meet",children:[(0,x.jsx)("style",{type:"text/css",children:'@font-face {\n\t\t\t\tfont-family: "Google Sans";\n\t\t\t\tsrc: url(http://fonts.gstatic.com/s/googlesans/v14/4UabrENHsxJlGDuGo1OIlLU94YtzCwY.woff2)\n\n\t\t\t}'}),(0,x.jsx)("rect",{width:null===s||void 0===s?void 0:s.w,height:null===s||void 0===s?void 0:s.h,fill:"#ffffff"}),(0,x.jsx)("image",{width:null===s||void 0===s?void 0:s.w,height:null===s||void 0===s?void 0:s.h,x:0,y:0,xmlnsXlink:"http://www.w3.org/1999/xlink",xlinkHref:n}),null===(e=(0,r.bh)("image_mov_text"))||void 0===e?void 0:e.map((function(i,e){return(0,x.jsx)(T,{idKey:e+"_tann",item:i,index:e,updTxt:l},e+"_tann")}))]})},T=function(i){var e,n,l,s,t,a,d=i.item,c=i.index,o=(i.idKey,i.updTxt),v=d.description,u=d.boundingPoly,m=null===u||void 0===u?void 0:u.vertices,h=(null===m||void 0===m||null===(e=m[3])||void 0===e?void 0:e.y)-(null===m||void 0===m||null===(n=m[0])||void 0===n?void 0:n.y),p=(null===m||void 0===m||null===(l=m[1])||void 0===l?void 0:l.x)-(null===m||void 0===m||null===(s=m[0])||void 0===s?void 0:s.x);return 0!==c&&null!==m&&void 0!==m&&m[1]?(0,x.jsx)("rect",{onClick:function(i){i.stopPropagation(),i.preventDefault(),o(v),(0,r.vQ)(v,1)},onContextMenu:function(i){i.stopPropagation(),i.preventDefault()},width:p,height:h,fill:"#646cff",fillOpacity:"50%",x:null===m||void 0===m||null===(t=m[0])||void 0===t?void 0:t.x,y:null===m||void 0===m||null===(a=m[0])||void 0===a?void 0:a.y}):null}}}]);
//# sourceMappingURL=5212.fca65de6.chunk.js.map