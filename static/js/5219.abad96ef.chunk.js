"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[5219,9760],{9760:function(e,a,s){s.r(a),s.d(a,{CloseModal:function(){return o},OpenModal:function(){return c},default:function(){return d}});var l=s(2791),n=s(5408),i=s(2350),r=s(184),t="listDialog_mdh392",d=function(){var e=(0,i.bh)("listDialog")||{},a=((0,n.Z)(t),Object.keys(e));return(0,r.jsx)(r.Fragment,{children:a.map((function(a,s){var n=e[a];if(n&&n.visible){var i={};n.height&&(i.heigth=n.height),n.width,n.zIndex&&(i.zIndex=n.zIndex-1);var t={zIndex:n.zIndex},d=null,c=n.data;return n.content&&(d=l.cloneElement(n.content,{data:c})),(0,r.jsxs)("div",{className:"ltr-1kbnjow",style:i,children:[(0,r.jsx)("div",{className:"ltr-hoe9xz",children:(0,r.jsx)("div",{className:"ltr-1wao6ny",style:t,id:a,children:d})}),n.data.overlay?(0,r.jsx)("div",{className:"DialogHRMOverlay ".concat(n.visible?"active":""),onClick:function(){var e;e=a,document.getElementsByTagName("html")[0].classList.remove("has-level-two"),o({id:e})}}):null]},a)}}))})},c=function(e){var a=(0,i.bh)("listDialog")||{},s=(0,i.M5)();a[s]||(a[s]={}),a[s].visible=!0;var l={};e.props?(l=e.props).modalID=s:l.modalID=s;var n=document.getElementsByTagName("body")[0];null!==n&&void 0!==n&&n.style&&(n.style.overflowY="hidden"),a[s].isView=e.isView,a[s].observeResize=e.observeResize,a[s].observeResize&&(a[s].observeInterval=setInterval((function(){var e=document.querySelector("[dialog-key-id='".concat(s,"']")),l=e&&e.getBoundingClientRect();l&&(l.width===a[s].width&&l.height===a[s].height||(a[s].height=l.height+10,a[s].width=l.width,(0,i.Rz)("listDialog",a),(0,i.wt)(t)))}),200)),a[s].display=!0,e.zIndex&&(a[s].zIndex=e.zIndex),e.height&&(a[s].height=e.height),e.width&&(a[s].width=e.width),e.content&&(a[s].content=e.content),a[s].data=l,(0,i.Rz)("listDialog",a),(0,i.wt)(t),setTimeout((function(){document.getElementsByTagName("html")[0].classList.add("has-level-two"),(0,i.Rz)("modalOpen",s),(0,i.wt)(t)}),125)},o=function(e){var a,s,l,n=(0,i.bh)("listDialog")||{},r=e.id;n[r]&&(n[r].observeResize&&n[r].observeInterval&&clearInterval(n[r].observeInterval),n[r].display=!1,null===(a=n[r])||void 0===a||null===(s=a.data)||void 0===s||null===(l=s.closeEvent)||void 0===l||l.call(s),(0,i.Rz)("listDialog",n),delete n[r],document.getElementsByTagName("body")[0].style.overflowY=null,(0,i.wt)(t),setTimeout((function(){delete n[r],document.getElementsByTagName("html")[0].classList.remove("has-level-two"),(0,i.Rz)("modalOpen",null)}),750))}},5219:function(e,a,s){s.r(a),s.d(a,{default:function(){return B}});var l=s(9439),n=s(2791),i=(s(1636),s(2350)),r=s(4050),t=s(7689),d=s(9760),c=s(4165),o=s(1413),u=s(5861),v=s(2647),h=s(184),m=(0,v.PU)(),p=(0,v.Vg)(),x=(0,v.tW)(),b="ourBank2S",_=function(e){var a,s=e.data,c=(e.operations,e.accountD),u=(e.subaccountD,(0,n.useState)(0)),v=(0,l.Z)(u,2),_=(v[0],v[1]),j=(0,n.useState)(!1),f=(0,l.Z)(j,2),N=f[0],g=(f[1],(0,n.useState)(!1)),k=(0,l.Z)(g,2),y=k[0],I=(k[1],(0,n.useState)("")),F=(0,l.Z)(I,2),C=(F[0],F[1]),S=(0,n.useState)(!1),w=(0,l.Z)(S,2),D=w[0],z=w[1],R=(0,n.useState)(!1),Z=(0,l.Z)(R,2),B=Z[0],O=Z[1],M=(0,n.useState)(!1),T=(0,l.Z)(M,2);T[0],T[1];(0,n.useEffect)((function(){}),[c]);var H=function(){_((0,i.M5)()),z(!1)},L=((0,t.s0)(),function(){O(!1),(0,d.CloseModal)({id:s.modalID})});return(0,h.jsxs)("div",{style:{maxHeight:"80vh",width:"90vw",overflow:"auto",background:"var(--hrm_palette-general-background-b)",borderRadius:13,padding:"10px 19px 30px"},children:[(0,h.jsxs)("div",{className:"_dsplFlx ",children:[(0,h.jsx)("p",{className:"title_collect",children:"Registros del Banco"}),(0,h.jsx)("div",{className:"flexSpace"}),(0,h.jsx)("p",{className:"group_title addBtn purple",onClick:function(e){},children:"Exportar a CSV"})]}),(0,h.jsxs)("div",{className:"_dsplFlx ",style:{marginTop:14},children:[(0,h.jsx)("div",{style:{marginTop:11},children:(0,h.jsx)(p,{placeholder:"Buscar ....",width:560,obs:_,fetchData:H,loading:D,change:function(e){!D&&z(!0),C(e)},callempty:H,keyFlds:"search_h65767"})}),(0,h.jsx)("div",{style:{marginLeft:15}}),(0,h.jsx)("div",{className:"_dsplFlx cmp_dtls",children:(0,h.jsxs)("div",{className:"_dsplFlx",children:[(0,h.jsxs)("div",{className:"filter_btn _dsplFlx",onClick:function(){},children:[(0,h.jsx)("div",{className:"lbl",children:N?"Filtrando":"Filtrar"}),(0,h.jsx)(m,{name:N?"cancel":"filter",color:"#66666"})]}),N?(0,h.jsx)("div",{className:"done_btn _dsplFlx",style:{borderColor:y?"var(--hrm_palette-success-fg)":"#c62828",marginLeft:9},onClick:function(){},children:(0,h.jsx)(m,{name:y?"check_circle":"alert",color:y?"var(--hrm_palette-success-fg)":"#c62828"})}):null]})}),(0,h.jsx)("div",{className:"flexSpace"}),(0,h.jsx)("div",{children:B?(0,h.jsx)("div",{className:"icon_compr",children:(0,h.jsx)(x,{stroke:"#646cff",size:38,strokeW:6})}):(0,h.jsx)("div",{className:" addBtn purple btn_purpl_fweight",style:{marginTop:20},onClick:function(e){O(!0);var a=[];(0,i.bh)(b).map((function(e){var s,l,n=(0,o.Z)({},e);n.status=4;var r=(0,o.Z)({},null===(s=(0,i.bh)((0,i.hQ)()))||void 0===s?void 0:s.add_bank_bUp);r.params={businessId:null===(l=(0,i.bh)("profileUser"))||void 0===l?void 0:l.businessId},r.form=n,a.push(r)})),(0,r.fp)(a,L)},children:"Save"})})]}),(0,h.jsxs)("div",{children:[(0,h.jsxs)("div",{className:"_dsplFlx hdr_bar purple",children:[(0,h.jsx)("div",{className:"tr_bar_20",children:"Fecha"}),(0,h.jsx)("div",{className:"tr_bar_40",children:"Descripcion"}),(0,h.jsx)("div",{className:"tr_bar_20",children:"No cheque"}),(0,h.jsx)("div",{className:"tr_bar_20",children:"Importe"})]}),(0,h.jsx)("div",{className:"scollVh subMHeight",children:(0,i.bh)(b)&&(null===(a=(0,i.bh)(b))||void 0===a?void 0:a.map((function(e,a){var s;return(0,h.jsxs)("div",{className:"_dsplFlx hdr_bar",children:[(0,h.jsx)("div",{className:"tr_bar_20",children:e.date&&(0,i.sJ)(e.date)}),(0,h.jsx)("div",{className:"tr_bar_40 desc_font",children:e.description}),(0,h.jsx)("div",{className:"tr_bar_20",children:e.checkOrSlip}),(0,h.jsx)("div",{className:"tr_bar_20",children:null===(s=1*e.amount)||void 0===s?void 0:s.toFixed(2)})]},a)})))})]})]})},j=(s(4363),function(e){var a=e.data,s=e.confirm,l=e.lbl_p,n=e.lbl_span,i=e.lbl_btn,r=e.theme,t=a.modalID,c=function(e){(0,d.CloseModal)({id:t})};return(0,h.jsxs)("div",{style:{maxHeight:"40vh",minHeight:"20vh",overflow:"auto",background:"var(--hrm_palette-general-background-b)",borderRadius:13,padding:"10px 19px"},children:[(0,h.jsxs)("div",{className:"_dsplFlx ",children:[(0,h.jsx)("p",{className:"form_title",children:l}),(0,h.jsx)("div",{className:"flexSpace"})]}),(0,h.jsx)("div",{className:"_dsplFlx ",children:(0,h.jsx)("span",{children:n})}),(0,h.jsxs)("div",{className:"_dsplFlx ",style:{padding:"15px 10px"},children:[(0,h.jsx)("div",{className:"flexSpace"}),(0,h.jsx)("p",{className:"group_title addBtn",onClick:c,children:"Cancelar"}),(0,h.jsx)("p",{className:"group_title addBtn ".concat(r||"red"),onClick:function(){s(),c()},children:i})]})]})}),f=((0,v.PU)(),(0,v.Vg)()),N=((0,v.tW)(),function(e){var a,s,v=e.data,m=e.item,p=(0,n.useState)(0),x=(0,l.Z)(p,2),b=(x[0],x[1]),_=(0,n.useState)(!1),N=(0,l.Z)(_,2),k=(N[0],N[1],(0,n.useState)(!1)),y=(0,l.Z)(k,2),I=(y[0],y[1],(0,n.useState)("")),F=(0,l.Z)(I,2),C=F[0],S=F[1],w=(0,n.useState)(!1),D=(0,l.Z)(w,2),z=D[0],R=D[1],Z=(0,n.useState)(!1),B=(0,l.Z)(Z,2),O=(B[0],B[1]),M=function(e){S(e),z&&R(!1)},T=((0,t.s0)(),function(){O(!1),(0,d.CloseModal)({id:v.modalID})}),H=function(){var e=(0,u.Z)((0,c.Z)().mark((function e(a){var s,l,n,t;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=(0,o.Z)({},null===(s=(0,i.bh)((0,i.hQ)()))||void 0===s?void 0:s.upd_bank_bUp)).params={businessId:null===(l=(0,i.bh)("profileUser"))||void 0===l?void 0:l.businessId,bankRecordId:m.bankRecordId},n.data2update={linkId:a.operationId,document:a.document,comprobanteId:a.comprobanteId,status:9},t=(0,i.I7)(n),e.next=6,t;case 6:e.sent&&(0,r.Pe)(T);case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return(0,h.jsxs)("div",{style:{maxHeight:"80vh",width:"90vw",overflow:"auto",background:"var(--hrm_palette-general-background-b)",borderRadius:13,padding:"10px 19px 30px"},children:[(0,h.jsxs)("div",{className:"_dsplFlx ",children:[(0,h.jsx)("p",{className:"title_collect",children:"Associar comprobante Manual"}),(0,h.jsx)("div",{className:"flexSpace"})]}),(0,h.jsx)("div",{className:"_dsplFlx ",style:{marginTop:14},children:(0,h.jsx)("div",{style:{marginTop:11},children:(0,h.jsx)(f,{placeholder:"Buscar ....",width:560,obs:b,fetchData:M,loading:z,change:function(e){!z&&R(!0),S(e)},callempty:M,keyFlds:"search_h65767"})})}),(0,h.jsxs)("div",{style:{marginTop:14},children:[(0,h.jsxs)("div",{className:"_dsplFlx hdr_bar green",style:{margin:"6px 0"},children:[(0,h.jsx)("div",{className:"tr_bar_15",children:m.date&&(0,i.sJ)(m.date)}),(0,h.jsx)("div",{className:"tr_bar_15",children:m.comprobanteId}),(0,h.jsx)("div",{className:"tr_bar_40",children:m.description}),(0,h.jsx)("div",{className:"tr_bar_15",children:m.checkOrSlip}),(0,h.jsx)("div",{className:"tr_bar_15",children:null===(a=1*m.amount)||void 0===a?void 0:a.toFixed(2)})]}),(0,h.jsxs)("div",{className:"_dsplFlx hdr_bar purple",children:[(0,h.jsx)("div",{className:"tr_bar_15",children:"Fecha"}),(0,h.jsx)("div",{className:"tr_bar_15",children:"Comprobante"}),(0,h.jsx)("div",{className:"tr_bar_40",children:"Descripcion"}),(0,h.jsx)("div",{className:"tr_bar_15",children:"No cheque"}),(0,h.jsx)("div",{className:"tr_bar_15",children:"Importe"})]}),(0,h.jsx)("div",{className:"scollVh subMHeight",children:(0,i.bh)("submayor_list")&&(null===(s=(0,i._2)((0,i.bh)("submayor_list")))||void 0===s?void 0:s.map((function(e,a){var s,l,n=null===(s=(0,i.bh)("submayor_list"))||void 0===s?void 0:s[e];return C&&!g(n,C)?null:(0,h.jsxs)("div",{className:"_dsplFlx hdr_bar",children:[(0,h.jsx)("div",{className:"tr_bar_15",children:n.date&&(0,i.sJ)(n.date)}),(0,h.jsx)("div",{className:"tr_bar_15",onClick:function(){return function(e){var a={zIndex:450,height:"80vh",props:{minHeight:"1vh",overlay:!0}};a.content=(0,h.jsx)(j,{item:e,lbl_p:"Associar con el banco",lbl_span:"esta seguro que desea associar el comprobante ".concat(e.comprobanteId," a la cuenta de banco"),lbl_btn:"Confirm",theme:"purple",confirm:function(){return H(e)}}),(0,d.OpenModal)(a)}(n)},children:n.comprobanteId}),(0,h.jsx)("div",{className:"tr_bar_40 desc_font",children:n.description}),(0,h.jsx)("div",{className:"tr_bar_15",children:n.document}),(0,h.jsx)("div",{className:"tr_bar_15",children:null===(l=1*n.amount)||void 0===l?void 0:l.toFixed(2)})]},a)})))})]})]})}),g=function(e,a){var s=a.toLowerCase(),l=!1;return["description","amount","document","comprobanteId"].map((function(a){var n,i,r;e[a]&&(null===(n=e[a])||void 0===n||null===(i=n.toString())||void 0===i||null===(r=i.toLowerCase())||void 0===r?void 0:r.indexOf(s))>=0&&(l=!0)})),l},k=(0,v.PU)(),y=(0,v.Vg)(),I=(0,v.YZ)(),F=(0,v.tW)(),C="bank_consolidation_2r",S=function(e){var a,s,c=e.data,o=e.operations,u=e.accountD,v=e.subaccountD,m=(0,n.useState)(0),p=(0,l.Z)(m,2),x=(p[0],p[1]),b=(0,n.useState)(!1),j=(0,l.Z)(b,2),f=j[0],N=j[1],g=(0,n.useState)(!1),F=(0,l.Z)(g,2),S=F[0],R=F[1],Z=(0,n.useState)(""),B=(0,l.Z)(Z,2),O=B[0],M=B[1],T=(0,n.useState)(""),H=(0,l.Z)(T,2),L=H[0],V=H[1],E=(0,n.useState)(!1),P=(0,l.Z)(E,2),A=P[0],U=P[1],J=(0,n.useState)(!1),q=(0,l.Z)(J,2),W=q[0],Y=q[1],Q=(0,n.useState)(!1),G=(0,l.Z)(Q,2),K=G[0],X=G[1];(0,n.useEffect)((function(){(0,i.Rz)("bank_consolidation",null),(0,r.Pe)(le)}),[u]);var $=function(){x((0,i.M5)()),U(!1)},ee=function(e){V(e||"");var a=(0,i.bh)("bank_consolidation");(0,i.Rz)(C,a),O&&(0,i.Rz)(C,z(a,O,f,S)),$()},ae=(0,t.s0)(),se=function(e){(0,d.CloseModal)({id:c.modalID}),ae({pathname:"accounting-ledger",search:"?cId=".concat(e.comprobanteId)})},le=function(e){var a=(0,i.bh)("ourBank"),s=((0,r.i_)((0,r.T7)(o,null===u||void 0===u?void 0:u.code,null===v||void 0===v?void 0:v.subAccount),null===u||void 0===u?void 0:u.code,null===v||void 0===v?void 0:v.subAccount),(0,r.y1)(a));(0,i.Rz)("bank_consolidation",null===s||void 0===s?void 0:s.ready),(0,i.Rz)("cmpbNotInBank",null===s||void 0===s?void 0:s.cmpbNotInBank);var l=(0,r.k4)((0,i.bh)("sortBank"),(0,i.bh)("ourBank"));l.length>0&&((0,i.Rz)("ourBank2S",l),ne()),ee(),$(),e&&e&&e()},ne=function(){var e={zIndex:450,height:"80vh",props:{minHeight:"1vh",overlay:!0}};e.content=(0,h.jsx)(_,{accountD:u,subaccountD:v}),(0,d.OpenModal)(e)};return(0,h.jsxs)("div",{style:{maxHeight:"80vh",width:"90vw",overflow:"auto",background:"var(--hrm_palette-general-background-b)",borderRadius:13,padding:"10px 19px 30px"},children:[(0,h.jsxs)("div",{className:"_dsplFlx ",children:[(0,h.jsx)("p",{className:"title_collect",children:"Consolidacion Bancaria"}),(0,h.jsx)("div",{className:"flexSpace"}),(0,h.jsxs)("div",{className:"group_title addBtn purple upl",children:["Importar CSV (Bank)",(0,h.jsx)("input",{id:"fileupload",type:"file",onChange:function(e){var a=new FileReader;a.onload=function(e){var a=e.target.result,s=(0,r.h1)((0,i.JO)(a),"Date");(0,i.Rz)("sortBank",s),le()},a.readAsText(e.target.files[0],"UTF-8")}})]}),(0,h.jsx)("p",{className:"group_title addBtn purple",onClick:function(e){var a=(0,i.bh)(C);(0,i.eY)("comparacion_estados_de_cuentas_"+(0,i.M5)()+".csv",a)},children:"Exportar a CSV"})]}),(0,h.jsxs)("div",{className:"_dsplFlx ",style:{marginTop:14},children:[(0,h.jsx)("div",{style:{marginTop:11},children:(0,h.jsx)(y,{placeholder:"Buscar ....",width:560,obs:x,fetchData:ee,loading:A,change:function(e){!A&&U(!0),M(e)},callempty:ee,keyFlds:"search_h65767"})}),(0,h.jsx)("div",{style:{marginLeft:15}}),(0,h.jsx)("div",{className:"_dsplFlx cmp_dtls",children:(0,h.jsxs)("div",{className:"_dsplFlx",children:[(0,h.jsxs)("div",{className:"filter_btn _dsplFlx",onClick:function(){var e=(0,i.bh)("bank_consolidation");(0,i.Rz)(C,e);var a=!f;O?(0,i.Rz)(C,z(e,O,a,S)):a&&(0,i.Rz)(C,z(e,"",a,S)),N(a),$()},children:[(0,h.jsx)("div",{className:"lbl",children:f?"Filtrando":"Filtrar"}),(0,h.jsx)(k,{name:f?"cancel":"filter",color:"#66666"})]}),f?(0,h.jsx)("div",{className:"done_btn _dsplFlx",style:{borderColor:S?"var(--hrm_palette-success-fg)":"#c62828",marginLeft:9},onClick:function(){var e=(0,i.bh)("bank_consolidation");(0,i.Rz)(C,e);var a=!S;O?(0,i.Rz)(C,z(e,O,f,a)):f&&(0,i.Rz)(C,z(e,"",f,a)),R(a),$()},children:(0,h.jsx)(k,{name:S?"link":"alert",color:S?"var(--hrm_palette-mono-filled-hover)":"#c62828"})}):null]})}),(0,h.jsx)("div",{className:"flexSpace"}),(0,h.jsxs)("div",{children:[(0,h.jsxs)("div",{className:"_dsplFlx ",style:{marginTop:4},children:[(0,h.jsx)(I,{initvalue:K,keyCode:57,updChange:function(e){return X(e)}}),(0,h.jsx)("span",{className:"checklabel",children:"Registros Verificados"})]}),(0,h.jsxs)("div",{className:"_dsplFlx ",style:{marginTop:4},children:[(0,h.jsx)(I,{initvalue:W,keyCode:77,updChange:function(e){return Y(e)}}),(0,h.jsx)("span",{className:"checklabel",children:"Comprobantes fuera del banco"})]})]}),(0,h.jsx)("div",{className:"flexSpace"}),(0,h.jsx)("div",{children:(0,h.jsx)("div",{className:" addBtn purple btn_purpl_fweight",style:{marginTop:20},onClick:le,children:"Recalc"})})]}),K?(0,h.jsx)(w,{search:L,navTo:se,reCompare:le}):W?(0,h.jsxs)("div",{children:[(0,h.jsxs)("div",{className:"_dsplFlx hdr_bar purple",children:[(0,h.jsx)("div",{className:"tr_bar_15",children:"Comprobante"}),(0,h.jsx)("div",{className:"tr_bar_10",children:"Fecha"}),(0,h.jsx)("div",{className:"tr_bar_10",children:"Importe"}),(0,h.jsx)("div",{className:"tr_bar_10",children:"Documento"})]}),(0,h.jsx)("div",{className:"scollVh subMHeight",children:(0,i.bh)("cmpbNotInBank")&&(null===(a=(0,i._2)((0,i.bh)("cmpbNotInBank")))||void 0===a?void 0:a.map((function(e,a){var s,l=(0,i.bh)("cmpbNotInBank")[e],n=l.amount;return 0===n?null:(0,h.jsxs)("div",{className:"_dsplFlx hdr_bar",children:[(0,h.jsxs)("div",{className:"tr_bar_15 comprobante_id _dsplFlx",children:[(0,h.jsx)("div",{className:"flexSpace"}),(0,h.jsx)("div",{onClick:function(){return se(l)},children:l.comprobanteId}),(0,h.jsx)("div",{className:"flexSpace"})]}),(0,h.jsx)("div",{className:"tr_bar_10",children:l.date&&(0,i.sJ)(l.date)}),(0,h.jsx)("div",{className:"tr_bar_10",children:null===(s=1*n)||void 0===s?void 0:s.toFixed(2)}),(0,h.jsx)("div",{className:"tr_bar_10",children:l.document})]},a)})))})]}):(0,h.jsxs)("div",{children:[(0,h.jsxs)("div",{className:"_dsplFlx hdr_bar purple",children:[(0,h.jsx)("div",{className:"tr_bar_15",children:"Comprobante"}),(0,h.jsx)("div",{className:"tr_bar_10",children:"Fecha"}),(0,h.jsx)("div",{className:"tr_bar_40",children:"Descripcion"}),(0,h.jsx)("div",{className:"tr_bar_10",children:"No cheque"}),(0,h.jsx)("div",{className:"tr_bar_10",children:"Importe"}),(0,h.jsx)("div",{className:"tr_bar_10",children:"Documento"})]}),(0,h.jsx)("div",{className:"scollVh subMHeight",children:(0,i.bh)(C)&&(null===(s=(0,i.bh)(C))||void 0===s?void 0:s.map((function(e,a){var s=!0,l=(0,i.bh)("date_range_submayor");return f&&(s=!1,S&&e.comprobanteId&&(s=!0),S||e.comprobanteId||(s=!0)),!s||isNaN(e.amount)||e.date<(null===l||void 0===l?void 0:l.initDate)||e.date>(null===l||void 0===l?void 0:l.lastDate)?null:(0,h.jsx)(D,{element:e,inx:a,navTo:se,reCompare:le},a+"_bankItm")})))})]})]})},w=function(e){e.searchQry;var a,s=e.navTo,r=e.reCompare,t=e.search,d=(0,n.useState)(!1),c=(0,l.Z)(d,2);c[0],c[1];return(0,h.jsxs)("div",{children:[(0,h.jsxs)("div",{className:"_dsplFlx hdr_bar purple",children:[(0,h.jsx)("div",{className:"tr_bar_15",children:"Comprobante"}),(0,h.jsx)("div",{className:"tr_bar_10",children:"Fecha"}),(0,h.jsx)("div",{className:"tr_bar_40",children:"Descripcion"}),(0,h.jsx)("div",{className:"tr_bar_10",children:"No cheque"}),(0,h.jsx)("div",{className:"tr_bar_10",children:"Importe"}),(0,h.jsx)("div",{className:"tr_bar_10",children:"Documento"})]}),(0,h.jsx)("div",{className:"scollVh subMHeight",children:(0,i.bh)("ourBank")&&(null===(a=(0,i.bh)("ourBank"))||void 0===a?void 0:a.map((function(e,a){var l=(0,i.bh)("date_range_submayor");return e.date<(null===l||void 0===l?void 0:l.initDate)||e.date>(null===l||void 0===l?void 0:l.lastDate)||9!==e.status||t&&!R(e,t)?null:(0,h.jsx)(D,{element:e,inx:a,navTo:s,reCompare:r,verifyManual:!0},a+"_bankItm")})))})]})},D=function(e){var a,s=e.element,t=e.navTo,v=e.reCompare,m=(e.inx,e.verifyManual),p=(0,n.useState)(!1),x=(0,l.Z)(p,2),b=x[0],_=x[1],j=function(){_(!1)},f=function(){v(j)},g=function(){var e={zIndex:450,height:"80vh",props:{minHeight:"1vh",overlay:!0}};e.content=(0,h.jsx)(N,{item:s}),(0,d.OpenModal)(e)},y=function(){var e=(0,u.Z)((0,c.Z)().mark((function e(a){var s,l,n,t;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m){e.next=4;break}g(),e.next=17;break;case 4:if(a.linkId||!a.operationId){e.next=16;break}return _(!0),(n=(0,o.Z)({},null===(s=(0,i.bh)((0,i.hQ)()))||void 0===s?void 0:s.upd_bank_bUp)).params={businessId:null===(l=(0,i.bh)("profileUser"))||void 0===l?void 0:l.businessId,bankRecordId:a.bankRecordId},n.data2update={linkId:a.operationId,document:a.document,comprobanteId:a.comprobanteId,status:9},t=(0,i.I7)(n),e.next=12,t;case 12:e.sent&&(0,r.Pe)(f),e.next=17;break;case 16:g();case 17:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return(0,h.jsxs)("div",{className:"_dsplFlx hdr_bar",children:[(0,h.jsxs)("div",{className:"tr_bar_15 comprobante_id _dsplFlx",children:[b?(0,h.jsx)("div",{className:"icon_compr",children:(0,h.jsx)(F,{stroke:"#646cff",size:24,strokeW:8})}):(0,h.jsx)("div",{className:"icon_compr",onClick:function(){return y(s)},children:(0,h.jsx)(k,{name:s.linkId?"check_circle":s.comprobanteId?"link":"alert",color:s.linkId?"var(--hrm_palette-success-fg)":s.comprobanteId?"var(--hrm_palette-mono-filled-hover)":"#c62828"})}),(0,h.jsx)("div",{className:"flexSpace"}),(0,h.jsx)("div",{onClick:function(){return t(s)},children:s.comprobanteId}),(0,h.jsx)("div",{className:"flexSpace"})]}),(0,h.jsx)("div",{className:"tr_bar_10",children:s.date&&(0,i.sJ)(s.date)}),(0,h.jsx)("div",{className:"tr_bar_40 desc_font",children:s.description}),(0,h.jsx)("div",{className:"tr_bar_10",children:s.checkOrSlip}),(0,h.jsx)("div",{className:"tr_bar_10",children:null===(a=1*s.amount)||void 0===a?void 0:a.toFixed(2)}),(0,h.jsx)("div",{className:"tr_bar_10",children:s.document})]})};function z(e,a,s,l){var n,r=a.toLowerCase(),t=[];return null===(n=(0,i._2)(e))||void 0===n||n.map((function(a){var n=e[a],i=!1,d=(l&&n.comprobanteId||!l&&!n.comprobanteId)&&4===n.status;r?(i=!1,["description","amount","checkOrSlip","comprobanteId"].map((function(e){var a,l,t,c,o,u;s?n[e]&&(null===(a=n[e])||void 0===a||null===(l=a.toString())||void 0===l||null===(t=l.toLowerCase())||void 0===t?void 0:t.indexOf(r))>=0&&d&&(i=!0):n[e]&&(null===(c=n[e])||void 0===c||null===(o=c.toString())||void 0===o||null===(u=o.toLowerCase())||void 0===u?void 0:u.indexOf(r))>=0&&(i=!0)}))):d&&(i=!0),i&&t.push(n)})),t}var R=function(e,a){var s=a.toLowerCase(),l=!1;return["description","amount","document","comprobanteId"].map((function(a){var n,i,r;e[a]&&(null===(n=e[a])||void 0===n||null===(i=n.toString())||void 0===i||null===(r=i.toLowerCase())||void 0===r?void 0:r.indexOf(s))>=0&&(l=!0)})),l},Z=(0,v.xu)(),B=function(e){var a,s,c,o,u,v=e.data,m=e.accountForm,p=(0,n.useState)(0),x=(0,l.Z)(p,2),b=(x[0],x[1]),_=(0,i.bh)("submayor_group");(0,n.useEffect)((function(){(0,r.rs)(m,j)}),[m]);var j=function(){b((0,i.M5)())},f=null===(a=(0,i.bh)("account_ids"))||void 0===a?void 0:a[null===m||void 0===m?void 0:m.account],N=null===(s=(0,i.bh)("sub_account_ids"))||void 0===s?void 0:s[null===m||void 0===m?void 0:m.subAccount],g=(0,t.s0)(),k=new Date(null===(c=(0,i.bh)("date_range_submayor"))||void 0===c?void 0:c.initDate).getMonth(),y=(0,r.S)(k,m);return(0,h.jsxs)("div",{style:{maxHeight:"80vh",width:"960px",overflow:"auto",background:"var(--hrm_palette-general-background-b)",borderRadius:13,padding:"10px 19px 30px"},children:[(0,h.jsxs)("div",{className:"_dsplFlx ",children:[(0,h.jsx)("p",{className:"title_collect",children:"SubMayor de la Cuenta"}),(0,h.jsx)("div",{className:"flexSpace"}),(0,h.jsx)("p",{className:"group_title addBtn purple",onClick:function(){(0,i.eY)("export_submayor_"+(null===f||void 0===f?void 0:f.code)+"_"+(null!==N&&void 0!==N&&N.subAccount?(null===N||void 0===N?void 0:N.subAccount)+"_":"")+(0,i.M5)()+".csv",(0,r.i_)((0,r.T7)(null===_||void 0===_?void 0:_.operations,null===f||void 0===f?void 0:f.code,null===N||void 0===N?void 0:N.subAccount),null===f||void 0===f?void 0:f.code,null===N||void 0===N?void 0:N.subAccount))},children:"Exportar a CSV"}),(0,i.ML)()&&(null===(o=(0,i.bh)("global_account_params"))||void 0===o?void 0:o.cash_bank)===(null===f||void 0===f?void 0:f.accountId)?(0,h.jsx)("div",{className:"group_title addBtn purple upl",onClick:function(){var e={zIndex:450,height:"80vh",props:{minHeight:"1vh",overlay:!0}};e.content=(0,h.jsx)(S,{accountD:f,subaccountD:N,operations:null===_||void 0===_?void 0:_.operations}),(0,d.OpenModal)(e),(0,d.CloseModal)({id:v.modalID})},children:"Consolidacion Bancaria"}):null]}),(0,h.jsxs)("div",{className:"_dsplFlx cmp_dtls",children:[(0,h.jsxs)("div",{className:" acc_dtls",style:{marginTop:10},children:[(0,h.jsxs)("div",{className:"_dsplFlx",children:[(0,h.jsx)("div",{className:"code","data-ref":"".concat(null===f||void 0===f?void 0:f.accountId),style:{color:"var(--hrm_palette-blue-purple)"},children:null===f||void 0===f?void 0:f.code}),(0,h.jsx)("div",{className:"name",style:{color:"var(--hrm_palette-imput-label_gray)"},children:null===f||void 0===f?void 0:f.name})]}),(0,h.jsx)("div",{className:"flexSpace"}),N?(0,h.jsxs)("div",{className:"_dsplFlx",style:{margin:"10px 0 0 18px"},children:[(0,h.jsx)("div",{className:"code","data-ref":"".concat(null===N||void 0===N?void 0:N.sub_accountId),style:{color:"var(--hrm_palette-inverse-background-b)"},children:null===N||void 0===N?void 0:N.subAccount}),(0,h.jsx)("div",{className:"name",style:{color:"var(--hrm_palette-imput-label_gray)"},children:null===N||void 0===N?void 0:N.subAccountName})]}):null]}),(0,h.jsx)("div",{className:"flexSpace"}),(0,h.jsxs)("div",{className:"_dsplFlx acc_dtls",style:{margin:"18px 10px 0 0"},children:[(0,h.jsx)("div",{className:"name",style:{color:"var(--hrm_palette-imput-label_gray)"},children:"Saldo Inicial"}),(0,h.jsx)("div",{className:"code",style:{marginLeft:10,color:"var(--hrm_palette-blue-purple)"},children:"credit"===f.type?-1*y:y})]}),(0,h.jsx)("div",{className:"_dsplFlx",children:(0,h.jsx)("div",{style:{marginTop:6},children:(0,h.jsx)(Z,{onSelect:function(e){var a=e.initDate,s=e.lastDate;(0,i.Rz)("date_range_submayor",{initDate:a,lastDate:s}),(0,r.rs)(m,j)},initMonth:k})})})]}),(0,h.jsxs)("div",{className:"_dsplFlx hdr_bar purple",children:[(0,h.jsx)("div",{className:"tr_bar_s6",children:"Comprobante"}),(0,h.jsx)("div",{className:"tr_bar_s6",children:"Fecha"}),(0,h.jsx)("div",{className:"tr_bar_s6",children:"Documento"}),(0,h.jsx)("div",{className:"tr_bar_s6",children:"Debito"}),(0,h.jsx)("div",{className:"tr_bar_s6",children:"Credito"}),(0,h.jsx)("div",{className:"tr_bar_s6",children:"Saldo"})]}),(0,h.jsx)("div",{className:"scollVh subMHeight",children:(null===_||void 0===_?void 0:_.operations)&&(null===(u=(0,r.T7)(null===_||void 0===_?void 0:_.operations,null===m||void 0===m?void 0:m.account,null===m||void 0===m?void 0:m.subAccount,k))||void 0===u?void 0:u.map((function(e,a){var s,l,n;return(0,h.jsxs)("div",{className:"_dsplFlx hdr_bar",children:[(0,h.jsx)("div",{className:"tr_bar_s6 comprobante_id",onClick:function(){return function(e){(0,d.CloseModal)({id:v.modalID}),g({pathname:"accounting-ledger",search:"?cId=".concat(e.comprobanteId)})}(e)},children:e.comprobanteId}),(0,h.jsx)("div",{className:"tr_bar_s6",children:e.date&&(0,i.sJ)(e.date)}),(0,h.jsx)("div",{className:"tr_bar_s6",children:e.document}),(0,h.jsx)("div",{className:"tr_bar_s6",children:null===(s=1*e.debit)||void 0===s?void 0:s.toFixed(2)}),(0,h.jsx)("div",{className:"tr_bar_s6",children:null===(l=1*e.credit)||void 0===l?void 0:l.toFixed(2)}),(0,h.jsx)("div",{className:"tr_bar_s6",children:null===(n=1*e.saldo)||void 0===n?void 0:n.toFixed(2)})]},a)})))})]})}},1636:function(){},1413:function(e,a,s){s.d(a,{Z:function(){return i}});var l=s(4942);function n(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);a&&(l=l.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),s.push.apply(s,l)}return s}function i(e){for(var a=1;a<arguments.length;a++){var s=null!=arguments[a]?arguments[a]:{};a%2?n(Object(s),!0).forEach((function(a){(0,l.Z)(e,a,s[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))}))}return e}}}]);
//# sourceMappingURL=5219.abad96ef.chunk.js.map