"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[5405,9760],{9760:(e,l,a)=>{a.r(l),a.d(l,{CloseModal:()=>c,OpenModal:()=>r,default:()=>o});var s=a(2791),i=a(5408),d=a(2350),t=a(184);const n="listDialog_mdh392",o=()=>{const e=(0,d.bh)("listDialog")||{};(0,i.Z)(n);let l=Object.keys(e);return(0,t.jsx)(t.Fragment,{children:l.map(((l,a)=>{let i=e[l];if(i&&i.visible){let e={};i.height&&(e.heigth=i.height),i.width,i.zIndex&&(e.zIndex=i.zIndex-1);let a={zIndex:i.zIndex},d=null,n=i.data;return i.content&&(d=s.cloneElement(i.content,{data:n})),(0,t.jsxs)("div",{className:"ltr-1kbnjow",style:e,children:[(0,t.jsx)("div",{className:"ltr-hoe9xz",children:(0,t.jsx)("div",{className:"ltr-1wao6ny",style:a,id:l,children:d})}),i.data.overlay?(0,t.jsx)("div",{className:"DialogHRMOverlay ".concat(i.visible?"active":""),onClick:()=>{var e;e=l,document.getElementsByTagName("html")[0].classList.remove("has-level-two"),c({id:e})}}):null]},l)}}))})},r=e=>{let l=(0,d.bh)("listDialog")||{},a=(0,d.M5)();l[a]||(l[a]={}),l[a].visible=!0;let s={};e.props?(s=e.props,s.modalID=a):s.modalID=a;let i=document.getElementsByTagName("body")[0];null!==i&&void 0!==i&&i.style&&(i.style.overflowY="hidden"),l[a].isView=e.isView,l[a].observeResize=e.observeResize,l[a].observeResize&&(l[a].observeInterval=setInterval((()=>{let e=document.querySelector("[dialog-key-id='".concat(a,"']")),s=e&&e.getBoundingClientRect();s&&(s.width===l[a].width&&s.height===l[a].height||(l[a].height=s.height+10,l[a].width=s.width,(0,d.Rz)("listDialog",l),(0,d.wt)(n)))}),200)),l[a].display=!0,e.zIndex&&(l[a].zIndex=e.zIndex),e.height&&(l[a].height=e.height),e.width&&(l[a].width=e.width),e.content&&(l[a].content=e.content),l[a].data=s,(0,d.Rz)("listDialog",l),(0,d.wt)(n),setTimeout((()=>{document.getElementsByTagName("html")[0].classList.add("has-level-two"),(0,d.Rz)("modalOpen",a),(0,d.wt)(n)}),125)},c=e=>{let l=(0,d.bh)("listDialog")||{},a=e.id;if(l[a]){var s,i,t;l[a].observeResize&&l[a].observeInterval&&clearInterval(l[a].observeInterval),l[a].display=!1,null===(s=l[a])||void 0===s||null===(i=s.data)||void 0===i||null===(t=i.closeEvent)||void 0===t||t.call(i),(0,d.Rz)("listDialog",l),delete l[a],document.getElementsByTagName("body")[0].style.overflowY=null,(0,d.wt)(n),setTimeout((()=>{delete l[a],document.getElementsByTagName("html")[0].classList.remove("has-level-two"),(0,d.Rz)("modalOpen",null)}),750)}}},5405:(e,l,a)=>{a.r(l),a.d(l,{default:()=>b});var s=a(2791),i=a(2350),d=(a(2768),a(9760)),t=a(901),n=a(2647),o=(a(8412),a(184));const r=e=>{let{data:l,confirm:a,handleClick:s,close:i}=e;const{modalID:t}=l,n=e=>{(0,d.CloseModal)({id:t})};return(0,o.jsxs)("div",{style:{maxHeight:"40vh",minHeight:"28vh",overflow:"auto",background:"#fff",borderRadius:13,padding:"10px 19px"},children:[(0,o.jsxs)("div",{className:"_dsplFlx ",children:[(0,o.jsx)("p",{className:"form_title",children:"Eliminar Cheque"}),(0,o.jsx)("div",{className:"flexSpace"})]}),(0,o.jsx)("div",{className:"_dsplFlx ",children:(0,o.jsx)("span",{children:"Una vez eliminado no podra ser recuperado"})}),(0,o.jsxs)("div",{className:"_dsplFlx ",style:{padding:"15px 10px"},children:[(0,o.jsx)("div",{className:"flexSpace"}),(0,o.jsx)("p",{className:"group_title addBtn",onClick:n,children:"Cancelar"}),(0,o.jsx)("p",{className:"group_title addBtn red",onClick:()=>{a(),n()},children:"Eliminar"})]})]})};var c=a(9661),h=a(24);const v=(0,n.Np)(),u=(0,c.LZ)(),m=(0,h.f_)(),p="upd_pay_check_future",x=e=>{var l,a,t,n,r,c;let{data:h,confirm:x}=e;const[_,b]=(0,s.useState)(!1),[g,y]=(0,s.useState)(0);(0,s.useEffect)((()=>{_||(b(!0),y((0,i.M5)()))}));const j=(e,l,a)=>{let s=(0,i.bh)(p)||{};a?(s[a]||(s[a]={}),s[a][e]=l):s[e]=l,(0,i.Rz)(p,s),y((0,i.M5)())};let f=["document","amount","checkOrSlip","providerId"],N=(0,i.vy)(f,(0,i.bh)(p),(0,i.bh)(p+"_bck"));let k=null===(l=(0,i.bh)("providers_ids"))||void 0===l?void 0:l[null===(a=(0,i.bh)(p))||void 0===a?void 0:a.providerId];return(0,o.jsxs)("div",{style:{maxHeight:"80vh",width:"650px",overflow:"auto",background:"var(--hrm_palette-general-background-b)",borderRadius:13,padding:"10px 19px 30px"},children:[(0,o.jsxs)("div",{className:"_dsplFlx ",children:[(0,o.jsx)("p",{className:"form_title",children:"Agregar Cheque a Futuro"}),(0,o.jsx)("div",{className:"flexSpace"}),(0,o.jsxs)("div",{className:"_dsplFlx ",style:{marginTop:3},children:[(0,o.jsx)("div",{className:"flexSpace"}),(0,o.jsx)(m,{label:"Fecha a pagar",init:null===(t=(0,i.bh)(p))||void 0===t?void 0:t.date,updDate:e=>j("date",e)})]})]}),(0,o.jsx)("div",{style:{marginTop:30},children:null!==k&&void 0!==k&&k.name?(0,o.jsx)("div",{className:"_dsplFlx ",style:{margin:"18px 0"},children:(0,o.jsxs)("div",{className:" acc_dtls",children:[(0,o.jsx)("div",{className:"_dsplFlx",children:(0,o.jsx)("div",{className:"code",style:{color:"#646cff"},onClick:()=>{(0,i.Rz)("provider_picker_payfuture",null),y((0,i.M5)())},children:null===k||void 0===k?void 0:k.name})}),(0,o.jsx)("div",{className:"flexSpace"})]})}):(0,o.jsx)(u,{placeholder:"buscar una provedor",width:320,handleClick:e=>{j("providerId",e.providerId),y((0,i.M5)())}})}),(0,o.jsxs)("div",{className:"_dsplFlx ",style:{marginTop:30},children:[(0,o.jsx)("div",{className:"flexSpace"}),(0,o.jsx)(v,{init:null===(n=(0,i.bh)(p))||void 0===n?void 0:n.checkOrSlip,label:"No Cheque",width:120,updChanges:e=>j("checkOrSlip",e)}),(0,o.jsx)("div",{className:"flexSpace"}),(0,o.jsx)(v,{init:null===(r=(0,i.bh)(p))||void 0===r?void 0:r.document,label:"Documento",width:120,updChanges:e=>j("document",e)}),(0,o.jsx)("div",{className:"flexSpace"}),(0,o.jsx)(v,{init:null===(c=(0,i.bh)(p))||void 0===c?void 0:c.amount,label:"Importe",width:120,updChanges:e=>j("amount",e)}),(0,o.jsx)("div",{className:"flexSpace"})]}),(0,o.jsxs)("div",{className:"_dsplFlx ",style:{margin:"10px 0"},children:[(0,o.jsx)("div",{className:"flexSpace"}),null!==N&&void 0!==N&&N.hasChange?(0,o.jsx)("div",{className:"",children:(0,o.jsx)("button",{onClick:async()=>{var e,l;let a=(0,i.bh)(p),s=(0,i.vy)(f,(0,i.bh)(p),(0,i.bh)(p+"_bck")),t={...null===(e=(0,i.bh)((0,i.hQ)()))||void 0===e?void 0:e.upd_future_check};t.params={businessId:null===(l=(0,i.bh)("profileUser"))||void 0===l?void 0:l.businessId,payFutureCheckId:a.payFutureCheckId},t.data2update=s.data;const n=(0,i.I7)(t);await n&&((0,i.Rz)(p,{}),x&&x(),(null===h||void 0===h?void 0:h.modalID)&&(0,d.CloseModal)({id:null===h||void 0===h?void 0:h.modalID}))},children:"Guardar"})}):null]})]})},_=(0,n.PU)();const b=e=>{var l,a;let{data:n,elmId:c,handleRefreshAll:h}=e;const[v,u]=(0,s.useState)(!1),[m,p]=(0,s.useState)(0);(0,s.useEffect)((()=>{v||(u(!0),p((0,i.M5)()))}));const b=()=>{p((0,i.M5)())},y=()=>{(0,t.Ri)(b)},j=()=>{(0,t.yD)(null===n||void 0===n?void 0:n.payFutureCheckId,h)};(0,t.t_)(null===(l=(0,i.bh)("sub_payChecksOnFuture_group"))||void 0===l?void 0:l[n.payChecksOnFutureId],"subPayChecksOnFuture");let f=null===(a=(0,i.bh)("providers_ids"))||void 0===a?void 0:a[null===n||void 0===n?void 0:n.providerId];return(0,o.jsx)("div",{className:"item_acc",children:(0,o.jsxs)("div",{className:"_dsplFlx item_box payChecksOnFuture_header",children:[(0,o.jsx)("div",{className:"icon_revision tr_bar_5",onClick:async()=>{(0,i.Rz)("upd_pay_check_future",n),(0,i.Rz)("upd_pay_check_future_bck",JSON.parse(JSON.stringify(n)));let e={zIndex:450,height:"80vh",props:{minHeight:"1vh",overlay:!0}};e.content=(0,o.jsx)(x,{confirm:y}),(0,d.OpenModal)(e)},children:(0,o.jsx)(_,{name:3===g(null===n||void 0===n?void 0:n.date)?"check_circle":(g(null===n||void 0===n?void 0:n.date),"alert"),color:3===g(null===n||void 0===n?void 0:n.date)?"var(--hrm_palette-success-fg)":2===g(null===n||void 0===n?void 0:n.date)?"var(--hrm_palette-color-orange-800)":"var(--hrm_palette-selected-nav-text)"})}),(0,o.jsx)("div",{className:"name tr_bar_20",children:(0,i.sJ)(null===n||void 0===n?void 0:n.date)}),(0,o.jsx)("div",{style:{margin:"0 10px"}}),(0,o.jsx)("div",{className:"code tr_bar_10",children:null===n||void 0===n?void 0:n.checkOrSlip}),(0,o.jsx)("div",{className:"name tr_bar_20",children:null===n||void 0===n?void 0:n.document}),(0,o.jsx)("div",{className:"name tr_bar_30",children:null===f||void 0===f?void 0:f.name}),(0,o.jsxs)("div",{className:"unit tr_bar_10 right_algn",children:["$",null===n||void 0===n?void 0:n.amount]}),(0,o.jsx)("div",{className:"icon tr_bar_5",style:{marginLeft:19},onClick:()=>{let e=(0,i.bh)("lastTimeCallModal")||0;if(Date.now()>e){(0,i.Rz)("lastTimeCallModal",Date.now()+320);let e={zIndex:450,height:"40vh",props:{minHeight:"1vh",overlay:!0,closeEvent:()=>{}}};e.content=(0,o.jsx)(r,{confirm:j,item:n}),(0,d.OpenModal)(e)}},children:(0,o.jsx)(_,{name:"outline_delete",color:"#c62828"})})]})})},g=e=>{let l=e-(new Date).getTime();return l<6048e5?1:l<12096e5?2:3}},901:(e,l,a)=>{a.d(l,{$s:()=>r,Ly:()=>d,Ri:()=>i,gW:()=>t,t_:()=>n,yD:()=>o});var s=a(2350);const i=async e=>{e&&e()},d=async e=>{var l,a;let i={...null===(l=(0,s.bh)((0,s.hQ)()))||void 0===l?void 0:l.search_future_check};i.params={businessId:null===(a=(0,s.bh)("profileUser"))||void 0===a?void 0:a.businessId},(0,s.bh)("searchCFQry").split(" ").map(((e,l)=>{e&&(i.params[":search"+l]=e.trim())}));const d=(0,s.I7)(i),t=await d;t&&((0,s.Rz)("payChecksOnFutures_list",n((0,s.jQ)(t),"date")),e&&e())},t=async e=>{var l,a,i,d;(0,s.Rz)("payChecksOnFutures_list",null);let t={...null===(l=(0,s.bh)((0,s.hQ)()))||void 0===l?void 0:l.search_future_check};t.params={businessId:null===(a=(0,s.bh)("profileUser"))||void 0===a?void 0:a.businessId,":date1":(null===(i=(0,s.bh)("date_range_comps"))||void 0===i?void 0:i.initDate)-10,":date2":null===(d=(0,s.bh)("date_range_comps"))||void 0===d?void 0:d.lastDate},(0,s.bh)("searchCFQry").split(" ").map(((e,l)=>{e&&(t.params[":search"+l]=e.trim())}));const o=(0,s.I7)(t),r=await o;if(r&&!r.error){var c=[];r&&(0,s._2)(r).map((e=>{var l,a;r[e].date>(null===(l=(0,s.bh)("date_range_comps"))||void 0===l?void 0:l.initDate)-10&&r[e].date<=(null===(a=(0,s.bh)("date_range_comps"))||void 0===a?void 0:a.lastDate)&&c.push(r[e])})),(0,s.Rz)("payChecksOnFutures_list",n(c,"date"))}e&&e()};const n=(e,l)=>(0,s.MV)("sortPayChecksOnFutures",[e],(()=>e&&e.sort(((e,a)=>{let s=1*e[l],i=1*a[l];return s<i?-1:s>i?1:0})))),o=async(e,l)=>{var a,i;let d={...null===(a=(0,s.bh)((0,s.hQ)()))||void 0===a?void 0:a.delete_future_check};d.params={businessId:null===(i=(0,s.bh)("profileUser"))||void 0===i?void 0:i.businessId,payFutureCheckId:e};const t=(0,s.I7)(d);await t&&l&&l()},r=()=>{}},2768:()=>{},8412:()=>{}}]);
//# sourceMappingURL=5405.769a1ce5.chunk.js.map