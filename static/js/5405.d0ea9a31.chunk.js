"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[5405],{5405:(e,a,l)=>{l.r(a),l.d(a,{default:()=>b});var s=l(2791),d=l(2350),i=(l(2768),l(9760)),r=l(901),n=l(2647),t=(l(8412),l(184));const c=e=>{let{data:a,confirm:l,handleClick:s,close:d}=e;const{modalID:r}=a,n=e=>{(0,i.CloseModal)({id:r})};return(0,t.jsxs)("div",{style:{maxHeight:"40vh",minHeight:"28vh",overflow:"auto",background:"#fff",borderRadius:13,padding:"10px 19px"},children:[(0,t.jsxs)("div",{className:"_dsplFlx ",children:[(0,t.jsx)("p",{className:"form_title",children:"Eliminar Cheque"}),(0,t.jsx)("div",{className:"flexSpace"})]}),(0,t.jsx)("div",{className:"_dsplFlx ",children:(0,t.jsx)("span",{children:"Una vez eliminado no podra ser recuperado"})}),(0,t.jsxs)("div",{className:"_dsplFlx ",style:{padding:"15px 10px"},children:[(0,t.jsx)("div",{className:"flexSpace"}),(0,t.jsx)("p",{className:"group_title addBtn",onClick:n,children:"Cancelar"}),(0,t.jsx)("p",{className:"group_title addBtn red",onClick:()=>{l(),n()},children:"Eliminar"})]})]})};var o=l(9661),u=l(24);const v=(0,n.Np)(),h=(0,o.LZ)(),p=(0,u.f_)(),m="upd_pay_check_future",x=e=>{var a,l,r,n,c,o;let{data:u,confirm:x}=e;const[_,b]=(0,s.useState)(!1),[f,j]=(0,s.useState)(0);(0,s.useEffect)((()=>{_||(b(!0),j((0,d.M5)()))}));const k=(e,a,l)=>{let s=(0,d.bh)(m)||{};l?(s[l]||(s[l]={}),s[l][e]=a):s[e]=a,(0,d.Rz)(m,s),j((0,d.M5)())};let y=["document","amount","checkOrSlip","providerId"],g=(0,d.vy)(y,(0,d.bh)(m),(0,d.bh)(m+"_bck"));let N=null===(a=(0,d.bh)("providers_ids"))||void 0===a?void 0:a[null===(l=(0,d.bh)(m))||void 0===l?void 0:l.providerId];return(0,t.jsxs)("div",{style:{maxHeight:"80vh",width:"650px",overflow:"auto",background:"var(--hrm_palette-general-background-b)",borderRadius:13,padding:"10px 19px 30px"},children:[(0,t.jsxs)("div",{className:"_dsplFlx ",children:[(0,t.jsx)("p",{className:"form_title",children:"Agregar Cheque a Futuro"}),(0,t.jsx)("div",{className:"flexSpace"}),(0,t.jsxs)("div",{className:"_dsplFlx ",style:{marginTop:3},children:[(0,t.jsx)("div",{className:"flexSpace"}),(0,t.jsx)(p,{label:"Fecha a pagar",init:null===(r=(0,d.bh)(m))||void 0===r?void 0:r.date,updDate:e=>k("date",e)})]})]}),(0,t.jsx)("div",{style:{marginTop:30},children:null!==N&&void 0!==N&&N.name?(0,t.jsx)("div",{className:"_dsplFlx ",style:{margin:"18px 0"},children:(0,t.jsxs)("div",{className:" acc_dtls",children:[(0,t.jsx)("div",{className:"_dsplFlx",children:(0,t.jsx)("div",{className:"code",style:{color:"#646cff"},onClick:()=>{(0,d.Rz)("provider_picker_payfuture",null),j((0,d.M5)())},children:null===N||void 0===N?void 0:N.name})}),(0,t.jsx)("div",{className:"flexSpace"})]})}):(0,t.jsx)(h,{placeholder:"buscar una provedor",width:320,handleClick:e=>{k("providerId",e.providerId),j((0,d.M5)())}})}),(0,t.jsxs)("div",{className:"_dsplFlx ",style:{marginTop:30},children:[(0,t.jsx)("div",{className:"flexSpace"}),(0,t.jsx)(v,{init:null===(n=(0,d.bh)(m))||void 0===n?void 0:n.checkOrSlip,label:"No Cheque",width:120,updChanges:e=>k("checkOrSlip",e)}),(0,t.jsx)("div",{className:"flexSpace"}),(0,t.jsx)(v,{init:null===(c=(0,d.bh)(m))||void 0===c?void 0:c.document,label:"Documento",width:120,updChanges:e=>k("document",e)}),(0,t.jsx)("div",{className:"flexSpace"}),(0,t.jsx)(v,{init:null===(o=(0,d.bh)(m))||void 0===o?void 0:o.amount,label:"Importe",width:120,updChanges:e=>k("amount",e)}),(0,t.jsx)("div",{className:"flexSpace"})]}),(0,t.jsxs)("div",{className:"_dsplFlx ",style:{margin:"10px 0"},children:[(0,t.jsx)("div",{className:"flexSpace"}),null!==g&&void 0!==g&&g.hasChange?(0,t.jsx)("div",{className:"",children:(0,t.jsx)("button",{onClick:async()=>{var e,a;let l=(0,d.bh)(m),s=(0,d.vy)(y,(0,d.bh)(m),(0,d.bh)(m+"_bck")),r={...null===(e=(0,d.bh)((0,d.hQ)()))||void 0===e?void 0:e.upd_future_check};r.params={businessId:null===(a=(0,d.bh)("profileUser"))||void 0===a?void 0:a.businessId,payFutureCheckId:l.payFutureCheckId},r.data2update=s.data;const n=(0,d.I7)(r);await n&&((0,d.Rz)(m,{}),x&&x(),(null===u||void 0===u?void 0:u.modalID)&&(0,i.CloseModal)({id:null===u||void 0===u?void 0:u.modalID}))},children:"Guardar"})}):null]})]})},_=(0,n.PU)();const b=e=>{var a,l;let{data:n,elmId:o,handleRefreshAll:u}=e;const[v,h]=(0,s.useState)(!1),[p,m]=(0,s.useState)(0);(0,s.useEffect)((()=>{v||(h(!0),m((0,d.M5)()))}));const b=()=>{m((0,d.M5)())},j=()=>{(0,r.Ri)(b)},k=()=>{(0,r.yD)(null===n||void 0===n?void 0:n.payFutureCheckId,u)};(0,r.t_)(null===(a=(0,d.bh)("sub_payChecksOnFuture_group"))||void 0===a?void 0:a[n.payChecksOnFutureId],"subPayChecksOnFuture");let y=null===(l=(0,d.bh)("providers_ids"))||void 0===l?void 0:l[null===n||void 0===n?void 0:n.providerId];return(0,t.jsx)("div",{className:"item_acc",children:(0,t.jsxs)("div",{className:"_dsplFlx item_box payChecksOnFuture_header",children:[(0,t.jsx)("div",{className:"icon_revision tr_bar_5",onClick:async()=>{(0,d.Rz)("upd_pay_check_future",n),(0,d.Rz)("upd_pay_check_future_bck",JSON.parse(JSON.stringify(n)));let e={zIndex:450,height:"80vh",props:{minHeight:"1vh",overlay:!0}};e.content=(0,t.jsx)(x,{confirm:j}),(0,i.OpenModal)(e)},children:(0,t.jsx)(_,{name:3===f(null===n||void 0===n?void 0:n.date)?"check_circle":(f(null===n||void 0===n?void 0:n.date),"alert"),color:3===f(null===n||void 0===n?void 0:n.date)?"var(--hrm_palette-success-fg)":2===f(null===n||void 0===n?void 0:n.date)?"var(--hrm_palette-color-orange-800)":"var(--hrm_palette-selected-nav-text)"})}),(0,t.jsx)("div",{className:"name tr_bar_20",children:(0,d.sJ)(null===n||void 0===n?void 0:n.date)}),(0,t.jsx)("div",{style:{margin:"0 10px"}}),(0,t.jsx)("div",{className:"code tr_bar_10",children:null===n||void 0===n?void 0:n.checkOrSlip}),(0,t.jsx)("div",{className:"name tr_bar_20",children:null===n||void 0===n?void 0:n.document}),(0,t.jsx)("div",{className:"name tr_bar_30",children:null===y||void 0===y?void 0:y.name}),(0,t.jsxs)("div",{className:"unit tr_bar_10 right_algn",children:["$",null===n||void 0===n?void 0:n.amount]}),(0,t.jsx)("div",{className:"icon tr_bar_5",style:{marginLeft:19},onClick:()=>{let e=(0,d.bh)("lastTimeCallModal")||0;if(Date.now()>e){(0,d.Rz)("lastTimeCallModal",Date.now()+320);let e={zIndex:450,height:"40vh",props:{minHeight:"1vh",overlay:!0,closeEvent:()=>{}}};e.content=(0,t.jsx)(c,{confirm:k,item:n}),(0,i.OpenModal)(e)}},children:(0,t.jsx)(_,{name:"outline_delete",color:"#c62828"})})]})})},f=e=>{let a=e-(new Date).getTime();return a<6048e5?1:a<12096e5?2:3}},901:(e,a,l)=>{l.d(a,{$s:()=>c,Ly:()=>i,Ri:()=>d,gW:()=>r,t_:()=>n,yD:()=>t});var s=l(2350);const d=async e=>{e&&e()},i=async e=>{var a,l;let d={...null===(a=(0,s.bh)((0,s.hQ)()))||void 0===a?void 0:a.search_future_check};d.params={businessId:null===(l=(0,s.bh)("profileUser"))||void 0===l?void 0:l.businessId},(0,s.bh)("searchCFQry").split(" ").map(((e,a)=>{e&&(d.params[":search"+a]=e.trim())}));const i=(0,s.I7)(d),r=await i;r&&((0,s.Rz)("payChecksOnFutures_list",n((0,s.jQ)(r),"date")),e&&e())},r=async e=>{var a,l,d,i;(0,s.Rz)("payChecksOnFutures_list",null);let r={...null===(a=(0,s.bh)((0,s.hQ)()))||void 0===a?void 0:a.search_future_check};r.params={businessId:null===(l=(0,s.bh)("profileUser"))||void 0===l?void 0:l.businessId,":date1":(null===(d=(0,s.bh)("date_range_comps"))||void 0===d?void 0:d.initDate)-10,":date2":null===(i=(0,s.bh)("date_range_comps"))||void 0===i?void 0:i.lastDate},(0,s.bh)("searchCFQry").split(" ").map(((e,a)=>{e&&(r.params[":search"+a]=e.trim())}));const t=(0,s.I7)(r),c=await t;if(c&&!c.error){var o=[];c&&(0,s._2)(c).map((e=>{var a,l;c[e].date>(null===(a=(0,s.bh)("date_range_comps"))||void 0===a?void 0:a.initDate)-10&&c[e].date<=(null===(l=(0,s.bh)("date_range_comps"))||void 0===l?void 0:l.lastDate)&&o.push(c[e])})),(0,s.Rz)("payChecksOnFutures_list",n(o,"date"))}e&&e()};const n=(e,a)=>(0,s.MV)("sortPayChecksOnFutures",[e],(()=>e&&e.sort(((e,l)=>{let s=1*e[a],d=1*l[a];return s<d?-1:s>d?1:0})))),t=async(e,a)=>{var l,d;let i={...null===(l=(0,s.bh)((0,s.hQ)()))||void 0===l?void 0:l.delete_future_check};i.params={businessId:null===(d=(0,s.bh)("profileUser"))||void 0===d?void 0:d.businessId,payFutureCheckId:e};const r=(0,s.I7)(i);await r&&a&&a()},c=()=>{}},2768:()=>{},8412:()=>{}}]);
//# sourceMappingURL=5405.d0ea9a31.chunk.js.map