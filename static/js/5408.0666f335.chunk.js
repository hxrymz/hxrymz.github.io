"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[5408],{1894:(o,t,e)=>{e.d(t,{C:()=>s,n:()=>a});var i=e(6963),d=e(2350),r=e(4e3),l=e(6824);let n=0;const a=async o=>{var t,e,l,a,s,c;const v=await i.PDFDocument.create();v.registerFontkit(r.Z);var x=await v.embedFont(i.StandardFonts.TimesRoman),u=await v.embedFont(i.StandardFonts.TimesRomanBold),w=await v.embedFont(i.StandardFonts.TimesRomanBold);if((0,d.bh)("modernFontReport")){let o=(0,d.bh)("Roboto-Bold.ttf");const t=await fetch(o).then((o=>o.arrayBuffer()));u=await v.embedFont(t);let e=(0,d.bh)("ggSans-Italic.ttf");const i=await fetch(e).then((o=>o.arrayBuffer()));x=await v.embedFont(i);let r=(0,d.bh)("ggSans-Medium.ttf");const l=await fetch(r).then((o=>o.arrayBuffer()));w=await v.embedFont(l)}let h=v.addPage();const{width:b,height:f}=h.getSize(),y=10;n=f-40;const T=w.widthOfTextAtSize(null===o||void 0===o?void 0:o.document,12),g=x.widthOfTextAtSize("Invoice: ",11);h.drawText("Invoice: ",{x:580-T-g,y:n,size:11,font:x,color:(0,i.rgb)(0,0,0)}),h.drawText(null===o||void 0===o?void 0:o.document,{x:580-T,y:n,size:12,font:w,color:(0,i.rgb)(0,0,0)});let z=f-30;h.drawText("Granite Concepts",{x:20,y:z,size:13,font:u,color:(0,i.rgb)(0,0,0)}),h.drawText("4504 Poplar Level Rd",{x:20,y:z-15,size:10,font:x,color:(0,i.rgb)(0,0,0)}),h.drawText("Louisville, KY 40213",{x:20,y:z-30,size:10,font:x,color:(0,i.rgb)(0,0,0)}),h.drawText("(502) 742-2473",{x:20,y:z-45,size:10,font:u,color:(0,i.rgb)(0,0,0)}),h.drawText("graniteconceptsky@gmail.com",{x:20,y:z-60,size:10,font:x,color:(0,i.rgb)(0,0,0)}),h.drawText("graniteconceptsky.com",{x:20,y:z-75,size:10,font:x,color:(0,i.rgb)(0,0,0)}),n-=20;const m=x.widthOfTextAtSize("Date: ",11),p=u.widthOfTextAtSize((0,d.Gv)(null===o||void 0===o?void 0:o.date)+"",12);h.drawText("Date: ",{x:580-m-p,y:n,size:11,font:x,color:(0,i.rgb)(0,0,0)}),h.drawText((0,d.Gv)(null===o||void 0===o?void 0:o.date)+"",{x:580-p,y:n,size:12,font:u,color:(0,i.rgb)(.06,.06,.06)}),n-=20;let S=null===(t=(0,d.bh)("providers_ids"))||void 0===t||null===(e=t[null===o||void 0===o||null===(l=o.customer)||void 0===l?void 0:l.providerId])||void 0===e?void 0:e.name;const A=x.widthOfTextAtSize("Bill To: ",11),O=u.widthOfTextAtSize(S+"",12);h.drawText("Bill To: ",{x:580-A-O,y:n,size:11,font:x,color:(0,i.rgb)(0,0,0)}),h.drawText(S+"",{x:580-O,y:n,size:12,font:u,color:(0,i.rgb)(0,0,0)}),n-=50,h.drawRectangle({x:15,y:n+1,width:560,height:.85,color:(0,i.rgb)(.53,.53,.53),borderColor:(0,i.rgb)(.53,.53,.53)}),h.drawText((null===o||void 0===o?void 0:o.description)+"",{x:20,y:n-11,size:10,font:x,color:(0,i.rgb)(0,0,0)}),n-=20,h.drawRectangle({x:15,y:n+1,width:560,height:.85,color:(0,i.rgb)(.53,.53,.53),borderColor:(0,i.rgb)(.53,.53,.53)}),n-=18,h.drawText((0,d.zE)(4)+"",{x:20,y:n,size:13,font:u,color:(0,i.rgb)(0,0,0)});const F=u.widthOfTextAtSize((0,d.zE)(14)+"",12);h.drawText((0,d.zE)(10)+"",{x:480-F,y:n,size:12,font:u,color:(0,i.rgb)(0,0,0)});const _=u.widthOfTextAtSize((0,d.zE)(14)+"",12);h.drawText((0,d.zE)(14)+"",{x:560-_,y:n,size:12,font:u,color:(0,i.rgb)(0,0,0)}),n-=8,h.drawRectangle({x:15,y:n+1,width:560,height:.95,color:(0,i.rgb)(.53,.53,.53),borderColor:(0,i.rgb)(.53,.53,.53)});let I=(null===o||void 0===o?void 0:o.products)||[];Array.isArray(I)&&I.map(((o,t)=>{var e,r,l,a;const s=null===(e=(0,d.bh)("products_ids"))||void 0===e||null===(r=e[null===o||void 0===o?void 0:o.product])||void 0===r?void 0:r.name;n-=16,s&&h.drawText(s+"",{x:20,y:n,size:y,font:x,color:(0,i.rgb)(0,0,0)});let c=null!==o&&void 0!==o&&o.qty?null===(l=1*(null===o||void 0===o?void 0:o.qty))||void 0===l?void 0:l.toFixed(2):"0.00";const v=x.widthOfTextAtSize(c+"",y);h.drawText(c+"",{x:480-v,y:n,size:y,font:x,color:(0,i.rgb)(0,0,0)});let u=null!==o&&void 0!==o&&o.qty?null===(a=(null===o||void 0===o?void 0:o.salePrice)*(null===o||void 0===o?void 0:o.qty)*1)||void 0===a?void 0:a.toFixed(2):"0.00";const w=x.widthOfTextAtSize(u+"",y);h.drawText(u+"",{x:560-w,y:n,size:y,font:x,color:(0,i.rgb)(0,0,0)})}));let B=(0,d._2)(null===o||void 0===o?void 0:o.extras)||[];Array.isArray(B)&&B.map(((t,e)=>{var d,r,l;let a=null===(d=o.extras)||void 0===d?void 0:d[t];const s=a.description;n-=16,s&&h.drawText(s+"",{x:20,y:n,size:y,font:x,color:(0,i.rgb)(0,0,0)});let c=null!==a&&void 0!==a&&a.qty?null===(r=1*(null===a||void 0===a?void 0:a.qty))||void 0===r?void 0:r.toFixed(2):"0.00";const v=x.widthOfTextAtSize(c+"",y);h.drawText(c+"",{x:480-v,y:n,size:y,font:x,color:(0,i.rgb)(0,0,0)});let u=null!==a&&void 0!==a&&a.qty?null===(l=(null===a||void 0===a?void 0:a.salePrice)*(null===a||void 0===a?void 0:a.qty)*1)||void 0===l?void 0:l.toFixed(2):"0.00";const w=x.widthOfTextAtSize(u+"",y);h.drawText(u+"",{x:560-w,y:n,size:y,font:x,color:(0,i.rgb)(0,0,0)})})),n-=28,h.drawRectangle({x:15,y:n+1,width:560,height:.85,color:(0,i.rgb)(.53,.53,.53),borderColor:(0,i.rgb)(.53,.53,.53)});let P=500;n-=20;let R=null!==o&&void 0!==o&&o.amount?null===o||void 0===o||null===(a=o.amount)||void 0===a?void 0:a.toFixed(2):"0.00";const Q=x.widthOfTextAtSize(R+"",y);h.drawText(R+"",{x:560-Q,y:n,size:y,font:x,color:(0,i.rgb)(.13,.13,.13)});const k=x.widthOfTextAtSize("SubTotal",y);h.drawText("SubTotal",{x:P-k,y:n,size:y,font:x,color:(0,i.rgb)(0,0,0)}),n-=16;let q=null!==o&&void 0!==o&&o.hasTax?null===o||void 0===o||null===(s=o.hasTax)||void 0===s?void 0:s.toFixed(2):"0.00";const C=x.widthOfTextAtSize(q+"",y);h.drawText(q+"",{x:560-C,y:n,size:y,font:x,color:(0,i.rgb)(.13,.13,.13)});const D=x.widthOfTextAtSize("Taxes",y);h.drawText("Taxes",{x:P-D,y:n,size:y,font:x,color:(0,i.rgb)(0,0,0)});let E=null!==o&&void 0!==o&&o.hasTax?(null===o||void 0===o?void 0:o.hasTax)+(null===o||void 0===o?void 0:o.amount):1*(null===o||void 0===o?void 0:o.amount);n-=16;let G=E?null===E||void 0===E?void 0:E.toFixed(2):"0.00";const M=w.widthOfTextAtSize(G+"",11);h.drawText(G+"",{x:560-M,y:n,size:11,font:w,color:(0,i.rgb)(0,0,0)});const j=w.widthOfTextAtSize("Total",11);h.drawText("Total",{x:P-j,y:n,size:11,font:w,color:(0,i.rgb)(0,0,0)}),n-=16;let U=null!==o&&void 0!==o&&o.hasAdvancePay?null===(c=-1*(null===o||void 0===o?void 0:o.hasAdvancePay))||void 0===c?void 0:c.toFixed(2):"0.00";const L=x.widthOfTextAtSize(""+U,11);h.drawText(""+U,{x:560-L,y:n,size:11,font:x,color:(0,i.rgb)(.13,.13,.13)});const N=x.widthOfTextAtSize("Advance Payment",11);h.drawText("Advance Payment",{x:P-N,y:n,size:11,font:x,color:(0,i.rgb)(0,0,0)});let V=E+1*U;n-=16;let Z=V?null===V||void 0===V?void 0:V.toFixed(2):"0.00";const J=w.widthOfTextAtSize(Z+"",11);h.drawText(Z+"",{x:560-J,y:n,size:11,font:w,color:(0,i.rgb)(0,0,0)});const K=w.widthOfTextAtSize("Balance Due",11);h.drawText("Balance Due",{x:P-K,y:n,size:11,font:w,color:(0,i.rgb)(0,0,0)});const Y=await v.save();let H=(0,d.ou)(Y);window.open(H)},s=async o=>{const t=await i.PDFDocument.create();t.registerFontkit(r.Z);const e=await(0,l.h2)(t);let n={x:2,y:35,width:35,height:35};const a=o.map((async(o,r)=>{var l,a,s;const c=t.addPage([187,72]),{width:v,height:x}=c.getSize();let u=x-19,w=v;const h=(0,d.ye)((null===o||void 0===o?void 0:o.invoiceId)+""),b=await fetch(h).then((o=>o.arrayBuffer()));let f=await t.embedPng(b);f&&c.drawImage(f,n);const y=e.GSansBold.widthOfTextAtSize((null===o||void 0===o?void 0:o.document)+"",18);c.drawText((null===o||void 0===o?void 0:o.document)+"",{x:w-6-y,y:u-6,size:18,font:e.GSansBold,color:(0,i.rgb)(0,0,0)});let T=null!==o&&void 0!==o&&o.clientName?(null===o||void 0===o?void 0:o.clientName)+"":"";u-=25,c.drawText(T,{x:5,y:u-19,size:9,font:e.GSansBold,color:(0,i.rgb)(0,0,0)});let g=null===(l=(0,d.bh)("providers_ids"))||void 0===l||null===(a=l[null===o||void 0===o||null===(s=o.customer)||void 0===s?void 0:s.providerId])||void 0===a?void 0:a.name;c.drawText(g+"",{x:6,y:u-6,size:10,font:e.GSansBold,color:(0,i.rgb)(0,0,0)})})),s=(await Promise.all(a),await t.save());let c=(0,d.ou)(s);window.open(c)}},6677:(o,t,e)=>{e.d(t,{Je:()=>d,Qn:()=>a,UO:()=>r,mQ:()=>n});var i=e(2350);const d=async o=>{var t,e;let d={...null===(t=(0,i.bh)((0,i.hQ)()))||void 0===t?void 0:t.all_prov_cust};d.params={businessId:null===(e=(0,i.bh)("profileUser"))||void 0===e?void 0:e.businessId,year:(0,i.bh)("date_current_year")};const r=(0,i.I7)(d),n=await r;n&&((0,i.Rz)("providers_list",l((0,i.jQ)(n),"name",1)),(0,i.Rz)("providers_ids",(0,i.ME)((0,i.jQ)(n),"providerId")),(0,i.Rz)("providers_subacc",(0,i.ME)((0,i.jQ)(n),"subAccount")),o&&o())},r=async o=>{var t,e;let d={...null===(t=(0,i.bh)((0,i.hQ)()))||void 0===t?void 0:t.search_prov_cust};d.params={businessId:null===(e=(0,i.bh)("profileUser"))||void 0===e?void 0:e.businessId,":search":(0,i.bh)("search_prov"),year:(0,i.bh)("date_current_year")};const r=(0,i.I7)(d),n=await r;n&&((0,i.Rz)("providers_list",l((0,i.jQ)(n),"name",1)),o&&o())};const l=(o,t,e)=>(0,i.MV)("sortProviders",[o],(()=>o&&o.sort(((o,i)=>{let d=1*o[t],r=1*i[t];return d<r?e?-1:1:d>r?e?1:-1:0})))),n=(o,t)=>(0,i.MV)("sortSubProviders",[o],(()=>o&&o.sort(((o,e)=>{let i=1*o[t],d=1*e[t];return i<d?-1:i>d?1:0})))),a=async(o,t)=>{var e,d;let r={...null===(e=(0,i.bh)((0,i.hQ)()))||void 0===e?void 0:e.delete_prov_cust};r.params={businessId:null===(d=(0,i.bh)("profileUser"))||void 0===d?void 0:d.businessId,providerId:o,year:(0,i.bh)("date_current_year")};const l=(0,i.I7)(r);await l&&t&&t()}},261:()=>{}}]);
//# sourceMappingURL=5408.0666f335.chunk.js.map