"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[5442,9760],{9760:function(e,a,n){n.r(a),n.d(a,{CloseModal:function(){return o},OpenModal:function(){return d},default:function(){return c}});var l=n(2791),t=n(5408),s=n(2350),i=n(184),r="listDialog_mdh392",c=function(){var e=(0,s.bh)("listDialog")||{},a=((0,t.Z)(r),Object.keys(e));return(0,i.jsx)(i.Fragment,{children:a.map((function(a,n){var t=e[a];if(t&&t.visible){var s={};t.height&&(s.heigth=t.height),t.width,t.zIndex&&(s.zIndex=t.zIndex-1);var r={zIndex:t.zIndex},c=null,d=t.data;return t.content&&(c=l.cloneElement(t.content,{data:d})),(0,i.jsxs)("div",{className:"ltr-1kbnjow",style:s,children:[(0,i.jsx)("div",{className:"ltr-hoe9xz",children:(0,i.jsx)("div",{className:"ltr-1wao6ny",style:r,id:a,children:c})}),t.data.overlay?(0,i.jsx)("div",{className:"DialogHRMOverlay ".concat(t.visible?"active":""),onClick:function(){var e;e=a,document.getElementsByTagName("html")[0].classList.remove("has-level-two"),o({id:e})}}):null]},a)}}))})},d=function(e){var a=(0,s.bh)("listDialog")||{},n=(0,s.M5)();a[n]||(a[n]={}),a[n].visible=!0;var l={};e.props?(l=e.props).modalID=n:l.modalID=n;var t=document.getElementsByTagName("body")[0];null!==t&&void 0!==t&&t.style&&(t.style.overflowY="hidden"),a[n].isView=e.isView,a[n].observeResize=e.observeResize,a[n].observeResize&&(a[n].observeInterval=setInterval((function(){var e=document.querySelector("[dialog-key-id='".concat(n,"']")),l=e&&e.getBoundingClientRect();l&&(l.width===a[n].width&&l.height===a[n].height||(a[n].height=l.height+10,a[n].width=l.width,(0,s.Rz)("listDialog",a),(0,s.wt)(r)))}),200)),a[n].display=!0,e.zIndex&&(a[n].zIndex=e.zIndex),e.height&&(a[n].height=e.height),e.width&&(a[n].width=e.width),e.content&&(a[n].content=e.content),a[n].data=l,(0,s.Rz)("listDialog",a),(0,s.wt)(r),setTimeout((function(){document.getElementsByTagName("html")[0].classList.add("has-level-two"),(0,s.Rz)("modalOpen",n),(0,s.wt)(r)}),125)},o=function(e){var a,n,l,t=(0,s.bh)("listDialog")||{},i=e.id;t[i]&&(t[i].observeResize&&t[i].observeInterval&&clearInterval(t[i].observeInterval),t[i].display=!1,null===(a=t[i])||void 0===a||null===(n=a.data)||void 0===n||null===(l=n.closeEvent)||void 0===l||l.call(n),(0,s.Rz)("listDialog",t),delete t[i],document.getElementsByTagName("body")[0].style.overflowY=null,(0,s.wt)(r),setTimeout((function(){delete t[i],document.getElementsByTagName("html")[0].classList.remove("has-level-two"),(0,s.Rz)("modalOpen",null)}),750))}},4529:function(e,a,n){n.r(a);var l=n(1413),t=n(4165),s=n(5861),i=n(9439),r=n(2791),c=(n(1636),n(2350)),d=n(4050),o=n(7689),u=(n(9760),n(810)),v=n(2647),h=n(3266),m=n(4206),b=n(15),p=n(184),x=(0,v.PU)(),_=(0,v.DK)(),f=(0,m.TY)(),g=(0,v.xu)();a.default=function(e){e.data;var a,n=e.accountForm,l=(0,r.useState)(0),u=(0,i.Z)(l,2)[1],v=(0,r.useState)(0),m=(0,i.Z)(v,2),b=m[0],x=m[1];(0,r.useEffect)((function(){(0,d.ZX)(I),b||x(1)}),[n]);var I=function(){(0,d.Ht)("balance_sheet","balance_params",w),(0,d.K_)(k),(0,d.Ht)("result_sheet","result_params_value",k)},w=function(){(0,d.TP)(k)},k=function(){u((0,c.M5)())},N=new Date(null===(a=(0,c.bh)("date_range_submayor"))||void 0===a?void 0:a.initDate).getMonth(),z=function(){var e,a=new Date(null===(e=(0,c.bh)("date_range_submayor"))||void 0===e?void 0:e.initDate).getMonth()+1,n=(0,c.bh)("balance_params"),l=(0,c.bh)("result_params_value"),t={general:{},result:{}};(0,c.bh)("balance_general_upd_flds").map((function(e){if(!t.general[e]){var l,s,i=null===n||void 0===n?void 0:n[e];t.general[e]={},t.general[e][i]={},t.general[e][i].sub={},t.general[e][i].saldo=(0,d.S)(a,{account:i}),null===(l=(0,c.bh)("sub_account_group"))||void 0===l||null===(s=l[i])||void 0===s||s.map((function(n){var l=n.sub_accountId;t.general[e][i].sub[l]={},t.general[e][i].sub[l].saldo=(0,d.S)(a,{account:i,subAccount:l})}))}})),(0,c.bh)("result_sheet_upd_flds").map((function(e){if(!t.result[e]){var n,s,i=l[e];t.result[e]={},t.result[e][i]={},t.result[e][i].sub={},t.result[e][i].saldo=(0,d.S)(a,{account:i}),null===(n=(0,c.bh)("sub_account_group"))||void 0===n||null===(s=n[i])||void 0===s||s.map((function(n){var l=n.sub_accountId;t.result[e][i].sub[l]={},t.result[e][i].sub[l].saldo=(0,d.S)(a,{account:i,subAccount:l})}))}})),(0,h.$z)(t,(0,c.bh)("balance_general_param"),(0,c.bh)("balance_params"),(0,c.bh)("result_sheet_params"),(0,c.bh)("result_params_value")),u((0,c.M5)())},D=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(a){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.bs)();case 2:n=e.sent,(0,h.f9)(n);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();(0,o.s0)();return(0,p.jsxs)("div",{style:{marginTop:25},children:[(0,p.jsxs)("div",{className:"_dsplFlx ",children:[(0,p.jsx)("p",{className:"title_collect",children:"Balances y Reportes"}),(0,p.jsx)("div",{className:"flexSpace"}),(0,p.jsx)("div",{className:"_dsplFlx",children:(0,p.jsx)("div",{style:{marginTop:6},children:(0,p.jsx)(g,{onSelect:function(e){var a=e.initDate,n=e.lastDate;(0,c.Rz)("date_range_submayor",{initDate:a,lastDate:n}),k()},initMonth:N})})}),(0,p.jsx)("p",{className:"group_title addBtn purple",onClick:function(){z()},children:"Generar Balances"}),(0,p.jsx)("p",{className:"group_title addBtn purple",onClick:D,children:"Balance de Comprobacion"})]}),(0,p.jsx)(_,{indexTab:b,data:[{key:1,label:"General"},{key:2,label:"Resultado"}],updateIndex:x}),(0,p.jsx)(y,{viewId:1,activeView:b,children:(0,p.jsx)(j,{})}),(0,p.jsx)(y,{viewId:2,activeView:b,children:(0,p.jsx)(f,{})})]})};var y=function(e){var a=e.viewId,n=e.activeView,l=e.children;return(0,p.jsx)("div",{className:"opacityView",style:{opacity:a===n?1:0},children:a===n?l:null})},j=function(e){e.keyId;var a=(0,r.useState)(0),n=(0,i.Z)(a,2)[1],d=(0,c.bh)("balance_general_param"),o=(0,c.bh)("balance_general_upd_flds"),u=function(){(0,b.OpenToast)({text:"Los cambios en el Balance de General fueron guardados exitosamente ",timeout:3500}),n((0,c.M5)())},v=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(){var a,n,s,i,r,d,v,h,m,b,p,x,_;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(a=(0,c.bh)("balance_params"))||void 0===a||!a.balanceId){e.next=14;break}return(r=(0,l.Z)({},(0,c.bh)("balance_params"))).balanceId=(0,c.M5)(),(d=(0,l.Z)({},null===(n=(0,c.bh)((0,c.hQ)()))||void 0===n?void 0:n.upd_balances)).params={businessId:null===(s=(0,c.bh)("profileUser"))||void 0===s?void 0:s.businessId,balanceId:null===(i=(0,c.bh)("balance_params"))||void 0===i?void 0:i.balanceId},v=(0,c.vy)(o,(0,c.bh)("balance_params"),(0,c.bh)("balance_params_bck")),d.data2update=v.data,h=(0,c.I7)(d),e.next=10,h;case 10:e.sent&&((0,c.Rz)("balance_params",r),u()),e.next=25;break;case 14:return(p=(0,l.Z)({},(0,c.bh)("balance_params"))).balanceId=(0,c.M5)(),p.type="balance_sheet",(x=(0,l.Z)({},null===(m=(0,c.bh)((0,c.hQ)()))||void 0===m?void 0:m.add_balances)).params={businessId:null===(b=(0,c.bh)("profileUser"))||void 0===b?void 0:b.businessId},x.form=p,_=(0,c.I7)(x),e.next=23,_;case 23:e.sent&&((0,c.Rz)("balance_params",p),u());case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,p.jsxs)("div",{style:{marginTop:20,maxWidth:"90%"},children:[(0,p.jsxs)("div",{className:"_dsplFlx ",children:[(0,p.jsx)("p",{className:"title_collect",children:"Balance General"}),(0,p.jsx)("div",{className:"flexSpace"}),(0,p.jsx)("p",{className:"group_title addBtn purple",onClick:v,children:"Guardar Parametros"})]}),(0,p.jsx)("div",{className:"balance",style:{marginTop:10},children:d&&(0,c._2)(d).map((function(e){return(0,p.jsxs)("div",{style:{marginLeft:12},children:[(0,p.jsx)("h5",{children:e}),Array.isArray(d[e])?(0,p.jsx)("div",{children:d[e].map((function(e){var a;return(0,p.jsx)(I,{keyId:e.key,accountId:null===(a=(0,c.bh)("balance_params"))||void 0===a?void 0:a[e.key]},e.key)}))}):(0,p.jsx)("div",{children:(0,c._2)(d[e]).map((function(a){return(0,p.jsxs)("div",{style:{marginLeft:27},children:[(0,p.jsx)("p",{children:a}),(0,p.jsx)("div",{children:d[e][a].map((function(e){var a;return(0,p.jsx)(I,{keyId:e.key,accountId:null===(a=(0,c.bh)("balance_params"))||void 0===a?void 0:a[e.key]},e.key)}))})]},a)}))})]},e)}))})]})},I=function(e){var a,n,l,t=e.keyId,s=(0,r.useState)(!1),d=(0,i.Z)(s,2),o=d[0],v=d[1],h=(0,r.useState)(!1),m=(0,i.Z)(h,2),b=m[0],_=m[1],f=(0,r.useState)(0),g=(0,i.Z)(f,2)[1],y=null===(a=(0,c.bh)("balance_params"))||void 0===a?void 0:a[t],j=null===(n=(0,c.bh)("account_ids"))||void 0===n?void 0:n[y],I=j&&(null===(l=(0,c.bh)("sub_account_group"))||void 0===l?void 0:l[null===j||void 0===j?void 0:j.accountId]);return(0,p.jsxs)("div",{style:{marginLeft:27},children:[(0,p.jsxs)("div",{className:"_dsplFlx ",children:[(0,p.jsx)("div",{onClick:function(){return v(!o)},className:"".concat(o?"editing":""),style:{marginRight:27},children:(0,p.jsx)("span",{children:t})}),o?(0,p.jsx)("div",{children:(0,p.jsx)(u.Z,{handleClick:function(e){!function(e,a,n){var l="balance_params",t=(0,c.bh)(l)||{};n?(t[n]||(t[n]={}),t[n][e]=a):t[e]=a,(0,c.Rz)(l,t),g((0,c.M5)())}(t,e),v(!1)}})}):(0,p.jsx)("div",{children:(0,p.jsx)("div",{className:"bg_acc_code",children:null===j||void 0===j?void 0:j.code})}),(0,p.jsx)("div",{className:"flexSpace"}),(0,p.jsxs)("div",{className:"right_box _dsplFlx",children:[(0,p.jsx)("div",{className:"bg_acc_amount",style:{marginRight:15}}),(null===I||void 0===I?void 0:I.length)>0?(0,p.jsx)("div",{className:"icon",onClick:function(){return _(!b)},style:{marginTop:12},children:(0,p.jsx)(x,{name:b?"key_arrow_up":"key_arrow_down",color:"#828282"})}):null]})]}),b&&(null===I||void 0===I?void 0:I.length)&&(0,p.jsx)("div",{children:null===I||void 0===I?void 0:I.map((function(e){return e.subAccount?(0,p.jsx)("div",{className:"_dsplFlx account_item_box",style:{marginLeft:"35px"},children:(0,p.jsxs)("div",{className:"_dsplFlx",children:[(0,p.jsx)("div",{className:"code",children:e.subAccount}),(0,p.jsx)("div",{className:"name",children:e.subAccountName})]})},e.sub_accountId):null}))})]})}}}]);
//# sourceMappingURL=5442.0d28b045.chunk.js.map