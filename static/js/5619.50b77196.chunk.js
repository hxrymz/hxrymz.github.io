"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[5619],{9760:function(e,t,o){o.r(t),o.d(t,{CloseModal:function(){return c},OpenModal:function(){return s},default:function(){return l}});var n=o(2791),r=o(5408),a=o(2350),i=o(184),d="listDialog_mdh392",l=function(){var e=(0,a.bh)("listDialog")||{},t=((0,r.Z)(d),Object.keys(e));return(0,i.jsx)(i.Fragment,{children:t.map((function(t,o){var r=e[t];if(r&&r.visible){var a={};r.height&&(a.heigth=r.height),r.width,r.zIndex&&(a.zIndex=r.zIndex-1);var d={zIndex:r.zIndex},l=null,s=r.data;return r.content&&(l=n.cloneElement(r.content,{data:s})),(0,i.jsxs)("div",{className:"ltr-1kbnjow",style:a,children:[(0,i.jsx)("div",{className:"ltr-hoe9xz",children:(0,i.jsx)("div",{className:"ltr-1wao6ny",style:d,id:t,children:l})}),r.data.overlay?(0,i.jsx)("div",{className:"DialogHRMOverlay ".concat(r.visible?"active":""),onClick:function(){var e;e=t,document.getElementsByTagName("html")[0].classList.remove("has-level-two"),c({id:e})}}):null]},t)}}))})},s=function(e){var t=(0,a.bh)("listDialog")||{},o=(0,a.M5)();t[o]||(t[o]={}),t[o].visible=!0;var n={};e.props?(n=e.props).modalID=o:n.modalID=o;var r=document.getElementsByTagName("body")[0];null!==r&&void 0!==r&&r.style&&(r.style.overflowY="hidden"),t[o].isView=e.isView,t[o].observeResize=e.observeResize,t[o].observeResize&&(t[o].observeInterval=setInterval((function(){var e=document.querySelector("[dialog-key-id='".concat(o,"']")),n=e&&e.getBoundingClientRect();n&&(n.width===t[o].width&&n.height===t[o].height||(t[o].height=n.height+10,t[o].width=n.width,(0,a.Rz)("listDialog",t),(0,a.wt)(d)))}),200)),t[o].display=!0,e.zIndex&&(t[o].zIndex=e.zIndex),e.height&&(t[o].height=e.height),e.width&&(t[o].width=e.width),e.content&&(t[o].content=e.content),t[o].data=n,(0,a.Rz)("listDialog",t),(0,a.wt)(d),setTimeout((function(){document.getElementsByTagName("html")[0].classList.add("has-level-two"),(0,a.Rz)("modalOpen",o),(0,a.wt)(d)}),125)},c=function(e){var t,o,n,r=(0,a.bh)("listDialog")||{},i=e.id;r[i]&&(r[i].observeResize&&r[i].observeInterval&&clearInterval(r[i].observeInterval),r[i].display=!1,null===(t=r[i])||void 0===t||null===(o=t.data)||void 0===o||null===(n=o.closeEvent)||void 0===n||n.call(o),(0,a.Rz)("listDialog",r),delete r[i],document.getElementsByTagName("body")[0].style.overflowY=null,(0,a.wt)(d),setTimeout((function(){delete r[i],document.getElementsByTagName("html")[0].classList.remove("has-level-two"),(0,a.Rz)("modalOpen",null)}),750))}},6824:function(e,t,o){o.d(t,{Hc:function(){return c},M9:function(){return x},jD:function(){return u}});var n=o(4165),r=o(5861),a=o(6963),i=o(2350),d=o(4e3);function l(e){return s.apply(this,arguments)}function s(){return(s=(0,r.Z)((0,n.Z)().mark((function e(t){var o,r,d,l,s,c,u,f,x,h,v,b,w,g,y;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.embedFont(a.StandardFonts.Helvetica);case 2:return o=e.sent,e.next=5,t.embedFont(a.StandardFonts.TimesRomanBold);case 5:return r=e.sent,e.next=8,t.embedFont(a.StandardFonts.TimesRoman);case 8:return d=e.sent,l=(0,i.bh)("Roboto-Bold.ttf"),e.next=12,fetch(l).then((function(e){return e.arrayBuffer()}));case 12:return s=e.sent,e.next=15,t.embedFont(s,{subset:!0});case 15:return c=e.sent,u=(0,i.bh)("ggSans-Medium.ttf"),e.next=19,fetch(u).then((function(e){return e.arrayBuffer()}));case 19:return f=e.sent,e.next=22,t.embedFont(f,{subset:!0});case 22:return x=e.sent,h=(0,i.bh)("Roboto-Regular.ttf"),e.next=26,fetch(h).then((function(e){return e.arrayBuffer()}));case 26:return v=e.sent,e.next=29,t.embedFont(v,{subset:!0});case 29:return b=e.sent,w=(0,i.bh)("arial_bold.ttf"),e.next=33,fetch(w).then((function(e){return e.arrayBuffer()}));case 33:return g=e.sent,e.next=36,t.embedFont(g,{subset:!0});case 36:return y=e.sent,e.abrupt("return",{GSansBold:x,helveticaFont:o,RobotoBold:c,RobotoRegular:b,aria_regurlar:y,TimesRomanBold:r,TimesRomanItalic:d});case 38:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var c=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t){var o,s,c,u,f;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.PDFDocument.create();case 2:return(o=e.sent).registerFontkit(d.Z),e.next=6,l(o);case 6:return s=e.sent,c=t.map(function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t,r){var d,l,c,u,f,x,h,v,b,w,g,y,m,z,B,S,p,T;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=o.addPage([288,162]),u=c.getSize(),u.width,f=u.height,x=f-14,h=(0,i.ye)((null===t||void 0===t?void 0:t.inventoryId)+""),e.next=6,fetch(h).then((function(e){return e.arrayBuffer()}));case 6:return v=e.sent,e.next=9,o.embedPng(v);case 9:(b=e.sent)&&c.drawImage(b,{x:10,y:80,width:80,height:80}),w=s.GSansBold.widthOfTextAtSize((null===t||void 0===t?void 0:t.inventoryId)+"",12),g=s.GSansBold.widthOfTextAtSize("ID: ",11),c.drawText("ID: ",{x:270-w-g,y:x,size:11,font:s.GSansBold,color:(0,a.rgb)(0,0,0)}),c.drawText((null===t||void 0===t?void 0:t.inventoryId)+"",{x:270-w,y:x,size:12,font:s.GSansBold,color:(0,a.rgb)(0,0,0)}),x-=20,y=s.RobotoBold.widthOfTextAtSize("Date: ",11),m=s.GSansBold.widthOfTextAtSize((0,i.Gv)(null===t||void 0===t?void 0:t.date)+"",12),c.drawText("Date: ",{x:270-y-m,y:x,size:11,font:s.RobotoBold,color:(0,a.rgb)(0,0,0)}),c.drawText((0,i.Gv)(null===t||void 0===t?void 0:t.date)+"",{x:270-m,y:x,size:12,font:s.GSansBold,color:(0,a.rgb)(.06,.06,.06)}),z=null!==t&&void 0!==t&&t.dimension?(null===t||void 0===t?void 0:t.dimension.split(",")[0])+" X "+(null===t||void 0===t?void 0:t.dimension.split(",")[1])+" inch":"",B=s.GSansBold.widthOfTextAtSize(z+"",19),c.drawText(z+"",{x:270-B,y:x+4,size:19,font:s.GSansBold,color:(0,a.rgb)(.06,.06,.06)}),S=(null===t||void 0===t?void 0:t.qty)+" "+(null!==t&&void 0!==t&&t.unit?null===t||void 0===t?void 0:t.unit:""),p=s.GSansBold.widthOfTextAtSize(S+"",19),c.drawText(S+"",{x:270-p,y:x-54,size:19,font:s.GSansBold,color:(0,a.rgb)(.06,.06,.06)}),x-=65,c.drawRectangle({x:15,y:x+1,width:560,height:.85,color:(0,a.rgb)(.53,.53,.53),borderColor:(0,a.rgb)(.53,.53,.53)}),T=null===(d=(0,i.bh)("products_ids"))||void 0===d||null===(l=d[null===t||void 0===t?void 0:t.productId])||void 0===l?void 0:l.name,c.drawText(T+"",{x:20,y:x-15,size:14,font:s.GSansBold,color:(0,a.rgb)(0,0,0)}),x-=25,c.drawRectangle({x:15,y:x+1,width:560,height:.85,color:(0,a.rgb)(.53,.53,.53),borderColor:(0,a.rgb)(.53,.53,.53)}),x-=10,x-=20,c.drawText(S+"",{x:270-p,y:x+4,size:19,font:s.GSansBold,color:(0,a.rgb)(.06,.06,.06)}),c.drawText((null===t||void 0===t?void 0:t.alphaCode)+"",{x:20,y:x+4,size:22,font:s.RobotoBold,color:(0,a.rgb)(.06,.06,.06)});case 36:case"end":return e.stop()}}),e)})));return function(t,o){return e.apply(this,arguments)}}()),e.next=10,Promise.all(c);case 10:return e.sent,e.next=13,o.save();case 13:u=e.sent,f=(0,i.ou)(u),window.open(f);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t){var o,s,c,u,f,x,h,v,b,w,g,y,m,z;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.PDFDocument.create();case 2:return(o=e.sent).registerFontkit(d.Z),e.next=6,l(o);case 6:return s=e.sent,c=o.addPage(),u=c.getSize(),u.width,f=u.height,x=f-34,h=s.GSansBold.widthOfTextAtSize((null===t||void 0===t?void 0:t.invoice)+"",12),v=s.GSansBold.widthOfTextAtSize("Invoice: ",11),c.drawText("Production Voucher: ",{x:40,y:x,size:16,font:s.GSansBold,color:(0,a.rgb)(0,0,0)}),c.drawText("Invoice: ",{x:520-h-v,y:x,size:11,font:s.GSansBold,color:(0,a.rgb)(0,0,0)}),c.drawText((null===t||void 0===t?void 0:t.invoice)+"",{x:520-h,y:x,size:12,font:s.GSansBold,color:(0,a.rgb)(0,0,0)}),x-=30,b=s.GSansBold.widthOfTextAtSize("Customer: ",11),c.drawText("Customer: ",{x:20,y:x,size:11,font:s.GSansBold,color:(0,a.rgb)(0,0,0)}),c.drawText((null===t||void 0===t?void 0:t.clientName)+"",{x:30+b,y:x,size:12,font:s.GSansBold,color:(0,a.rgb)(0,0,0)}),x-=15,w=s.GSansBold.widthOfTextAtSize("Address: ",11),c.drawText("Address: ",{x:20,y:x,size:11,font:s.GSansBold,color:(0,a.rgb)(0,0,0)}),c.drawText((null===t||void 0===t?void 0:t.clientAddress)+"",{x:30+w,y:x,size:12,font:s.GSansBold,color:(0,a.rgb)(0,0,0)}),x-=45,c.drawText("Materials: ",{x:50,y:x,size:14,font:s.GSansBold,color:(0,a.rgb)(0,0,0)}),x-=25,c.drawRectangle({x:15,y:x-6,width:560,height:.85,color:(0,a.rgb)(.53,.53,.53),borderColor:(0,a.rgb)(.53,.53,.53)}),c.drawText("PROFILE",{x:480,y:x,size:12,font:s.GSansBold,color:(0,a.rgb)(0,0,0)}),c.drawText("QTY",{x:400,y:x,size:12,font:s.GSansBold,color:(0,a.rgb)(0,0,0)}),c.drawText("PRODUCT",{x:40,y:x,size:12,font:s.GSansBold,color:(0,a.rgb)(0,0,0)}),x-=5,t.products.map(function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t,o){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x-=20,c.drawText(null!==t&&void 0!==t&&t.profile?(null===t||void 0===t?void 0:t.profile)+"":"",{x:480,y:x,size:11,font:s.GSansBold,color:(0,a.rgb)(0,0,0)}),c.drawText((null===t||void 0===t?void 0:t.qty)+"",{x:410,y:x,size:11,font:s.GSansBold,color:(0,a.rgb)(0,0,0)}),c.drawText((null===t||void 0===t?void 0:t.productName)+"",{x:50,y:x,size:11,font:s.GSansBold,color:(0,a.rgb)(0,0,0)});case 4:case"end":return e.stop()}}),e)})));return function(t,o){return e.apply(this,arguments)}}()),x-=450,g=t.products.filter((function(e){return e.pngId})),y=g.map(function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t,r){var i,d,l;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.pngId,e.next=3,fetch(i).then((function(e){return e.arrayBuffer()}));case 3:return d=e.sent,e.next=6,o.embedPng(d);case 6:l=e.sent,x-=280*r,c.drawText((null===t||void 0===t?void 0:t.productName)+"",{x:118,y:x+310,size:8,font:s.GSansBold,color:(0,a.rgb)(0,0,0)}),l&&c.drawImage(l,{x:60,y:x,width:650,height:400});case 10:case"end":return e.stop()}}),e)})));return function(t,o){return e.apply(this,arguments)}}()),e.next=37,Promise.all(y);case 37:return e.sent,e.next=40,o.save();case 40:return m=e.sent,z=(0,i.ou)(m),e.abrupt("return",z);case 43:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(e,t){var o,n,r=[],d=10,l=0;e&&e.map((function(e,o){var n=e.amount;if(n){var s,c="("+e.unit+")              "+e.qty,u=t.GSansBold.widthOfTextAtSize((0,i.fY)(n),d),f=t.GSansBold.widthOfTextAtSize((0,i.fY)(c),d),x=t.GSansBold.widthOfTextAtSize((0,i.fY)(e.cost),d);l+=1*n,s={yInc:19,back:o%2===0?{x:22,y:-25,width:564,height:18,color:(0,a.rgb)(.78,.78,.78)}:null,name:{value:(0,i.fY)(e.name),x:30,size:d,font:t.GSansBold},qty:{value:(0,i.fY)(c),x:440-f,size:d,font:t.GSansBold},cost:{value:(0,i.fY)(e.cost),x:500-x,size:d,font:t.GSansBold},amount:{value:(0,i.fY)(n),x:580-u,size:d,font:t.GSansBold}},r.push(s)}}));var s=t.GSansBold.widthOfTextAtSize((null===(o=l)||void 0===o?void 0:o.toFixed(2))+"",12),c={yInc:23,line:{x:396,y:12.3,width:192,height:.5,borderColor:(0,a.rgb)(0,0,0)},cost:{value:(0,i.fY)("Total"),x:400,size:12,font:t.GSansBold},amount:{value:(0,i.fY)(null===(n=l)||void 0===n?void 0:n.toFixed(2)),x:580-s,size:12,font:t.GSansBold}};return r.push(c),r},x=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t){var o,r,s,c,u,x,h,v,b,w,g,y,m,z;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.PDFDocument.create();case 2:return(o=e.sent).registerFontkit(d.Z),e.next=6,l(o);case 6:return r=e.sent,s=o.addPage(),c=s.getSize(),c.width,u=c.height,x=u-26,36,s.drawText("Inventario",{x:20,y:x,size:16,font:r.GSansBold,color:(0,a.rgb)(0,0,0)}),s.drawText("Date: "+(0,i.Gv)(Date.now()),{x:500,y:x,size:11,font:r.GSansBold,color:(0,a.rgb)(0,0,0)}),x-=20,h=13,s.drawText("Product",{x:20,y:x,size:h,font:r.RobotoBold,color:(0,a.rgb)(0,0,0)}),v=r.RobotoBold.widthOfTextAtSize("Qty",h),s.drawText("Qty",{x:430-v,y:x,size:h,font:r.RobotoBold,color:(0,a.rgb)(0,0,0)}),b=r.RobotoBold.widthOfTextAtSize("Cost",h),s.drawText("Cost",{x:500-b,y:x,size:h,font:r.RobotoBold,color:(0,a.rgb)(0,0,0)}),w=r.RobotoBold.widthOfTextAtSize("Amount",h),s.drawText("Amount",{x:580-w,y:x,size:h,font:r.RobotoBold,color:(0,a.rgb)(0,0,0)}),x-=1,g=f(t.list,r),y=Math.ceil(g.length/36),Array.from(Array(y).keys()).map((function(e){if(e>0){s=o.addPage(),x=u-26,s.drawText("Product",{x:20,y:x,size:h,font:r.RobotoBold,color:(0,a.rgb)(0,0,0)});var t=r.RobotoBold.widthOfTextAtSize("Qty",h);s.drawText("Qty",{x:430-t,y:x,size:h,font:r.RobotoBold,color:(0,a.rgb)(0,0,0)});var n=r.RobotoBold.widthOfTextAtSize("Cost",h);s.drawText("Cost",{x:500-n,y:x,size:h,font:r.RobotoBold,color:(0,a.rgb)(0,0,0)});var i=r.RobotoBold.widthOfTextAtSize("Amount",h);s.drawText("Amount",{x:580-i,y:x,size:h,font:r.RobotoBold,color:(0,a.rgb)(0,0,0)}),x-=2}var d=g.slice(36*e,36*(e+1));d&&d.map((function(e,t){x-=e.yInc,e.back&&s.drawRectangle({x:e.back.x,y:x+e.back.y,width:e.back.width,height:e.back.height,color:e.back.color,blendMode:a.BlendMode.Normal}),e.line&&s.drawRectangle({x:e.line.x,y:x+e.line.y,width:e.line.width,height:e.line.height,borderColor:(0,a.rgb)(0,0,0)}),e.name&&s.drawText(e.name.value,{x:e.name.x,y:x,size:e.name.size,font:r.GSansBold,color:(0,a.rgb)(0,0,0)}),e.qty&&s.drawText(e.qty.value,{x:e.qty.x,y:x,size:e.qty.size,font:r.GSansBold,color:(0,a.rgb)(0,0,0)}),e.cost&&s.drawText(e.cost.value,{x:e.cost.x,y:x,size:e.cost.size,font:r.GSansBold,color:(0,a.rgb)(0,0,0)}),e.amount&&s.drawText(e.amount.value,{x:e.amount.x,y:x,size:e.amount.size,font:r.GSansBold,color:(0,a.rgb)(0,0,0)})}))})),e.next=28,o.save();case 28:m=e.sent,z=(0,i.ou)(m),window.open(z);case 31:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},1534:function(){}}]);
//# sourceMappingURL=5619.50b77196.chunk.js.map