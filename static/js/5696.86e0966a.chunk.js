"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[5696],{2825:function(i,e,n){var l=n(9439),t=n(2791),s=n(9760),a=n(2647),d=n(2350),c=n(5143),o=n(184);(0,a.Np)(),(0,a.JY)(),(0,a.LA)();e.Z=function(i){var e,n=i.data,a=i.confirm,v=i.type,u=i.init,m=(0,t.useState)(!1),h=(0,l.Z)(m,2),x=h[0],p=h[1],f=(0,t.useState)(1),g=(0,l.Z)(f,2),j=(g[0],g[1]),b=function(){j((0,d.M5)())};(0,t.useEffect)((function(){x||(p(!0),j((0,d.M5)()),(0,c.bM)(b))}));var _=function(i){j((0,d.M5)()),(0,d.Ey)(a)&&(y(),a(i))},y=function(){(null===n||void 0===n?void 0:n.modalID)&&(0,s.CloseModal)({id:null===n||void 0===n?void 0:n.modalID})},N=(0,d.bh)("categories_list");return(0,o.jsxs)("div",{style:{height:"80vh",width:"80vw",overflow:"auto",background:"var(--dark-800)",borderRadius:13,padding:"10px 19px"},children:[(0,o.jsxs)("div",{className:"_dsplFlx ",children:[(0,o.jsx)("p",{className:"form_title blue30",children:"Categories"}),(0,o.jsx)("div",{className:"flexSpace"})]}),(0,o.jsx)("div",{className:" spaceAround flxWrp scollVh",style:{marginTop:20,maxHeight:"calc( 78vh - 70px)"},children:N&&(null===(e=(0,d._2)(N))||void 0===e?void 0:e.map((function(i){return(0,o.jsx)(r,{data:N[i],elmId:N[i].categoryId,label:N[i].name,clickHandler:_,active:u,type:v},N[i].categoryId)})))})]})};var r=function(i){var e=i.clickHandler,n=i.label,l=i.active,t=i.elmId,s=i.data,a=i.type,d=l===t?null:t;return s.type!==a?null:(0,o.jsx)("div",{className:" btn_filter itmMrg ".concat(l===t?"active":""," "),onClick:function(){return e(d)},children:n})}},238:function(i,e,n){n.r(e);var l=n(1413),t=n(4165),s=n(5861),a=n(9439),d=n(2791),c=(n(5868),n(2647)),o=n(7689),r=n(2350),v=n(5143),u=n(2825),m=n(9760),h=n(6514),x=n(184),p=(0,c.Np)(),f=(0,c.PU)(),g=(0,c.tW)(),j=((0,c.pz)(),(0,r.Ks)()+"_upd");e.default=function(i){var e,n,l=i.data,t=(i.description,(0,d.useState)(1)),s=(0,a.Z)(t,2),c=(s[0],s[1],(0,d.useState)(2)),v=(0,a.Z)(c,2),u=v[0],h=v[1],p=(0,o.TH)(),g=((0,o.s0)(),null===(e=p.search)||void 0===e||null===(n=e.split("?"))||void 0===n?void 0:n[1]),j=(0,r.mB)(g),N=null===j||void 0===j?void 0:j.cId;(0,d.useEffect)((function(){}),[N]);var w=function(){(null===l||void 0===l?void 0:l.modalID)&&(0,m.CloseModal)({id:null===l||void 0===l?void 0:l.modalID})},k=function(i){h(i)};(0,r.bh)((0,r.Ks)());return(0,x.jsx)("div",{style:{height:(0,r.bh)("isOS")?"86vh":"90vh",marginTop:(0,r.bh)("isOS")?"9vh":"6vh",width:"94vw",overflow:"auto",background:"var(--dark-800)",borderRadius:13,padding:"10px 6px"},children:(0,x.jsxs)("div",{className:" ",children:[(0,x.jsxs)("div",{className:"h23g9woI",children:[(0,x.jsxs)("div",{className:"jKZvHt ",onClick:w,children:[(0,x.jsx)(f,{name:"arrowBack",size:22,color:"var(--light-200)"}),(0,x.jsx)("div",{className:"eULkqP"})]}),(0,x.jsx)("div",{className:"flexSpace"}),(0,x.jsx)("div",{className:"icon_action ".concat(1===u?"active":""," "),onClick:function(){return k(1)},children:(0,x.jsx)(f,{name:"image_outline",color:"var(--light-200)"})}),(0,x.jsx)("div",{className:"icon_action ".concat(2===u?"active":""," "),onClick:function(){return k(2)},children:(0,x.jsx)(f,{name:"list_form",color:"var(--light-200)"})})]}),(0,x.jsx)("div",{style:{paddingTop:4}}),(0,x.jsx)(y,{viewId:1,activeView:u,children:(0,x.jsx)(b,{})}),(0,x.jsx)(y,{viewId:2,activeView:u,children:(0,x.jsx)(_,{close:w})})]})})};var b=function(i){i.activeView,i.children;var e=(0,d.useState)(1),n=(0,a.Z)(e,2),l=(n[0],n[1]),t=(0,d.useState)(""),s=(0,a.Z)(t,2),c=s[0],o=s[1],u=function(){l((0,r.M5)())},m=function(i,e){(0,r.Rz)("image_mov_text",e.textAnnotations),(0,r.Rz)("loading_image_text",!1),u()};return(0,x.jsxs)("div",{style:{maxWidth:560,height:"90vmin",padding:"5px!important"},children:[(0,x.jsxs)("div",{className:"_dsplFlx ",style:{padding:9},children:[(0,x.jsx)("div",{className:"flexSpace"}),(0,r.bh)("image_url_mov")?(0,x.jsx)("div",{style:{marginBottom:10},children:(0,r.bh)("loading_image_text")?(0,x.jsxs)("div",{className:"icon_compr _dsplFlx",style:{marginTop:10},children:[(0,x.jsx)("div",{className:"lbl_saving ",children:"scanning image ..."}),(0,x.jsx)(g,{stroke:"var(--partial-success)",size:24,strokeW:8})]}):(0,x.jsxs)("div",{className:"_dsplFlx",style:{margin:"6px 20px 5px"},onClick:function(i){(0,r.Rz)("loading_image_text",!0),u(),(0,v.sV)((0,r.bh)("image_url_mov"),m)},children:[(0,x.jsx)("div",{className:"lbl_saving ",style:{margin:"4px 20px 0 0"},children:"Escanear Imagen"}),(0,x.jsxs)("div",{className:"btn_icon",children:[(0,x.jsx)("div",{className:"icon_absol inside ",children:(0,x.jsx)(f,{name:"image_outline",color:"var(--light-300)",size:20})}),(0,x.jsx)("div",{className:"icon_absol ",children:(0,x.jsx)(f,{name:"scan-helper",color:"var(--partial-success)",size:28})})]})]})}):null]}),c?(0,x.jsxs)("div",{className:"imagePreview",children:[(0,x.jsxs)("div",{className:"_dsplFlx",onClick:function(){return o(null)},children:[(0,x.jsx)("div",{className:"lbl_dtls",children:"Text to Copy:"}),(0,x.jsx)("div",{className:"text2link",children:c})]}),(0,x.jsx)("div",{style:{margin:"10px 0 20px"}}),(0,x.jsx)(w,{title:"Title:",frmNm:j,keyfld:"title",updObs:u,newValue:c,confirm:o,join:" "}),(0,x.jsx)(w,{title:"Amount:",frmNm:j,keyfld:"amount",updObs:u,newValue:c,confirm:o,replace:!0}),(0,x.jsx)(w,{title:"Descripcion:",frmNm:j,keyfld:"description",updObs:u,newValue:c,confirm:o,join:"; "}),(0,x.jsx)(w,{title:"Document:",frmNm:j,keyfld:"document",updObs:u,newValue:c,confirm:o,join:"; "})]}):(0,x.jsx)("div",{className:"imagePreview",children:(0,r.bh)("preview_mov_dmz")?(0,x.jsx)(h.d$,{children:(0,x.jsx)(h.Uv,{children:(0,x.jsx)(I,{image:(0,r.bh)("image_preview_mov"),updTxt:o})})}):null})]})},_=function(i){i.activeView;var e,n,c,o=i.close,v=(0,d.useState)(1),h=(0,a.Z)(v,2),p=(h[0],h[1]),f=function(){p((0,r.M5)())},g=["title","description","document","amount","categoryId"],b=(0,r.vy)(g,(0,r.bh)(j),(0,r.bh)(j+"_bck")),_=function(){var i=(0,s.Z)((0,t.Z)().mark((function i(e){var n,l;return(0,t.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=(0,r.I7)(e),i.next=3,n;case 3:(l=i.sent)&&!l.error&&o(!0);case 5:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}(),y=function(){var i=(0,s.Z)((0,t.Z)().mark((function i(){var e,n,s,a,d;return(0,t.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:a=(0,r.vy)(g,(0,r.bh)(j),(0,r.bh)(j+"_bck")),(d=(0,l.Z)({},null===(e=(0,r.bh)((0,r.hQ)()))||void 0===e?void 0:e.upd__incms_expns)).params={businessId:null===(n=(0,r.bh)("profileUser"))||void 0===n?void 0:n.businessId,movementId:null===(s=(0,r.bh)(j))||void 0===s?void 0:s.movementId},d.data2update=a.data,_(d);case 5:case"end":return i.stop()}}),i)})));return function(){return i.apply(this,arguments)}}(),w=function(i){I("categoryId",i)},I=function(i,e){var n=(0,r.bh)(j)||{};n[i]=e,(0,r.Rz)(j,n),p((0,r.M5)())},C=null===(e=(0,r.bh)("categories_ids"))||void 0===e||null===(n=e[null===(c=(0,r.bh)(j))||void 0===c?void 0:c.categoryId])||void 0===n?void 0:n.name;return(0,x.jsxs)("div",{style:{maxWidth:560,height:"90vmin",padding:"5px!important"},children:[(0,x.jsxs)("div",{className:"_dsplFlx ",style:{padding:9},children:[(0,x.jsx)("div",{className:"flexSpace"}),b.hasChange?(0,x.jsx)("div",{className:"",children:(0,x.jsx)(k,{label:"Guardar",clickHandler:y})}):null]}),(0,x.jsxs)("div",{children:[(0,x.jsx)(N,{title:"Title:",frmNm:j,keyfld:"title",updObs:f}),(0,x.jsx)(N,{title:"Amount:",frmNm:j,keyfld:"amount",updObs:f}),(0,x.jsx)(N,{title:"Descripcion:",frmNm:j,keyfld:"description",updObs:f}),(0,x.jsx)(N,{title:"Document:",frmNm:j,keyfld:"document",updObs:f}),"'"]}),(0,x.jsxs)("div",{className:" dtls minhh",children:[(0,x.jsx)("div",{className:"lbl_h_dtls",style:{marginTop:8,textAlign:"left"},children:"Categories"}),(0,x.jsx)("div",{className:"lbl_dtls",style:{marginTop:8,textAlign:"left"},onClick:function(i){var e,n,l={zIndex:480,props:{minHeight:"1vh",overlay:!0}};l.content=(0,x.jsx)(u.Z,{type:(null===(e=(0,r.bh)(j))||void 0===e?void 0:e.movementType)+"s",confirm:w,init:null===(n=(0,r.bh)(j))||void 0===n?void 0:n.categoryId}),(0,m.OpenModal)(l)},children:C||"click to type"})]})]})},y=function(i){var e=i.viewId,n=i.activeView,l=i.children;return(0,x.jsx)("div",{className:"opacityView",style:{opacity:e===n?1:0,marginTop:2},children:e===n?l:null})},N=function(i){var e,n=i.title,l=i.keyfld,t=i.updObs,s=i.frmNm,c=(0,d.useState)(!1),o=(0,a.Z)(c,2),v=o[0],u=o[1],m=(0,d.useState)(1),h=(0,a.Z)(m,2),g=(h[0],h[1]),j=function(){t&&t(),u(!1)},b=null===(e=(0,r.bh)(s))||void 0===e?void 0:e[l];return(0,x.jsxs)("div",{className:" dtls minhh",children:[(0,x.jsx)("div",{className:"lbl_h_dtls",style:{marginTop:8,textAlign:"left"},children:n}),v?(0,x.jsxs)("div",{className:"_dsplFlx",children:[(0,x.jsx)("div",{className:"lbl_dtls",children:(0,x.jsx)(p,{init:b,width:"68vw",updChanges:function(i){return function(i,e){var n=(0,r.bh)(s)||{};n[i]=e,(0,r.Rz)(s,n),g((0,r.M5)())}(l,i)},onEnter:j})}),(0,x.jsx)("div",{className:"icon_image ",onClick:j,children:(0,x.jsx)(f,{name:"success",color:"var(--success)"})})]}):(0,x.jsx)("div",{className:"lbl_dtls",style:{marginTop:8,textAlign:"left"},onClick:function(){return u(!0)},children:b||"click to type"})]})},w=function(i){var e,n=i.title,l=i.keyfld,t=i.replace,s=i.frmNm,c=i.newValue,o=i.confirm,v=i.join,u=(0,d.useState)(1),m=(0,a.Z)(u,2),h=(m[0],m[1]),p=function(){!function(i,e){var n=(0,r.bh)(s)||{};n[i]=e||(0,r.fY)(n[i])+v+c,(0,r.Rz)(s,n),h((0,r.M5)())}(l,t?c:null),(0,r.Ey)(o)&&o()},f=null===(e=(0,r.bh)(s))||void 0===e?void 0:e[l];return(0,x.jsxs)("div",{className:" dtls minhh",onClick:function(){return p()},children:[(0,x.jsx)("div",{className:"lbl_h_dtls",style:{marginTop:8,textAlign:"left"},children:n}),(0,x.jsx)("div",{className:"lbl_dtls",style:{marginTop:8,textAlign:"left"},children:f||"click to type"}),"}"]})},k=function(i){var e=i.clickHandler,n=i.label;return(0,x.jsx)("div",{className:" jaqJnq_hrm1",children:(0,x.jsx)("button",{className:"gHAsFI_hrm1 dqnOfN jUrKkb",onClick:e,children:(0,x.jsx)("span",{className:" jaqJnq_hrm1",children:n})})})},I=function(i){var e,n=i.image,l=i.updTxt,t=(0,r.bh)("preview_mov_dmz");return(0,x.jsxs)("svg",{id:"ssg_business_card_front",xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 ".concat(null===t||void 0===t?void 0:t.w," ").concat(null===t||void 0===t?void 0:t.h),preserveAspectRatio:"xMidYMid meet",children:[(0,x.jsx)("style",{type:"text/css",children:'@font-face {\n\t\t\t\tfont-family: "Google Sans";\n\t\t\t\tsrc: url(http://fonts.gstatic.com/s/googlesans/v14/4UabrENHsxJlGDuGo1OIlLU94YtzCwY.woff2)\n\n\t\t\t}'}),(0,x.jsx)("rect",{width:null===t||void 0===t?void 0:t.w,height:null===t||void 0===t?void 0:t.h,fill:"#ffffff"}),(0,x.jsx)("image",{width:null===t||void 0===t?void 0:t.w,height:null===t||void 0===t?void 0:t.h,x:0,y:0,xmlnsXlink:"http://www.w3.org/1999/xlink",xlinkHref:n}),null===(e=(0,r.bh)("image_mov_text"))||void 0===e?void 0:e.map((function(i,e){return(0,x.jsx)(C,{idKey:e+"_tann",item:i,index:e,updTxt:l},e+"_tann")}))]})},C=function(i){var e,n,l,t,s,a,d=i.item,c=i.index,o=(i.idKey,i.updTxt),v=d.description,u=d.boundingPoly,m=null===u||void 0===u?void 0:u.vertices,h=(null===m||void 0===m||null===(e=m[3])||void 0===e?void 0:e.y)-(null===m||void 0===m||null===(n=m[0])||void 0===n?void 0:n.y),p=(null===m||void 0===m||null===(l=m[1])||void 0===l?void 0:l.x)-(null===m||void 0===m||null===(t=m[0])||void 0===t?void 0:t.x);return 0!==c&&null!==m&&void 0!==m&&m[1]?(0,x.jsx)("rect",{onClick:function(i){i.stopPropagation(),i.preventDefault(),o(v),(0,r.vQ)(v,1)},onContextMenu:function(i){i.stopPropagation(),i.preventDefault()},width:p,height:h,fill:"#646cff",fillOpacity:"50%",x:null===m||void 0===m||null===(s=m[0])||void 0===s?void 0:s.x,y:null===m||void 0===m||null===(a=m[0])||void 0===a?void 0:a.y}):null}},5868:function(){}}]);
//# sourceMappingURL=5696.86e0966a.chunk.js.map