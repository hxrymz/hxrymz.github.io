"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[5696],{238:function(i,e,n){n.r(e);var l=n(1413),s=n(4165),t=n(5861),a=n(9439),d=n(2791),c=(n(5868),n(2647)),o=n(7689),r=n(2350),u=n(5143),v=n(9760),m=n(184),x=(0,c.Np)(),h=(0,c.PU)(),f=(0,c.tW)(),p=((0,c.pz)(),(0,r.Ks)()+"_upd");e.default=function(i){var e,n,l=i.data,s=(i.description,(0,d.useState)(1)),t=(0,a.Z)(s,2),c=(t[0],t[1],(0,d.useState)(1)),u=(0,a.Z)(c,2),x=u[0],f=u[1],p=(0,o.TH)(),b=((0,o.s0)(),null===(e=p.search)||void 0===e||null===(n=e.split("?"))||void 0===n?void 0:n[1]),w=(0,r.mB)(b),y=null===w||void 0===w?void 0:w.cId;(0,d.useEffect)((function(){}),[y]);var N=function(){(null===l||void 0===l?void 0:l.modalID)&&(0,v.CloseModal)({id:null===l||void 0===l?void 0:l.modalID})},k=function(i){f(i)};(0,r.bh)((0,r.Ks)());return(0,m.jsx)("div",{style:{height:"96vh",width:"94vw",overflow:"auto",background:"var(--dark-800)",borderRadius:13,padding:"10px 6px"},children:(0,m.jsxs)("div",{className:" ",children:[(0,m.jsxs)("div",{className:"h23g9woI",children:[(0,m.jsxs)("div",{className:"jKZvHt ",onClick:N,children:[(0,m.jsx)(h,{name:"arrowBack",size:22}),(0,m.jsx)("div",{className:"eULkqP"})]}),(0,m.jsx)("div",{className:"flexSpace"}),(0,m.jsx)("div",{className:"icon_action ".concat(1===x?"active":""," "),onClick:function(){return k(1)},children:(0,m.jsx)(h,{name:"image_outline"})}),(0,m.jsx)("div",{className:"icon_action ".concat(2===x?"active":""," "),onClick:function(){return k(2)},children:(0,m.jsx)(h,{name:"list_form"})})]}),(0,m.jsx)("div",{style:{paddingTop:4}}),(0,m.jsx)(_,{viewId:1,activeView:x,children:(0,m.jsx)(j,{})}),(0,m.jsx)(_,{viewId:2,activeView:x,children:(0,m.jsx)(g,{close:N})})]})})};var j=function(i){i.activeView,i.children;var e=(0,d.useState)(1),n=(0,a.Z)(e,2),l=(n[0],n[1]),s=(0,d.useState)(""),t=(0,a.Z)(s,2),c=t[0],o=t[1],v=function(){l((0,r.M5)())},x=function(i,e){(0,r.Rz)("image_mov_text",e.textAnnotations),(0,r.Rz)("loading_image_text",!1),v()};return(0,m.jsxs)("div",{style:{maxWidth:560,height:"90vmin",padding:"5px!important"},children:[(0,m.jsxs)("div",{className:"_dsplFlx ",style:{padding:9},children:[(0,m.jsx)("div",{className:"flexSpace"}),(0,r.bh)("image_url_mov")?(0,m.jsx)("div",{style:{marginBottom:10},children:(0,r.bh)("loading_image_text")?(0,m.jsxs)("div",{className:"icon_compr _dsplFlx",style:{marginTop:10},children:[(0,m.jsx)("div",{className:"lbl_saving ",children:"scanning image ..."}),(0,m.jsx)(f,{stroke:"var(--partial-success)",size:24,strokeW:8})]}):(0,m.jsxs)("div",{className:"_dsplFlx",style:{margin:"6px 20px 5px"},onClick:function(i){(0,r.Rz)("loading_image_text",!0),v(),(0,u.sV)((0,r.bh)("image_url_mov"),x)},children:[(0,m.jsx)("div",{className:"lbl_saving ",style:{margin:"4px 20px 0 0"},children:"Escanear Imagen"}),(0,m.jsxs)("div",{className:"btn_icon",children:[(0,m.jsx)("div",{className:"icon_absol inside ",children:(0,m.jsx)(h,{name:"image_outline",color:"var(--light-300)",size:20})}),(0,m.jsx)("div",{className:"icon_absol ",children:(0,m.jsx)(h,{name:"scan-helper",color:"var(--partial-success)",size:28})})]})]})}):null]}),c?(0,m.jsxs)("div",{className:"imagePreview",children:[(0,m.jsx)(w,{title:"Title:",frmNm:p,keyfld:"title",updObs:v,newValue:c,confirm:o,join:" "}),(0,m.jsx)(w,{title:"Amount:",frmNm:p,keyfld:"amount",updObs:v,newValue:c,confirm:o,replace:!0}),(0,m.jsx)(w,{title:"Descripcion:",frmNm:p,keyfld:"description",updObs:v,newValue:c,confirm:o,join:"; "}),(0,m.jsx)(w,{title:"Document:",frmNm:p,keyfld:"document",updObs:v,newValue:c,confirm:o,join:"; "})]}):(0,m.jsx)("div",{className:"imagePreview",children:(0,r.bh)("preview_mov_dmz")?(0,m.jsx)(N,{image:(0,r.bh)("image_preview_mov"),updTxt:o}):null})]})},g=function(i){i.activeView;var e=i.close,n=(0,d.useState)(1),c=(0,a.Z)(n,2),o=(c[0],c[1]),u=function(){o((0,r.M5)())},v=["title","description","document","amount","categoryId"],x=(0,r.vy)(v,(0,r.bh)(p),(0,r.bh)(p+"_bck")),h=function(){var i=(0,t.Z)((0,s.Z)().mark((function i(n){var l,t;return(0,s.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return l=(0,r.I7)(n),i.next=3,l;case 3:(t=i.sent)&&!t.error&&e(!0);case 5:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}(),f=function(){var i=(0,t.Z)((0,s.Z)().mark((function i(){var e,n,t,a,d;return(0,s.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:a=(0,r.vy)(v,(0,r.bh)(p),(0,r.bh)(p+"_bck")),(d=(0,l.Z)({},null===(e=(0,r.bh)((0,r.hQ)()))||void 0===e?void 0:e.upd__incms_expns)).params={businessId:null===(n=(0,r.bh)("profileUser"))||void 0===n?void 0:n.businessId,movementId:null===(t=(0,r.bh)(p))||void 0===t?void 0:t.movementId},d.data2update=a.data,h(d);case 5:case"end":return i.stop()}}),i)})));return function(){return i.apply(this,arguments)}}();return(0,m.jsxs)("div",{style:{maxWidth:560,height:"90vmin",padding:"5px!important"},children:[(0,m.jsxs)("div",{className:"_dsplFlx ",style:{padding:9},children:[(0,m.jsx)("div",{className:"flexSpace"}),x.hasChange?(0,m.jsx)("div",{className:"",children:(0,m.jsx)(y,{label:"Guardar",clickHandler:f})}):null]}),(0,m.jsxs)("div",{children:[(0,m.jsx)(b,{title:"Title:",frmNm:p,keyfld:"title",updObs:u}),(0,m.jsx)(b,{title:"Amount:",frmNm:p,keyfld:"amount",updObs:u}),(0,m.jsx)(b,{title:"Descripcion:",frmNm:p,keyfld:"description",updObs:u}),(0,m.jsx)(b,{title:"Document:",frmNm:p,keyfld:"document",updObs:u}),"'"]})]})},_=function(i){var e=i.viewId,n=i.activeView,l=i.children;return(0,m.jsx)("div",{className:"opacityView",style:{opacity:e===n?1:0,marginTop:2},children:e===n?l:null})},b=function(i){var e,n=i.title,l=i.keyfld,s=i.updObs,t=i.frmNm,c=(0,d.useState)(!1),o=(0,a.Z)(c,2),u=o[0],v=o[1],f=(0,d.useState)(1),p=(0,a.Z)(f,2),j=(p[0],p[1]),g=function(){s&&s(),v(!1)},_=null===(e=(0,r.bh)(t))||void 0===e?void 0:e[l];return(0,m.jsxs)("div",{className:" dtls minhh",children:[(0,m.jsx)("div",{className:"lbl_h_dtls",style:{marginTop:8,textAlign:"left"},children:n}),u?(0,m.jsxs)("div",{className:"_dsplFlx",children:[(0,m.jsx)("div",{className:"lbl_dtls",children:(0,m.jsx)(x,{init:_,width:"68vw",updChanges:function(i){return function(i,e){var n=(0,r.bh)(t)||{};n[i]=e,(0,r.Rz)(t,n),j((0,r.M5)())}(l,i)},onEnter:g})}),(0,m.jsx)("div",{className:"icon_image ",onClick:g,children:(0,m.jsx)(h,{name:"success",color:"var(--success)"})})]}):(0,m.jsx)("div",{className:"lbl_dtls",style:{marginTop:8,textAlign:"left"},onClick:function(){return v(!0)},children:_||"click to type"})]})},w=function(i){var e,n=i.title,l=i.keyfld,s=i.replace,t=i.frmNm,c=i.newValue,o=i.confirm,u=i.join,v=(0,d.useState)(1),x=(0,a.Z)(v,2),h=(x[0],x[1]),f=function(){!function(i,e){var n=(0,r.bh)(t)||{};n[i]=e||(0,r.fY)(n[i])+u+c,(0,r.Rz)(t,n),h((0,r.M5)())}(l,s?c:null),(0,r.Ey)(o)&&o()},p=null===(e=(0,r.bh)(t))||void 0===e?void 0:e[l];return(0,m.jsxs)("div",{className:" dtls minhh",onClick:function(){return f()},children:[(0,m.jsx)("div",{className:"lbl_h_dtls",style:{marginTop:8,textAlign:"left"},children:n}),(0,m.jsx)("div",{className:"lbl_dtls",style:{marginTop:8,textAlign:"left"},children:p||"click to type"}),"}"]})},y=function(i){var e=i.clickHandler,n=i.label;return(0,m.jsx)("div",{className:" jaqJnq_hrm1",children:(0,m.jsx)("button",{className:"gHAsFI_hrm1 dqnOfN jUrKkb",onClick:e,children:(0,m.jsx)("span",{className:" jaqJnq_hrm1",children:n})})})},N=function(i){var e,n=i.image,l=i.updTxt,s=(0,r.bh)("preview_mov_dmz");return(0,m.jsxs)("svg",{id:"ssg_business_card_front",xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 ".concat(null===s||void 0===s?void 0:s.w," ").concat(null===s||void 0===s?void 0:s.h),preserveAspectRatio:"xMidYMid meet",children:[(0,m.jsx)("style",{type:"text/css",children:'@font-face {\n\t\t\t\tfont-family: "Google Sans";\n\t\t\t\tsrc: url(http://fonts.gstatic.com/s/googlesans/v14/4UabrENHsxJlGDuGo1OIlLU94YtzCwY.woff2)\n\n\t\t\t}'}),(0,m.jsx)("rect",{width:null===s||void 0===s?void 0:s.w,height:null===s||void 0===s?void 0:s.h,fill:"#ffffff"}),(0,m.jsx)("image",{width:null===s||void 0===s?void 0:s.w,height:null===s||void 0===s?void 0:s.h,x:0,y:0,xmlnsXlink:"http://www.w3.org/1999/xlink",xlinkHref:n}),null===(e=(0,r.bh)("image_mov_text"))||void 0===e?void 0:e.map((function(i,e){return(0,m.jsx)(k,{idKey:e+"_tann",item:i,index:e,updTxt:l},e+"_tann")}))]})},k=function(i){var e,n,l,s,t,a,d=i.item,c=i.index,o=(i.idKey,i.updTxt),u=d.description,v=d.boundingPoly,x=null===v||void 0===v?void 0:v.vertices,h=(null===x||void 0===x||null===(e=x[3])||void 0===e?void 0:e.y)-(null===x||void 0===x||null===(n=x[0])||void 0===n?void 0:n.y),f=(null===x||void 0===x||null===(l=x[1])||void 0===l?void 0:l.x)-(null===x||void 0===x||null===(s=x[0])||void 0===s?void 0:s.x);return 0!==c&&null!==x&&void 0!==x&&x[1]?(0,m.jsx)("rect",{onClick:function(i){i.stopPropagation(),i.preventDefault(),o(u),(0,r.vQ)(u)},onContextMenu:function(i){i.stopPropagation(),i.preventDefault()},width:f,height:h,fill:"#646cff",fillOpacity:"50%",x:null===x||void 0===x||null===(t=x[0])||void 0===t?void 0:t.x,y:null===x||void 0===x||null===(a=x[0])||void 0===a?void 0:a.y}):null}},5868:function(){}}]);
//# sourceMappingURL=5696.880456de.chunk.js.map