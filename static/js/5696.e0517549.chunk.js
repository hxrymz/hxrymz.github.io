"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[5696],{2825:function(e,i,n){var l=n(4165),s=n(1413),t=n(5861),a=n(9439),d=n(2791),r=n(9760),c=n(2647),o=n(2350),v=n(5143),u=n(184),m=(0,c.Np)(),h=(0,c.tL)();i.Z=function(e){var i,n=e.data,l=e.confirm,s=e.type,t=e.init,c=(0,d.useState)(!1),m=(0,a.Z)(c,2),h=m[0],j=m[1],g=(0,d.useState)(1),b=(0,a.Z)(g,2),y=(b[0],b[1]),_=function(){y((0,o.M5)())};(0,d.useEffect)((function(){h||(j(!0),y((0,o.M5)()),(0,v.bM)(_))}));var N=function(e){y((0,o.M5)()),(0,o.Ey)(l)&&(k(),l(e))},k=function(){(null===n||void 0===n?void 0:n.modalID)&&(0,r.CloseModal)({id:null===n||void 0===n?void 0:n.modalID})},w=(0,o.bh)("categories_list");return(0,u.jsxs)("div",{style:{height:"80vh",width:"90vw",overflow:"auto",background:"var(--dark-800)",borderRadius:13,padding:"20px"},children:[(0,u.jsxs)("div",{className:"_dsplFlx ",children:[(0,u.jsx)("p",{className:"form_title blue30",style:{margin:"10px"},children:"Categories"}),(0,u.jsx)("div",{className:"flexSpace"}),(0,u.jsx)("div",{className:"",children:(0,u.jsx)(p,{label:"Agregar",clickHandler:function(e){var i={zIndex:480,props:{minHeight:"1vh",overlay:!0}};i.content=(0,u.jsx)(f,{}),(0,r.OpenModal)(i)}})})]}),(0,u.jsx)("div",{className:" spaceAround flxWrp scollVh",style:{marginTop:20,maxHeight:"calc( 78vh - 70px)"},children:w&&(null===(i=(0,o._2)(w))||void 0===i?void 0:i.map((function(e){return(0,u.jsx)(x,{data:w[e],elmId:w[e].categoryId,label:w[e].name,clickHandler:N,active:t,type:s},w[e].categoryId)})))})]})};var x=function(e){var i=e.clickHandler,n=e.label,l=e.active,s=e.elmId,t=e.data,a=e.type,d=l===s?null:s;return t.type!==a?null:(0,u.jsx)("div",{className:" btn_filter itmMrg ".concat(l===s?"active":""," "),onClick:function(){return i(d)},children:n})},p=function(e){var i=e.clickHandler,n=e.label;return(0,u.jsx)("div",{className:" jaqJnq_hrm1",children:(0,u.jsx)("button",{className:"gHAsFI_hrm1 dqnOfN jUrKkb",onClick:i,children:(0,u.jsx)("span",{className:" jaqJnq_hrm1",children:n})})})},f=function(e){var i,n,c,v=e.data,x=e.confirm,f=(e.type,e.init,"add_category_frm"),j=(0,d.useState)(1),g=(0,a.Z)(j,2),b=(g[0],g[1]),y=function(){var e=(0,t.Z)((0,l.Z)().mark((function e(){var i,n,t,a,d;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=(0,o.bh)(f)).categoryId=(0,o.M5)(),(a=(0,s.Z)({},null===(i=(0,o.bh)((0,o.hQ)()))||void 0===i?void 0:i.add_categapp)).params={businessId:null===(n=(0,o.bh)("profileUser"))||void 0===n?void 0:n.businessId},a.form=t,d=(0,o.I7)(a),e.next=8,d;case 8:e.sent&&((0,o.Rz)(f,{}),x&&x(),_());case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){(null===v||void 0===v?void 0:v.modalID)&&(0,r.CloseModal)({id:null===v||void 0===v?void 0:v.modalID})},N=function(e,i){var n=(0,o.bh)(f)||{};n[e]=i,(0,o.Rz)(f,n),b((0,o.M5)())};return(0,u.jsxs)("div",{style:{height:"80vh",width:"90vw",overflow:"auto",background:"var(--dark-800)",borderRadius:13,padding:"20px"},children:[(0,u.jsxs)("div",{className:"_dsplFlx ",children:[(0,u.jsx)("p",{className:"form_title blue30",style:{margin:"10px"},children:"Agregar Categoria"}),(0,u.jsx)("div",{className:"flexSpace"}),(0,u.jsx)("div",{className:"",children:(0,u.jsx)(p,{label:"Salvar",clickHandler:y})})]}),(0,u.jsxs)("div",{className:"",style:{margin:"30px 0"},children:[(0,u.jsx)("div",{className:"lbl_dtls",children:(0,u.jsx)(m,{init:null===(i=(0,o.bh)(f))||void 0===i?void 0:i.name,width:"68vw",label:"Nombre",updChanges:function(e){return N("name",e)}})}),(0,u.jsx)("div",{className:"lbl_dtls",children:(0,u.jsx)(m,{init:null===(n=(0,o.bh)(f))||void 0===n?void 0:n.description,width:"68vw",label:"Description",updChanges:function(e){return N("description",e)}})}),(0,u.jsxs)("div",{className:"_dsplFlx ",style:{padding:"48px 10px 10px"},children:[(0,u.jsx)("div",{className:"flexSpace"}),(0,u.jsx)(h,{data:[{label:"Expenses",id:"expenses"},{label:"Incomes",id:"incomes"}],active:null===(c=(0,o.bh)(f))||void 0===c?void 0:c.type,updSelect:function(e){return N("type",e)},colors:{"--base-ck-primary-color":"var(--primary-blue--backg-30)","--base-ck-primary-backcolor":"var(--primary-blue--color-30)"}})]})]})]})}},238:function(e,i,n){n.r(i);var l=n(1413),s=n(4165),t=n(5861),a=n(9439),d=n(2791),r=(n(5868),n(2647)),c=n(7689),o=n(2350),v=n(5143),u=n(2825),m=n(9760),h=n(6514),x=n(184),p=(0,r.Np)(),f=(0,r.PU)(),j=(0,r.tW)(),g=((0,r.pz)(),(0,o.Ks)()+"_upd");i.default=function(e){var i,n,l=e.data,s=e.confirm,t=(0,d.useState)(1),r=(0,a.Z)(t,2),v=(r[0],r[1],(0,d.useState)(2)),u=(0,a.Z)(v,2),h=u[0],p=u[1],j=(0,c.TH)(),g=((0,c.s0)(),null===(i=j.search)||void 0===i||null===(n=i.split("?"))||void 0===n?void 0:n[1]),N=(0,o.mB)(g),k=null===N||void 0===N?void 0:N.cId;(0,d.useEffect)((function(){}),[k]);var w=function(){(0,o.Ey)(s)&&s(),(null===l||void 0===l?void 0:l.modalID)&&(0,m.CloseModal)({id:null===l||void 0===l?void 0:l.modalID})},I=function(e){p(e)};(0,o.bh)((0,o.Ks)());return(0,x.jsx)("div",{style:{height:(0,o.bh)("isOS")?"86vh":"90vh",marginTop:(0,o.bh)("isOS")?"9vh":"6vh",width:"94vw",overflow:"auto",background:"var(--dark-800)",borderRadius:13,padding:"10px 6px"},children:(0,x.jsxs)("div",{className:" ",children:[(0,x.jsxs)("div",{className:"h23g9woI",children:[(0,x.jsxs)("div",{className:"jKZvHt ",onClick:w,children:[(0,x.jsx)(f,{name:"arrowBack",size:22,color:"var(--light-200)"}),(0,x.jsx)("div",{className:"eULkqP"})]}),(0,x.jsx)("div",{className:"flexSpace"}),(0,x.jsx)("div",{className:"icon_action ".concat(1===h?"active":""," "),onClick:function(){return I(1)},children:(0,x.jsx)(f,{name:"image_outline",color:"var(--light-200)"})}),(0,x.jsx)("div",{className:"icon_action ".concat(2===h?"active":""," "),onClick:function(){return I(2)},children:(0,x.jsx)(f,{name:"list_form",color:"var(--light-200)"})})]}),(0,x.jsx)("div",{style:{paddingTop:4}}),(0,x.jsx)(_,{viewId:1,activeView:h,children:(0,x.jsx)(b,{})}),(0,x.jsx)(_,{viewId:2,activeView:h,children:(0,x.jsx)(y,{close:w})})]})})};var b=function(e){e.activeView,e.children;var i=(0,d.useState)(1),n=(0,a.Z)(i,2),l=(n[0],n[1]),s=(0,d.useState)(""),t=(0,a.Z)(s,2),r=t[0],c=t[1],u=function(){l((0,o.M5)())},m=function(e,i){(0,o.Rz)("image_mov_text",i.textAnnotations),(0,o.Rz)("loading_image_text",!1),u()};return(0,x.jsxs)("div",{style:{maxWidth:560,height:"90vmin",padding:"5px!important"},children:[(0,x.jsxs)("div",{className:"_dsplFlx ",style:{padding:9},children:[(0,x.jsx)("div",{className:"flexSpace"}),(0,o.bh)("image_url_mov")?(0,x.jsx)("div",{style:{marginBottom:10},children:(0,o.bh)("loading_image_text")?(0,x.jsxs)("div",{className:"icon_compr _dsplFlx",style:{marginTop:10},children:[(0,x.jsx)("div",{className:"lbl_saving ",children:"scanning image ..."}),(0,x.jsx)(j,{stroke:"var(--partial-success)",size:24,strokeW:8})]}):(0,x.jsxs)("div",{className:"_dsplFlx",style:{margin:"6px 20px 5px"},onClick:function(e){(0,o.Rz)("loading_image_text",!0),u(),(0,v.sV)((0,o.bh)("image_url_mov"),m)},children:[(0,x.jsx)("div",{className:"lbl_saving ",style:{margin:"4px 20px 0 0"},children:"Escanear Imagen"}),(0,x.jsxs)("div",{className:"btn_icon",children:[(0,x.jsx)("div",{className:"icon_absol inside ",children:(0,x.jsx)(f,{name:"image_outline",color:"var(--light-300)",size:20})}),(0,x.jsx)("div",{className:"icon_absol ",children:(0,x.jsx)(f,{name:"scan-helper",color:"var(--partial-success)",size:28})})]})]})}):null]}),r?(0,x.jsxs)("div",{className:"imagePreview",children:[(0,x.jsxs)("div",{className:"_dsplFlx",onClick:function(){return c(null)},children:[(0,x.jsx)("div",{className:"lbl_dtls",children:"Text to Copy:"}),(0,x.jsx)("div",{className:"text2link",children:r})]}),(0,x.jsx)("div",{style:{margin:"10px 0 20px"}}),(0,x.jsx)(k,{title:"Title:",frmNm:g,keyfld:"title",updObs:u,newValue:r,confirm:c,join:" "}),(0,x.jsx)(k,{title:"Amount:",frmNm:g,keyfld:"amount",updObs:u,newValue:r,confirm:c,replace:!0}),(0,x.jsx)(k,{title:"Descripcion:",frmNm:g,keyfld:"description",updObs:u,newValue:r,confirm:c,join:"; "}),(0,x.jsx)(k,{title:"Document:",frmNm:g,keyfld:"document",updObs:u,newValue:r,confirm:c,join:"; "})]}):(0,x.jsx)("div",{className:"imagePreview",children:(0,o.bh)("preview_mov_dmz")?(0,x.jsx)(h.d$,{children:(0,x.jsx)(h.Uv,{children:(0,x.jsx)(I,{image:(0,o.bh)("image_preview_mov"),updTxt:c})})}):null})]})},y=function(e){e.activeView;var i,n,r,c=e.close,v=(0,d.useState)(1),h=(0,a.Z)(v,2),p=(h[0],h[1]),f=function(){p((0,o.M5)())},j=["title","description","document","amount","categoryId"],b=(0,o.vy)(j,(0,o.bh)(g),(0,o.bh)(g+"_bck")),y=function(){var e=(0,t.Z)((0,s.Z)().mark((function e(i){var n,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,o.I7)(i),e.next=3,n;case 3:(l=e.sent)&&!l.error&&c(!0);case 5:case"end":return e.stop()}}),e)})));return function(i){return e.apply(this,arguments)}}(),_=function(){var e=(0,t.Z)((0,s.Z)().mark((function e(){var i,n,t,a,d;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=(0,o.vy)(j,(0,o.bh)(g),(0,o.bh)(g+"_bck")),(d=(0,l.Z)({},null===(i=(0,o.bh)((0,o.hQ)()))||void 0===i?void 0:i.upd__incms_expns)).params={businessId:null===(n=(0,o.bh)("profileUser"))||void 0===n?void 0:n.businessId,movementId:null===(t=(0,o.bh)(g))||void 0===t?void 0:t.movementId},d.data2update=a.data,y(d);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(e){I("categoryId",e)},I=function(e,i){var n=(0,o.bh)(g)||{};n[e]=i,(0,o.Rz)(g,n),p((0,o.M5)())},C=null===(i=(0,o.bh)("categories_ids"))||void 0===i||null===(n=i[null===(r=(0,o.bh)(g))||void 0===r?void 0:r.categoryId])||void 0===n?void 0:n.name;return(0,x.jsxs)("div",{style:{maxWidth:560,height:"90vmin",padding:"5px!important"},children:[(0,x.jsxs)("div",{className:"_dsplFlx ",style:{padding:9},children:[(0,x.jsx)("div",{className:"flexSpace"}),b.hasChange?(0,x.jsx)("div",{className:"",children:(0,x.jsx)(w,{label:"Guardar",clickHandler:_})}):null]}),(0,x.jsxs)("div",{children:[(0,x.jsx)(N,{title:"Title:",frmNm:g,keyfld:"title",updObs:f}),(0,x.jsx)(N,{title:"Amount:",frmNm:g,keyfld:"amount",updObs:f}),(0,x.jsx)(N,{title:"Descripcion:",frmNm:g,keyfld:"description",updObs:f}),(0,x.jsx)(N,{title:"Document:",frmNm:g,keyfld:"document",updObs:f}),"'"]}),(0,x.jsxs)("div",{className:" dtls minhh",children:[(0,x.jsx)("div",{className:"lbl_h_dtls",style:{marginTop:8,textAlign:"left"},children:"Categories"}),(0,x.jsx)("div",{className:"lbl_dtls",style:{marginTop:8,textAlign:"left"},onClick:function(e){var i,n,l={zIndex:480,props:{minHeight:"1vh",overlay:!0}};l.content=(0,x.jsx)(u.Z,{type:(null===(i=(0,o.bh)(g))||void 0===i?void 0:i.movementType)+"s",confirm:k,init:null===(n=(0,o.bh)(g))||void 0===n?void 0:n.categoryId}),(0,m.OpenModal)(l)},children:C||"click to type"})]})]})},_=function(e){var i=e.viewId,n=e.activeView,l=e.children;return(0,x.jsx)("div",{className:"opacityView",style:{opacity:i===n?1:0,marginTop:2},children:i===n?l:null})},N=function(e){var i,n=e.title,l=e.keyfld,s=e.updObs,t=e.frmNm,r=(0,d.useState)(!1),c=(0,a.Z)(r,2),v=c[0],u=c[1],m=(0,d.useState)(1),h=(0,a.Z)(m,2),j=(h[0],h[1]),g=function(){s&&s(),u(!1)},b=null===(i=(0,o.bh)(t))||void 0===i?void 0:i[l];return(0,x.jsxs)("div",{className:" dtls minhh",children:[(0,x.jsx)("div",{className:"lbl_h_dtls",style:{marginTop:8,textAlign:"left"},children:n}),v?(0,x.jsxs)("div",{className:"_dsplFlx",children:[(0,x.jsx)("div",{className:"lbl_dtls",children:(0,x.jsx)(p,{init:b,width:"68vw",updChanges:function(e){return function(e,i){var n=(0,o.bh)(t)||{};n[e]=i,(0,o.Rz)(t,n),j((0,o.M5)())}(l,e)},onEnter:g})}),(0,x.jsx)("div",{className:"icon_image ",onClick:g,children:(0,x.jsx)(f,{name:"success",color:"var(--success)"})})]}):(0,x.jsx)("div",{className:"lbl_dtls",style:{marginTop:8,textAlign:"left"},onClick:function(){return u(!0)},children:b||"click to type"})]})},k=function(e){var i,n=e.title,l=e.keyfld,s=e.replace,t=e.frmNm,r=e.newValue,c=e.confirm,v=e.join,u=(0,d.useState)(1),m=(0,a.Z)(u,2),h=(m[0],m[1]),p=function(){!function(e,i){var n=(0,o.bh)(t)||{};n[e]=i||(0,o.fY)(n[e])+v+r,(0,o.Rz)(t,n),h((0,o.M5)())}(l,s?r:null),(0,o.Ey)(c)&&c()},f=null===(i=(0,o.bh)(t))||void 0===i?void 0:i[l];return(0,x.jsxs)("div",{className:" dtls minhh",onClick:function(){return p()},children:[(0,x.jsx)("div",{className:"lbl_h_dtls",style:{marginTop:8,textAlign:"left"},children:n}),(0,x.jsx)("div",{className:"lbl_dtls",style:{marginTop:8,textAlign:"left"},children:f||"click to type"}),"}"]})},w=function(e){var i=e.clickHandler,n=e.label;return(0,x.jsx)("div",{className:" jaqJnq_hrm1",children:(0,x.jsx)("button",{className:"gHAsFI_hrm1 dqnOfN jUrKkb",onClick:i,children:(0,x.jsx)("span",{className:" jaqJnq_hrm1",children:n})})})},I=function(e){var i,n=e.image,l=e.updTxt,s=(0,o.bh)("preview_mov_dmz");return(0,x.jsxs)("svg",{id:"ssg_business_card_front",xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 ".concat(null===s||void 0===s?void 0:s.w," ").concat(null===s||void 0===s?void 0:s.h),preserveAspectRatio:"xMidYMid meet",children:[(0,x.jsx)("style",{type:"text/css",children:'@font-face {\n\t\t\t\tfont-family: "Google Sans";\n\t\t\t\tsrc: url(http://fonts.gstatic.com/s/googlesans/v14/4UabrENHsxJlGDuGo1OIlLU94YtzCwY.woff2)\n\n\t\t\t}'}),(0,x.jsx)("rect",{width:null===s||void 0===s?void 0:s.w,height:null===s||void 0===s?void 0:s.h,fill:"#ffffff"}),(0,x.jsx)("image",{width:null===s||void 0===s?void 0:s.w,height:null===s||void 0===s?void 0:s.h,x:0,y:0,xmlnsXlink:"http://www.w3.org/1999/xlink",xlinkHref:n}),null===(i=(0,o.bh)("image_mov_text"))||void 0===i?void 0:i.map((function(e,i){return(0,x.jsx)(C,{idKey:i+"_tann",item:e,index:i,updTxt:l},i+"_tann")}))]})},C=function(e){var i,n,l,s,t,a,d=e.item,r=e.index,c=(e.idKey,e.updTxt),v=d.description,u=d.boundingPoly,m=null===u||void 0===u?void 0:u.vertices,h=(null===m||void 0===m||null===(i=m[3])||void 0===i?void 0:i.y)-(null===m||void 0===m||null===(n=m[0])||void 0===n?void 0:n.y),p=(null===m||void 0===m||null===(l=m[1])||void 0===l?void 0:l.x)-(null===m||void 0===m||null===(s=m[0])||void 0===s?void 0:s.x);return 0!==r&&null!==m&&void 0!==m&&m[1]?(0,x.jsx)("rect",{onClick:function(e){e.stopPropagation(),e.preventDefault(),c(v),(0,o.vQ)(v,1)},onContextMenu:function(e){e.stopPropagation(),e.preventDefault()},width:p,height:h,fill:"#646cff",fillOpacity:"50%",x:null===m||void 0===m||null===(t=m[0])||void 0===t?void 0:t.x,y:null===m||void 0===m||null===(a=m[0])||void 0===a?void 0:a.y}):null}},5868:function(){}}]);
//# sourceMappingURL=5696.e0517549.chunk.js.map