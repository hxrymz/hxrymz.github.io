(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{176:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(3),s=a(31),i=a(2),l=a.n(i),o=a(0),d=(a(37),a(10)),u=a(22),m=Object(u.BTNH_Cmpt)(),p=Object(u.Icon_Cmpt)(),f=Object(u.InputAutocomplete_Cmpt)(),v=Object(u.InputText_Cmpt)(),g=Object(u.DeleteAlertMov_Cmpt)();t.default=function(e){var t=Object(i.useState)(!1),a=Object(s.a)(t,2),n=a[0],u=a[1],E=o.P("movementsDetails")||{};Object(i.useEffect)(function(){n||u(!0)});var O=function(){var e=Object(c.a)(r.a.mark(function e(t){var a,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={params:{id:E.id,agentId:E.agentId},query:"deleteByMovements"},n=o.r(o.S(),a),e.next=4,n;case 4:e.sent&&(Object(d.CloseModal)({id:t}),o.P().route_history.push({pathname:"/dashboard"}));case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),h=(E&&E.isPaid,E&&E.IsReady2Delivery),_=function(){var e=Object(c.a)(r.a.mark(function e(t){var a,n,c,s;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={params:{id:E.id,userId:E.userID,agentId:E.agentId,isPaid:!h},query:"updateIsReady2Delivery"},n=o.r(o.S(),a),e.next=4,n;case 4:c=e.sent,(s=o.P("movementsDetails")).IsReady2Delivery=c,o.zb("movementsDetails",s),Object(d.updObserveChanges)();case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),y=Object(i.useState)(!1),x=Object(s.a)(y,2),j=x[0],N=x[1],I=Object(i.useState)(""),k=Object(s.a)(I,2),C=k[0],w=k[1],M=Object(i.useState)(""),P=Object(s.a)(M,2),D=P[0],S=P[1],q=Object(i.useState)(!1),A=Object(s.a)(q,2),B=A[0],L=A[1],V=function(){var e=Object(c.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o.c()&&N(!j);case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(c.a)(r.a.mark(function e(t){var a,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={form:{id:E.id,agentId:E.agentId,userID:t},query:"upgradeMovements"},n=o.r(o.S(),a),e.next=4,n;case 4:e.sent&&(N(0),Object(d.updObserveChanges)());case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),R=o.P().agentsList||{},T=[];o.c()&&o.c()&&C&&C.length>1&&(R=function(e,t){var a={};return o.g(e).map(function(n){var r=t&&t.toLowerCase(),c=e[n].name&&e[n].name.toLowerCase();r&&c&&c.indexOf(r)>=0&&(a[n]=e[n])}),a}(o.P().agentsList,C),T=o.g(R)||[]);var H=R[E.userID],z=function(){var e=Object(c.a)(r.a.mark(function e(){var t,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={form:{id:E.id,agentId:E.agentId,discount:D},query:"upgradeMovements"},a=o.r(o.S(),t),e.next=4,a;case 4:e.sent&&(L(0),Object(d.updObserveChanges)());case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(c.a)(r.a.mark(function e(t){var a,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={params:{id:E&&E.id,newUserId:t.id,oldUserId:E&&E.agentId},query:"updateAgentIdMovement"},n=o.r(o.S(),a),e.next=4,n;case 4:e.sent&&Object(d.updObserveChanges)();case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),J={};J=o.c()&&C&&C.length>0?b(o.P().agentsList,C):b(o.P().agentsList,"");var W=("Entrega"===E.type||"COMBO"===E.type)&&!E.IsDelivery,K=function(){var e=Object(c.a)(r.a.mark(function e(){var t,a,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={params:{id:E&&E.id,agentId:E&&E.agentId},query:"sendNotificationByAgent"},a=o.r(o.S(),t),e.next=4,a;case 4:e.sent&&(n={text:"Order ".concat(E&&E.id," sent to ","Agent")},Object(d.OpenToast)(n));case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(c.a)(r.a.mark(function e(){var t,a,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={params:{id:E&&E.id},query:"sendConfirmationEmail"},a=o.r(o.S(),t),e.next=4,a;case 4:e.sent&&(n={text:"Order ".concat(E&&E.id," email sent to ","User")},Object(d.OpenToast)(n));case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:" _flxWrp HRKRR",style:{minHeight:"380px"}},l.a.createElement("div",{className:"_dsplFlx spaceAround actIcM"},o.c()?l.a.createElement("div",{className:"fieldPadding _MrgV _actBtnMg"},l.a.createElement("span",{onClick:function(){return function(){var e={zIndex:450,observeResize:!0};e.props={item:E.id,minHeight:"190px"},e.content=l.a.createElement(g,{confirm:O}),Object(d.OpenModal)(e)}()}},l.a.createElement("div",{className:"icon_mov fire_brick"},l.a.createElement(p,{name:"delete",color:"#b22222"})))):null,o.c()?l.a.createElement("div",{className:"fieldPadding _MrgV _actBtnMg"},l.a.createElement("span",{onClick:function(){return _()}},l.a.createElement("div",{className:"icon_mov "},l.a.createElement(p,{name:"truck-fast-outline",color:h?"#00796b":"#5c5c5c"})))):null,o.c()&&W?l.a.createElement("div",{className:"fieldPadding _MrgV _actBtnMg"},l.a.createElement("span",{onClick:function(){return K()}},l.a.createElement("div",{className:"icon_mov"},l.a.createElement(p,{name:"telegram",color:"#0088cc"})))):null,o.c()?l.a.createElement("div",{className:"fieldPadding _MrgV _actBtnMg"},l.a.createElement("span",{onClick:function(){return L(!B)}},l.a.createElement("div",{className:"icon_mov "},l.a.createElement(p,{name:"brightness_percent"})))):null,o.c()?l.a.createElement("div",{className:"fieldPadding _MrgV _actBtnMg"},l.a.createElement("span",{onClick:function(){return G()}},l.a.createElement("div",{className:"icon_mov"},l.a.createElement(p,{name:"email",color:"#0088cc"})))):null),o.c()&&B?l.a.createElement("div",null,l.a.createElement("div",{className:"paddField address"},l.a.createElement(v,{icon:"more_vert",form:"discount_recv",field:"discount",keyCode:42,placeholder:o.qb(54),background:"#f9f9f9",color:"var(--base-color)",OnChange:function(e){return S(e)},initvalue:D})),l.a.createElement("div",{className:"fieldPadding _MrgV",style:{margin:"4px 0 12px"}},l.a.createElement("span",{onClick:function(){return z()}},l.a.createElement(m,{theme:"light_blue",title:"Agregar Descuento"})))):null,o.c()?l.a.createElement("div",{className:"paddField address",style:{margin:"14px 0 1px"}},l.a.createElement(f,{icon:"more_vert",form:"kjsahfashflkashjaf",field:"agentId",keyCode:49,background:"#f5f5f5",color:"var(--base-color)",placeholder:o.qb(13),initvalue:E.agentId,OnSelect:function(e){return U(e)},data:J,OnChange:function(e){return w(e)}})):null,o.c()?l.a.createElement("div",{className:"infoDesc"},l.a.createElement("div",{className:"_key"},o.qb(64)),l.a.createElement("div",{className:"_value",onClick:function(){return V()}},H&&H.name||"Agregar")):null,o.c()&&j?l.a.createElement("div",{className:"shopping_cart receivers"},l.a.createElement("div",{className:"paddField address"},l.a.createElement(v,{icon:"more_vert",form:"search_recv",field:"search",keyCode:42,placeholder:"".concat(o.qb(20),"..."),background:"#f9f9f9",color:"var(--base-color)",OnChange:function(e){return w(e)},initvalue:C})),l.a.createElement("div",{className:"_dsplFlx spaceAround _flxWrp "},T&&T.map(function(e){var t=R[e],a=t.name.split(" ")[0];return l.a.createElement("div",{className:"pym81b sendBx receiversItm "},l.a.createElement("div",{className:"total_cart "},l.a.createElement("div",null,t.name)),l.a.createElement("div",{className:"subtotal_cart "},l.a.createElement("div",null,t.address)),l.a.createElement("div",{className:"sendBtn _dsplFlx spaceAround"},l.a.createElement("div",{className:"fieldPadding _MrgV",style:{marginTop:"10px"}}),l.a.createElement("div",{className:"fieldPadding _MrgV",style:{marginTop:"10px"}},l.a.createElement("span",{onClick:function(){return F(e)}},l.a.createElement(m,{theme:"light_blue",title:"".concat(a)})))))}))):null,o.c()&&E.id?l.a.createElement("div",{className:"infoDesc"},l.a.createElement("div",{className:"_key"},"Transacci\xf3n ID"),l.a.createElement("div",{className:"_value"},E.id)):null))};function b(e,t){var a={};return o.g(e).map(function(n){if(e[n].isqvmAgent||e[n].isAdmin)if(t){var r=t&&t.toLowerCase(),c=e[n].name&&e[n].name.toLowerCase();r&&c&&c.indexOf(r)>=0&&(a[n]=e[n])}else a[n]=e[n]}),a}}}]);
//# sourceMappingURL=60.93b879de.chunk.js.map