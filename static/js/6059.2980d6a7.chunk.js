"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[6059,9760],{9760:(e,s,l)=>{l.r(s),l.d(s,{CloseModal:()=>r,OpenModal:()=>o,default:()=>c});var a=l(2791),i=l(5408),d=l(2350),t=l(184);const n="listDialog_mdh392",c=()=>{const e=(0,d.bh)("listDialog")||{};(0,i.Z)(n);let s=Object.keys(e);return(0,t.jsx)(t.Fragment,{children:s.map(((s,l)=>{let i=e[s];if(i&&i.visible){let e={};i.height&&(e.heigth=i.height),i.width,i.zIndex&&(e.zIndex=i.zIndex-1);let l={zIndex:i.zIndex},d=null,n=i.data;return i.content&&(d=a.cloneElement(i.content,{data:n})),(0,t.jsxs)("div",{className:"ltr-1kbnjow",style:e,children:[(0,t.jsx)("div",{className:"ltr-hoe9xz",children:(0,t.jsx)("div",{className:"ltr-1wao6ny",style:l,id:s,children:d})}),i.data.overlay?(0,t.jsx)("div",{className:"DialogHRMOverlay ".concat(i.visible?"active":""),onClick:()=>{var e;e=s,document.getElementsByTagName("html")[0].classList.remove("has-level-two"),r({id:e})}}):null]},s)}}))})},o=e=>{let s=(0,d.bh)("listDialog")||{},l=(0,d.M5)();s[l]||(s[l]={}),s[l].visible=!0;let a={};e.props?(a=e.props,a.modalID=l):a.modalID=l;let i=document.getElementsByTagName("body")[0];null!==i&&void 0!==i&&i.style&&(i.style.overflowY="hidden"),s[l].isView=e.isView,s[l].observeResize=e.observeResize,s[l].observeResize&&(s[l].observeInterval=setInterval((()=>{let e=document.querySelector("[dialog-key-id='".concat(l,"']")),a=e&&e.getBoundingClientRect();a&&(a.width===s[l].width&&a.height===s[l].height||(s[l].height=a.height+10,s[l].width=a.width,(0,d.Rz)("listDialog",s),(0,d.wt)(n)))}),200)),s[l].display=!0,e.zIndex&&(s[l].zIndex=e.zIndex),e.height&&(s[l].height=e.height),e.width&&(s[l].width=e.width),e.content&&(s[l].content=e.content),s[l].data=a,(0,d.Rz)("listDialog",s),(0,d.wt)(n),setTimeout((()=>{document.getElementsByTagName("html")[0].classList.add("has-level-two"),(0,d.Rz)("modalOpen",l),(0,d.wt)(n)}),125)},r=e=>{let s=(0,d.bh)("listDialog")||{},l=e.id;if(s[l]){var a,i,t;s[l].observeResize&&s[l].observeInterval&&clearInterval(s[l].observeInterval),s[l].display=!1,null===(a=s[l])||void 0===a||null===(i=a.data)||void 0===i||null===(t=i.closeEvent)||void 0===t||t.call(i),(0,d.Rz)("listDialog",s),delete s[l],document.getElementsByTagName("body")[0].style.overflowY=null,(0,d.wt)(n),setTimeout((()=>{delete s[l],document.getElementsByTagName("html")[0].classList.remove("has-level-two"),(0,d.Rz)("modalOpen",null)}),750)}}},6059:(e,s,l)=>{l.r(s),l.d(s,{default:()=>u});var a=l(2791),i=l(2350),d=l(2647),t=(l(3903),l(9760)),n=l(2887),c=l(184);const o=(0,d.YZ)(),r=(0,d.Np)(),h=(0,d.A5)(),v=(0,n.Ph)(),m="upd_user",u=e=>{var s,l,d,n,u,x,p,b,g,j,N;let{data:y,confirm:w}=e;const[I,_]=(0,a.useState)(!1),[k,f]=(0,a.useState)(0);(0,a.useEffect)((()=>{I||(_(!0),f((0,i.M5)()))}));const z=(e,s,l)=>{let a=(0,i.bh)(m)||{};l?(a[l]||(a[l]={}),a[l][e]=s):a[e]=s,(0,i.Rz)(m,a),f((0,i.M5)())};let C=["businessId","isOwner","role","isqvmAgent","telegram_chat_id","isDelivery","allowInventory","phoneNumber","state","city","active","serviceState","serviceCity","hasNotaryAccess","hasSuperUserAccess","hasLogisticAccess","grabberId"];let S=(0,i.vy)(C,(0,i.bh)(m),(0,i.bh)(m+"_bck"));const A=e=>{f((0,i.M5)())};return(0,c.jsxs)("div",{style:{maxHeight:"80vh",width:"560px",overflow:"auto",background:"#fff",borderRadius:13,padding:"10px 19px"},children:[(0,c.jsxs)("div",{className:"_dsplFlx ",children:[(0,c.jsx)("p",{className:"form_title",children:"Actualizar Usuario"}),(0,c.jsx)("div",{className:"flexSpace"}),(0,c.jsx)("p",{className:"group_title addBtn",onClick:e=>{(0,i.Rz)("upd_user",y),(0,i.Rz)("upd_user_bck",JSON.parse(JSON.stringify(y)));let s={zIndex:450,height:"80vh",props:{minHeight:"1vh",overlay:!0}};s.content=(0,c.jsx)(v,{confirm:A}),(0,t.OpenModal)(s)},children:"Add Business"})]}),(0,c.jsxs)("div",{className:"_dsplFlx ",children:[(0,c.jsx)("div",{className:"flexSpace"}),(0,c.jsxs)("div",{className:"_dsplFlx ",style:{padding:"18px"},children:[(0,c.jsx)("div",{className:"flexSpace"}),(0,c.jsx)(h,{init:null===(s=(0,i.bh)(m))||void 0===s?void 0:s.businessId,lbl_empty:"Business Name",list:(0,i.bh)("bussines_list"),onSelect:e=>z("businessId",e)}),(0,c.jsx)("div",{className:"flexSpace"})]}),(0,c.jsxs)("div",{className:"_dsplFlx ",style:{padding:"18px"},children:[(0,c.jsx)("div",{className:"flexSpace"}),(0,c.jsx)(h,{init:null===(l=(0,i.bh)(m))||void 0===l?void 0:l.role,lbl_empty:"Roles",list:[{label:"Owner",id:"owner"},{label:"Lectura y Escritura",id:"write_read"},{label:"Solo Lectura",id:"read_only"}],onSelect:e=>z("role",e),direction:"right"}),(0,c.jsx)("div",{className:"flexSpace"})]})]}),(0,c.jsx)("div",{className:"_dsplFlx acc_dtls",children:(0,c.jsxs)("div",{className:"",children:[(0,c.jsx)("div",{className:"code",children:null===(d=(0,i.bh)(m))||void 0===d?void 0:d.name}),(0,c.jsx)("div",{className:"name",style:{marginTop:9},children:null===(n=(0,i.bh)(m))||void 0===n?void 0:n.email})]})}),(0,c.jsxs)("div",{className:"_dsplFlx ",style:{padding:"18px"},children:[(0,c.jsx)("div",{className:"flexSpace"}),(0,c.jsx)(r,{init:null===(u=(0,i.bh)(m))||void 0===u?void 0:u.grabberId,label:"Grabber Id",width:360,updChanges:e=>z("grabberId",e)}),(0,c.jsx)("div",{className:"flexSpace"})]}),(0,c.jsxs)("div",{className:"_dsplFlx ",style:{marginTop:35},children:[(0,c.jsx)("span",{className:"checklabel",children:"Qvamarket Agente"}),(0,c.jsx)(o,{initvalue:null===(x=(0,i.bh)(m))||void 0===x?void 0:x.isqvmAgent,keyCode:77,updChange:e=>z("isqvmAgent",e)}),(0,c.jsx)("span",{className:"checklabel"})]}),(0,c.jsxs)("div",{className:"_dsplFlx ",children:[(0,c.jsx)("span",{className:"checklabel",children:"Qvamarket Inventario"}),(0,c.jsx)(o,{initvalue:null===(p=(0,i.bh)(m))||void 0===p?void 0:p.allowInventory,keyCode:79,updChange:e=>z("allowInventory",e)})]}),(0,c.jsxs)("div",{className:"_dsplFlx ",children:[(0,c.jsx)("span",{className:"checklabel",children:"Agente Activo"}),(0,c.jsx)(o,{initvalue:null===(b=(0,i.bh)(m))||void 0===b?void 0:b.active,keyCode:73,updChange:e=>z("active",e)})]}),(0,c.jsxs)("div",{className:"_dsplFlx ",children:[(0,c.jsx)("span",{className:"checklabel",children:"Acceso a Notaria"}),(0,c.jsx)(o,{initvalue:null===(g=(0,i.bh)(m))||void 0===g?void 0:g.hasNotaryAccess,keyCode:36,updChange:e=>z("hasNotaryAccess",e)})]}),(0,c.jsxs)("div",{className:"_dsplFlx ",children:[(0,c.jsx)("span",{className:"checklabel",children:"Supervisor"}),(0,c.jsx)(o,{initvalue:null===(j=(0,i.bh)(m))||void 0===j?void 0:j.hasSuperUserAccess,keyCode:36,updChange:e=>z("hasSuperUserAccess",e)})]}),(0,c.jsxs)("div",{className:"_dsplFlx ",children:[(0,c.jsx)("span",{className:"checklabel",children:"Logistic Service"}),(0,c.jsx)(o,{initvalue:null===(N=(0,i.bh)(m))||void 0===N?void 0:N.hasLogisticAccess,keyCode:56,updChange:e=>z("hasLogisticAccess",e)})]}),(0,c.jsxs)("div",{className:"_dsplFlx ",children:[(0,c.jsx)("div",{className:"flexSpace"}),null!==S&&void 0!==S&&S.hasChange?(0,c.jsx)("div",{className:"card",children:(0,c.jsx)("button",{onClick:async()=>{let e=(0,i.bh)(m),s={...(0,i.vy)(C,(0,i.bh)(m),(0,i.bh)(m+"_bck")).data},l={query:"updateUserDetails",params:{userId:e.userId},data2update:s};const a=(0,i.I7)(l);await a&&((0,i.Rz)(m,{}),(0,i.Rz)(m+"_bck",{}),w&&w(),(null===y||void 0===y?void 0:y.modalID)&&(0,t.CloseModal)({id:null===y||void 0===y?void 0:y.modalID}))},children:"Actualizar"})}):null]})]})}},3903:()=>{}}]);
//# sourceMappingURL=6059.2980d6a7.chunk.js.map