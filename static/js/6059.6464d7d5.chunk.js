"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[6059],{6059:(e,s,l)=>{l.r(s),l.d(s,{default:()=>m});var a=l(2791),i=l(2350),d=l(2647),n=(l(3903),l(9760)),c=l(2887),r=l(2692),t=l(15),o=l(184);const h=(0,d.YZ)(),v=(0,d.Np)(),u=(0,d.A5)(),p=(0,r.Ax)(),x=(0,c.Ph)(),b="upd_user",m=e=>{var s,l,d,c,r,m,N,_,y,g,f,I,k,A;let{data:S,confirm:C}=e;const[F,w]=(0,a.useState)(!1),[z,U]=(0,a.useState)(0);(0,a.useEffect)((()=>{var e;F||(w(!0),j(null===(e=(0,i.bh)(b))||void 0===e?void 0:e.businessId),U((0,i.M5)()))}));const Y=(e,s,l)=>{let a=(0,i.bh)(b)||{};l?(a[l]||(a[l]={}),a[l][e]=s):a[e]=s,(0,i.Rz)(b,a),U((0,i.M5)())};let R=["businessId","isOwner","role","phoneNumber","isqvmAgent","telegram_chat_id","isDelivery","allowInventory","phoneNumber","state","city","active","serviceState","serviceCity","hasNotaryAccess","hasSuperUserAccess","hasLogisticAccess","A2FA","grabberId"];let B=(0,i.vy)(R,(0,i.bh)(b),(0,i.bh)(b+"_bck"));const M=e=>{U((0,i.M5)())},O=async e=>{var s,l;let a={...null===(s=(0,i.bh)((0,i.hQ)()))||void 0===s?void 0:s.upd_hrm_years};a.params={businessId:null===(l=(0,i.bh)(b))||void 0===l?void 0:l.businessId,businessYearId:(0,i.bh)("businessYearId")},a.data2update={yearStatus:2};const d=(0,i.I7)(a),n=await d;n&&!n.error&&(0,t.OpenToast)({text:"Done",timeout:1500})};return(0,o.jsxs)("div",{style:{maxHeight:"80vh",width:"560px",overflow:"auto",background:"#fff",borderRadius:13,padding:"10px 19px"},children:[(0,o.jsxs)("div",{className:"_dsplFlx ",children:[(0,o.jsx)("p",{className:"form_title",children:"Actualizar Usuario"}),(0,o.jsx)("div",{className:"flexSpace"}),(0,o.jsx)("p",{className:"group_title addBtn",onClick:e=>{(0,i.Rz)("upd_user",S),(0,i.Rz)("upd_user_bck",JSON.parse(JSON.stringify(S)));let s={zIndex:450,height:"80vh",props:{minHeight:"1vh",overlay:!0}};s.content=(0,o.jsx)(x,{confirm:M}),(0,n.OpenModal)(s)},children:"Add Business"})]}),(0,o.jsxs)("div",{className:"_dsplFlx ",children:[(0,o.jsx)("div",{className:"flexSpace"}),(0,o.jsxs)("div",{className:"_dsplFlx ",style:{padding:"18px"},children:[(0,o.jsx)("div",{className:"flexSpace"}),(0,o.jsx)(u,{init:null===(s=(0,i.bh)(b))||void 0===s?void 0:s.businessId,lbl_empty:"Business Name",list:(0,i.bh)("bussines_list"),onSelect:e=>Y("businessId",e)}),(0,o.jsx)("div",{className:"flexSpace"})]}),(0,o.jsxs)("div",{className:"_dsplFlx ",style:{padding:"18px"},children:[(0,o.jsx)("div",{className:"flexSpace"}),(0,o.jsx)(u,{init:null===(l=(0,i.bh)(b))||void 0===l?void 0:l.role,lbl_empty:"Roles",list:[{label:"Owner",id:"owner"},{label:"Lectura y Escritura",id:"write_read"},{label:"Solo Lectura",id:"read_only"}],onSelect:e=>Y("role",e),direction:"right"}),(0,o.jsx)("div",{className:"flexSpace"})]})]}),(0,o.jsx)("div",{className:"_dsplFlx acc_dtls",children:(0,o.jsxs)("div",{className:"",children:[(0,o.jsx)("div",{className:"code",children:null===(d=(0,i.bh)(b))||void 0===d?void 0:d.name}),(0,o.jsx)("div",{className:"name",style:{marginTop:9},children:null===(c=(0,i.bh)(b))||void 0===c?void 0:c.email})]})}),(0,o.jsxs)("div",{className:"_dsplFlx ",style:{padding:"18px"},children:[(0,o.jsx)("div",{className:"flexSpace"}),(0,o.jsx)(v,{init:null===(r=(0,i.bh)(b))||void 0===r?void 0:r.grabberId,label:"Grabber Id",width:360,updChanges:e=>Y("grabberId",e)}),(0,o.jsx)("div",{className:"flexSpace"})]}),(0,o.jsxs)("div",{className:"_dsplFlx ",style:{padding:" 0 18px"},children:[(0,o.jsx)("div",{className:"flexSpace"}),(0,o.jsx)(v,{init:null===(m=(0,i.bh)(b))||void 0===m?void 0:m.phoneNumber,label:"phone Number",width:170,type:"number",updChanges:e=>Y("phoneNumber",e)}),(0,o.jsx)("div",{className:"flexSpace"})]}),(0,o.jsxs)("div",{className:"_dsplFlx ",style:{marginTop:35},children:[(0,o.jsx)("span",{className:"checklabel",children:"Qvamarket Agente"}),(0,o.jsx)(h,{initvalue:null===(N=(0,i.bh)(b))||void 0===N?void 0:N.isqvmAgent,keyCode:77,updChange:e=>Y("isqvmAgent",e)}),(0,o.jsx)("span",{className:"checklabel"})]}),(0,o.jsxs)("div",{className:"_dsplFlx ",children:[(0,o.jsx)("span",{className:"checklabel",children:"Qvamarket Inventario"}),(0,o.jsx)(h,{initvalue:null===(_=(0,i.bh)(b))||void 0===_?void 0:_.allowInventory,keyCode:79,updChange:e=>Y("allowInventory",e)})]}),(0,o.jsxs)("div",{className:"_dsplFlx ",children:[(0,o.jsx)("span",{className:"checklabel",children:"Agente Activo"}),(0,o.jsx)(h,{initvalue:null===(y=(0,i.bh)(b))||void 0===y?void 0:y.active,keyCode:73,updChange:e=>Y("active",e)})]}),(0,o.jsxs)("div",{className:"_dsplFlx ",children:[(0,o.jsx)("span",{className:"checklabel",children:"Acceso a Notaria"}),(0,o.jsx)(h,{initvalue:null===(g=(0,i.bh)(b))||void 0===g?void 0:g.hasNotaryAccess,keyCode:36,updChange:e=>Y("hasNotaryAccess",e)})]}),(0,o.jsxs)("div",{className:"_dsplFlx ",children:[(0,o.jsx)("span",{className:"checklabel",children:"Supervisor"}),(0,o.jsx)(h,{initvalue:null===(f=(0,i.bh)(b))||void 0===f?void 0:f.hasSuperUserAccess,keyCode:36,updChange:e=>Y("hasSuperUserAccess",e)})]}),(0,o.jsxs)("div",{className:"_dsplFlx ",children:[(0,o.jsx)("span",{className:"checklabel",children:"Logistic Service"}),(0,o.jsx)(h,{initvalue:null===(I=(0,i.bh)(b))||void 0===I?void 0:I.hasLogisticAccess,keyCode:56,updChange:e=>Y("hasLogisticAccess",e)})]}),(0,o.jsxs)("div",{className:"_dsplFlx ",children:[(0,o.jsx)("span",{className:"checklabel",children:"2FA"}),(0,o.jsx)(h,{initvalue:null===(k=(0,i.bh)(b))||void 0===k?void 0:k.A2FA,keyCode:73,updChange:e=>Y("A2FA",e)})]}),(0,o.jsxs)("div",{className:"_dsplFlx spaceAround",style:{padding:"20px 3px 30px"},children:[(0,o.jsx)(u,{init:(0,i.bh)("date_current_year"),lbl_empty:"Location",list:[{id:2022,label:2022},{id:2023,label:2023},{id:2024,label:2024}],onSelect:e=>(e=>{var s,l,a,d;(0,i.Rz)("date_current_year",e),null!==(s=(0,i.bh)("YearAccBussinesUsr"))&&void 0!==s&&null!==(l=s[e])&&void 0!==l&&l.businessYearId&&(0,i.Rz)("businessYearId",null===(a=(0,i.bh)("YearAccBussinesUsr"))||void 0===a||null===(d=a[e])||void 0===d?void 0:d.businessYearId),U((0,i.M5)())})(e.id),background:"#f9f9f9",color:"var(--hrm_palette-blue-purple)",direction:"left",width:"220px"}),(0,o.jsx)("div",{className:"centerBx",children:null!==(A=(0,i.bh)(b))&&void 0!==A&&A.businessId&&(0,i.bh)("businessYearId")?(0,o.jsx)("p",{style:{margin:"0 8px"},className:"group_title addBtn purple centerBx",onClick:async()=>{var e,s,l;let a={...null===(e=(0,i.bh)((0,i.hQ)()))||void 0===e?void 0:e.ask_notf_code},d=(0,i.M5)();a.params={businessId:null===(s=(0,i.bh)("profileUser"))||void 0===s?void 0:s.businessId,phoneNumber:null===(l=(0,i.bh)("profileUser"))||void 0===l?void 0:l.phoneNumber,log:d};const c=(0,i.I7)(a),r=await c;if(r&&!r.error){let e={zIndex:480,height:"40vh"};e.content=(0,o.jsx)(p,{info:r,tmk:d,confirm:O}),(0,n.OpenModal)(e)}},children:"Open Year"}):null})]}),(0,o.jsxs)("div",{className:"_dsplFlx ",children:[(0,o.jsx)("div",{className:"flexSpace"}),null!==B&&void 0!==B&&B.hasChange?(0,o.jsx)("div",{className:"card",children:(0,o.jsx)("button",{onClick:async()=>{let e=(0,i.bh)(b),s={...(0,i.vy)(R,(0,i.bh)(b),(0,i.bh)(b+"_bck")).data},l={query:"updateUserDetails",params:{userId:e.userId},data2update:s};const a=(0,i.I7)(l);await a&&((0,i.Rz)(b,{}),(0,i.Rz)(b+"_bck",{}),C&&C(),(null===S||void 0===S?void 0:S.modalID)&&(0,n.CloseModal)({id:null===S||void 0===S?void 0:S.modalID}))},children:"Actualizar"})}):null]})]})},j=async e=>{var s;let l=null===(s=(0,i.bh)((0,i.hQ)()))||void 0===s?void 0:s.get_hrm_years;if(l){var a;l.params={businessId:e||(null===(a=(0,i.bh)("profileUser"))||void 0===a?void 0:a.businessId)};const s=(0,i.I7)(l),d=await s;d&&(0,i.Rz)("YearAccBussinesUsr",d)}}},3903:()=>{}}]);
//# sourceMappingURL=6059.6464d7d5.chunk.js.map