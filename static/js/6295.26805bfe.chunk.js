"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[6295],{6295:(e,t,a)=>{a.r(t),a.d(t,{default:()=>_});var d=a(2791),l=a(2350),i=a(1205),n=a(2647),s=a(24),r=a(9760),o=a(184);const u=(0,s.f_)(),c=(0,n.Np)(),m="driver_licence_translate";let p=["dl_number","dl_issues","dl_exire","dl_type","endorsment","restriction"];const _=e=>{var t,a,n,s,_,v,b;let{data:y,elmId:x}=e;const[f,N]=(0,d.useState)(!1),[g,j]=(0,d.useState)(0);(0,d.useEffect)((()=>{if(!f)return N(!0),(0,l.Rz)(m,null),j((0,l.M5)()),setTimeout((()=>{(async()=>{let e={query:"getScanDocumentsNotary",params:{":customerId":(0,l.bh)("upd_client").clientNotaryId,":documentType":"DLT_Aff"},queryString:"customerId contain :customerId AND documentType contain :documentType"};const t=(0,l.Bm)((0,l.uG)(),e),a=await t;if(a&&!a.error){let e=(0,l._2)(a.data)[0];a.data[e]?((0,l.Rz)(m,a.data[e]),(0,l.Rz)(m+"_bck",JSON.parse(JSON.stringify(a.data[e]))),j((0,l.M5)())):((0,l.Rz)(m,null),j((0,l.M5)()))}})();let e={...(0,l.bh)("upd_client")},t={dob:null===e||void 0===e?void 0:e.dob,dateOfBirth:null===e||void 0===e?void 0:e.dateOfBirth,name:null!==e&&void 0!==e&&e.firstName?"".concat(null===e||void 0===e?void 0:e.firstName," ").concat(null!==e&&void 0!==e&&e.middleName?(null===e||void 0===e?void 0:e.middleName)+" ":"").concat(null===e||void 0===e?void 0:e.lastName," "):"",ss:null===e||void 0===e?void 0:e.ss};(0,l.Rz)(m+"_userInfo",t),j((0,l.M5)())}),50),()=>{(0,l.Rz)(m,null)}}));const D=(e,t)=>{let a=(0,l.bh)(m)||{};a[e]=t,(0,l.Rz)(m,a),j((0,l.M5)())},I=()=>{(null===y||void 0===y?void 0:y.modalID)&&(0,r.CloseModal)({id:null===y||void 0===y?void 0:y.modalID})};let w=(0,l.vy)(p,(0,l.bh)(m),(0,l.bh)(m+"_bck"));return(0,o.jsxs)("div",{style:{maxHeight:"80vh",width:"800px",overflow:"auto",background:"var(--hrm_palette-general-background-b)",borderRadius:13,padding:"10px 19px 30px"},children:[(0,o.jsxs)("div",{className:"_dsplFlx ",children:[(0,o.jsx)("p",{className:"form_title",children:"Traducion de Licencia"}),(0,o.jsx)("div",{className:"flexSpace"}),(0,o.jsx)("button",{className:"group_title addBtn purple",onClick:async()=>{let e=Object.assign({},(0,l.bh)(m),(0,l.bh)(m+"_userInfo"));e.name&&(e.name_jury=e.name),e.dateOfBirth&&(e.dob_p=(0,l.sJ)(e.dateOfBirth)),e.dl_issues&&(e.dl_issue_p=(0,l.IB)(e.dl_issues)),e.dl_exire&&(e.dl_exp_p=(0,l.IB)(e.dl_exire)),e.ss?e.SS=h(e.ss):e.SS="N/A";let t=e.translateDate?new Date(e.translateDate):new Date,a=t.getDate(),d=t.getFullYear().toString().slice(2,4);e.inter_date=(0,l.sJ)(t.getTime()),e.day_en_jury=a,e.day_es_jury=a,e.half_year_en_jury=d,e.half_year_es_jury=d;let n=t.getMonth()+1;e.month_en_jury=l.f2.en[n],e.month_es_jury=l.f2.es[n];let s=await(0,i.iv)(e,!0,!0);window.open(s)},children:"Imprimir"})]}),(0,o.jsx)("p",{className:"group_title"}),(0,o.jsxs)("div",{className:"_dsplFlx spaceAround",style:{marginTop:20},children:[(0,o.jsx)(c,{init:null===(t=(0,l.bh)(m))||void 0===t?void 0:t.dl_number,label:"Numero de Licencia",width:160,updChanges:e=>D("dl_number",e)}),(0,o.jsx)(u,{init:null===(a=(0,l.bh)(m))||void 0===a?void 0:a.dl_issues,label:"Fecha de emicion",updDate:e=>D("dl_issues",e)}),(0,o.jsx)(u,{init:null===(n=(0,l.bh)(m))||void 0===n?void 0:n.dl_exire,label:"Fecha de expiracion",updDate:e=>D("dl_exire",e)})]}),(0,o.jsxs)("div",{className:"_dsplFlx spaceAround flxWrp",children:[(0,o.jsx)(c,{init:null===(s=(0,l.bh)(m))||void 0===s?void 0:s.dl_type,label:"Tipo de Licencia",width:650,updChanges:e=>D("dl_type",e)}),(0,o.jsx)(c,{init:null===(_=(0,l.bh)(m))||void 0===_?void 0:_.endorsment,label:"Aprobaci\xf3nes",width:650,updChanges:e=>D("endorsment",e)}),(0,o.jsx)(c,{init:null===(v=(0,l.bh)(m))||void 0===v?void 0:v.restriction,label:"Restriciones",width:650,updChanges:e=>D("restriction",e)})]}),(0,o.jsx)("div",{className:"_dsplFlx spaceAround",style:{marginTop:20},children:(0,o.jsx)(u,{init:null===(b=(0,l.bh)(m))||void 0===b?void 0:b.translateDate,label:"Fecha de la traduccion",updDate:e=>D("translateDate",e)})}),(0,o.jsxs)("div",{className:"_dsplFlx ",children:[(0,o.jsx)("div",{className:"flexSpace"}),null!==w&&void 0!==w&&w.hasChange?(0,o.jsx)("button",{className:"group_title purple addBtn",onClick:async()=>{let e=(0,l.bh)(m),t={};if(e.documentNotaryId){let a=(0,l.vy)(p,(0,l.bh)(m),(0,l.bh)(m+"_bck"));t={query:"updateDocumentsNotary",params:{documentNotaryId:e.documentNotaryId},data2update:a.data}}else e.customerId=(0,l.bh)("upd_client").clientNotaryId,e.documentType="DLT_Aff",e.documentNotaryId=(0,l.M5)(),t={query:"addDocumentsNotary",form:e};const a=(0,l.Bm)((0,l.uG)(),t),d=await a;d&&d.data&&((0,l.Rz)(m,d.data),j((0,l.M5)()),I())},children:"Guardar"}):null]})]})},h=e=>{if(e){return e.substring(0,3)+" - "+e.substring(3,5)+" - "+e.substring(5,9)}return""}}}]);
//# sourceMappingURL=6295.26805bfe.chunk.js.map