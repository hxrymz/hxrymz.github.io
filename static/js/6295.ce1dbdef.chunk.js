"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[6295,9760],{9760:(e,t,l)=>{l.r(t),l.d(t,{CloseModal:()=>c,OpenModal:()=>r,default:()=>o});var a=l(2791),i=l(5408),d=l(2350),s=l(184);const n="listDialog_mdh392",o=()=>{const e=(0,d.bh)("listDialog")||{};(0,i.Z)(n);let t=Object.keys(e);return(0,s.jsx)(s.Fragment,{children:t.map(((t,l)=>{let i=e[t];if(i&&i.visible){let e={};i.height&&(e.heigth=i.height),i.width,i.zIndex&&(e.zIndex=i.zIndex-1);let l={zIndex:i.zIndex},d=null,n=i.data;return i.content&&(d=a.cloneElement(i.content,{data:n})),(0,s.jsxs)("div",{className:"ltr-1kbnjow",style:e,children:[(0,s.jsx)("div",{className:"ltr-hoe9xz",children:(0,s.jsx)("div",{className:"ltr-1wao6ny",style:l,id:t,children:d})}),i.data.overlay?(0,s.jsx)("div",{className:"DialogHRMOverlay ".concat(i.visible?"active":""),onClick:()=>{var e;e=t,document.getElementsByTagName("html")[0].classList.remove("has-level-two"),c({id:e})}}):null]},t)}}))})},r=e=>{let t=(0,d.bh)("listDialog")||{},l=(0,d.M5)();t[l]||(t[l]={}),t[l].visible=!0;let a={};e.props?(a=e.props,a.modalID=l):a.modalID=l;let i=document.getElementsByTagName("body")[0];null!==i&&void 0!==i&&i.style&&(i.style.overflowY="hidden"),t[l].isView=e.isView,t[l].observeResize=e.observeResize,t[l].observeResize&&(t[l].observeInterval=setInterval((()=>{let e=document.querySelector("[dialog-key-id='".concat(l,"']")),a=e&&e.getBoundingClientRect();a&&(a.width===t[l].width&&a.height===t[l].height||(t[l].height=a.height+10,t[l].width=a.width,(0,d.Rz)("listDialog",t),(0,d.wt)(n)))}),200)),t[l].display=!0,e.zIndex&&(t[l].zIndex=e.zIndex),e.height&&(t[l].height=e.height),e.width&&(t[l].width=e.width),e.content&&(t[l].content=e.content),t[l].data=a,(0,d.Rz)("listDialog",t),(0,d.wt)(n),setTimeout((()=>{document.getElementsByTagName("html")[0].classList.add("has-level-two"),(0,d.Rz)("modalOpen",l),(0,d.wt)(n)}),125)},c=e=>{let t=(0,d.bh)("listDialog")||{},l=e.id;if(t[l]){var a,i,s;t[l].observeResize&&t[l].observeInterval&&clearInterval(t[l].observeInterval),t[l].display=!1,null===(a=t[l])||void 0===a||null===(i=a.data)||void 0===i||null===(s=i.closeEvent)||void 0===s||s.call(i),(0,d.Rz)("listDialog",t),delete t[l],document.getElementsByTagName("body")[0].style.overflowY=null,(0,d.wt)(n),setTimeout((()=>{delete t[l],document.getElementsByTagName("html")[0].classList.remove("has-level-two"),(0,d.Rz)("modalOpen",null)}),750)}}},6295:(e,t,l)=>{l.r(t),l.d(t,{default:()=>v});var a=l(2791),i=l(2350),d=l(1205),s=l(2647),n=l(24),o=l(9760),r=l(184);const c=(0,n.f_)(),u=(0,s.Np)(),h="driver_licence_translate";let m=["dl_number","dl_issues","dl_exire","dl_type","endorsment","restriction"];const v=e=>{var t,l,s,n,v,b,_;let{data:y,elmId:g}=e;const[x,f]=(0,a.useState)(!1),[N,w]=(0,a.useState)(0);(0,a.useEffect)((()=>{if(!x)return f(!0),(0,i.Rz)(h,null),w((0,i.M5)()),setTimeout((()=>{(async()=>{let e={query:"getScanDocumentsNotary",params:{":customerId":(0,i.bh)("upd_client").clientNotaryId,":documentType":"DLT_Aff"},queryString:"customerId contain :customerId AND documentType contain :documentType"};const t=(0,i.Bm)((0,i.uG)(),e),l=await t;if(l&&!l.error){let e=(0,i._2)(l.data)[0];l.data[e]?((0,i.Rz)(h,l.data[e]),(0,i.Rz)(h+"_bck",JSON.parse(JSON.stringify(l.data[e]))),w((0,i.M5)())):((0,i.Rz)(h,null),w((0,i.M5)()))}})();let e={...(0,i.bh)("upd_client")},t={dob:null===e||void 0===e?void 0:e.dob,dateOfBirth:null===e||void 0===e?void 0:e.dateOfBirth,name:null!==e&&void 0!==e&&e.firstName?"".concat(null===e||void 0===e?void 0:e.firstName," ").concat(null!==e&&void 0!==e&&e.middleName?(null===e||void 0===e?void 0:e.middleName)+" ":"").concat(null===e||void 0===e?void 0:e.lastName," "):"",ss:null===e||void 0===e?void 0:e.ss};(0,i.Rz)(h+"_userInfo",t),w((0,i.M5)())}),50),()=>{(0,i.Rz)(h,null)}}));const j=(e,t)=>{let l=(0,i.bh)(h)||{};l[e]=t,(0,i.Rz)(h,l),w((0,i.M5)())},I=()=>{(null===y||void 0===y?void 0:y.modalID)&&(0,o.CloseModal)({id:null===y||void 0===y?void 0:y.modalID})};let D=(0,i.vy)(m,(0,i.bh)(h),(0,i.bh)(h+"_bck"));return(0,r.jsxs)("div",{style:{maxHeight:"80vh",width:"800px",overflow:"auto",background:"var(--hrm_palette-general-background-b)",borderRadius:13,padding:"10px 19px 30px"},children:[(0,r.jsxs)("div",{className:"_dsplFlx ",children:[(0,r.jsx)("p",{className:"form_title",children:"Traducion de Licencia"}),(0,r.jsx)("div",{className:"flexSpace"}),(0,r.jsx)("button",{className:"group_title addBtn purple",onClick:async()=>{let e=Object.assign({},(0,i.bh)(h),(0,i.bh)(h+"_userInfo"));e.name&&(e.name_jury=e.name),e.dateOfBirth&&(e.dob_p=(0,i.sJ)(e.dateOfBirth)),e.dl_issues&&(e.dl_issue_p=(0,i.IB)(e.dl_issues)),e.dl_exire&&(e.dl_exp_p=(0,i.IB)(e.dl_exire)),e.ss?e.SS=p(e.ss):e.SS="N/A";let t=e.translateDate?new Date(e.translateDate):new Date,l=t.getDate(),a=t.getFullYear().toString().slice(2,4);e.inter_date=(0,i.sJ)(t.getTime()),e.day_en_jury=l,e.day_es_jury=l,e.half_year_en_jury=a,e.half_year_es_jury=a;let s=t.getMonth()+1;e.month_en_jury=i.f2.en[s],e.month_es_jury=i.f2.es[s];let n=await(0,d.iv)(e,!0,!0);window.open(n)},children:"Imprimir"})]}),(0,r.jsx)("p",{className:"group_title"}),(0,r.jsxs)("div",{className:"_dsplFlx spaceAround",style:{marginTop:20},children:[(0,r.jsx)(u,{init:null===(t=(0,i.bh)(h))||void 0===t?void 0:t.dl_number,label:"Numero de Licencia",width:160,updChanges:e=>j("dl_number",e)}),(0,r.jsx)(c,{init:null===(l=(0,i.bh)(h))||void 0===l?void 0:l.dl_issues,label:"Fecha de emicion",updDate:e=>j("dl_issues",e)}),(0,r.jsx)(c,{init:null===(s=(0,i.bh)(h))||void 0===s?void 0:s.dl_exire,label:"Fecha de expiracion",updDate:e=>j("dl_exire",e)})]}),(0,r.jsxs)("div",{className:"_dsplFlx spaceAround flxWrp",children:[(0,r.jsx)(u,{init:null===(n=(0,i.bh)(h))||void 0===n?void 0:n.dl_type,label:"Tipo de Licencia",width:650,updChanges:e=>j("dl_type",e)}),(0,r.jsx)(u,{init:null===(v=(0,i.bh)(h))||void 0===v?void 0:v.endorsment,label:"Aprobaci\xf3nes",width:650,updChanges:e=>j("endorsment",e)}),(0,r.jsx)(u,{init:null===(b=(0,i.bh)(h))||void 0===b?void 0:b.restriction,label:"Restriciones",width:650,updChanges:e=>j("restriction",e)})]}),(0,r.jsx)("div",{className:"_dsplFlx spaceAround",style:{marginTop:20},children:(0,r.jsx)(c,{init:null===(_=(0,i.bh)(h))||void 0===_?void 0:_.translateDate,label:"Fecha de la traduccion",updDate:e=>j("translateDate",e)})}),(0,r.jsxs)("div",{className:"_dsplFlx ",children:[(0,r.jsx)("div",{className:"flexSpace"}),null!==D&&void 0!==D&&D.hasChange?(0,r.jsx)("button",{className:"group_title purple addBtn",onClick:async()=>{let e=(0,i.bh)(h),t={};if(e.documentNotaryId){let l=(0,i.vy)(m,(0,i.bh)(h),(0,i.bh)(h+"_bck"));t={query:"updateDocumentsNotary",params:{documentNotaryId:e.documentNotaryId},data2update:l.data}}else e.customerId=(0,i.bh)("upd_client").clientNotaryId,e.documentType="DLT_Aff",e.documentNotaryId=(0,i.M5)(),t={query:"addDocumentsNotary",form:e};const l=(0,i.Bm)((0,i.uG)(),t),a=await l;a&&a.data&&((0,i.Rz)(h,a.data),w((0,i.M5)()),I())},children:"Guardar"}):null]})]})},p=e=>{if(e){return e.substring(0,3)+" - "+e.substring(3,5)+" - "+e.substring(5,9)}return""}}}]);
//# sourceMappingURL=6295.ce1dbdef.chunk.js.map