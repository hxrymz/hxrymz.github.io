"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[64,9760],{9760:function(e,a,l){l.r(a),l.d(a,{CloseModal:function(){return o},OpenModal:function(){return c},default:function(){return t}});var s=l(2791),i=l(5408),n=l(2350),r=l(184),d="listDialog_mdh392",t=function(){var e=(0,n.bh)("listDialog")||{},a=((0,i.Z)(d),Object.keys(e));return(0,r.jsx)(r.Fragment,{children:a.map((function(a,l){var i=e[a];if(i&&i.visible){var n={};i.height&&(n.heigth=i.height),i.width,i.zIndex&&(n.zIndex=i.zIndex-1);var d={zIndex:i.zIndex},t=null,c=i.data;return i.content&&(t=s.cloneElement(i.content,{data:c})),(0,r.jsxs)("div",{className:"ltr-1kbnjow",style:n,children:[(0,r.jsx)("div",{className:"ltr-hoe9xz",children:(0,r.jsx)("div",{className:"ltr-1wao6ny",style:d,id:a,children:t})}),i.data.overlay?(0,r.jsx)("div",{className:"DialogHRMOverlay ".concat(i.visible?"active":""),onClick:function(){var e;e=a,document.getElementsByTagName("html")[0].classList.remove("has-level-two"),o({id:e})}}):null]},a)}}))})},c=function(e){var a=(0,n.bh)("listDialog")||{},l=(0,n.M5)();a[l]||(a[l]={}),a[l].visible=!0;var s={};e.props?(s=e.props).modalID=l:s.modalID=l;var i=document.getElementsByTagName("body")[0];null!==i&&void 0!==i&&i.style&&(i.style.overflowY="hidden"),a[l].isView=e.isView,a[l].observeResize=e.observeResize,a[l].observeResize&&(a[l].observeInterval=setInterval((function(){var e=document.querySelector("[dialog-key-id='".concat(l,"']")),s=e&&e.getBoundingClientRect();s&&(s.width===a[l].width&&s.height===a[l].height||(a[l].height=s.height+10,a[l].width=s.width,(0,n.Rz)("listDialog",a),(0,n.wt)(d)))}),200)),a[l].display=!0,e.zIndex&&(a[l].zIndex=e.zIndex),e.height&&(a[l].height=e.height),e.width&&(a[l].width=e.width),e.content&&(a[l].content=e.content),a[l].data=s,(0,n.Rz)("listDialog",a),(0,n.wt)(d),setTimeout((function(){document.getElementsByTagName("html")[0].classList.add("has-level-two"),(0,n.Rz)("modalOpen",l),(0,n.wt)(d)}),125)},o=function(e){var a,l,s,i=(0,n.bh)("listDialog")||{},r=e.id;i[r]&&(i[r].observeResize&&i[r].observeInterval&&clearInterval(i[r].observeInterval),i[r].display=!1,null===(a=i[r])||void 0===a||null===(l=a.data)||void 0===l||null===(s=l.closeEvent)||void 0===s||s.call(l),(0,n.Rz)("listDialog",i),delete i[r],document.getElementsByTagName("body")[0].style.overflowY=null,(0,n.wt)(d),setTimeout((function(){delete i[r],document.getElementsByTagName("html")[0].classList.remove("has-level-two"),(0,n.Rz)("modalOpen",null)}),750))}},64:function(e,a,l){l.r(a),l.d(a,{default:function(){return ee}});var s=l(9439),i=l(2791),n=(l(1636),l(2350)),r=l(4050),d=l(7689),t=l(9760),c=l(4165),o=l(1413),v=l(5861),u=l(4296),m=l(2647),p=l(184),h=(0,m.PU)(),x=(0,m.Vg)(),_=(0,m.tW)(),b="ourBank2S",j=function(e){var a,l=e.data,c=(e.operations,e.accountD),v=(e.subaccountD,(0,i.useState)(0)),u=(0,s.Z)(v,2),m=(u[0],u[1]),j=(0,i.useState)(!1),f=(0,s.Z)(j,2),N=f[0],g=(f[1],(0,i.useState)(!1)),y=(0,s.Z)(g,2),k=y[0],I=(y[1],(0,i.useState)("")),F=(0,s.Z)(I,2),C=(F[0],F[1]),S=(0,i.useState)(!1),w=(0,s.Z)(S,2),Z=w[0],D=w[1],z=(0,i.useState)(!1),R=(0,s.Z)(z,2),T=R[0],O=R[1],M=(0,i.useState)(!1),B=(0,s.Z)(M,2);B[0],B[1];(0,i.useEffect)((function(){}),[c]);var L=function(){m((0,n.M5)()),D(!1)},V=((0,d.s0)(),function(){O(!1),(0,t.CloseModal)({id:l.modalID})});return(0,p.jsxs)("div",{style:{maxHeight:"80vh",width:"90vw",overflow:"auto",background:"var(--hrm_palette-general-background-b)",borderRadius:13,padding:"10px 19px 30px"},children:[(0,p.jsxs)("div",{className:"_dsplFlx ",children:[(0,p.jsx)("p",{className:"title_collect",children:"Registros del Banco"}),(0,p.jsx)("div",{className:"flexSpace"}),(0,p.jsx)("p",{className:"group_title addBtn purple",onClick:function(e){},children:"Exportar a CSV"})]}),(0,p.jsxs)("div",{className:"_dsplFlx ",style:{marginTop:14},children:[(0,p.jsx)("div",{style:{marginTop:11},children:(0,p.jsx)(x,{placeholder:"Buscar ....",width:560,obs:m,fetchData:L,loading:Z,change:function(e){!Z&&D(!0),C(e)},callempty:L,keyFlds:"search_h65767"})}),(0,p.jsx)("div",{style:{marginLeft:15}}),(0,p.jsx)("div",{className:"_dsplFlx cmp_dtls",children:(0,p.jsxs)("div",{className:"_dsplFlx",children:[(0,p.jsxs)("div",{className:"filter_btn _dsplFlx",onClick:function(){},children:[(0,p.jsx)("div",{className:"lbl",children:N?"Filtrando":"Filtrar"}),(0,p.jsx)(h,{name:N?"cancel":"filter",color:"#66666"})]}),N?(0,p.jsx)("div",{className:"done_btn _dsplFlx",style:{borderColor:k?"var(--hrm_palette-success-fg)":"#c62828",marginLeft:9},onClick:function(){},children:(0,p.jsx)(h,{name:k?"check_circle":"alert",color:k?"var(--hrm_palette-success-fg)":"#c62828"})}):null]})}),(0,p.jsx)("div",{className:"flexSpace"}),(0,p.jsx)("div",{children:T?(0,p.jsx)("div",{className:"icon_compr",children:(0,p.jsx)(_,{stroke:"#646cff",size:38,strokeW:6})}):(0,p.jsx)("div",{className:" addBtn purple btn_purpl_fweight",style:{marginTop:20},onClick:function(e){O(!0);var a=[];(0,n.bh)(b).map((function(e){var l,s,i=(0,o.Z)({},e);i.status=4;var r=(0,o.Z)({},null===(l=(0,n.bh)((0,n.hQ)()))||void 0===l?void 0:l.add_bank_bUp);r.params={businessId:null===(s=(0,n.bh)("profileUser"))||void 0===s?void 0:s.businessId},r.form=i,a.push(r)})),(0,r.fp)(a,V)},children:"Save"})})]}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{className:"_dsplFlx hdr_bar purple",children:[(0,p.jsx)("div",{className:"tr_bar_20",children:"Fecha"}),(0,p.jsx)("div",{className:"tr_bar_40",children:"Descripcion"}),(0,p.jsx)("div",{className:"tr_bar_20",children:"No cheque"}),(0,p.jsx)("div",{className:"tr_bar_20",children:"Importe"})]}),(0,p.jsx)("div",{className:"scollVh subMHeight",children:(0,n.bh)(b)&&(null===(a=(0,n.bh)(b))||void 0===a?void 0:a.map((function(e,a){var l;return(0,p.jsxs)("div",{className:"_dsplFlx hdr_bar",children:[(0,p.jsx)("div",{className:"tr_bar_20",children:e.date&&(0,n.sJ)(e.date)}),(0,p.jsx)("div",{className:"tr_bar_40 desc_font",children:e.description}),(0,p.jsx)("div",{className:"tr_bar_20",children:e.checkOrSlip}),(0,p.jsx)("div",{className:"tr_bar_20",children:null===(l=1*e.amount)||void 0===l?void 0:l.toFixed(2)})]},a)})))})]})]})},f=(l(4363),function(e){var a=e.data,l=e.confirm,s=e.lbl_p,i=e.lbl_span,n=e.lbl_btn,r=e.theme,d=a.modalID,c=function(e){(0,t.CloseModal)({id:d})};return(0,p.jsxs)("div",{style:{maxHeight:"40vh",minHeight:"20vh",overflow:"auto",background:"var(--hrm_palette-general-background-b)",borderRadius:13,padding:"10px 19px"},children:[(0,p.jsxs)("div",{className:"_dsplFlx ",children:[(0,p.jsx)("p",{className:"form_title",children:s}),(0,p.jsx)("div",{className:"flexSpace"})]}),(0,p.jsx)("div",{className:"_dsplFlx ",children:(0,p.jsx)("span",{children:i})}),(0,p.jsxs)("div",{className:"_dsplFlx ",style:{padding:"15px 10px"},children:[(0,p.jsx)("div",{className:"flexSpace"}),(0,p.jsx)("p",{className:"group_title addBtn",onClick:c,children:"Cancelar"}),(0,p.jsx)("p",{className:"group_title addBtn ".concat(r||"red"),onClick:function(){l(),c()},children:n})]})]})}),N=((0,m.PU)(),(0,m.Vg)()),g=((0,m.tW)(),function(e){var a,l,u=e.data,m=e.item,h=(0,i.useState)(0),x=(0,s.Z)(h,2),_=(x[0],x[1]),b=(0,i.useState)(!1),j=(0,s.Z)(b,2),g=(j[0],j[1],(0,i.useState)(!1)),k=(0,s.Z)(g,2),I=(k[0],k[1],(0,i.useState)("")),F=(0,s.Z)(I,2),C=F[0],S=F[1],w=(0,i.useState)(!1),Z=(0,s.Z)(w,2),D=Z[0],z=Z[1],R=(0,i.useState)(!1),T=(0,s.Z)(R,2),O=(T[0],T[1]),M=function(e){S(e),D&&z(!1)},B=((0,d.s0)(),function(){O(!1),(0,t.CloseModal)({id:u.modalID})}),L=function(){var e=(0,v.Z)((0,c.Z)().mark((function e(a){var l,s,i,d;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=(0,o.Z)({},null===(l=(0,n.bh)((0,n.hQ)()))||void 0===l?void 0:l.upd_bank_bUp)).params={businessId:null===(s=(0,n.bh)("profileUser"))||void 0===s?void 0:s.businessId,bankRecordId:m.bankRecordId},i.data2update={linkId:a.operationId,document:a.document,comprobanteId:a.comprobanteId,status:9},d=(0,n.I7)(i),e.next=6,d;case 6:e.sent&&(0,r.Pe)(B);case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return(0,p.jsxs)("div",{style:{maxHeight:"80vh",width:"90vw",overflow:"auto",background:"var(--hrm_palette-general-background-b)",borderRadius:13,padding:"10px 19px 30px"},children:[(0,p.jsxs)("div",{className:"_dsplFlx ",children:[(0,p.jsx)("p",{className:"title_collect",children:"Associar comprobante Manual"}),(0,p.jsx)("div",{className:"flexSpace"})]}),(0,p.jsx)("div",{className:"_dsplFlx ",style:{marginTop:14},children:(0,p.jsx)("div",{style:{marginTop:11},children:(0,p.jsx)(N,{placeholder:"Buscar ....",width:560,obs:_,fetchData:M,loading:D,change:function(e){!D&&z(!0),S(e)},callempty:M,keyFlds:"search_h65767"})})}),(0,p.jsxs)("div",{style:{marginTop:14},children:[(0,p.jsxs)("div",{className:"_dsplFlx hdr_bar green",style:{margin:"6px 0"},children:[(0,p.jsx)("div",{className:"tr_bar_15",children:m.date&&(0,n.sJ)(m.date)}),(0,p.jsx)("div",{className:"tr_bar_15",children:m.comprobanteId}),(0,p.jsx)("div",{className:"tr_bar_40 desc_font",children:m.description}),(0,p.jsx)("div",{className:"tr_bar_15",children:m.checkOrSlip}),(0,p.jsx)("div",{className:"tr_bar_15",children:null===(a=1*m.amount)||void 0===a?void 0:a.toFixed(2)})]}),(0,p.jsxs)("div",{className:"_dsplFlx hdr_bar purple",children:[(0,p.jsx)("div",{className:"tr_bar_15",children:"Fecha"}),(0,p.jsx)("div",{className:"tr_bar_15",children:"Comprobante"}),(0,p.jsx)("div",{className:"tr_bar_40",children:"Descripcion"}),(0,p.jsx)("div",{className:"tr_bar_15",children:"No cheque"}),(0,p.jsx)("div",{className:"tr_bar_15",children:"Importe"})]}),(0,p.jsx)("div",{className:"scollVh subMHeight",children:(0,n.bh)("submayor_list")&&(null===(l=(0,n._2)((0,n.bh)("submayor_list")))||void 0===l?void 0:l.map((function(e,a){var l,s,i=null===(l=(0,n.bh)("submayor_list"))||void 0===l?void 0:l[e];return C&&!y(i,C)?null:(0,p.jsxs)("div",{className:"_dsplFlx hdr_bar manual_vrfy",children:[(0,p.jsx)("div",{className:"tr_bar_15",children:i.date&&(0,n.sJ)(i.date)}),(0,p.jsx)("div",{className:"tr_bar_15 comprobanteId",onClick:function(){return function(e){var a={zIndex:450,height:"80vh",props:{minHeight:"1vh",overlay:!0}};a.content=(0,p.jsx)(f,{item:e,lbl_p:"Associar con el banco",lbl_span:"esta seguro que desea associar el comprobante ".concat(e.comprobanteId," a la cuenta de banco"),lbl_btn:"Confirm",theme:"purple",confirm:function(){return L(e)}}),(0,t.OpenModal)(a)}(i)},children:i.comprobanteId}),(0,p.jsx)("div",{className:"tr_bar_40 desc_font",children:i.description}),(0,p.jsx)("div",{className:"tr_bar_15",children:i.document}),(0,p.jsx)("div",{className:"tr_bar_15",children:null===(s=1*i.amount)||void 0===s?void 0:s.toFixed(2)})]},a)})))})]})]})}),y=function(e,a){var l=a.toLowerCase(),s=!1;return["description","amount","document","comprobanteId"].map((function(a){var i,n,r;e[a]&&(null===(i=e[a])||void 0===i||null===(n=i.toString())||void 0===n||null===(r=n.toLowerCase())||void 0===r?void 0:r.indexOf(l))>=0&&(s=!0)})),s},k=((0,m.PU)(),(0,m.Vg)(),(0,m.tW)()),I=function(e){var a,l=e.data,d=e.item,u=e.confirm,m=(0,i.useState)(0),h=(0,s.Z)(m,2),x=(h[0],h[1],(0,i.useState)(!1)),_=(0,s.Z)(x,2),b=_[0],j=_[1],f=function(){j(!1),(0,t.CloseModal)({id:l.modalID}),u&&u()},N=d.operationId||d.linkId,y=null===(a=(0,n.bh)("submayor_list"))||void 0===a?void 0:a[N],I=y||!d.linkId||d.operationId&&d.operationId!==d.linkId,F=function(){var e=(0,v.Z)((0,c.Z)().mark((function e(a){var l,s,i,t;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),(i=(0,o.Z)({},null===(l=(0,n.bh)((0,n.hQ)()))||void 0===l?void 0:l.upd_bank_bUp)).params={businessId:null===(s=(0,n.bh)("profileUser"))||void 0===s?void 0:s.businessId,bankRecordId:d.bankRecordId},i.data2update={linkId:a.operationId,document:a.document,comprobanteId:a.comprobanteId,status:9},t=(0,n.I7)(i),e.next=7,t;case 7:e.sent&&(0,r.Pe)(f);case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return(0,p.jsxs)("div",{style:{maxHeight:"80vh",width:"860px",overflow:"auto",background:"var(--hrm_palette-general-background-b)",borderRadius:13,padding:"10px 19px 30px"},children:[(0,p.jsxs)("div",{className:"_dsplFlx ",children:[(0,p.jsx)("p",{className:"title_collect",children:"Comparar Comprobante con el Banco"}),(0,p.jsx)("div",{className:"flexSpace"}),(0,p.jsx)("div",{className:"group_title addBtn purple upl",onClick:function(){var e={zIndex:450,height:"80vh",props:{minHeight:"1vh",overlay:!0}};e.content=(0,p.jsx)(g,{item:d}),(0,t.OpenModal)(e),f()},children:"Manual"}),I?b?(0,p.jsxs)("div",{className:"icon_compr _dsplFlx",style:{marginTop:12},children:[(0,p.jsx)("div",{className:"lbl_saving",children:"Linking ..."}),(0,p.jsx)(k,{stroke:"#646cff",size:24,strokeW:8})]}):(0,p.jsx)("div",{className:"group_title addBtn purple upl",onClick:function(){return F(d)},children:"Associar"}):null]}),(0,p.jsxs)("div",{className:"_dsplFlx  spaceAround flxWrp",style:{marginTop:24},children:[(0,p.jsxs)("div",{className:"boxCmp2compare green",children:[(0,p.jsx)("div",{className:"boxCmp2compare_title",children:"Registro del Banco"}),(0,p.jsxs)("div",{className:"boxCmp2compare_body",children:[(0,p.jsxs)("div",{className:"_dsplFlx",children:[(0,p.jsx)("div",{className:"flexSpace"}),(0,p.jsxs)("div",{className:"_dsplFlx",children:[(0,p.jsx)("div",{className:"lbl",children:"Fecha:"}),(0,p.jsx)("div",{className:"value",children:d.date&&(0,n.sJ)(d.date)})]})]}),(0,p.jsxs)("div",{className:"_dsplFlx",children:[(0,p.jsx)("div",{className:"flexSpace"}),(0,p.jsxs)("div",{className:"_dsplFlx",children:[(0,p.jsx)("div",{className:"lbl",children:"Importe:"}),(0,p.jsxs)("div",{className:"value",children:["$",d.amount]})]})]}),(0,p.jsxs)("div",{className:"_dsplFlx",children:[(0,p.jsx)("div",{className:"flexSpace"}),(0,p.jsxs)("div",{className:"_dsplFlx",children:[(0,p.jsx)("div",{className:"lbl",children:"No Cheque:"}),(0,p.jsx)("div",{className:"value",children:d.checkOrSlip})]})]}),(0,p.jsxs)("div",{className:"_dsplFlx",children:[(0,p.jsx)("div",{className:"flexSpace"}),(0,p.jsxs)("div",{className:"_dsplFlx",children:[(0,p.jsx)("div",{className:"lbl",children:"Comprobante:"}),(0,p.jsx)("div",{className:"value",children:d.comprobanteId})]})]}),(0,p.jsx)("div",{className:"_dsplFlx",children:(0,p.jsx)("div",{className:"_dsplFlx",children:(0,p.jsx)("div",{className:"value small",children:d.description})})})]})]}),(0,p.jsxs)("div",{className:"boxCmp2compare purple",children:[(0,p.jsx)("div",{className:"boxCmp2compare_title",children:"Comprobante en Contabilidad"}),(0,p.jsxs)("div",{className:"boxCmp2compare_body",children:[(0,p.jsxs)("div",{className:"_dsplFlx",children:[(0,p.jsx)("div",{className:"flexSpace"}),(0,p.jsxs)("div",{className:"_dsplFlx",children:[(0,p.jsx)("div",{className:"lbl",children:"Fecha:"}),(0,p.jsx)("div",{className:"value",children:(null===y||void 0===y?void 0:y.date)&&(0,n.sJ)(null===y||void 0===y?void 0:y.date)})]})]}),(0,p.jsxs)("div",{className:"_dsplFlx",children:[(0,p.jsx)("div",{className:"flexSpace"}),(0,p.jsxs)("div",{className:"_dsplFlx",children:[(0,p.jsx)("div",{className:"lbl",children:"Importe:"}),(0,p.jsxs)("div",{className:"value",children:["$",null===y||void 0===y?void 0:y.amount]})]})]}),(0,p.jsxs)("div",{className:"_dsplFlx",children:[(0,p.jsx)("div",{className:"flexSpace"}),(0,p.jsxs)("div",{className:"_dsplFlx",children:[(0,p.jsx)("div",{className:"lbl",children:"Documento:"}),(0,p.jsx)("div",{className:"value",children:null===y||void 0===y?void 0:y.document})]})]}),(0,p.jsxs)("div",{className:"_dsplFlx",children:[(0,p.jsx)("div",{className:"flexSpace"}),(0,p.jsxs)("div",{className:"_dsplFlx",children:[(0,p.jsx)("div",{className:"lbl",children:"Comprobante:"}),(0,p.jsx)("div",{className:"value",children:null===y||void 0===y?void 0:y.comprobanteId})]})]}),(0,p.jsx)("div",{className:"_dsplFlx",children:(0,p.jsx)("div",{className:"_dsplFlx",children:(0,p.jsx)("div",{className:"value small",children:null===y||void 0===y?void 0:y.description})})})]})]})]})]})},F=function(e){var a=e.data,l=e.confirm,s=e.lbl_p,i=e.lbl_span,n=a.modalID,r=function(e){(0,t.CloseModal)({id:n})};return(0,p.jsxs)("div",{style:{maxHeight:"40vh",minHeight:"28vh",overflow:"auto",background:"var(--hrm_palette-general-background-b)",borderRadius:13,padding:"10px 19px"},children:[(0,p.jsxs)("div",{className:"_dsplFlx ",children:[(0,p.jsx)("p",{className:"form_title",children:s}),(0,p.jsx)("div",{className:"flexSpace"})]}),(0,p.jsx)("div",{className:"_dsplFlx ",children:(0,p.jsx)("span",{children:i})}),(0,p.jsxs)("div",{className:"_dsplFlx ",style:{padding:"15px 10px"},children:[(0,p.jsx)("div",{className:"flexSpace"}),(0,p.jsx)("p",{className:"group_title addBtn",onClick:r,children:"Cancelar"}),(0,p.jsx)("p",{className:"group_title addBtn red",onClick:function(){l(),r()},children:"Eliminar"})]})]})},C=l(1087),S=(0,m.PU)(),w=(0,m.Vg)(),Z=(0,m.YZ)(),D=(0,m.tW)(),z="bank_verify_consolidation",R=function(e){var a,l,d,t=e.reCompare,c=e.navTo,o=e.accountD,v=e.accountForm,u=e.loadingV,m=(0,i.useState)(0),h=(0,s.Z)(m,2),x=(h[0],h[1]),_=(0,i.useState)(""),b=(0,s.Z)(_,2),j=b[0],f=b[1],N=(0,i.useState)(!1),g=(0,s.Z)(N,2),y=g[0],k=g[1],I=(0,i.useState)(!1),F=(0,s.Z)(I,2),C=F[0],S=F[1];(0,i.useEffect)((function(){R()}),[o]);var D=function(){x((0,n.M5)()),k(!1)},R=function(){var e;(0,n.Rz)(z,B(null===(e=(0,n.bh)("ourBank_filtered"))||void 0===e?void 0:e.verified,j,C)),D()};if(u)return(0,p.jsx)(T,{});var M=new Date(null===(a=(0,n.bh)("date_range_submayor"))||void 0===a?void 0:a.initDate).getMonth()+1,L=(0,r.S)(M,v);return(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{className:"_dsplFlx ",style:{marginTop:14},children:[(0,p.jsx)("div",{style:{marginTop:11},children:(0,p.jsx)(w,{placeholder:"Buscar ....",width:560,obs:x,fetchData:R,loading:y,change:function(e){!y&&k(!0),f(e)},callempty:R,keyFlds:"search_h65767"})}),(0,p.jsx)("div",{style:{marginLeft:15}}),(0,p.jsx)("div",{children:(0,p.jsxs)("div",{className:"_dsplFlx ",style:{marginTop:20},children:[(0,p.jsx)(Z,{initvalue:C,keyCode:72,updChange:function(e){return a=e,setTimeout((function(){var e;(0,n.Rz)(z,B(null===(e=(0,n.bh)("ourBank_filtered"))||void 0===e?void 0:e.verified,j,a)),D()}),200),void S(a);var a},color:"var(--hrm_palette-color-orange-800)"}),(0,p.jsx)("span",{className:"checklabel",children:"Regitros con alertas"})]})}),(0,p.jsx)("div",{className:"flexSpace"}),(0,p.jsxs)("div",{className:"_dsplFlx ",children:[(0,p.jsx)("div",{className:"total_comprobante_title",children:"No de Registros:"}),(0,p.jsx)("div",{className:"total_comprobante gray",children:(0,p.jsx)("span",{children:(0,n.bh)(z).length})})]})]}),(0,p.jsxs)("div",{className:"_dsplFlx",style:{marginTop:15},children:[(0,p.jsxs)("div",{className:"_dsplFlx",children:[(0,p.jsx)("div",{className:"igLyC_sum jyoO_sum",style:{color:"var(--hrm_palette-item_coll_gray)"},children:"Saldo submayor Banco:"}),(0,p.jsx)("div",{className:"igLyC_sum jyo3_sum ",style:{color:"var(--hrm_palette-inverse-background-b)"},children:"credit"===o.type?(-1*L).toFixed(2):(1*L).toFixed(2)})]}),(0,p.jsx)("div",{className:"flexSpace"}),(0,p.jsxs)("div",{className:"_dsplFlx",children:[(0,p.jsx)("div",{className:"igLyC_sum jyoO_sum",style:{color:"var(--hrm_palette-item_coll_gray)"},children:"Total verificado:"}),(0,p.jsx)("div",{className:"igLyC_sum jyo3_sum ",style:{color:"var(--hrm_palette-inverse-background-b)"},children:null===(l=V(null===(d=(0,n.bh)("ourBank_filtered"))||void 0===d?void 0:d.verified))||void 0===l?void 0:l.toFixed(2)})]})]}),(0,p.jsx)("div",{style:{marginTop:15}}),(0,p.jsx)(O,{search:j,filter:C,navTo:c,reCompare:t})]})},T=function(e){return(0,u.Z)(e),(0,p.jsxs)("div",{style:{minHeight:"calc(70vh - 1px)"},children:[(0,p.jsx)("div",{className:"load_animation"}),(0,p.jsxs)("div",{className:"_dsplFlx ",style:{marginTop:32},children:[(0,p.jsx)("div",{className:"flexSpace"}),(0,p.jsxs)("div",{className:"icon_compr _dsplFlx",children:[(0,p.jsx)("div",{className:"lbl_saving",children:"Loading ..."}),(0,p.jsx)(D,{stroke:"#646cff",size:24,strokeW:8})]}),(0,p.jsx)("div",{className:"flexSpace"})]})]})},O=function(e){e.searchQry;var a,l=e.navTo,r=e.reCompare,d=(e.search,e.filter,(0,i.useState)(!1)),t=(0,s.Z)(d,2),c=(t[0],t[1],(0,i.useState)(72)),o=(0,s.Z)(c,2),v=o[0];o[1];return(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{className:"_dsplFlx hdr_bar purple",children:[(0,p.jsx)("div",{className:"tr_bar_15",children:"Comprobante"}),(0,p.jsx)("div",{className:"tr_bar_10",children:"Fecha"}),(0,p.jsx)("div",{className:"tr_bar_40",children:"Descripcion"}),(0,p.jsx)("div",{className:"tr_bar_10",children:"No cheque"}),(0,p.jsx)("div",{className:"tr_bar_10",children:"Importe"}),(0,p.jsx)("div",{className:"tr_bar_10",children:"Documento"})]}),(0,p.jsx)("div",{className:"scollVh",style:{height:"calc(70vh - 150px)"},children:(0,n.bh)(z)&&(null===(a=E((0,n.bh)(z),v))||void 0===a?void 0:a.map((function(e,a){return(0,p.jsx)(M,{element:e,inx:a,navTo:l,reCompare:r,verifyManual:!0},a+"_bankItm")})))})]})},M=function(e){var a,l,d,u=e.element,m=e.navTo,h=e.reCompare,x=(e.inx,e.verifyManual),_=(0,i.useState)(!1),b=(0,s.Z)(_,2),j=b[0],f=b[1],N=function(){f(!1)},y=function(){h(N)},k=function(){var e={zIndex:450,height:"80vh",props:{minHeight:"1vh",overlay:!0}};e.content=(0,p.jsx)(g,{item:u,confirm:y}),(0,t.OpenModal)(e)},w=function(){var e={zIndex:450,height:"80vh",props:{minHeight:"1vh",overlay:!0}};e.content=(0,p.jsx)(I,{item:u,confirm:y}),(0,t.OpenModal)(e)},Z=function(){var e=(0,v.Z)((0,c.Z)().mark((function e(a){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x||!a.linkId&&a.operationId?w():k();case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),z=function(){var e=(0,v.Z)((0,c.Z)().mark((function e(a){var l,s,i,d;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=(0,o.Z)({},null===(l=(0,n.bh)((0,n.hQ)()))||void 0===l?void 0:l.delete_bank_bUp)).params={businessId:null===(s=(0,n.bh)("profileUser"))||void 0===s?void 0:s.businessId,bankRecordId:u.bankRecordId},d=(0,n.I7)(i),e.next=5,d;case 5:e.sent&&(0,r.Pe)(y);case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),R=null===(a=(0,n.bh)("submayor_list"))||void 0===a?void 0:a[u.linkId],T=("credit"===(null===R||void 0===R?void 0:R.type)?-1:1)*(null===R||void 0===R?void 0:R.amount),O=null===(l=(0,n.bh)("ourBank_filtered"))||void 0===l?void 0:l.verified_duplicatedLink[u.bankRecordId],M=T-(null===u||void 0===u?void 0:u.amount)!==0||O;return(0,p.jsxs)("div",{className:"_dsplFlx hdr_bar ",children:[(0,p.jsxs)("div",{className:"tr_bar_15 comprobante_id _dsplFlx",children:[j?(0,p.jsx)("div",{className:"icon_compr",children:(0,p.jsx)(D,{stroke:"#646cff",size:24,strokeW:8})}):(0,p.jsx)("div",{className:"icon_compr",onClick:function(){return Z(u)},children:(0,p.jsx)(S,{name:M?"alert":u.linkId?"check_circle":u.comprobanteId?"link":"alert",color:M?"var(--hrm_palette-color-orange-800)":u.linkId?"var(--hrm_palette-success-fg)":u.comprobanteId?"var(--hrm_palette-mono-filled-hover)":"#c62828"})}),(0,p.jsx)("div",{className:"flexSpace"}),(0,p.jsx)("div",{onClick:function(){return m(u)},children:(0,p.jsx)(C.OL,{to:{pathname:"/accounting-ledger",search:"?cId=".concat(u.comprobanteId)},children:u.comprobanteId})}),(0,p.jsx)("div",{className:"flexSpace"})]}),(0,p.jsx)("div",{className:"tr_bar_10",children:u.date&&(0,n.sJ)(u.date)}),(0,p.jsx)("div",{className:"tr_bar_40 desc_font",children:u.description}),(0,p.jsx)("div",{className:"tr_bar_10",children:u.checkOrSlip}),(0,p.jsx)("div",{className:"tr_bar_10",children:null===(d=1*u.amount)||void 0===d?void 0:d.toFixed(2)}),(0,p.jsx)("div",{className:"tr_bar_10",children:u.document}),(0,p.jsx)("div",{className:"icon_2rmv",onClick:function(){var e=(0,n.bh)("lastTimeCallModal")||0;if(Date.now()>e){(0,n.Rz)("lastTimeCallModal",Date.now()+320);var a={zIndex:450,height:"40vh",props:{minHeight:"1vh",overlay:!0,closeEvent:function(){}}};a.content=(0,p.jsx)(F,{confirm:z,lbl_p:"Eliminar Movimiento del Banco",lbl_span:"Una vez eliminado no podra ser recuperado"}),(0,t.OpenModal)(a)}},children:(0,p.jsx)(S,{name:"outline_delete",color:"#c62828"})})]})},B=function(e,a,l){return(0,n.MV)("filterBankValidate",[e,a,l],(function(){var s,i=[];return null===(s=(0,n._2)(e))||void 0===s||s.map((function(s){var r=e[s],d=!0;if(9!==r.status&&(d=!1),a&&(L(r,a)||(d=!1)),l){var t,c,o=null===(t=(0,n.bh)("submayor_list"))||void 0===t?void 0:t[r.linkId],v=("credit"===(null===o||void 0===o?void 0:o.type)?-1:1)*(null===o||void 0===o?void 0:o.amount),u=null===(c=(0,n.bh)("ourBank_filtered"))||void 0===c?void 0:c.verified_duplicatedLink[r.bankRecordId];v-(null===r||void 0===r?void 0:r.amount)!==0||u||(d=!1)}d&&i.push(r)})),i}))},L=function(e,a){var l=a.toLowerCase(),s=!1;return["description","amount","document","comprobanteId","dateDDMMYYYY"].map((function(a){var i,n,r;e[a]&&(null===(i=e[a])||void 0===i||null===(n=i.toString())||void 0===n||null===(r=n.toLowerCase())||void 0===r?void 0:r.indexOf(l))>=0&&(s=!0)})),s},V=function(e){var a,l=0;return e&&(null===(a=(0,n._2)(e))||void 0===a||a.map((function(a,s){var i=1*e[a].amount;l=1*(0,n.Zv)(l,2)+1*(0,n.Zv)(i,2)}))),l},E=function(e,a){return(0,n.MV)("rangeArrV",[e,a],(function(){return e?e.slice(0,a):[]}))},H=(0,m.PU)(),U=(0,m.Vg)(),P=(0,m.YZ)(),A=(0,m.tW)(),W="bank_consolidation_2r",J=function(e){var a=e.data,l=e.operations,d=e.accountD,c=e.subaccountD,o=e.accountForm,v=(0,i.useState)(0),u=(0,s.Z)(v,2),m=(u[0],u[1]),h=(0,i.useState)(!1),x=(0,s.Z)(h,2),_=x[0],b=(x[1],(0,i.useState)(!1)),f=(0,s.Z)(b,2),N=f[0],g=(f[1],(0,i.useState)("")),y=(0,s.Z)(g,2),k=y[0],I=(y[1],(0,i.useState)("")),F=(0,s.Z)(I,2),C=(F[0],F[1]),S=(0,i.useState)(!1),w=(0,s.Z)(S,2),Z=(w[0],w[1]),D=(0,i.useState)(!1),z=(0,s.Z)(D,2),T=z[0],O=z[1];(0,i.useEffect)((function(){(0,n.Rz)("bank_consolidation",null),(0,r.Pe)(V)}),[d]);var M=function(){m((0,n.M5)()),Z(!1)},B=function(e){(0,t.CloseModal)({id:a.modalID})},L=function(e){C(e||"");var a=(0,n.bh)("bank_consolidation");(0,n.Rz)(W,a),k&&(0,n.Rz)(W,K(a,k,_,N)),M()},V=function(e){var a=(0,n.bh)("ourBank"),s=((0,r.i_)((0,r.T7)(l,null===d||void 0===d?void 0:d.code,null===c||void 0===c?void 0:c.subAccount),null===d||void 0===d?void 0:d.code,null===c||void 0===c?void 0:c.subAccount),(0,r.y1)(a));(0,r.EK)(),(0,n.Rz)("bank_consolidation",null===s||void 0===s?void 0:s.ready),(0,n.Rz)("cmpbNotInBank",null===s||void 0===s?void 0:s.cmpbNotInBank);var i=(0,r.k4)((0,n.bh)("sortBank"),(0,n.bh)("ourBank"));i.length>0&&((0,n.Rz)("ourBank2S",i),function(){var e={zIndex:450,height:"80vh",props:{minHeight:"1vh",overlay:!0}};e.content=(0,p.jsx)(j,{accountD:d,subaccountD:c}),(0,t.OpenModal)(e)}()),L(),M(),(0,n.Ey)(e)&&e()};return(0,p.jsxs)("div",{style:{maxHeight:"80vh",width:"90vw",overflow:"auto",background:"var(--hrm_palette-general-background-b)",borderRadius:13,padding:"10px 19px 30px"},children:[(0,p.jsxs)("div",{className:"_dsplFlx ",children:[(0,p.jsx)("p",{className:"title_collect",children:"Consolidacion Bancaria"}),(0,p.jsx)("div",{className:"flexSpace"}),(0,p.jsx)("div",{className:"flexSpace"}),(0,p.jsxs)("div",{className:"_dsplFlx ",style:{marginTop:20},children:[(0,p.jsx)(P,{initvalue:T,keyCode:57,updChange:function(e){return a=e,(0,n.Rz)("loadingVerify",!0),O(a),void setTimeout((function(){(0,n.Rz)("loadingVerify",!1),M()}),200);var a}}),(0,p.jsx)("span",{className:"checklabel",children:"Registros Verificados"})]}),(0,p.jsxs)("div",{className:"group_title addBtn purple upl",children:["Importar CSV (Bank)",(0,p.jsx)("input",{id:"fileupload",type:"file",onChange:function(e){var a=new FileReader;a.onload=function(e){var a=e.target.result,l=(0,r.h1)((0,n.JO)(a),"Date");(0,n.Rz)("sortBank",l),V()},a.readAsText(e.target.files[0],"UTF-8")}})]}),(0,p.jsx)("p",{className:"group_title addBtn purple",onClick:function(e){var a=(0,n.bh)(W);(0,n.eY)("comparacion_estados_de_cuentas_"+(0,n.M5)()+".csv",a)},children:"Exportar a CSV"}),(0,p.jsx)("p",{className:"group_title addBtn purple",onClick:V,children:"Refresh"})]}),T?(0,p.jsx)(R,{reCompare:V,navTo:B,updObs:M,filterBc:L,accountForm:o,accountD:d,loadingV:(0,n.bh)("loadingVerify")}):(0,p.jsx)(Y,{reCompare:V,navTo:B,updObs:M,filterBc:L,accountForm:o,accountD:d,loadingV:(0,n.bh)("loadingVerify")})]})},Y=function(e){var a,l,d,t,c,o,v,u=e.reCompare,m=e.navTo,h=e.updObs,x=e.filterBc,_=e.accountD,b=e.accountForm,j=e.loadingV,f=(0,i.useState)(0),N=(0,s.Z)(f,2),g=(N[0],N[1]),y=(0,i.useState)(!1),k=(0,s.Z)(y,2),I=k[0],F=k[1],C=(0,i.useState)(!1),S=(0,s.Z)(C,2),w=S[0],Z=S[1],D=(0,i.useState)(""),z=(0,s.Z)(D,2),R=z[0],T=z[1],O=(0,i.useState)(!1),M=(0,s.Z)(O,2),B=M[0],L=M[1],V=(0,i.useState)(!1),E=(0,s.Z)(V,2),A=E[0],J=E[1],Y=(0,i.useState)(!1),X=(0,s.Z)(Y,2),ee=X[0],ae=X[1],le=new Date(null===(a=(0,n.bh)("date_range_submayor"))||void 0===a?void 0:a.initDate).getMonth()+1,se=(0,r.S)(le,b);if(j)return(0,p.jsx)(q,{});var ie=ee&&B?null===(l=(0,n.bh)("ourBank_filtered"))||void 0===l?void 0:l.bankSubLeft_wZr:null===(d=(0,n.bh)("ourBank_filtered"))||void 0===d?void 0:d.bankSubLeft;return(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{className:"_dsplFlx ",style:{marginTop:14},children:[(0,p.jsx)("div",{style:{marginTop:11},children:(0,p.jsx)(U,{placeholder:"Buscar ....",width:560,obs:g,fetchData:x,loading:A,change:function(e){!A&&J(!0),T(e)},callempty:x,keyFlds:"search_h65767"})}),(0,p.jsx)("div",{style:{marginLeft:15}}),(0,p.jsx)("div",{className:"_dsplFlx cmp_dtls",children:(0,p.jsxs)("div",{className:"_dsplFlx",children:[(0,p.jsxs)("div",{className:"filter_btn _dsplFlx",onClick:function(){var e=(0,n.bh)("bank_consolidation");(0,n.Rz)(W,e);var a=!I;R?(0,n.Rz)(W,K(e,R,a,w)):a&&(0,n.Rz)(W,K(e,"",a,w)),F(a),h()},children:[(0,p.jsx)("div",{className:"lbl",children:I?"Filtrando":"Filtrar"}),(0,p.jsx)(H,{name:I?"cancel":"filter",color:"#66666"})]}),I?(0,p.jsx)("div",{className:"done_btn _dsplFlx",style:{borderColor:w?"var(--hrm_palette-success-fg)":"#c62828",marginLeft:9},onClick:function(){var e=(0,n.bh)("bank_consolidation");(0,n.Rz)(W,e);var a=!w;R?(0,n.Rz)(W,K(e,R,I,a)):I&&(0,n.Rz)(W,K(e,"",I,a)),Z(a),h()},children:(0,p.jsx)(H,{name:w?"link":"alert",color:w?"var(--hrm_palette-mono-filled-hover)":"#c62828"})}):null]})}),(0,p.jsx)("div",{className:"flexSpace"}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{className:"_dsplFlx ",style:{marginTop:4},children:[(0,p.jsx)(P,{initvalue:ee,keyCode:77,updChange:function(e){return ae(e)}}),(0,p.jsx)("span",{className:"checklabel",children:"Comprobantes fuera del banco"})]}),ee?(0,p.jsxs)("div",{className:"_dsplFlx ",style:{marginTop:4},children:[(0,p.jsx)(P,{initvalue:B,keyCode:77,updChange:function(e){return L(e)},color:"var(--primary-hover)"}),(0,p.jsx)("span",{className:"checklabel",children:"Comprobantes saldo 0.00 "})]}):null]}),(0,p.jsx)("div",{className:"flexSpace"}),(0,p.jsxs)("div",{className:"_dsplFlx ",children:[(0,p.jsx)("div",{className:"total_comprobante_title",children:"No de Registros:"}),(0,p.jsx)("div",{className:"total_comprobante gray",children:(0,p.jsx)("span",{children:null===(t=(0,n._2)((0,n.bh)(W)))||void 0===t?void 0:t.length})})]})]}),(0,p.jsxs)("div",{className:"_dsplFlx",style:{marginTop:5},children:[(0,p.jsxs)("div",{className:"_dsplFlx",children:[(0,p.jsx)("div",{className:"igLyC_sum jyoO_sum",style:{color:"var(--hrm_palette-item_coll_gray)"},children:"Saldo submayor Banco:"}),(0,p.jsx)("div",{className:"igLyC_sum jyo3_sum ",style:{color:"var(--hrm_palette-inverse-background-b)"},children:"credit"===_.type?(-1*se).toFixed(2):(1*se).toFixed(2)})]}),(0,p.jsx)("div",{className:"flexSpace"}),(0,p.jsxs)("div",{className:"_dsplFlx",children:[(0,p.jsx)("div",{className:"igLyC_sum jyoO_sum",style:{color:"var(--hrm_palette-item_coll_gray)"},children:"Total pendiente:"}),(0,p.jsx)("div",{className:"igLyC_sum jyo3_sum ",style:{color:"var(--hrm_palette-inverse-background-b)"},children:null===(c=G((0,n.bh)(W)))||void 0===c?void 0:c.toFixed(2)})]})]}),(0,p.jsx)("div",{style:{marginTop:15}}),ee?(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{className:"_dsplFlx hdr_bar purple",children:[(0,p.jsx)("div",{className:"tr_bar_15",children:"Comprobante"}),(0,p.jsx)("div",{className:"tr_bar_10",children:"Fecha"}),(0,p.jsx)("div",{className:"tr_bar_10",children:"Importe"}),(0,p.jsx)("div",{className:"tr_bar_10",children:"Documento"})]}),(0,p.jsx)("div",{className:"scollVh",style:{height:"calc(70vh - 150px)"},children:ie&&(null===(o=(0,n._2)(ie))||void 0===o?void 0:o.map((function(e,a){var l=ie[e];return(0,p.jsx)(Q,{element:l,inx:a,navTo:m,sld0:ee&&B,updObs:h},a+"_outbankItm")})))})]}):(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{className:"_dsplFlx hdr_bar purple",children:[(0,p.jsx)("div",{className:"tr_bar_15",children:"Comprobante"}),(0,p.jsx)("div",{className:"tr_bar_10",children:"Fecha"}),(0,p.jsx)("div",{className:"tr_bar_40",children:"Descripcion"}),(0,p.jsx)("div",{className:"tr_bar_10",children:"No cheque"}),(0,p.jsx)("div",{className:"tr_bar_10",children:"Importe"}),(0,p.jsx)("div",{className:"tr_bar_10",children:"Documento"})]}),(0,p.jsx)("div",{className:"scollVh",style:{height:"calc(70vh - 150px)"},children:(0,n.bh)(W)&&(null===(v=(0,n.bh)(W))||void 0===v?void 0:v.map((function(e,a){var l=!0,s=(0,n.bh)("date_range_submayor");return I&&(l=!1,w&&e.comprobanteId&&(l=!0),w||e.comprobanteId||(l=!0)),!l||isNaN(e.amount)||e.date<(null===s||void 0===s?void 0:s.initDate)||e.date>(null===s||void 0===s?void 0:s.lastDate)?null:(0,p.jsx)($,{element:e,inx:a,navTo:m,reCompare:u},a+"_bankItm")})))})]})]})},q=function(e){return(0,u.Z)(e),(0,p.jsxs)("div",{style:{minHeight:"calc(70vh - 1px)"},children:[(0,p.jsx)("div",{className:"load_animation"}),(0,p.jsxs)("div",{className:"_dsplFlx ",style:{marginTop:32},children:[(0,p.jsx)("div",{className:"flexSpace"}),(0,p.jsxs)("div",{className:"icon_compr _dsplFlx",children:[(0,p.jsx)("div",{className:"lbl_saving",children:"Loading ..."}),(0,p.jsx)(A,{stroke:"#646cff",size:24,strokeW:8})]}),(0,p.jsx)("div",{className:"flexSpace"})]})]})},Q=function(e){var a,l=e.element,s=e.navTo,i=e.ind43,r=e.sld0,d=(e.updObs,function(){var e=(0,v.Z)((0,c.Z)().mark((function e(){var a,i,d,t;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=8;break}return(d=(0,o.Z)({},null===(a=(0,n.bh)((0,n.hQ)()))||void 0===a?void 0:a.delete_opera)).params={businessId:null===(i=(0,n.bh)("profileUser"))||void 0===i?void 0:i.businessId,operationId:l.operationId},t=(0,n.I7)(d),e.next=6,t;case 6:e.sent&&s();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return(0,p.jsxs)("div",{className:"_dsplFlx hdr_bar",children:[(0,p.jsxs)("div",{className:"tr_bar_15 comprobante_id _dsplFlx",children:[(0,p.jsx)("div",{className:"flexSpace"}),(0,p.jsx)("div",{onClick:function(){return s(l)},children:(0,p.jsx)(C.OL,{to:{pathname:"/accounting-ledger",search:"?cId=".concat(l.comprobanteId)},children:l.comprobanteId})}),(0,p.jsx)("div",{className:"flexSpace"})]}),(0,p.jsx)("div",{className:"tr_bar_10",children:l.date&&(0,n.sJ)(l.date)}),(0,p.jsx)("div",{className:"tr_bar_10",children:null===(a=1*l.amount)||void 0===a?void 0:a.toFixed(2)}),(0,p.jsx)("div",{className:"tr_bar_10",children:l.document}),(0,n.ML)()&&r?(0,p.jsx)("div",{className:"icon_2rmv",style:{marginLeft:19},onClick:function(){var e=(0,n.bh)("lastTimeCallModal")||0;if(Date.now()>e){(0,n.Rz)("lastTimeCallModal",Date.now()+320);var a={zIndex:450,height:"40vh",props:{minHeight:"1vh",overlay:!0,closeEvent:function(){}}};a.content=(0,p.jsx)(F,{confirm:d,lbl_p:"Eliminar Registro del Comprobante "+l.comprobanteId,lbl_span:"Una vez eliminado no podra ser recuperado"}),(0,t.OpenModal)(a)}},children:(0,p.jsx)(H,{name:"outline_delete",color:"#c62828"})}):null]},i)},$=function(e){var a,l,d,u=e.element,m=e.navTo,h=e.reCompare,x=(e.inx,e.verifyManual),_=(0,i.useState)(!1),b=(0,s.Z)(_,2),j=b[0],f=b[1],N=function(){f(!1)},y=function(){h(N)},k=function(){var e={zIndex:450,height:"80vh",props:{minHeight:"1vh",overlay:!0}};e.content=(0,p.jsx)(g,{item:u,confirm:y}),(0,t.OpenModal)(e)},S=function(){var e={zIndex:450,height:"80vh",props:{minHeight:"1vh",overlay:!0}};e.content=(0,p.jsx)(I,{item:u,confirm:y}),(0,t.OpenModal)(e)},w=function(){var e=(0,v.Z)((0,c.Z)().mark((function e(a){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x||!a.linkId&&a.operationId?S():k();case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Z=function(){var e=(0,v.Z)((0,c.Z)().mark((function e(a){var l,s,i,d;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=(0,o.Z)({},null===(l=(0,n.bh)((0,n.hQ)()))||void 0===l?void 0:l.delete_bank_bUp)).params={businessId:null===(s=(0,n.bh)("profileUser"))||void 0===s?void 0:s.businessId,bankRecordId:u.bankRecordId},d=(0,n.I7)(i),e.next=5,d;case 5:e.sent&&(0,r.Pe)(y);case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),D=null===(a=(0,n.bh)("submayor_list"))||void 0===a?void 0:a[u.linkId],z=("credit"===(null===D||void 0===D?void 0:D.type)?-1:1)*(null===D||void 0===D?void 0:D.amount),R=null===(l=(0,n.bh)("ourBank_filtered"))||void 0===l?void 0:l.verified_duplicatedLink[u.bankRecordId],T=z-(null===u||void 0===u?void 0:u.amount)!==0||R;return(0,p.jsxs)("div",{className:"_dsplFlx hdr_bar ",children:[(0,p.jsxs)("div",{className:"tr_bar_15 comprobante_id _dsplFlx",children:[j?(0,p.jsx)("div",{className:"icon_compr",children:(0,p.jsx)(A,{stroke:"#646cff",size:24,strokeW:8})}):(0,p.jsx)("div",{className:"icon_compr",onClick:function(){return w(u)},children:(0,p.jsx)(H,{name:T?"alert":u.linkId?"check_circle":u.comprobanteId?"link":"alert",color:T?"var(--hrm_palette-color-orange-800)":u.linkId?"var(--hrm_palette-success-fg)":u.comprobanteId?"var(--hrm_palette-mono-filled-hover)":"#c62828"})}),(0,p.jsx)("div",{className:"flexSpace"}),(0,p.jsx)("div",{onClick:function(){return m(u)},children:(0,p.jsx)(C.OL,{to:{pathname:"/accounting-ledger",search:"?cId=".concat(u.comprobanteId)},children:u.comprobanteId})}),(0,p.jsx)("div",{className:"flexSpace"})]}),(0,p.jsx)("div",{className:"tr_bar_10",children:u.date&&(0,n.sJ)(u.date)}),(0,p.jsx)("div",{className:"tr_bar_40 desc_font",children:u.description}),(0,p.jsx)("div",{className:"tr_bar_10",children:u.checkOrSlip}),(0,p.jsx)("div",{className:"tr_bar_10",children:null===(d=1*u.amount)||void 0===d?void 0:d.toFixed(2)}),(0,p.jsx)("div",{className:"tr_bar_10",children:u.document}),(0,p.jsx)("div",{className:"icon_2rmv",onClick:function(){var e=(0,n.bh)("lastTimeCallModal")||0;if(Date.now()>e){(0,n.Rz)("lastTimeCallModal",Date.now()+320);var a={zIndex:450,height:"40vh",props:{minHeight:"1vh",overlay:!0,closeEvent:function(){}}};a.content=(0,p.jsx)(F,{confirm:Z,lbl_p:"Eliminar Movimiento del Banco",lbl_span:"Una vez eliminado no podra ser recuperado"}),(0,t.OpenModal)(a)}},children:(0,p.jsx)(H,{name:"outline_delete",color:"#c62828"})})]})};function K(e,a,l,s){var i,r=a.toLowerCase(),d=[];return null===(i=(0,n._2)(e))||void 0===i||i.map((function(a){var i=e[a],n=!1,t=(s&&i.comprobanteId||!s&&!i.comprobanteId)&&4===i.status;r?(n=!1,["description","amount","checkOrSlip","comprobanteId"].map((function(e){var a,s,d,c,o,v;l?i[e]&&(null===(a=i[e])||void 0===a||null===(s=a.toString())||void 0===s||null===(d=s.toLowerCase())||void 0===d?void 0:d.indexOf(r))>=0&&t&&(n=!0):i[e]&&(null===(c=i[e])||void 0===c||null===(o=c.toString())||void 0===o||null===(v=o.toLowerCase())||void 0===v?void 0:v.indexOf(r))>=0&&(n=!0)}))):t&&(n=!0),n&&d.push(i)})),d}var G=function(e){var a,l=0;return e&&(null===(a=(0,n._2)(e))||void 0===a||a.map((function(a,s){var i=1*e[a].amount;l=1*(0,n.Zv)(l,2)+1*(0,n.Zv)(i,2)}))),l},X=(0,m.xu)(),ee=function(e){var a,l,c,o,v,u,m=e.data,h=e.accountForm,x=(0,i.useState)(0),_=(0,s.Z)(x,2),b=(_[0],_[1]),j=(0,n.bh)("submayor_group");(0,i.useEffect)((function(){(0,r.rs)(h,f)}),[h]);var f=function(){b((0,n.M5)())},N=null===(a=(0,n.bh)("account_ids"))||void 0===a?void 0:a[null===h||void 0===h?void 0:h.account],g=null===(l=(0,n.bh)("sub_account_ids"))||void 0===l?void 0:l[null===h||void 0===h?void 0:h.subAccount],y=((0,d.s0)(),new Date(null===(c=(0,n.bh)("date_range_submayor"))||void 0===c?void 0:c.initDate).getMonth()),k=(0,r.S)(y,h);return(0,p.jsxs)("div",{style:{maxHeight:"80vh",width:"960px",overflow:"auto",background:"var(--hrm_palette-general-background-b)",borderRadius:13,padding:"10px 19px 30px"},children:[(0,p.jsxs)("div",{className:"_dsplFlx ",children:[(0,p.jsx)("p",{className:"title_collect",children:"SubMayor de la Cuenta"}),(0,p.jsx)("div",{className:"flexSpace"}),(0,p.jsx)("p",{className:"group_title addBtn purple",onClick:function(){(0,n.eY)("export_submayor_"+(null===N||void 0===N?void 0:N.code)+"_"+(null!==g&&void 0!==g&&g.subAccount?(null===g||void 0===g?void 0:g.subAccount)+"_":"")+(0,n.M5)()+".csv",(0,r.i_)((0,r.T7)(null===j||void 0===j?void 0:j.operations,null===N||void 0===N?void 0:N.code,null===g||void 0===g?void 0:g.subAccount),null===N||void 0===N?void 0:N.code,null===g||void 0===g?void 0:g.subAccount))},children:"Exportar a CSV"}),(0,n.ML)()&&(null===(o=(0,n.bh)("global_account_params"))||void 0===o||null===(v=o.cash_bank)||void 0===v?void 0:v.account)===(null===N||void 0===N?void 0:N.accountId)?(0,p.jsx)("div",{className:"group_title addBtn purple upl",onClick:function(){var e={zIndex:450,height:"80vh",props:{minHeight:"1vh",overlay:!0}};e.content=(0,p.jsx)(J,{accountD:N,subaccountD:g,operations:null===j||void 0===j?void 0:j.operations,accountForm:h}),(0,t.OpenModal)(e),(0,t.CloseModal)({id:m.modalID})},children:"Consolidacion Bancaria"}):null]}),(0,p.jsxs)("div",{className:"_dsplFlx cmp_dtls",children:[(0,p.jsxs)("div",{className:" acc_dtls",style:{marginTop:10},children:[(0,p.jsxs)("div",{className:"_dsplFlx",children:[(0,p.jsx)("div",{className:"code","data-ref":"".concat(null===N||void 0===N?void 0:N.accountId),style:{color:"var(--hrm_palette-blue-purple)"},children:null===N||void 0===N?void 0:N.code}),(0,p.jsx)("div",{className:"name",style:{color:"var(--hrm_palette-imput-label_gray)"},children:null===N||void 0===N?void 0:N.name})]}),(0,p.jsx)("div",{className:"flexSpace"}),g?(0,p.jsxs)("div",{className:"_dsplFlx",style:{margin:"10px 0 0 18px"},children:[(0,p.jsx)("div",{className:"code","data-ref":"".concat(null===g||void 0===g?void 0:g.sub_accountId),style:{color:"var(--hrm_palette-inverse-background-b)"},children:null===g||void 0===g?void 0:g.subAccount}),(0,p.jsx)("div",{className:"name",style:{color:"var(--hrm_palette-imput-label_gray)"},children:null===g||void 0===g?void 0:g.subAccountName})]}):null]}),(0,p.jsx)("div",{className:"flexSpace"}),(0,p.jsxs)("div",{className:"_dsplFlx acc_dtls",style:{margin:"18px 10px 0 0"},children:[(0,p.jsx)("div",{className:"name",style:{color:"var(--hrm_palette-imput-label_gray)"},children:"Saldo Inicial"}),(0,p.jsx)("div",{className:"code",style:{marginLeft:10,color:"var(--hrm_palette-blue-purple)"},children:"credit"===N.type?(-1*k).toFixed(2):(1*k).toFixed(2)})]}),(0,p.jsx)("div",{className:"_dsplFlx",children:(0,p.jsx)("div",{style:{marginTop:6},children:(0,p.jsx)(X,{onSelect:function(e){var a=e.initDate,l=e.lastDate;(0,n.Rz)("date_range_submayor",{initDate:a,lastDate:l}),(0,r.rs)(h,f)},initMonth:y,direction:"right"})})})]}),(0,p.jsxs)("div",{className:"_dsplFlx hdr_bar purple",children:[(0,p.jsx)("div",{className:"tr_bar_s6",children:"Comprobante"}),(0,p.jsx)("div",{className:"tr_bar_s6",children:"Fecha"}),(0,p.jsx)("div",{className:"tr_bar_s6",children:"Documento"}),(0,p.jsx)("div",{className:"tr_bar_s6",children:"Debito"}),(0,p.jsx)("div",{className:"tr_bar_s6",children:"Credito"}),(0,p.jsx)("div",{className:"tr_bar_s6",children:"Saldo"})]}),(0,p.jsx)("div",{className:"scollVh subMHeight",children:(null===j||void 0===j?void 0:j.operations)&&(null===(u=(0,r.T7)(null===j||void 0===j?void 0:j.operations,null===h||void 0===h?void 0:h.account,null===h||void 0===h?void 0:h.subAccount,y))||void 0===u?void 0:u.map((function(e,a){var l,s,i;return(0,p.jsxs)("div",{className:"_dsplFlx hdr_bar",children:[(0,p.jsx)("div",{className:"tr_bar_s6 comprobante_id",onClick:function(){(0,t.CloseModal)({id:m.modalID})},children:(0,p.jsx)(C.OL,{to:{pathname:"/accounting-ledger",search:"?cId=".concat(e.comprobanteId)},children:e.comprobanteId})}),(0,p.jsx)("div",{className:"tr_bar_s6",children:e.date&&(0,n.sJ)(e.date)}),(0,p.jsx)("div",{className:"tr_bar_s6",children:e.document}),(0,p.jsx)("div",{className:"tr_bar_s6",children:null===(l=1*e.debit)||void 0===l?void 0:l.toFixed(2)}),(0,p.jsx)("div",{className:"tr_bar_s6",children:null===(s=1*e.credit)||void 0===s?void 0:s.toFixed(2)}),(0,p.jsx)("div",{className:"tr_bar_s6",children:null===(i=1*e.saldo)||void 0===i?void 0:i.toFixed(2)})]},a)})))})]})}},1636:function(){},4296:function(e,a,l){function s(e){if(null==e)throw new TypeError("Cannot destructure "+e)}l.d(a,{Z:function(){return s}})},1413:function(e,a,l){l.d(a,{Z:function(){return n}});var s=l(4942);function i(e,a){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),l.push.apply(l,s)}return l}function n(e){for(var a=1;a<arguments.length;a++){var l=null!=arguments[a]?arguments[a]:{};a%2?i(Object(l),!0).forEach((function(a){(0,s.Z)(e,a,l[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):i(Object(l)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(l,a))}))}return e}}}]);
//# sourceMappingURL=64.897b2277.chunk.js.map