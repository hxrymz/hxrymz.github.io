"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[6604],{1232:function(e,n,t){t.d(n,{GP:function(){return d},N$:function(){return u},hF:function(){return f},i7:function(){return i},nr:function(){return s},pj:function(){return m}});var r=t(4165),o=t(1413),c=t(5861),a=t(2350),i=function(){var e=(0,c.Z)((0,r.Z)().mark((function e(n,t){var c,i,s,u,d,v;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=(0,o.Z)({},null===(c=(0,a.bh)((0,a.hQ)()))||void 0===c?void 0:c.filter_search_opera)).params={businessId:null===(i=(0,a.bh)("profileUser"))||void 0===i?void 0:i.businessId,":account":null===n||void 0===n?void 0:n.account,":subAccount":null===n||void 0===n?void 0:n.subAccount},u=(0,a.I7)(s),e.next=5,u;case 5:d=e.sent,(0,a.wL)("getall_collects"),(0,a.wL)(s),(0,a.wL)(d),d&&!d.error&&((0,a.Rz)("collect_list",d),(0,a.Rz)("collect_by_doc",l(d)),(0,a.Rz)("collect_by_docM",l(d)),v=(null===n||void 0===n?void 0:n.account)+"_"+(null===n||void 0===n?void 0:n.subAccount),p(d,v)),t&&t();case 11:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),s=function(){var e=(0,c.Z)((0,r.Z)().mark((function e(n,t){var c,i,s,u,d,v;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=(0,o.Z)({},null===(c=(0,a.bh)((0,a.hQ)()))||void 0===c?void 0:c.filter_search_opera)).params={businessId:null===(i=(0,a.bh)("profileUser"))||void 0===i?void 0:i.businessId,":account":null===n||void 0===n?void 0:n.account,":subAccount":null===n||void 0===n?void 0:n.subAccount},u=(0,a.I7)(s),e.next=5,u;case 5:d=e.sent,(0,a.wL)("getall_toPay"),(0,a.wL)(s),(0,a.wL)(d),d&&!d.error&&((0,a.Rz)("toPay_list",d),(0,a.Rz)("toPay_by_doc",l(d,!0)),(0,a.Rz)("toPay_by_docM",l(d,!0)),v=(null===n||void 0===n?void 0:n.account)+"_"+(null===n||void 0===n?void 0:n.subAccount),p(d,v)),t&&t();case 11:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),u=function(){var e=(0,c.Z)((0,r.Z)().mark((function e(n){var t,c,i,s,u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=(0,o.Z)({},null===(t=(0,a.bh)((0,a.hQ)()))||void 0===t?void 0:t.search_opera)).params={businessId:null===(c=(0,a.bh)("profileUser"))||void 0===c?void 0:c.businessId,":search":(0,a.bh)("search_acc_record")},s=(0,a.I7)(i),e.next=5,s;case 5:(u=e.sent)&&!u.error&&((0,a.Rz)("comprobante_list",u),(0,a.Rz)("comprobante_by_doc",l(u))),n&&n();case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();function l(e,n){var t={},r=e&&(0,a._2)(e);return r.length>0?r.map((function(r){var o,c=e[r],i=null===(o=c.document)||void 0===o?void 0:o.trim();if(!t[i]){t[i]={};["date","description","document","entryName"].forEach((function(e){t[i][e]=c[e]})),t[i].amount=0,t[i].operations=[]}if(c.type){var s=(0,a.Zv)(c.amount,2),u=(0,a.Zv)(t[i].amount,2),l=0;l=n?1*u+s*("debit"===c.type?-1:1):1*u+s*("credit"===c.type?-1:1),t[i].amount=(0,a.Zv)(l,2),t[i].operations.push(function(e){var n,t,r={};r.account=null===(n=(0,a.bh)("account_ids"))||void 0===n?void 0:n[e.account],r.sub_account=null===(t=(0,a.bh)("sub_account_ids"))||void 0===t?void 0:t[e.subAccount],r.comprobanteId=e.comprobanteId,r.date=e.date;var o=(0,a.Zv)(e.amount,2);"credit"===e.type?(r.debit=0,r.credit=o):"debit"===e.type&&(r.credit=0,r.debit=o);return r}(c))}})):t=null,t}var d=function(e,n,t){return(0,a.MV)("SumDocuments",[e,n,t],(function(){var t,r=0;return e&&(null===(t=(0,a._2)(e))||void 0===t||t.map((function(t,o){var c;r+=1*(null===(c=e[t])||void 0===c?void 0:c[n])}))),r}))},v=function(e,n,t){var r,o=0;return e&&(null===(r=(0,a._2)(e))||void 0===r||r.map((function(n,t){var r,c=(0,a.Zv)(e[n].amount,2);o+=c*("credit"===(null===(r=e[n])||void 0===r?void 0:r.type)?-1:1)}))),o},p=function(){var e=(0,c.Z)((0,r.Z)().mark((function e(n,t,o){var c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(c=(0,a.bh)("rec_by_acc")||{})[t]=v(n)||"no",(0,a.Rz)("rec_by_acc",c),o&&o();case 4:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),f=function(){var e=(0,c.Z)((0,r.Z)().mark((function e(n,t,c){var i,s,u,l,d;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(u=(0,o.Z)({},null===(i=(0,a.bh)((0,a.hQ)()))||void 0===i?void 0:i.filter_search_opera)).params={businessId:null===(s=(0,a.bh)("profileUser"))||void 0===s?void 0:s.businessId,":account":null===n||void 0===n?void 0:n.account,":subAccount":null===n||void 0===n?void 0:n.subAccount},l=(0,a.I7)(u),e.next=5,l;case 5:(d=e.sent)&&!d.error&&p(d,t),c&&c();case 8:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),m=function(){var e=(0,c.Z)((0,r.Z)().mark((function e(n,t,c){var i,s,u,l,d,v,p;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(u=(0,o.Z)({},null===(i=(0,a.bh)((0,a.hQ)()))||void 0===i?void 0:i.search_subacc_acc)).params={businessId:null===(s=(0,a.bh)("profileUser"))||void 0===s?void 0:s.businessId,":account":n,":search":t},l=(0,a.I7)(u),e.next=5,l;case 5:d=e.sent,(0,a.wL)("searchSubAccbyCode"),(0,a.wL)(u),(0,a.wL)(d),d&&!d.error&&(p=null===(v=(0,a._2)(d))||void 0===v?void 0:v[0],c&&c(d[p]));case 10:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}()},4816:function(e,n,t){t.r(n),t.d(n,{default:function(){return m}});t(4165),t(5861);var r=t(9439),o=t(2791),c=t(2350),a=(t(5196),t(5288)),i=t(9760),s=t(2927),u=t(2647),l=(t(5027),t(184)),d=function(e){var n=e.data,t=e.confirm,r=(e.handleClick,e.close,n.modalID),o=function(e){(0,i.CloseModal)({id:r})};return(0,l.jsxs)("div",{style:{maxHeight:"40vh",minHeight:"28vh",overflow:"auto",background:"#fff",borderRadius:13,padding:"10px 19px"},children:[(0,l.jsxs)("div",{className:"_dsplFlx ",children:[(0,l.jsx)("p",{className:"form_title",children:"Eliminar Comprobante"}),(0,l.jsx)("div",{className:"flexSpace"})]}),(0,l.jsx)("div",{className:"_dsplFlx ",children:(0,l.jsx)("span",{children:"Una vez eliminado no podra ser recuperado"})}),(0,l.jsxs)("div",{className:"_dsplFlx ",style:{padding:"15px 10px"},children:[(0,l.jsx)("div",{className:"flexSpace"}),(0,l.jsx)("p",{className:"group_title addBtn",onClick:o,children:"Cancelar"}),(0,l.jsx)("p",{className:"group_title addBtn red",onClick:function(){t(),o()},children:"Eliminar"})]})]})},v=t(7689),p=(t(1232),t(9179)),f=(0,u.PU)(),m=((0,a.Hb)(),(0,u.tW)(),(0,p.nW)(),(0,p.lr)(),function(e){var n,t=e.data,a=(e.elmId,e.handleRefreshAll),u=(0,o.useState)(!1),p=(0,r.Z)(u,2),m=p[0],h=p[1],b=(0,o.useState)(0),_=(0,r.Z)(b,2),x=(_[0],_[1]),y=(0,o.useState)(0),Z=(0,r.Z)(y,2);Z[0],Z[1],(0,v.s0)(),t.account,t.subAccount;(0,o.useEffect)((function(){m||(h(!0),x((0,c.M5)()))}));var w=function(){(0,s.M_)(null===t||void 0===t?void 0:t.movementId,a)};(0,s.P9)(null===(n=(0,c.bh)("sub_provider_group"))||void 0===n?void 0:n[t.movementId],"subFeedfromMobile");return(0,l.jsx)("div",{className:"item_acc",children:(0,l.jsxs)("div",{className:"_dsplFlx operation_item_box",children:[(0,l.jsx)("div",{className:"icon_revision",children:(0,l.jsx)(f,{name:t.comprobanteId?"success":"alert",color:t.comprobanteId?"var(--hrm_palette-success-fg)":"var(--hrm_palette-selected-nav-text)"})}),(0,l.jsxs)("div",{className:"_dsplFlx tr_bar_90",onClick:function(){},children:[(0,l.jsx)("div",{className:" tr_bar_15",children:(0,c.sJ)(null===t||void 0===t?void 0:t.date)}),(0,l.jsx)("div",{className:" tr_bar_25 font_onm",style:{color:"expense"===t.movementType?"var(--hrm_palette-selected-nav-text)":"var( --hrm_palette-blue-purple)"},children:null===t||void 0===t?void 0:t.title}),(0,l.jsx)("div",{className:" tr_bar_45  font_onm",style:{marginLeft:9},children:null===t||void 0===t?void 0:t.description}),(0,l.jsx)("div",{className:" tr_bar_15",style:{color:"expense"===t.movementType?"var(--hrm_palette-selected-nav-text)":"var( --hrm_palette-blue-purple)"},children:null===t||void 0===t?void 0:t.amount})]}),(0,l.jsx)("div",{className:"flexSpace"}),(0,l.jsx)("div",{className:"icon tr_bar_5",onClick:function(){var e=(0,c.bh)("lastTimeCallModal")||0;if(Date.now()>e){(0,c.Rz)("lastTimeCallModal",Date.now()+320);var n={zIndex:450,height:"40vh",props:{minHeight:"1vh",overlay:!0,closeEvent:function(){}}};n.content=(0,l.jsx)(d,{confirm:w,item:t}),(0,i.OpenModal)(n)}},children:(0,l.jsx)(f,{name:"outline_delete",color:"#c62828"})})]})})})},5196:function(){},5027:function(){}}]);
//# sourceMappingURL=6604.65ad7ab4.chunk.js.map