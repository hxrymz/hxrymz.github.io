"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[6800,7766],{9075:(e,t,o)=>{o.r(t),o.d(t,{default:()=>g});var l=o(2791),i=(o(261),o(2350)),d=o(7689),a=o(9760),s=o(2647),n=o(4050),r=o(713),c=o(6677),v=o(6963),x=o(4e3),u=o(6824);let h=0;var m=o(184);const b=(0,s.PU)(),g=e=>{var t,o,s,g,f,p,w;let{data:T,item:z}=e;const[F,S]=(0,l.useState)(0);(0,l.useEffect)((()=>{var e,t,o;(0,i.Rz)("inv_products_list",null),(0,i.Rz)("inv_products_stock",null),null!==(e=(0,i.bh)("providers_ids"))&&void 0!==e&&null!==(t=e[null===z||void 0===z||null===(o=z.customer)||void 0===o?void 0:o.providerId])&&void 0!==t&&t.name||(0,c.Je)(j),(0,i.bh)("products_ids")||(0,r.ii)(j),(0,n.Ht)("global_accounts","global_account_params",j),j()}),[z.productId]);const j=()=>{S((0,i.M5)())},N=((0,d.s0)(),e=>{(0,a.CloseModal)({id:T.modalID})});let A=null!==z&&void 0!==z&&z.hasTax?(null===z||void 0===z?void 0:z.hasTax)+(null===z||void 0===z?void 0:z.amount):1*(null===z||void 0===z?void 0:z.amount);let I=null!==z&&void 0!==z&&z.hasAdvancePay?null===z||void 0===z?void 0:z.hasAdvancePay:0;return(0,m.jsxs)("div",{style:{maxHeight:"94vh",width:"960px",overflow:"auto",background:"var(--hrm_palette-general-background-b)",borderRadius:13,padding:"10px 19px 30px"},children:[(0,m.jsxs)("div",{className:"_dsplFlx ",children:[(0,m.jsx)("p",{className:"title_collect gSansFont",children:"Invoice:"}),(0,m.jsx)("p",{className:"title_collect fntW600 gSansFont",style:{color:"#646cff"},children:null===z||void 0===z?void 0:z.document}),(0,m.jsx)("div",{className:"flexSpace"}),(0,i.I0)()?(0,m.jsx)("div",{className:"code comprobante_id  gSansFont",style:{color:"#646cff",paddingTop:10},children:null===z||void 0===z?void 0:z.comprobanteId}):null,(0,m.jsx)("div",{className:"icon_print",onClick:()=>{(async e=>{const t=await v.PDFDocument.create();t.registerFontkit(x.Z);const o=await(0,u.h2)(t);let l={x:2,y:35,width:35,height:35};const d=e.map((async(e,d)=>{var a,s,n;const r=t.addPage([187,72]),{width:c,height:x}=r.getSize();let u=x-19,h=c;const m=(0,i.ye)((null===e||void 0===e?void 0:e.invoiceId)+""),b=await fetch(m).then((e=>e.arrayBuffer()));let g=await t.embedPng(b);g&&r.drawImage(g,l);const _=o.GSansBold.widthOfTextAtSize((null===e||void 0===e?void 0:e.document)+"",18);r.drawText((null===e||void 0===e?void 0:e.document)+"",{x:h-6-_,y:u-6,size:18,font:o.GSansBold,color:(0,v.rgb)(0,0,0)});let y=null!==e&&void 0!==e&&e.clientName?(null===e||void 0===e?void 0:e.clientName)+"":"";u-=25,r.drawText(y,{x:5,y:u-19,size:9,font:o.GSansBold,color:(0,v.rgb)(0,0,0)});let f=null===(a=(0,i.bh)("providers_ids"))||void 0===a||null===(s=a[null===e||void 0===e||null===(n=e.customer)||void 0===n?void 0:n.providerId])||void 0===s?void 0:s.name;r.drawText(f+"",{x:6,y:u-6,size:10,font:o.GSansBold,color:(0,v.rgb)(0,0,0)})})),a=(await Promise.all(d),await t.save());let s=(0,i.ou)(a);window.open(s)})([{...z}])},children:(0,m.jsx)(b,{name:"printer",color:"var(--hrm_palette-static-ad-yellow)"})}),(0,m.jsx)("div",{className:"icon_print",onClick:()=>{(async e=>{var t,o,l,d,a,s;const n=await v.PDFDocument.create();n.registerFontkit(x.Z);var r=await n.embedFont(v.StandardFonts.TimesRoman),c=await n.embedFont(v.StandardFonts.TimesRomanBold),u=await n.embedFont(v.StandardFonts.TimesRomanBold);if((0,i.bh)("modernFontReport")){let e=(0,i.bh)("Roboto-Bold.ttf");const t=await fetch(e).then((e=>e.arrayBuffer()));c=await n.embedFont(t);let o=(0,i.bh)("ggSans-Italic.ttf");const l=await fetch(o).then((e=>e.arrayBuffer()));r=await n.embedFont(l);let d=(0,i.bh)("ggSans-Medium.ttf");const a=await fetch(d).then((e=>e.arrayBuffer()));u=await n.embedFont(a)}let m=n.addPage();const{width:b,height:g}=m.getSize(),_=10;h=g-40;const y=u.widthOfTextAtSize(null===e||void 0===e?void 0:e.document,12),f=r.widthOfTextAtSize("Invoice: ",11);m.drawText("Invoice: ",{x:580-y-f,y:h,size:11,font:r,color:(0,v.rgb)(0,0,0)}),m.drawText(null===e||void 0===e?void 0:e.document,{x:580-y,y:h,size:12,font:u,color:(0,v.rgb)(0,0,0)});let p=g-30;m.drawText("Granite Concepts",{x:20,y:p,size:13,font:c,color:(0,v.rgb)(0,0,0)}),m.drawText("4504 Poplar Level Rd",{x:20,y:p-15,size:10,font:r,color:(0,v.rgb)(0,0,0)}),m.drawText("Louisville, KY 40213",{x:20,y:p-30,size:10,font:r,color:(0,v.rgb)(0,0,0)}),m.drawText("(502) 742-2473",{x:20,y:p-45,size:10,font:c,color:(0,v.rgb)(0,0,0)}),m.drawText("graniteconceptsky@gmail.com",{x:20,y:p-60,size:10,font:r,color:(0,v.rgb)(0,0,0)}),m.drawText("graniteconceptsky.com",{x:20,y:p-75,size:10,font:r,color:(0,v.rgb)(0,0,0)}),h-=20;const w=r.widthOfTextAtSize("Date: ",11),T=c.widthOfTextAtSize((0,i.Gv)(null===e||void 0===e?void 0:e.date)+"",12);m.drawText("Date: ",{x:580-w-T,y:h,size:11,font:r,color:(0,v.rgb)(0,0,0)}),m.drawText((0,i.Gv)(null===e||void 0===e?void 0:e.date)+"",{x:580-T,y:h,size:12,font:c,color:(0,v.rgb)(.06,.06,.06)}),h-=20;let z=null===(t=(0,i.bh)("providers_ids"))||void 0===t||null===(o=t[null===e||void 0===e||null===(l=e.customer)||void 0===l?void 0:l.providerId])||void 0===o?void 0:o.name;const F=r.widthOfTextAtSize("Bill To: ",11),S=c.widthOfTextAtSize(z+"",12);m.drawText("Bill To: ",{x:580-F-S,y:h,size:11,font:r,color:(0,v.rgb)(0,0,0)}),m.drawText(z+"",{x:580-S,y:h,size:12,font:c,color:(0,v.rgb)(0,0,0)}),h-=50,m.drawRectangle({x:15,y:h+1,width:560,height:.85,color:(0,v.rgb)(.53,.53,.53),borderColor:(0,v.rgb)(.53,.53,.53)}),m.drawText((null===e||void 0===e?void 0:e.description)+"",{x:20,y:h-11,size:10,font:r,color:(0,v.rgb)(0,0,0)}),h-=20,m.drawRectangle({x:15,y:h+1,width:560,height:.85,color:(0,v.rgb)(.53,.53,.53),borderColor:(0,v.rgb)(.53,.53,.53)}),h-=18,m.drawText((0,i.zE)(4)+"",{x:20,y:h,size:13,font:c,color:(0,v.rgb)(0,0,0)});const j=c.widthOfTextAtSize((0,i.zE)(14)+"",12);m.drawText((0,i.zE)(10)+"",{x:480-j,y:h,size:12,font:c,color:(0,v.rgb)(0,0,0)});const N=c.widthOfTextAtSize((0,i.zE)(14)+"",12);m.drawText((0,i.zE)(14)+"",{x:560-N,y:h,size:12,font:c,color:(0,v.rgb)(0,0,0)}),h-=8,m.drawRectangle({x:15,y:h+1,width:560,height:.95,color:(0,v.rgb)(.53,.53,.53),borderColor:(0,v.rgb)(.53,.53,.53)});let A=(null===e||void 0===e?void 0:e.products)||[];Array.isArray(A)&&A.map(((e,t)=>{var o,l,d,a;const s=null===(o=(0,i.bh)("products_ids"))||void 0===o||null===(l=o[null===e||void 0===e?void 0:e.product])||void 0===l?void 0:l.name;h-=16,s&&m.drawText(s+"",{x:20,y:h,size:_,font:r,color:(0,v.rgb)(0,0,0)});let n=null!==e&&void 0!==e&&e.qty?null===(d=1*(null===e||void 0===e?void 0:e.qty))||void 0===d?void 0:d.toFixed(2):"0.00";const c=r.widthOfTextAtSize(n+"",_);m.drawText(n+"",{x:480-c,y:h,size:_,font:r,color:(0,v.rgb)(0,0,0)});let x=null!==e&&void 0!==e&&e.qty?null===(a=(null===e||void 0===e?void 0:e.salePrice)*(null===e||void 0===e?void 0:e.qty)*1)||void 0===a?void 0:a.toFixed(2):"0.00";const u=r.widthOfTextAtSize(x+"",_);m.drawText(x+"",{x:560-u,y:h,size:_,font:r,color:(0,v.rgb)(0,0,0)})}));let I=(0,i._2)(null===e||void 0===e?void 0:e.extras)||[];Array.isArray(I)&&I.map(((t,o)=>{var l,i,d;let a=null===(l=e.extras)||void 0===l?void 0:l[t];const s=a.description;h-=16,s&&m.drawText(s+"",{x:20,y:h,size:_,font:r,color:(0,v.rgb)(0,0,0)});let n=null!==a&&void 0!==a&&a.qty?null===(i=1*(null===a||void 0===a?void 0:a.qty))||void 0===i?void 0:i.toFixed(2):"0.00";const c=r.widthOfTextAtSize(n+"",_);m.drawText(n+"",{x:480-c,y:h,size:_,font:r,color:(0,v.rgb)(0,0,0)});let x=null!==a&&void 0!==a&&a.qty?null===(d=(null===a||void 0===a?void 0:a.salePrice)*(null===a||void 0===a?void 0:a.qty)*1)||void 0===d?void 0:d.toFixed(2):"0.00";const u=r.widthOfTextAtSize(x+"",_);m.drawText(x+"",{x:560-u,y:h,size:_,font:r,color:(0,v.rgb)(0,0,0)})})),h-=28,m.drawRectangle({x:15,y:h+1,width:560,height:.85,color:(0,v.rgb)(.53,.53,.53),borderColor:(0,v.rgb)(.53,.53,.53)});let O=500;h-=20;let P=null!==e&&void 0!==e&&e.amount?null===e||void 0===e||null===(d=e.amount)||void 0===d?void 0:d.toFixed(2):"0.00";const B=r.widthOfTextAtSize(P+"",_);m.drawText(P+"",{x:560-B,y:h,size:_,font:r,color:(0,v.rgb)(.13,.13,.13)});const R=r.widthOfTextAtSize("SubTotal",_);m.drawText("SubTotal",{x:O-R,y:h,size:_,font:r,color:(0,v.rgb)(0,0,0)}),h-=16;let k=null!==e&&void 0!==e&&e.hasTax?null===e||void 0===e||null===(a=e.hasTax)||void 0===a?void 0:a.toFixed(2):"0.00";const q=r.widthOfTextAtSize(k+"",_);m.drawText(k+"",{x:560-q,y:h,size:_,font:r,color:(0,v.rgb)(.13,.13,.13)});const E=r.widthOfTextAtSize("Taxes",_);m.drawText("Taxes",{x:O-E,y:h,size:_,font:r,color:(0,v.rgb)(0,0,0)});let C=null!==e&&void 0!==e&&e.hasTax?(null===e||void 0===e?void 0:e.hasTax)+(null===e||void 0===e?void 0:e.amount):1*(null===e||void 0===e?void 0:e.amount);h-=16;let D=C?null===C||void 0===C?void 0:C.toFixed(2):"0.00";const Q=u.widthOfTextAtSize(D+"",11);m.drawText(D+"",{x:560-Q,y:h,size:11,font:u,color:(0,v.rgb)(0,0,0)});const G=u.widthOfTextAtSize("Total",11);m.drawText("Total",{x:O-G,y:h,size:11,font:u,color:(0,v.rgb)(0,0,0)}),h-=16;let M=null!==e&&void 0!==e&&e.hasAdvancePay?null===(s=-1*(null===e||void 0===e?void 0:e.hasAdvancePay))||void 0===s?void 0:s.toFixed(2):"0.00";const L=r.widthOfTextAtSize(""+M,11);m.drawText(""+M,{x:560-L,y:h,size:11,font:r,color:(0,v.rgb)(.13,.13,.13)});const K=r.widthOfTextAtSize("Advance Payment",11);m.drawText("Advance Payment",{x:O-K,y:h,size:11,font:r,color:(0,v.rgb)(0,0,0)});let U=C+1*M;h-=16;let W=U?null===U||void 0===U?void 0:U.toFixed(2):"0.00";const $=u.widthOfTextAtSize(W+"",11);m.drawText(W+"",{x:560-$,y:h,size:11,font:u,color:(0,v.rgb)(0,0,0)});const H=u.widthOfTextAtSize("Balance Due",11);m.drawText("Balance Due",{x:O-H,y:h,size:11,font:u,color:(0,v.rgb)(0,0,0)});const J=await n.save();let V=(0,i.ou)(J);window.open(V)})({...z})},children:(0,m.jsx)(b,{name:"printer",color:"var(--hrm_palette-inverse-background-b)"})})]}),(0,m.jsx)("div",{className:"acc_dtls",style:{marginTop:10,marginLeft:2},children:(0,m.jsxs)("div",{className:"_dsplFlx",children:[(0,m.jsx)("div",{className:"name",children:(0,m.jsx)("div",{className:" code gSansFont",style:{color:"var(--hrm_palette-inverse-background-b)"},children:(0,i.sJ)(null===z||void 0===z?void 0:z.date)})}),(0,m.jsx)("div",{className:"flexSpace"}),(0,m.jsxs)("div",{className:"_dsplFlx",children:[(0,m.jsx)("div",{className:"name gSansFont",style:{marginRight:5,color:"var(--hrm_palette-item_coll_gray)"},children:"Bill To:"}),(0,m.jsx)("div",{className:"code gSansFont",style:{color:"#646cff"},children:null===(t=(0,i.bh)("providers_ids"))||void 0===t||null===(o=t[null===z||void 0===z||null===(s=z.customer)||void 0===s?void 0:s.providerId])||void 0===o?void 0:o.name})]})]})}),(0,m.jsxs)("div",{className:"_dsplFlx ",style:{marginBottom:8},children:[(0,m.jsx)("div",{className:"flexSpace"}),(0,m.jsx)("div",{className:"_dsplFlx",children:(0,m.jsx)("div",{className:"name gSansFont",style:{color:"var(--hrm_palette-item_coll_gray)"},children:null===z||void 0===z?void 0:z.description})})]}),(0,m.jsxs)("div",{className:"_dsplFlx hdr_bar purple",children:[(0,m.jsx)("div",{className:"tr_bar_70",style:{textAlign:"left",paddingLeft:14},children:(0,i.zE)(4)}),(0,m.jsx)("div",{className:"tr_bar_15 txt_alg_padd",children:(0,i.zE)(10)}),(0,m.jsx)("div",{className:"tr_bar_15 txt_alg_padd",children:(0,i.zE)(14)})]}),(0,m.jsxs)("div",{className:"scollVh subMHeight",style:{height:"calc(84vh - 142px)"},children:[z.products&&(null===(g=z.products)||void 0===g?void 0:g.map((e=>(0,m.jsx)(_,{element:e,idKey:e.inventoryId,close:N},e.inventoryId)))),z.extras&&(null===(f=(0,i._2)(z.extras))||void 0===f?void 0:f.map((e=>(0,m.jsx)(y,{element:z.extras[e],idKey:e,close:N},e)))),(0,m.jsxs)("div",{className:"_dsplFlx totalsGrid",style:{margin:"19px 15px 10px"},children:[(0,m.jsx)("div",{className:"tr_bar_70"}),(0,m.jsxs)("div",{className:"tr_bar_30 brdTp",children:[(0,m.jsxs)("div",{className:"_dsplFlx totals",children:[(0,m.jsx)("div",{className:"code tr_bar_70 gSansFont",children:"Subtotal:"}),(0,m.jsxs)("div",{className:"name tr_bar_30 gSansFont",children:["$",null===z||void 0===z||null===(p=z.amount)||void 0===p?void 0:p.toFixed(2)]})]}),(0,m.jsxs)("div",{className:"_dsplFlx totals",children:[(0,m.jsx)("div",{className:"code tr_bar_60 gSansFont",children:"tax:"}),(0,m.jsxs)("div",{className:"name tr_bar_40 gSansFont",children:["$",null!==z&&void 0!==z&&z.hasTax?null===z||void 0===z?void 0:z.hasTax.toFixed(2):"0.00"]})]}),(0,m.jsxs)("div",{className:"_dsplFlx totals",children:[(0,m.jsx)("div",{className:"code tr_bar_60 fntW600 gSansFont",style:{color:"var(--hrm_palette-inverse-background-b)"},children:"Total:"}),(0,m.jsxs)("div",{className:"name tr_bar_40  gSansFont fntW600",style:{color:"var(--hrm_palette-inverse-background-b)"},children:["$",null===A||void 0===A?void 0:A.toFixed(2)]})]}),(0,m.jsxs)("div",{className:"_dsplFlx totals",children:[(0,m.jsx)("div",{className:"code tr_bar_60 gSansFont",children:"Advance Payment:"}),(0,m.jsxs)("div",{className:"name tr_bar_40  gSansFont",children:["$",null===I||void 0===I?void 0:I.toFixed(2)]})]}),(0,m.jsxs)("div",{className:"_dsplFlx totals",children:[(0,m.jsx)("div",{className:"code tr_bar_60 fntW600 gSansFont",style:{color:"#646cff"},children:"Balance Due:"}),(0,m.jsxs)("div",{className:"name tr_bar_40 fntW600 gSansFont",style:{color:"#646cff"},children:["$",null===(w=A-I)||void 0===w?void 0:w.toFixed(2)]})]})]})]})]})]})},_=e=>{var t,o;let{element:l,idKey:d,close:a}=e,s=null===(t=(0,i.bh)("products_ids"))||void 0===t?void 0:t[null===l||void 0===l?void 0:l.product],n=1*l.qty?1*l.qty*l.salePrice:0;return(0,m.jsxs)("div",{className:"_dsplFlx hdr_bar",children:[(0,m.jsx)("div",{className:"tr_bar_70 gSansFont",style:{textAlign:"left",paddingLeft:14},children:null===s||void 0===s?void 0:s.name}),(0,m.jsx)("div",{className:"tr_bar_15 numbAlign gSansFont",children:null===(o=l.qty)||void 0===o?void 0:o.toFixed(2)}),(0,m.jsx)("div",{className:"tr_bar_15 numbAlign gSansFont",children:null===n||void 0===n?void 0:n.toFixed(2)})]})},y=e=>{var t,o;let{element:l,idKey:i,close:d}=e;return(0,m.jsxs)("div",{className:"_dsplFlx hdr_bar",children:[(0,m.jsx)("div",{className:"tr_bar_70  gSansFont",style:{textAlign:"left",paddingLeft:14},children:null===l||void 0===l?void 0:l.description}),(0,m.jsx)("div",{className:"tr_bar_15 numbAlign gSansFont",children:null===(t=1*l.qty)||void 0===t?void 0:t.toFixed(2)}),(0,m.jsx)("div",{className:"tr_bar_15 numbAlign gSansFont",children:1*l.qty?null===(o=1*l.qty*l.salePrice*1)||void 0===o?void 0:o.toFixed(2):""})]})}},6677:(e,t,o)=>{o.d(t,{Je:()=>i,Qn:()=>n,UO:()=>d,mQ:()=>s});var l=o(2350);const i=async e=>{var t,o;let i={...null===(t=(0,l.bh)((0,l.hQ)()))||void 0===t?void 0:t.all_prov_cust};i.params={businessId:null===(o=(0,l.bh)("profileUser"))||void 0===o?void 0:o.businessId,year:(0,l.bh)("date_current_year")};const d=(0,l.I7)(i),s=await d;s&&((0,l.Rz)("providers_list",a((0,l.jQ)(s),"name",1)),(0,l.Rz)("providers_ids",(0,l.ME)((0,l.jQ)(s),"providerId")),(0,l.Rz)("providers_subacc",(0,l.ME)((0,l.jQ)(s),"subAccount")),e&&e())},d=async e=>{var t,o;let i={...null===(t=(0,l.bh)((0,l.hQ)()))||void 0===t?void 0:t.search_prov_cust};i.params={businessId:null===(o=(0,l.bh)("profileUser"))||void 0===o?void 0:o.businessId,":search":(0,l.bh)("search_prov"),year:(0,l.bh)("date_current_year")};const d=(0,l.I7)(i),s=await d;s&&((0,l.Rz)("providers_list",a((0,l.jQ)(s),"name",1)),e&&e())};const a=(e,t,o)=>(0,l.MV)("sortProviders",[e],(()=>e&&e.sort(((e,l)=>{let i=1*e[t],d=1*l[t];return i<d?o?-1:1:i>d?o?1:-1:0})))),s=(e,t)=>(0,l.MV)("sortSubProviders",[e],(()=>e&&e.sort(((e,o)=>{let l=1*e[t],i=1*o[t];return l<i?-1:l>i?1:0})))),n=async(e,t)=>{var o,i;let d={...null===(o=(0,l.bh)((0,l.hQ)()))||void 0===o?void 0:o.delete_prov_cust};d.params={businessId:null===(i=(0,l.bh)("profileUser"))||void 0===i?void 0:i.businessId,providerId:e,year:(0,l.bh)("date_current_year")};const a=(0,l.I7)(d);await a&&t&&t()}},261:()=>{}}]);
//# sourceMappingURL=6800.cef4ccf5.chunk.js.map