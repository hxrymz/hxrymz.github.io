"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[7389,7766],{7389:(e,s,l)=>{l.r(s),l.d(s,{default:()=>u});var a=l(2791),t=l(2350),o=l(2647),d=l(9760),i=(l(1206),l(1573)),n=l(2502),r=l(4050),c=l(184);const h=(0,o.Vg)(),p=(0,i.mi)(),m=(0,i.vj)(),u=e=>{var s,l;let{data:o,elmId:i,updObs:u}=e;const[v,_]=(0,a.useState)(!1),[b,y]=(0,a.useState)(0),[x,j]=(0,a.useState)(!1),[I,f]=(0,a.useState)(!1),[g,N]=(0,a.useState)(!1);(0,a.useEffect)((()=>{v||(_(!0),y((0,t.M5)()),(0,r.Ht)("global_accounts","global_account_params",w))}));const Q=()=>{j(!1),f(!0)},w=e=>{(0,n.Dy)(k)},k=async(e,s)=>{y((0,t.M5)()),N(!1)};return(0,c.jsxs)("div",{className:"",children:[(0,c.jsxs)("div",{className:"accounts_header",children:[(0,c.jsx)("h2",{children:"Empleados"}),(0,c.jsx)("div",{className:"_dsplFlx ",children:(0,c.jsx)("p",{className:"group_title addBtn purple",onClick:()=>{f(!1);let e={zIndex:450,height:"80vh",props:{minHeight:"1vh",overlay:!0}};e.content=(0,c.jsx)(p,{confimr:w}),(0,d.OpenModal)(e)},children:"Agregar Empleado"})}),(0,c.jsxs)("div",{className:"_dsplFlx ",style:{marginTop:14},children:[(0,c.jsx)(h,{placeholder:"Buscar ....",width:360,obs:y,fetchData:e=>{N(!0),(0,n.kQ)(k)},loading:g,change:e=>{!g&&N(!0)},callempty:w,keyFlds:"searchQry"}),(0,c.jsx)("div",{className:"flexSpace"}),(0,c.jsxs)("div",{className:"_dsplFlx ",children:[(0,c.jsx)("div",{className:"total_comprobante_title",children:"No de Empleados:"}),(0,c.jsx)("div",{className:"total_comprobante gray",children:(0,c.jsx)("span",{children:null===(s=(0,t._2)((0,t.bh)("employees_list")))||void 0===s?void 0:s.length})})]})]})]}),(0,c.jsx)("div",{className:"employees_container scollVh",children:(0,t.bh)("employees_list")&&(null===(l=(0,t._2)((0,t.bh)("employees_list")))||void 0===l?void 0:l.map((e=>(0,c.jsx)(m,{data:(0,t.bh)("employees_list")[e],elmId:e,openUpdateView:Q,handleRefreshAll:w},e))))})]})}},2502:(e,s,l)=>{l.d(s,{Dy:()=>t,Oy:()=>i,kQ:()=>o,lG:()=>d});var a=l(2350);const t=async e=>{var s,l;let t={...null===(s=(0,a.bh)((0,a.hQ)()))||void 0===s?void 0:s.all_employee};t.params={businessId:null===(l=(0,a.bh)("profileUser"))||void 0===l?void 0:l.businessId};const o=(0,a.I7)(t),d=await o;d&&((0,a.Rz)("employees_list",n((0,a.jQ)(d),"code")),(0,a.Rz)("employees_ids",(0,a.ME)((0,a.jQ)(d),"employeeId")),e&&e())},o=async e=>{var s,l;let t={...null===(s=(0,a.bh)((0,a.hQ)()))||void 0===s?void 0:s.search_employee};t.params={businessId:null===(l=(0,a.bh)("profileUser"))||void 0===l?void 0:l.businessId,":search":(0,a.bh)("searchQry")};const o=(0,a.I7)(t),d=await o;d&&((0,a.Rz)("employees_list",n((0,a.jQ)(d),"code")),e&&e())},d=async(e,s)=>{var l,t,o,d;let i={...null===(l=(0,a.bh)((0,a.hQ)()))||void 0===l?void 0:l.search_employee_paystub};i.params={businessId:null===(t=(0,a.bh)("profileUser"))||void 0===t?void 0:t.businessId,year:(0,a.bh)("date_current_year"),":date1":(null===(o=(0,a.bh)("date_range_comps"))||void 0===o?void 0:o.initDate)-10,":date2":null===(d=(0,a.bh)("date_range_comps"))||void 0===d?void 0:d.lastDate,":employeeId":e};const n=(0,a.I7)(i),r=await n;r&&!r.error&&(0,a.Rz)("paystub_submayor_list",r),s&&s()},i=async(e,s)=>{let l=(0,a.bh)("get_compById_last")||0;if(Date.now()>l){var t,o;(0,a.Rz)("get_compById_last",Date.now()+890);let l={...null===(t=(0,a.bh)((0,a.hQ)()))||void 0===t?void 0:t.filter_search_opera};l.params={businessId:null===(o=(0,a.bh)("profileUser"))||void 0===o?void 0:o.businessId,":search0":e,":search1":s};const d=(0,a.I7)(l),i=await d;if(i)return i}return null};const n=(e,s)=>(0,a.MV)("sortEmployees",[e],(()=>e&&e.sort(((e,l)=>{let a=1*e[s],t=1*l[s];return a<t?-1:a>t?1:0}))))},1206:()=>{}}]);
//# sourceMappingURL=7389.ee39f91f.chunk.js.map