"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[7708],{3425:(a,l,e)=>{e.r(l),e.d(l,{default:()=>f});var i=e(2791),n=e(2350),d=e(2647),s=e(9760),t=(e(7889),e(24)),r=e(713),o=e(4050),c=e(184);(0,d.YZ)();const h=(0,d.Np)(),v=((0,d.tL)(),(0,d.A5)()),p="new_area_location",_=a=>{var l,e;let{data:d,confirm:t}=a;const[r,o]=(0,i.useState)(!1),[_,m]=(0,i.useState)(0);(0,i.useEffect)((()=>{r||(o(!0),m((0,n.M5)()))}));const u=(a,l,e)=>{let i=(0,n.bh)(p)||{};e?(i[e]||(i[e]={}),i[e][a]=l):i[a]=l,(0,n.Rz)(p,i),m((0,n.M5)())};return(0,c.jsxs)("div",{style:{maxHeight:"80vh",width:"560px",overflow:"auto",background:"var(--hrm_palette-general-background-b)",borderRadius:13,padding:"10px 19px"},children:[(0,c.jsxs)("div",{className:"_dsplFlx ",children:[(0,c.jsx)("p",{className:"form_title",children:"Add Location"}),(0,c.jsx)("div",{className:"flexSpace"})]}),(0,c.jsx)("div",{className:"_dsplFlx spaceAround",children:(0,c.jsx)(v,{init:null===(l=(0,n.bh)(p))||void 0===l?void 0:l.areaId,lbl_empty:"Area",list:[{label:"Almacen",id:"WH"},{label:"Production",id:"PR"},{label:"Patio",id:"PT"}],onSelect:a=>u("areaId",a.id),background:"#f9f9f9",color:"var(--hrm_palette-blue-purple)",direction:"left",width:"220px"})}),(0,c.jsx)("div",{className:"_dsplFlx spaceAround",style:{marginTop:20},children:(0,c.jsx)(h,{init:null===(e=(0,n.bh)(p))||void 0===e?void 0:e.location,label:"Location",width:320,updChanges:a=>u("location",a)})}),(0,c.jsxs)("div",{className:"_dsplFlx ",children:[(0,c.jsx)("div",{className:"flexSpace"}),(0,c.jsx)("div",{className:"card",children:(0,c.jsx)("button",{onClick:async()=>{var a,l;let e=(0,n.bh)(p);e.areaLocationId=(0,n.M5)();let i={...null===(a=(0,n.bh)((0,n.hQ)()))||void 0===a?void 0:a.add_area_location};i.params={businessId:null===(l=(0,n.bh)("profileUser"))||void 0===l?void 0:l.businessId},i.form=e,console.log(i);const r=(0,n.I7)(i);await r&&((0,n.Rz)(p,{}),t&&t(),(null===d||void 0===d?void 0:d.modalID)&&(0,s.CloseModal)({id:null===d||void 0===d?void 0:d.modalID}))},children:"Guardar"})})]})]})};var m=e(6824);const u=(0,d.Vg)(),x=(0,d.PU)(),b=(0,t.i8)(),j=(0,d.A5)(),g=(0,d.LA)(),N=(0,t.JK)(),f=a=>{var l,e,d,t,h;let{data:v,elmId:p,updObs:f}=a;const[k,y]=(0,i.useState)(!1),[I,F]=(0,i.useState)(0),[w,D]=(0,i.useState)(!1);(0,i.useEffect)((()=>{k||(y(!0),F((0,n.M5)()),(0,r.N0)(L),(0,o.Ht)("global_accounts","global_account_params",f))}));const L=a=>{C()},A=a=>{D(!0),(0,r._U)(C)},C=async(a,l)=>{F((0,n.M5)()),D(!1)},S=a=>{},M=a=>{if(null!==a&&void 0!==a&&a.initDate&&null!==a&&void 0!==a&&a.lastDate){let l={...a};l.initDate=l.initDate-100,l.lastDate=l.lastDate+8638e4,(0,n.Rz)("date_range_inv_loc",l)}A()};let R=(null===(l=(0,n.bh)("date_range_inv_loc"))||void 0===l?void 0:l.initDate)&&(0,n.sJ)(null===(e=(0,n.bh)("date_range_inv_loc"))||void 0===e?void 0:e.initDate)+" - "+(0,n.sJ)(null===(d=(0,n.bh)("date_range_inv_loc"))||void 0===d?void 0:d.lastDate);return(0,c.jsxs)("div",{className:"",children:[(0,c.jsxs)("div",{className:"accounts_header",children:[(0,c.jsx)("h2",{children:"Inventory and Locations"}),(0,c.jsxs)("div",{className:"_dsplFlx ",children:[(0,n.I0)()?(0,c.jsx)("p",{className:"btn_lkjh addBtn purple",onClick:()=>{let a={zIndex:450,height:"80vh",props:{minHeight:"1vh",overlay:!0}};a.content=(0,c.jsx)(_,{}),(0,s.OpenModal)(a)},children:"Add Location"}):null,(0,n.I0)()?(0,c.jsx)("p",{className:"btn_lkjh addBtn purple",onClick:()=>{(0,m.eR)((0,n.bh)("locations_list"))},children:"Print Location"}):null,(0,n.I0)()?(0,c.jsx)("p",{className:"btn_lkjh addBtn purple",onClick:()=>{let a={zIndex:450,height:"80vh",props:{minHeight:"1vh",overlay:!0}};a.content=(0,c.jsx)(N,{}),(0,s.OpenModal)(a)},children:"Inventory By Location"}):null]})]}),(0,c.jsxs)("div",{className:"_dsplFlx ",style:{marginTop:14},children:[(0,c.jsx)(u,{placeholder:"Buscar ....",width:560,obs:F,fetchData:A,loading:w,change:a=>{!w&&D(!0)},callempty:a=>{(0,r._U)(C)},keyFlds:"searchLocationQry"}),(0,c.jsx)("div",{className:"_dsplFlx spaceAround",style:{padding:3},children:(0,c.jsx)(j,{init:(0,n.bh)("locationId2F"),lbl_empty:"Location",list:(0,n.bh)("location_drpdwn")||[],onSelect:a=>{return l="locationId2F",e=a.id,(0,n.Rz)(l,e),void A();var l,e},background:"#f9f9f9",color:"var(--hrm_palette-blue-purple)",direction:"left",width:"220px"})}),(0,c.jsxs)("div",{className:"filter_date_btn _dsplFlx",onClick:()=>{var a,l;let e={zIndex:950,height:"80vh",props:{minHeight:"1vh",overlay:!0}};e.content=(0,c.jsx)(g,{onConfirm:M,init:null===(a=(0,n.bh)("date_range_inv_loc"))||void 0===a?void 0:a.initDate,last:null===(l=(0,n.bh)("date_range_inv_loc"))||void 0===l?void 0:l.lastDate,isRange:!0,colors:{"--calendar-primary-color":"var(--hrm_palette-blue-purple)","--calendar-primary-backcolor":"var(--primary-light)","--calendar-light-backcolor":"var(--hrm_palette-general-background-b)","--calendar-primary-hover-backcolor":"var(--hrm_palette-blue-purple_100)","--calendar-light-300":"var(--disabled)","--calendar-light-200":"var(--dark-800)","--calendar-light-100":"var(--dark-900)","--calendar-dark-800":"var(--hrm_palette-blue-purple_100)","--calendar-white-100":"var(--light-100)","--calendar-white":"var(--dark-700)","--calendar-selected_lbl_color":"var(--light-400)","--calendar-selected_lbl_color":"var(--primary-blue--color-30)"}}),(0,s.OpenModal)(e)},children:[(0,c.jsx)("div",{className:"lbl date",children:R||"Fecha"}),(0,c.jsx)(x,{name:"calendar",color:"#66666"})]}),(0,c.jsx)("div",{className:"flexSpace"}),(0,c.jsxs)("div",{className:"_dsplFlx ",children:[(0,c.jsx)("div",{className:"total_comprobante_title",children:"No:"}),(0,c.jsx)("div",{className:"total_comprobante gray",children:(0,c.jsx)("span",{children:null===(t=(0,n._2)((0,n.bh)("inv_location_list")))||void 0===t?void 0:t.length})})]})]}),(0,c.jsxs)("div",{className:"_dsplFlx hdr_bar purple",style:{marginTop:10},children:[(0,c.jsxs)("div",{className:"_dsplFlx tr_bar_90",children:[(0,c.jsx)("div",{className:" tr_bar_20",children:"Fecha"}),(0,c.jsx)("div",{className:" tr_bar_20",children:"Location"}),(0,c.jsx)("div",{className:" tr_bar_20",children:"Code"})]}),(0,c.jsx)("div",{className:"flexSpace"}),(0,c.jsx)("div",{className:"icon tr_bar_5"})]}),(0,c.jsx)("div",{className:"movements_container scollVh",children:(0,n.bh)("inv_location_list")&&(null===(h=(0,n._2)((0,n.bh)("inv_location_list")))||void 0===h?void 0:h.map((a=>(0,c.jsx)(b,{data:(0,n.bh)("inv_location_list")[a],elmId:a,openUpdateView:S,handleRefreshAll:A},a))))})]})}},7889:()=>{}}]);
//# sourceMappingURL=7708.d88d8455.chunk.js.map