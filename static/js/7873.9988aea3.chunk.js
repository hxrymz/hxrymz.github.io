"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[7873,7766],{62:(l,e,s)=>{s.r(e),s.d(e,{default:()=>f});var a=s(2791),d=s(2350),i=s(2647),c=s(9760),n=(s(7889),s(24)),t=s(713),r=s(4050),o=(s(1534),s(184));const p=(0,i.Jo)(),h=(0,i.PU)(),x=l=>{let{data:e,confirm:s,label:d,item:i}=l;const{modalID:n}=e,[t,r]=(0,a.useState)(1),x=l=>{(0,c.CloseModal)({id:n})};return(0,o.jsxs)("div",{style:{maxHeight:"60vh",minHeight:"28vh",width:"560px",overflow:"auto",background:"#fff",borderRadius:13,padding:"10px 19px"},children:[(0,o.jsxs)("div",{className:"_dsplFlx ",children:[(0,o.jsx)("p",{className:"code_prod_header",children:null===i||void 0===i?void 0:i.productCode}),(0,o.jsx)("div",{className:"flexSpace"}),(0,o.jsx)("p",{className:"lbl_prod_header",children:null===i||void 0===i?void 0:i.name})]}),(0,o.jsxs)("div",{className:"_dsplFlx ",style:{padding:9},children:[(0,o.jsx)("div",{children:(0,o.jsx)(p,{src:null===i||void 0===i?void 0:i.imageUrl,width:150,fontSize:[12,16]})}),(0,o.jsx)("div",{className:"flexSpace"}),(0,o.jsx)("div",{className:"flexSpace"}),(0,o.jsxs)("div",{className:"_dsplFlx btns_control_2cart",children:[t-1>0?(0,o.jsx)("div",{className:"iconFlx ",children:(0,o.jsx)("div",{onClick:()=>{t-1>=0&&r((l=>l-1))},children:(0,o.jsx)(h,{name:"minus",color:"#80868b",size:48})})}):(0,o.jsx)("div",{className:"iconFlx ",children:(0,o.jsx)("div",{style:{width:52}})}),(0,o.jsx)("div",{className:"iconFlx lbl_prod_amount",children:t}),(0,o.jsx)("div",{className:"iconFlx",children:(0,o.jsx)("div",{onClick:()=>{r((l=>l+1))},children:(0,o.jsx)(h,{name:"plus",color:"#80868b",size:48})})})]})]}),(0,o.jsxs)("div",{className:"_dsplFlx ",style:{padding:"1px 10px"},children:[(0,o.jsxs)("p",{className:"lbl_prod_price",children:["$",null===i||void 0===i?void 0:i.price]}),(0,o.jsx)("div",{className:"flexSpace"}),(0,o.jsxs)("div",{className:"_dsplFlx ",children:[(0,o.jsx)("div",{className:"iconFlx",children:(0,o.jsx)("p",{className:"group_title addBtn iconFlx",onClick:x,children:"Cancelar"})}),(0,o.jsx)("div",{className:"iconFlx",children:(0,o.jsx)("p",{className:"group_title addBtn purple iconFlx",onClick:()=>{s({productId:i.productId,amount:t,productName:i.name}),x()},children:"Agregar"})})]})]})]})};var m=s(15),v=s(6824);const u=(0,i.Vg)(),j=(0,n.Qz)(),_=(0,n.O6)(),N=((0,n.$d)(),(0,n.Y3)()),b=(0,i.Jo)(),g="coll2listprods",f=l=>{var e,s,i;let{data:n,elmId:p,updObs:h}=l;const[f,k]=(0,a.useState)(!1),[C,F]=(0,a.useState)(0),[y,I]=(0,a.useState)(0),[S,z]=(0,a.useState)(!1),[B,w]=(0,a.useState)(128);(0,a.useEffect)((()=>{f||(k(!0),F((0,d.M5)()),(0,d.Rz)("products_list",null),(0,r.Ht)("global_accounts","global_account_params",h),R())}));const M=()=>{},H=l=>{(0,d.Rz)("products_list",null),R()},O=l=>{(0,m.OpenToast)({text:l.productName+"  added to cart",timeout:1500})},R=()=>{let l={...(0,d.bh)("products_list")};(0,d.Rz)(g,l),(async(l,e)=>{F((0,d.M5)()),z(!1)})()},V=l=>{(0,v.M9)(l)},U=l=>{let e=l.list;(0,d.eY)("export_products__"+(0,d.M5)()+".csv",e)};return(0,o.jsxs)("div",{className:"",children:[(0,o.jsxs)("div",{className:"accounts_header",children:[(0,o.jsx)("h2",{children:"Products"}),(0,o.jsxs)("div",{className:"_dsplFlx ",children:[(0,d.I0)()?(0,o.jsx)("p",{className:"btn_lkjh addBtn purple",onClick:()=>{let l={zIndex:450,height:"80vh",props:{minHeight:"1vh",overlay:!0}};l.content=(0,o.jsx)(j,{}),(0,c.OpenModal)(l)},children:"Agregar Producto"}):null,(0,d.bh)("profileUser").isAdmin?(0,o.jsx)("p",{className:"btn_lkjh addBtn purple",onClick:()=>I(!y),children:"Cambiar Vista"}):null,(0,d.I0)()?(0,o.jsx)("p",{className:"btn_lkjh addBtn purple",onClick:()=>{(0,t.qT)(V)},children:"Listar Inventario"}):null,(0,d.I0)()?(0,o.jsx)("p",{className:"btn_lkjh addBtn purple",onClick:()=>{(0,t.qT)(U)},children:"Exportar Inventario"}):null,(0,d.I0)()?(0,o.jsx)("p",{className:"btn_lkjh addBtn purple",onClick:l=>{let e={zIndex:450,height:"90vh",props:{minHeight:"1vh",overlay:!0}};e.content=(0,o.jsx)(N,{item:l,confirm:O}),(0,c.OpenModal)(e)},children:"Comparar Inventario"}):null]})]}),(0,o.jsxs)("div",{className:"_dsplFlx ",style:{marginTop:14},children:[(0,o.jsx)(u,{placeholder:"Buscar ....",width:560,obs:F,fetchData:l=>{z(!0),(0,t.Ve)(R)},loading:S,change:l=>{!S&&z(!0)},callempty:H,keyFlds:"searchQry"}),(0,o.jsx)("div",{className:"flexSpace"}),(0,o.jsxs)("div",{className:"_dsplFlx ",children:[(0,o.jsx)("div",{className:"total_comprobante_title",children:"No de Productos:"}),(0,o.jsx)("div",{className:"total_comprobante gray",children:(0,o.jsx)("span",{children:null===(e=(0,d._2)((0,d.bh)("products_list")))||void 0===e?void 0:e.length})})]})]}),y?(0,o.jsx)("div",{className:"products_container scollVh FlexList ",children:(0,d.bh)(g)&&(null===(s=(0,t.B8)((0,d.bh)(g),B))||void 0===s?void 0:s.map((l=>{let e=(0,d.bh)(g)[l];return(0,o.jsx)("div",{style:{padding:9},onClick:()=>(l=>{let e={zIndex:450,height:"90vh",props:{minHeight:"1vh",overlay:!0}};e.content=(0,o.jsx)(x,{item:l,confirm:O}),(0,c.OpenModal)(e)})(e),children:(0,o.jsx)(b,{src:null===e||void 0===e?void 0:e.imageUrl,width:160,lbl:null===e||void 0===e?void 0:e.name,fontSize:[12,16]},l)})})))}):(0,o.jsxs)("div",{className:"products_container scollVh",children:[(0,d.bh)(g)&&(null===(i=(0,t.B8)((0,d.bh)(g),B))||void 0===i?void 0:i.map((l=>(0,o.jsx)(_,{data:(0,d.bh)(g)[l],elmId:l,openUpdateView:M,handleRefreshAll:H,updRvw:F},l)))),(0,d.bh)(g)&&(0,d._2)((0,d.bh)(g),B).length>B?(0,o.jsxs)("div",{className:"_dsplFlx ",style:{margin:"15px 0 35px"},children:[(0,o.jsx)("div",{className:"flexSpace"}),(0,o.jsx)("p",{className:"btn_lkjh addBtn purple",onClick:()=>{w((l=>l+128))},children:"Cargar Mas"}),(0,o.jsx)("div",{className:"flexSpace"})]}):null]})]})}},7889:()=>{},1534:()=>{}}]);
//# sourceMappingURL=7873.9988aea3.chunk.js.map