"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[8233],{1130:function(r,e,n){n.r(e);var i=n(4165),a=n(5861),s=n(9439),t=n(2791),d=n(2350),l=n(2647),c=(n(1534),n(7689)),o=n(6824),u=n(4050),v=n(6677),p=n(713),b=n(9760),h=n(15),m=n(1087),f=n(184),x=(0,l.PU)(),_=(0,l.JC)(),j="view_product_entry_comprobante";e.default=function(r){var e,n,l,o,h,x,_,I,y=r.data,g=r.confirm,w=r.item,k=(0,t.useState)(!1),O=(0,s.Z)(k,2),C=O[0],F=O[1],P=(0,t.useState)(0),S=(0,s.Z)(P,2),D=(S[0],S[1]),Q=(0,c.s0)();(0,t.useEffect)((function(){var r,e;C||(F(!0),(0,d.Rz)("accountPicker",{}),D((0,d.M5)()),(0,d.bh)("account_ids")||(0,u.ZX)(U),null!==(r=(0,d.bh)("providers_ids"))&&void 0!==r&&null!==(e=r[null===w||void 0===w?void 0:w.providerId])&&void 0!==e&&e.name||(0,v.Je)(U),(0,d.bh)("products_ids")||(0,p.ii)(U))}),[w.entriesInvoiceId]);var U=function(){var r=(0,a.Z)((0,i.Z)().mark((function r(){return(0,i.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:D((0,d.M5)());case 1:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),M=function(r){g&&g(),y.modalID&&(0,b.CloseModal)({id:y.modalID}),r.data.comprobanteId&&Q({pathname:"/accounting-ledger",search:"?cId=".concat(r.data.comprobanteId)})},E=function(){var r=(0,a.Z)((0,i.Z)().mark((function r(){return(0,i.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:(0,p.VI)(null===w||void 0===w?void 0:w.entriesInvoiceId,M);case 1:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),A=function(){var r=(0,a.Z)((0,i.Z)().mark((function r(){return(0,i.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),R=null===(e=(0,d.bh)("providers_ids"))||void 0===e||null===(n=e[null===w||void 0===w?void 0:w.providerId])||void 0===n?void 0:n.name,q=function(){},z=function(r){(0,d.vQ)(r,q)};return(0,f.jsxs)("div",{style:{maxHeight:"90vh",minHeight:"88vh",width:"860px",overflow:"auto",background:"var(--hrm_palette-general-background-b)",borderRadius:13,padding:"10px 19px"},children:[(0,f.jsxs)("div",{className:"_dsplFlx ",children:[(0,f.jsx)("p",{className:"form_title",children:"Entrada de Mercancias"}),(0,f.jsx)("div",{className:"flexSpace"}),(0,f.jsx)("div",{children:(0,f.jsx)("div",{className:"date2Upd",children:(0,d.sG)(null===(l=(0,d.bh)(j))||void 0===l?void 0:l.date)})})]}),(0,f.jsxs)("div",{className:"_dsplFlx ",children:[(0,f.jsxs)("div",{className:" ",children:[(0,f.jsx)("p",{className:"label",children:"Pay to"}),(0,f.jsx)("div",{className:"date2Upd",children:R})]}),(0,f.jsx)("div",{className:"flexSpace"}),(0,f.jsxs)("div",{children:[(0,f.jsx)("p",{className:"label",children:"Documento"}),(0,f.jsx)("div",{className:"date2Upd",onClick:function(){var r;return z(null===(r=(0,d.bh)(j))||void 0===r?void 0:r.document)},children:null===(o=(0,d.bh)(j))||void 0===o?void 0:o.document})]})]}),(0,f.jsxs)("div",{className:"_dsplFlx ",children:[(0,f.jsxs)("div",{className:" ",children:[(0,f.jsx)("p",{className:"label",children:"Descripcion"}),(0,f.jsx)("div",{className:"value_desc",onClick:function(){var r;return z(null===(r=(0,d.bh)(j))||void 0===r?void 0:r.description)},children:null===(h=(0,d.bh)(j))||void 0===h?void 0:h.description})]}),(0,f.jsx)("div",{className:"flexSpace"})]}),(0,f.jsxs)("div",{className:"_dsplFlx ",children:[(0,f.jsx)("div",{className:"flexSpace"}),null!==(x=(0,d.bh)(j))&&void 0!==x&&x.comprobanteId?(0,f.jsxs)("div",{className:" ",onClick:A,children:[(0,f.jsx)("p",{className:"label",children:"Comprobante"}),(0,f.jsx)(m.OL,{to:{pathname:"/accounting-ledger",search:"?cId=".concat(null===(_=(0,d.bh)(j))||void 0===_?void 0:_.comprobanteId)},children:(0,f.jsx)("div",{className:"date2Upd",onClick:function(){y.modalID&&(0,b.CloseModal)({id:y.modalID})},children:null===(I=(0,d.bh)(j))||void 0===I?void 0:I.comprobanteId})})]}):(0,f.jsx)("p",{className:"group_title addBtn purple",onClick:E,children:"Enviar a contabilidad"})]}),(0,f.jsx)(N,{data:w.inventoryEntries}),(0,f.jsx)(Z,{data:w.extrasEntries}),(0,f.jsx)("div",{className:"_dsplFlx ",children:(0,f.jsx)("div",{className:"flexSpace"})})]})};var N=function(r){var e=r.data,n=(0,t.useState)(0),i=(0,s.Z)(n,2);i[0],i[1];return(0,f.jsxs)("div",{className:"boxAddAcc",style:{margin:"18px 0"},children:[(0,f.jsxs)("div",{className:"_dsplFlx hdr_bar purple",style:{margin:"18px 0"},children:[(0,f.jsx)("div",{className:"tr_bar tr_bar_40 left_alg",children:"Producto"}),(0,f.jsx)("div",{className:"tr_bar tr_bar_10",children:"ID"}),(0,f.jsx)("div",{className:"tr_bar tr_bar_15",children:"Dimension"}),(0,f.jsx)("div",{className:"tr_bar tr_bar_15",children:"Qty"}),(0,f.jsx)("div",{className:"tr_bar tr_bar_15",children:"Precio"}),(0,f.jsx)("div",{className:"tr_bar tr_bar_5",children:(0,f.jsx)("div",{className:"icon",onClick:function(){(0,o.Hc)(e)},children:(0,f.jsx)(x,{name:"printer",color:"#646cff"})})})]}),e&&e.length>0&&(null===e||void 0===e?void 0:e.map((function(r,e){return(0,f.jsx)(I,{idKey:r.productId,index:e,data:r},r.productId+"_"+e)})))]})},I=function(r){var e,n=r.data,i=(r.index,null===(e=(0,d.bh)("products_ids"))||void 0===e?void 0:e[null===n||void 0===n?void 0:n.productId]),a=(null===n||void 0===n?void 0:n.dimension)&&(null===n||void 0===n?void 0:n.dimension.split(",")[0])+" X "+(null===n||void 0===n?void 0:n.dimension.split(",")[1]),s=(null===n||void 0===n?void 0:n.dimension)&&{lbl:a+" (inch)",hover:(null===n||void 0===n?void 0:n.squareFeet)+"S/F X $"+(0,d.Zv)(null===n||void 0===n?void 0:n.pricePerSquareFeet,2)};console.log(n);var t=function(){(0,h.OpenToast)({text:"Copied to clipobard",timeout:1500})},l=function(r){(0,d.vQ)(r,t)};return(0,f.jsxs)("div",{className:"_dsplFlx hdr_bar",children:[(0,f.jsx)("div",{className:"tr_bar tr_bar_40 left_alg",children:null===i||void 0===i?void 0:i.name}),(0,f.jsx)("div",{className:"tr_bar tr_bar_10 left_alg date2Upd",children:null===n||void 0===n?void 0:n.alphaCode}),(0,f.jsx)("div",{className:"tr_bar tr_bar_15",style:{marginTop:-4},children:null!==n&&void 0!==n&&n.dimension?(0,f.jsx)(_,{data:s,color:"#282828",labelField:"lbl",infoField:"hover"}):null}),(0,f.jsx)("div",{className:"tr_bar tr_bar_15",onClick:function(){return l((0,d.Zv)(null===n||void 0===n?void 0:n.qty,2))},children:(0,d.Zv)(null===n||void 0===n?void 0:n.qty,2)}),(0,f.jsx)("div",{className:"tr_bar tr_bar_15",onClick:function(){return l((0,d.Zv)(null===n||void 0===n?void 0:n.price,2))},children:(0,d.Zv)(null===n||void 0===n?void 0:n.price,2)}),(0,f.jsx)("div",{className:"flexSpace"})]})},Z=function(r){var e=r.data;return(0,f.jsxs)("div",{className:"boxAddAcc",style:{margin:"18px 0"},children:[(0,f.jsxs)("div",{className:"_dsplFlx hdr_bar purple",style:{margin:"18px 0"},children:[(0,f.jsx)("div",{className:"tr_bar tr_bar_25",children:"Cuenta"}),(0,f.jsx)("div",{className:"tr_bar tr_bar_25",children:"Sub Cuenta"}),(0,f.jsx)("div",{className:"tr_bar tr_bar_25"}),(0,f.jsx)("div",{className:"tr_bar tr_bar_25",children:"Monto"})]}),e&&(null===e||void 0===e?void 0:e.map((function(r,e){return(0,f.jsx)(y,{idKey:r.operationId,data:r},r.operationId)})))]})},y=function(r){var e,n,i=r.data,a=null===(e=(0,d.bh)("account_ids"))||void 0===e?void 0:e[null===i||void 0===i?void 0:i.account],s=null===(n=(0,d.bh)("sub_account_ids"))||void 0===n?void 0:n[null===i||void 0===i?void 0:i.subAccount];return(0,f.jsxs)("div",{className:"_dsplFlx hdr_bar",children:[(0,f.jsx)("div",{className:"tr_bar tr_bar_25",children:(0,f.jsx)(_,{data:a,labelField:"name",infoField:"code"})}),(0,f.jsx)("div",{className:"tr_bar tr_bar_25",children:(0,f.jsx)(_,{data:s,labelField:"subAccountName",infoField:"subAccount"})}),(0,f.jsx)("div",{className:"tr_bar tr_bar_25"}),(0,f.jsx)("div",{className:"tr_bar tr_bar_25",children:"debit"===(null===i||void 0===i?void 0:i.type)?(0,d.Zv)(null===i||void 0===i?void 0:i.amount,2):"0.00"}),(0,f.jsx)("div",{className:"flexSpace"})]})}},6677:function(r,e,n){n.d(e,{Je:function(){return d},Qn:function(){return u},UO:function(){return l},mQ:function(){return o}});var i=n(4165),a=n(1413),s=n(5861),t=n(2350),d=function(){var r=(0,s.Z)((0,i.Z)().mark((function r(e){var n,s,d,l,o;return(0,i.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return(d=(0,a.Z)({},null===(n=(0,t.bh)((0,t.hQ)()))||void 0===n?void 0:n.all_prov_cust)).params={businessId:null===(s=(0,t.bh)("profileUser"))||void 0===s?void 0:s.businessId},l=(0,t.I7)(d),r.next=5,l;case 5:(o=r.sent)&&((0,t.Rz)("providers_list",c((0,t.jQ)(o),"name",1)),(0,t.Rz)("providers_ids",(0,t.ME)((0,t.jQ)(o),"providerId")),e&&e());case 7:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),l=function(){var r=(0,s.Z)((0,i.Z)().mark((function r(e){var n,s,d,l,o;return(0,i.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return(d=(0,a.Z)({},null===(n=(0,t.bh)((0,t.hQ)()))||void 0===n?void 0:n.search_prov_cust)).params={businessId:null===(s=(0,t.bh)("profileUser"))||void 0===s?void 0:s.businessId,":search":(0,t.bh)("search_prov")},l=(0,t.I7)(d),r.next=5,l;case 5:(o=r.sent)&&((0,t.Rz)("providers_list",c((0,t.jQ)(o),"name",1)),e&&e());case 7:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();var c=function(r,e,n){return(0,t.MV)("sortProviders",[r],(function(){return r&&r.sort((function(r,i){var a=1*r[e],s=1*i[e];return a<s?n?-1:1:a>s?n?1:-1:0}))}))},o=function(r,e){return(0,t.MV)("sortSubProviders",[r],(function(){return r&&r.sort((function(r,n){var i=1*r[e],a=1*n[e];return i<a?-1:i>a?1:0}))}))},u=function(){var r=(0,s.Z)((0,i.Z)().mark((function r(e,n){var s,d,l,c;return(0,i.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return(l=(0,a.Z)({},null===(s=(0,t.bh)((0,t.hQ)()))||void 0===s?void 0:s.delete_prov_cust)).params={businessId:null===(d=(0,t.bh)("profileUser"))||void 0===d?void 0:d.businessId,providerId:e},c=(0,t.I7)(l),r.next=5,c;case 5:r.sent&&n&&n();case 7:case"end":return r.stop()}}),r)})));return function(e,n){return r.apply(this,arguments)}}()},1413:function(r,e,n){n.d(e,{Z:function(){return s}});var i=n(4942);function a(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.push.apply(n,i)}return n}function s(r){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){(0,i.Z)(r,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(n,e))}))}return r}}}]);
//# sourceMappingURL=8233.66d6e17d.chunk.js.map