"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[84,9760],{9760:(e,a,l)=>{l.r(a),l.d(a,{CloseModal:()=>r,OpenModal:()=>o,default:()=>c});var s=l(2791),i=l(5408),d=l(2350),t=l(184);const n="listDialog_mdh392",c=()=>{const e=(0,d.bh)("listDialog")||{};(0,i.Z)(n);let a=Object.keys(e);return(0,t.jsx)(t.Fragment,{children:a.map(((a,l)=>{let i=e[a];if(i&&i.visible){let e={};i.height&&(e.heigth=i.height),i.width,i.zIndex&&(e.zIndex=i.zIndex-1);let l={zIndex:i.zIndex},d=null,n=i.data;return i.content&&(d=s.cloneElement(i.content,{data:n})),(0,t.jsxs)("div",{className:"ltr-1kbnjow",style:e,children:[(0,t.jsx)("div",{className:"ltr-hoe9xz",children:(0,t.jsx)("div",{className:"ltr-1wao6ny",style:l,id:a,children:d})}),i.data.overlay?(0,t.jsx)("div",{className:"DialogHRMOverlay ".concat(i.visible?"active":""),onClick:()=>{var e;e=a,document.getElementsByTagName("html")[0].classList.remove("has-level-two"),r({id:e})}}):null]},a)}}))})},o=e=>{let a=(0,d.bh)("listDialog")||{},l=(0,d.M5)();a[l]||(a[l]={}),a[l].visible=!0;let s={};e.props?(s=e.props,s.modalID=l):s.modalID=l;let i=document.getElementsByTagName("body")[0];null!==i&&void 0!==i&&i.style&&(i.style.overflowY="hidden"),a[l].isView=e.isView,a[l].observeResize=e.observeResize,a[l].observeResize&&(a[l].observeInterval=setInterval((()=>{let e=document.querySelector("[dialog-key-id='".concat(l,"']")),s=e&&e.getBoundingClientRect();s&&(s.width===a[l].width&&s.height===a[l].height||(a[l].height=s.height+10,a[l].width=s.width,(0,d.Rz)("listDialog",a),(0,d.wt)(n)))}),200)),a[l].display=!0,e.zIndex&&(a[l].zIndex=e.zIndex),e.height&&(a[l].height=e.height),e.width&&(a[l].width=e.width),e.content&&(a[l].content=e.content),a[l].data=s,(0,d.Rz)("listDialog",a),(0,d.wt)(n),setTimeout((()=>{document.getElementsByTagName("html")[0].classList.add("has-level-two"),(0,d.Rz)("modalOpen",l),(0,d.wt)(n)}),125)},r=e=>{let a=(0,d.bh)("listDialog")||{},l=e.id;if(a[l]){var s,i,t;a[l].observeResize&&a[l].observeInterval&&clearInterval(a[l].observeInterval),a[l].display=!1,null===(s=a[l])||void 0===s||null===(i=s.data)||void 0===i||null===(t=i.closeEvent)||void 0===t||t.call(i),(0,d.Rz)("listDialog",a),delete a[l],document.getElementsByTagName("body")[0].style.overflowY=null,(0,d.wt)(n),setTimeout((()=>{delete a[l],document.getElementsByTagName("html")[0].classList.remove("has-level-two"),(0,d.Rz)("modalOpen",null)}),750)}}},84:(e,a,l)=>{l.r(a),l.d(a,{default:()=>h});var s=l(2791),i=l(2350),d=l(2647),t=(l(4719),l(9760)),n=l(9661),c=l(184);const o=(0,d.PU)(),r=((0,d.YZ)(),(0,d.Np)()),u=(0,d.tL)(),v=(0,n.a)(),m="new_entry_comprobante",h=e=>{var a,l,d,n,h,b,p,j,N,g,_,y;let{data:f,confirm:w}=e;const[z,I]=(0,s.useState)(!1),[P,R]=(0,s.useState)(0);(0,s.useEffect)((()=>{z||(I(!0),R((0,i.M5)()))}));const C=(e,a,l)=>{let s=(0,i.bh)(m)||{};l?(s[l]||(s[l]={}),s[l][e]=a):s[e]=a,(0,i.Rz)(m,s),R((0,i.M5)())},S=(e,a,l)=>{let s={...(0,i.bh)("account2Param")}||{};l?(s[l]||(s[l]={}),s[l][e]=a):s[e]=a,(0,i.Rz)("account2Param",s),R((0,i.M5)())},D=e=>{let a={...(0,i.bh)("accountListOnParam")}||{};delete a[e],(0,i.Rz)("accountListOnParam",a),R((0,i.M5)())};let k=null===(a=(0,i.bh)("account_ids"))||void 0===a?void 0:a[null===(l=(0,i.bh)("account2Param"))||void 0===l?void 0:l.account],O=null===(d=(0,i.bh)("sub_account_ids"))||void 0===d?void 0:d[null===(n=(0,i.bh)("account2Param"))||void 0===n?void 0:n.subAccount];return(0,c.jsxs)("div",{style:{maxHeight:"80vh",width:"960px",overflow:"auto",background:"#fff",borderRadius:13,padding:"10px 19px"},children:[(0,c.jsxs)("div",{className:"_dsplFlx ",children:[(0,c.jsx)("p",{className:"form_title",children:"Agregar Comprobante Parametrizado"}),(0,c.jsx)("div",{className:"flexSpace"})]}),(0,c.jsx)(r,{init:null===(h=(0,i.bh)(m))||void 0===h?void 0:h.name,label:"Nombre",width:520,updChanges:e=>C("name",e)}),(0,c.jsxs)("div",{className:"_dsplFlx ",style:{padding:"18px"},children:[(0,c.jsx)("div",{className:"flexSpace"}),(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"label",children:"Agregar extras"}),(0,c.jsx)(u,{data:[{label:"Empleados",id:"employee"},{label:"Provedores",id:"provider"},{label:"Clientes",id:"customer"},{label:"Recurrente",id:"recurrent"}],active:null===(b=(0,i.bh)(m))||void 0===b?void 0:b.extra,updSelect:e=>C("extra",e)})]}),(0,c.jsx)("div",{className:"flexSpace"})]}),(0,c.jsx)("div",{className:"separator"}),(0,c.jsx)("div",{className:" ",style:{paddingTop:"18px"},children:null!==(p=(0,i.bh)("account2Param"))&&void 0!==p&&p.account?(0,c.jsxs)("div",{className:"_dsplFlx ",style:{margin:"18px 0"},children:[(0,c.jsxs)("div",{className:" acc_dtls",children:[(0,c.jsxs)("div",{className:"_dsplFlx",children:[(0,c.jsx)("div",{className:"code",style:{color:"#646cff"},children:null===k||void 0===k?void 0:k.code}),(0,c.jsx)("div",{className:"name",children:null===k||void 0===k?void 0:k.name})]}),(0,c.jsx)("div",{className:"flexSpace"}),O?(0,c.jsxs)("div",{className:"_dsplFlx",style:{margin:"10px 0 0 18px"},children:[(0,c.jsx)("div",{className:"code",children:null===O||void 0===O?void 0:O.subAccount}),(0,c.jsx)("div",{className:"name",children:null===O||void 0===O?void 0:O.subAccountName})]}):null]}),(0,c.jsx)("div",{className:"flexSpace"}),(0,c.jsx)("div",{className:"icon",onClick:()=>{(0,i.Rz)("account2Param",null),R((0,i.M5)())},children:(0,c.jsx)(o,{name:"outline_edit",color:"#1a73e8"})})]}):(0,c.jsx)(v,{placeholder:"buscar una cuenta",width:420,handleClick:(e,a)=>{let l={account:e,subAccount:a};(0,i.Rz)("account2Param",l),R((0,i.M5)())}})}),(0,c.jsxs)("div",{className:"_dsplFlx ",style:{padding:"18px"},children:["recurrent"===(null===(j=(0,i.bh)(m))||void 0===j?void 0:j.extra)?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"flexSpace"}),(0,c.jsxs)("div",{className:"_dsplFlx ",children:[(0,c.jsx)(r,{init:null===(N=(0,i.bh)("account2Param"))||void 0===N?void 0:N.document,label:"Documento",width:220,updChanges:e=>S("document",e)}),(0,c.jsx)("div",{className:"flexSpace",style:{margin:"0 11px"}}),(0,c.jsx)(r,{init:null===(g=(0,i.bh)("account2Param"))||void 0===g?void 0:g.amount,label:"Importe",width:120,type:"number",updChanges:e=>S("amount",e)})]})]}):null,(0,c.jsx)("div",{className:"flexSpace"}),(0,c.jsx)(u,{data:[{label:"Deudoras",id:"debit"},{label:"Acredoras",id:"credit"}],active:(null===(_=(0,i.bh)("account2Param"))||void 0===_?void 0:_.type)||"debit",updSelect:e=>S("type",e)}),(0,c.jsx)("div",{className:"flexSpace"}),(0,c.jsx)("div",{children:(0,c.jsx)("button",{onClick:()=>{let e={...(0,i.bh)("account2Param")}||{};e.type||(e.type="debit");let a={...(0,i.bh)("accountListOnParam")}||{};a[e.account+"_"+e.subAccount]=e,(0,i.Rz)("accountListOnParam",a),(0,i.Rz)("account2Param",null),R((0,i.M5)())},children:"Agregar"})})]}),(0,c.jsxs)("div",{className:"_dsplFlx hdr_bar purple",style:{margin:"18px 0"},children:[(0,c.jsx)("div",{className:" tr_bar tr_bar_20",children:"Cuenta"}),(0,c.jsx)("div",{className:"tr_bar tr_bar_20",children:"Sub Cuenta"}),(0,c.jsx)("div",{className:"tr_bar tr_bar_20",children:"Tipo"}),(0,c.jsx)("div",{className:"tr_bar tr_bar_20",children:"Documento"}),(0,c.jsx)("div",{className:"tr_bar tr_bar_20",children:"Importe"})]}),(0,i.bh)("accountListOnParam")&&(null===(y=(0,i._2)((0,i.bh)("accountListOnParam")))||void 0===y?void 0:y.map(((e,a)=>(0,c.jsx)(x,{idKey:e,data:(0,i.bh)("accountListOnParam")[e],deleteItem:D},e)))),(0,c.jsxs)("div",{className:"_dsplFlx ",children:[(0,c.jsx)("div",{className:"flexSpace"}),(0,c.jsx)("div",{className:"card",children:(0,c.jsx)("button",{onClick:async()=>{var e,a;let l=(0,i.bh)(m);l.accountingEntryId=(0,i.M5)(),l.accountsToParameterize=(0,i.bh)("accountListOnParam");let s={...null===(e=(0,i.bh)((0,i.hQ)()))||void 0===e?void 0:e.add_entries};s.params={businessId:null===(a=(0,i.bh)("profileUser"))||void 0===a?void 0:a.businessId},s.form=l;const d=(0,i.I7)(s);await d&&((0,i.Rz)(m,{}),(0,i.Rz)("accountListOnParam",null),w&&w(),(null===f||void 0===f?void 0:f.modalID)&&(0,t.CloseModal)({id:null===f||void 0===f?void 0:f.modalID}))},children:"Guardar"})})]})]})},x=e=>{var a,l;let{data:s,deleteItem:d,idKey:t}=e,n=null===(a=(0,i.bh)("account_ids"))||void 0===a?void 0:a[null===s||void 0===s?void 0:s.account],r=null===(l=(0,i.bh)("sub_account_ids"))||void 0===l?void 0:l[null===s||void 0===s?void 0:s.subAccount];return(0,c.jsxs)("div",{className:"_dsplFlx hdr_bar",children:[(0,c.jsx)("div",{className:"tr_bar_20",children:null===n||void 0===n?void 0:n.code}),(0,c.jsx)("div",{className:"tr_bar_20",children:null===r||void 0===r?void 0:r.subAccount}),(0,c.jsx)("div",{className:"tr_bar_20",children:null===s||void 0===s?void 0:s.type}),(0,c.jsx)("div",{className:"tr_bar_20",children:null===s||void 0===s?void 0:s.document}),(0,c.jsx)("div",{className:"tr_bar_20",children:null===s||void 0===s?void 0:s.amount}),(0,c.jsx)("div",{className:"flexSpace"}),(0,c.jsx)("div",{className:"icon",onClick:()=>{d(t)},children:(0,c.jsx)(o,{name:"outline_delete",color:"#c62828"})})]})}},4719:()=>{}}]);
//# sourceMappingURL=84.0fe980ce.chunk.js.map