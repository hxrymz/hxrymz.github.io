"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[84],{84:(a,e,l)=>{l.r(e),l.d(e,{default:()=>x});var s=l(2791),d=l(2350),c=l(2647),i=(l(4719),l(9760)),n=l(9661),t=l(184);const r=(0,c.PU)(),o=((0,c.YZ)(),(0,c.Np)()),u=(0,c.tL)(),v=(0,n.a)(),m="new_entry_comprobante",x=a=>{var e,l,c,n,x,b,p,j,_,N,f,P;let{data:g,confirm:y}=a;const[S,C]=(0,s.useState)(!1),[z,A]=(0,s.useState)(0);(0,s.useEffect)((()=>{S||(C(!0),A((0,d.M5)()))}));const F=(a,e,l)=>{let s=(0,d.bh)(m)||{};l?(s[l]||(s[l]={}),s[l][a]=e):s[a]=e,(0,d.Rz)(m,s),A((0,d.M5)())},R=(a,e,l)=>{let s={...(0,d.bh)("account2Param")}||{};l?(s[l]||(s[l]={}),s[l][a]=e):s[a]=e,(0,d.Rz)("account2Param",s),A((0,d.M5)())},k=a=>{let e={...(0,d.bh)("accountListOnParam")}||{};delete e[a],(0,d.Rz)("accountListOnParam",e),A((0,d.M5)())};let w=null===(e=(0,d.bh)("account_ids"))||void 0===e?void 0:e[null===(l=(0,d.bh)("account2Param"))||void 0===l?void 0:l.account],I=null===(c=(0,d.bh)("sub_account_ids"))||void 0===c?void 0:c[null===(n=(0,d.bh)("account2Param"))||void 0===n?void 0:n.subAccount];return(0,t.jsxs)("div",{style:{maxHeight:"80vh",width:"960px",overflow:"auto",background:"#fff",borderRadius:13,padding:"10px 19px"},children:[(0,t.jsxs)("div",{className:"_dsplFlx ",children:[(0,t.jsx)("p",{className:"form_title",children:"Agregar Comprobante Parametrizado"}),(0,t.jsx)("div",{className:"flexSpace"})]}),(0,t.jsx)(o,{init:null===(x=(0,d.bh)(m))||void 0===x?void 0:x.name,label:"Nombre",width:520,updChanges:a=>F("name",a)}),(0,t.jsxs)("div",{className:"_dsplFlx ",style:{padding:"18px"},children:[(0,t.jsx)("div",{className:"flexSpace"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"label",children:"Agregar extras"}),(0,t.jsx)(u,{data:[{label:"Empleados",id:"employee"},{label:"Provedores",id:"provider"},{label:"Clientes",id:"customer"},{label:"Recurrente",id:"recurrent"}],active:null===(b=(0,d.bh)(m))||void 0===b?void 0:b.extra,updSelect:a=>F("extra",a)})]}),(0,t.jsx)("div",{className:"flexSpace"})]}),(0,t.jsx)("div",{className:"separator"}),(0,t.jsx)("div",{className:" ",style:{paddingTop:"18px"},children:null!==(p=(0,d.bh)("account2Param"))&&void 0!==p&&p.account?(0,t.jsxs)("div",{className:"_dsplFlx ",style:{margin:"18px 0"},children:[(0,t.jsxs)("div",{className:" acc_dtls",children:[(0,t.jsxs)("div",{className:"_dsplFlx",children:[(0,t.jsx)("div",{className:"code",style:{color:"#646cff"},children:null===w||void 0===w?void 0:w.code}),(0,t.jsx)("div",{className:"name",children:null===w||void 0===w?void 0:w.name})]}),(0,t.jsx)("div",{className:"flexSpace"}),I?(0,t.jsxs)("div",{className:"_dsplFlx",style:{margin:"10px 0 0 18px"},children:[(0,t.jsx)("div",{className:"code",children:null===I||void 0===I?void 0:I.subAccount}),(0,t.jsx)("div",{className:"name",children:null===I||void 0===I?void 0:I.subAccountName})]}):null]}),(0,t.jsx)("div",{className:"flexSpace"}),(0,t.jsx)("div",{className:"icon",onClick:()=>{(0,d.Rz)("account2Param",null),A((0,d.M5)())},children:(0,t.jsx)(r,{name:"outline_edit",color:"#1a73e8"})})]}):(0,t.jsx)(v,{placeholder:"buscar una cuenta",width:420,handleClick:(a,e)=>{let l={account:a,subAccount:e};(0,d.Rz)("account2Param",l),A((0,d.M5)())}})}),(0,t.jsxs)("div",{className:"_dsplFlx ",style:{padding:"18px"},children:["recurrent"===(null===(j=(0,d.bh)(m))||void 0===j?void 0:j.extra)?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"flexSpace"}),(0,t.jsxs)("div",{className:"_dsplFlx ",children:[(0,t.jsx)(o,{init:null===(_=(0,d.bh)("account2Param"))||void 0===_?void 0:_.document,label:"Documento",width:220,updChanges:a=>R("document",a)}),(0,t.jsx)("div",{className:"flexSpace",style:{margin:"0 11px"}}),(0,t.jsx)(o,{init:null===(N=(0,d.bh)("account2Param"))||void 0===N?void 0:N.amount,label:"Importe",width:120,type:"number",updChanges:a=>R("amount",a)})]})]}):null,(0,t.jsx)("div",{className:"flexSpace"}),(0,t.jsx)(u,{data:[{label:"Deudoras",id:"debit"},{label:"Acredoras",id:"credit"}],active:(null===(f=(0,d.bh)("account2Param"))||void 0===f?void 0:f.type)||"debit",updSelect:a=>R("type",a)}),(0,t.jsx)("div",{className:"flexSpace"}),(0,t.jsx)("div",{children:(0,t.jsx)("button",{onClick:()=>{let a={...(0,d.bh)("account2Param")}||{};a.type||(a.type="debit");let e={...(0,d.bh)("accountListOnParam")}||{};e[a.account+"_"+a.subAccount]=a,(0,d.Rz)("accountListOnParam",e),(0,d.Rz)("account2Param",null),A((0,d.M5)())},children:"Agregar"})})]}),(0,t.jsxs)("div",{className:"_dsplFlx hdr_bar purple",style:{margin:"18px 0"},children:[(0,t.jsx)("div",{className:" tr_bar tr_bar_20",children:"Cuenta"}),(0,t.jsx)("div",{className:"tr_bar tr_bar_20",children:"Sub Cuenta"}),(0,t.jsx)("div",{className:"tr_bar tr_bar_20",children:"Tipo"}),(0,t.jsx)("div",{className:"tr_bar tr_bar_20",children:"Documento"}),(0,t.jsx)("div",{className:"tr_bar tr_bar_20",children:"Importe"})]}),(0,d.bh)("accountListOnParam")&&(null===(P=(0,d._2)((0,d.bh)("accountListOnParam")))||void 0===P?void 0:P.map(((a,e)=>(0,t.jsx)(h,{idKey:a,data:(0,d.bh)("accountListOnParam")[a],deleteItem:k},a)))),(0,t.jsxs)("div",{className:"_dsplFlx ",children:[(0,t.jsx)("div",{className:"flexSpace"}),(0,t.jsx)("div",{className:"card",children:(0,t.jsx)("button",{onClick:async()=>{var a,e;let l=(0,d.bh)(m);l.accountingEntryId=(0,d.M5)(),l.accountsToParameterize=(0,d.bh)("accountListOnParam");let s={...null===(a=(0,d.bh)((0,d.hQ)()))||void 0===a?void 0:a.add_entries};s.params={businessId:null===(e=(0,d.bh)("profileUser"))||void 0===e?void 0:e.businessId},s.form=l;const c=(0,d.I7)(s);await c&&((0,d.Rz)(m,{}),(0,d.Rz)("accountListOnParam",null),y&&y(),(null===g||void 0===g?void 0:g.modalID)&&(0,i.CloseModal)({id:null===g||void 0===g?void 0:g.modalID}))},children:"Guardar"})})]})]})},h=a=>{var e,l;let{data:s,deleteItem:c,idKey:i}=a,n=null===(e=(0,d.bh)("account_ids"))||void 0===e?void 0:e[null===s||void 0===s?void 0:s.account],o=null===(l=(0,d.bh)("sub_account_ids"))||void 0===l?void 0:l[null===s||void 0===s?void 0:s.subAccount];return(0,t.jsxs)("div",{className:"_dsplFlx hdr_bar",children:[(0,t.jsx)("div",{className:"tr_bar_20",children:null===n||void 0===n?void 0:n.code}),(0,t.jsx)("div",{className:"tr_bar_20",children:null===o||void 0===o?void 0:o.subAccount}),(0,t.jsx)("div",{className:"tr_bar_20",children:null===s||void 0===s?void 0:s.type}),(0,t.jsx)("div",{className:"tr_bar_20",children:null===s||void 0===s?void 0:s.document}),(0,t.jsx)("div",{className:"tr_bar_20",children:null===s||void 0===s?void 0:s.amount}),(0,t.jsx)("div",{className:"flexSpace"}),(0,t.jsx)("div",{className:"icon",onClick:()=>{c(i)},children:(0,t.jsx)(r,{name:"outline_delete",color:"#c62828"})})]})}},4719:()=>{}}]);
//# sourceMappingURL=84.3bcf77c5.chunk.js.map