"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[8704,7766],{689:(e,s,l)=>{l.r(s),l.d(s,{default:()=>h});var i=l(2791),d=l(2350),o=(l(8202),l(9760)),a=l(9498),t=l(2647),n=(l(9803),l(184));var c=l(6963),r=l(4e3),v=l(6824);let x=0;var p=l(5261);const u=(0,t.PU)(),m="new_multi_deposit_prov",h=e=>{var s,l;let{data:h,index:b,handleRefreshAll:f,show:y}=e;const[j,N]=(0,i.useState)(!1),[g,w]=(0,i.useState)(0);if((0,i.useEffect)((()=>{j||(N(!0),w((0,d.M5)()))})),!y)return null;const z=()=>{};(0,a.in)(null===(s=(0,d.bh)("sub_deposit_group"))||void 0===s?void 0:s[h.depositId],"subDeposit");return(0,n.jsxs)("div",{className:" ".concat(b," deposit_box "),children:[(0,n.jsxs)("div",{className:"_dsplFlx ",children:[(0,n.jsxs)("div",{className:"_dsplFlx ",children:[(0,n.jsx)("div",{className:"key_deposit_balance "}),(0,n.jsx)("div",{className:"value_deposit_gross",children:(0,d.sJ)(null===h||void 0===h?void 0:h.depositDate)})]}),(0,n.jsx)("div",{className:"flexSpace"}),(0,n.jsxs)("div",{className:"_dsplFlx ",children:[(0,n.jsx)("div",{className:"icon_image ",style:{padding:"5px 10px 0 0"},onClick:()=>{(async e=>{const s=await c.PDFDocument.create();s.registerFontkit(r.Z);const l=await(0,v.h2)(s);console.log(l);let i=s.addPage();const{width:o,height:a}=i.getSize();x=a-40;let t=(0,d.sJ)(null===e||void 0===e?void 0:e.depositDate);const n=l.GSansBold.widthOfTextAtSize(t,13);i.drawText(t,{x:575-n,y:x,size:13,font:l.GSansBold,color:(0,c.rgb)(0,0,0)}),x-=20;const p=l.GSansBold.widthOfTextAtSize(null===e||void 0===e?void 0:e.id,12),u=l.GSansBold.widthOfTextAtSize("Deposit ID:  ",11);i.drawText("Deposit ID: ",{x:575-p-u,y:x,size:11,font:l.GSansBold,color:(0,c.rgb)(0,0,0)}),i.drawText(null===e||void 0===e?void 0:e.id,{x:575-p,y:x,size:12,font:l.GSansBold,color:(0,c.rgb)(0,0,0)}),x-=50;const m=l.Lexend_700.widthOfTextAtSize("$"+(null===e||void 0===e?void 0:e.amount),12);i.drawText("$"+(null===e||void 0===e?void 0:e.amount),{x:575-m,y:x,size:12,font:l.Lexend_700,color:(0,c.rgb)(0,0,0)}),x-=20;let h="$".concat((1*(null===e||void 0===e?void 0:e.paymentDepositFee)).toFixed(2));const _=l.Lexend_700.widthOfTextAtSize(h,12),b=l.GSansBold.widthOfTextAtSize("Fees:",11);i.drawText("Fees:",{x:515-b,y:x,size:11,font:l.GSansBold,color:(0,c.rgb)(0,0,0)}),i.drawText(h,{x:575-_,y:x,size:12,font:l.Lexend_700,color:(0,c.rgb)(0,0,0)}),x-=20;let f="$".concat((1*(null===e||void 0===e?void 0:e.amount)-1*(null===e||void 0===e?void 0:e.paymentDepositFee)).toFixed(2));const y=l.Lexend_700.widthOfTextAtSize(f,12),j=l.GSansBold.widthOfTextAtSize("Net amount:",11);i.drawText("Net amount:",{x:515-j,y:x,size:11,font:l.GSansBold,color:(0,c.rgb)(0,0,0)}),i.drawText(f,{x:575-y,y:x,size:12,font:l.Lexend_700,color:(0,c.rgb)(0,0,0)});let N=a-30;i.drawText("Granite Concepts",{x:20,y:N,size:13,font:l.GSansBold,color:(0,c.rgb)(0,0,0)}),i.drawText("4504 Poplar Level Rd",{x:20,y:N-15,size:10,font:l.GSansBold,color:(0,c.rgb)(0,0,0)}),i.drawText("Louisville, KY 40213",{x:20,y:N-30,size:10,font:l.GSansBold,color:(0,c.rgb)(0,0,0)}),i.drawText("(502) 742-2473",{x:20,y:N-45,size:10,font:l.GSansBold,color:(0,c.rgb)(0,0,0)}),i.drawText("graniteconceptsky@gmail.com",{x:20,y:N-60,size:10,font:l.GSansBold,color:(0,c.rgb)(0,0,0)}),i.drawText("graniteconceptsky.com",{x:20,y:N-75,size:10,font:l.GSansBold,color:(0,c.rgb)(0,0,0)}),x-=90,i.drawText("Invoice",{x:15,y:x,size:10,font:l.GSansBold,color:(0,c.rgb)(0,0,0)}),i.drawText("Reference",{x:70,y:x,size:10,font:l.GSansBold,color:(0,c.rgb)(0,0,0)}),i.drawText("Name",{x:160,y:x,size:10,font:l.GSansBold,color:(0,c.rgb)(0,0,0)}),i.drawText("Amount",{x:440,y:x,size:11,font:l.Lexend_700,color:(0,c.rgb)(0,0,0)}),i.drawText("Fee",{x:540,y:x,size:11,font:l.Lexend_700,color:(0,c.rgb)(0,0,0)}),i.drawRectangle({x:15,y:x-10,width:575,height:.85,color:(0,c.rgb)(0,0,0),borderColor:(0,c.rgb)(0,0,0)}),null===e||void 0===e||e.transactions.map((e=>{var s,d;x-=40;let o=null===e||void 0===e||null===(s=e.contactName)||void 0===s||null===(d=s.split("/\n"))||void 0===d?void 0:d.join(""),a="$".concat((1*(null===e||void 0===e?void 0:e.amount)).toFixed(2)),t="$".concat((1*(null===e||void 0===e?void 0:e.totalTransactionFee)).toFixed(2));const n=l.Lexend_700.widthOfTextAtSize(a,11),r=l.Lexend_700.widthOfTextAtSize(t,11);i.drawText(null===e||void 0===e?void 0:e.referenceNumber,{x:20,y:x,size:10,font:l.GSansBold,color:(0,c.rgb)(0,0,0)}),i.drawText(null===e||void 0===e?void 0:e.processorTransactionReference,{x:60,y:x,size:10,font:l.GSansBold,color:(0,c.rgb)(0,0,0)}),i.drawText(o,{x:150,y:x,size:10,font:l.GSansBold,color:(0,c.rgb)(0,0,0)}),i.drawText(a,{x:480-n,y:x,size:11,font:l.Lexend_700,color:(0,c.rgb)(0,0,0)}),i.drawText(t,{x:575-r,y:x,size:11,font:l.Lexend_700,color:(0,c.rgb)(0,0,0)})}));const g=await s.save();let w=(0,d.ou)(g);window.open(w)})(h)},children:(0,n.jsx)(u,{name:"printer",color:" var(--hrm_palette-blue-purple)"})}),(0,n.jsx)("div",{className:"icon_image ",style:{padding:"5px 10px 0 0"},onClick:e=>{if(null===h||void 0===h||!h.comprobanteId){(0,d.Rz)(m,h),(0,d.Rz)(m+"_bck",JSON.parse(JSON.stringify(h)));let e={zIndex:450,height:"80vh",props:{minHeight:"1vh",overlay:!0}};e.content=(0,n.jsx)(p.ME,{confirm:z,item:h}),(0,o.OpenModal)(e)}},children:(0,n.jsx)(u,{name:null!==h&&void 0!==h&&h.comprobanteId?"success":"google-spreadsheet",color:null!==h&&void 0!==h&&h.comprobanteId?"var(--hrm_palette-success-fg)":"var(--partial-success)"})})]})]}),(0,n.jsxs)("div",{className:"_dsplFlx ",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"_dsplFlx ",children:[(0,n.jsx)("div",{className:"key_deposit_balance ",children:"Deposit ID:"}),(0,n.jsx)("div",{className:"value_deposit_balance ",children:null===h||void 0===h?void 0:h.id})]}),(0,n.jsxs)("div",{className:"_dsplFlx ",children:[(0,n.jsx)("div",{className:"trnsNo",children:null===h||void 0===h?void 0:h.transactions.length}),(0,n.jsx)("div",{className:" _dsplFlx value_deposit_balance ",children:(null===h||void 0===h?void 0:h.transactions.length)>1?"transactions":"transaction"})]})]}),(0,n.jsx)("div",{className:"flexSpace"}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"_dsplFlx ",children:[(0,n.jsx)("div",{className:"key_deposit_balance ",style:{width:130}}),(0,n.jsxs)("div",{className:"value_deposit_gross",children:["$",(1*(null===h||void 0===h?void 0:h.amount)).toFixed(2)]})]}),(0,n.jsxs)("div",{className:"_dsplFlx ",children:[(0,n.jsx)("div",{className:"key_deposit_balance ",style:{width:130},children:"Fees:"}),(0,n.jsxs)("div",{className:"value_deposit_balance ",children:["$",(1*(null===h||void 0===h?void 0:h.paymentDepositFee)).toFixed(2)]})]}),(0,n.jsxs)("div",{className:"_dsplFlx ",children:[(0,n.jsx)("div",{className:"key_deposit_balance ",style:{width:130},children:"Net amount:"}),(0,n.jsxs)("div",{className:"value_deposit_balance ",children:["$",(1*(null===h||void 0===h?void 0:h.amount)-1*(null===h||void 0===h?void 0:h.paymentDepositFee)).toFixed(2)]})]})]})]}),(0,n.jsx)(t.rD,{children:(0,n.jsx)("div",{className:" spaceAround flxWrp ",style:{margin:"6px 0 6px"},children:null===h||void 0===h||null===(l=h.transactions)||void 0===l?void 0:l.map((e=>(0,n.jsx)(_,{data:e,id:e.id})))})})]})},_=e=>{var s,l;let{data:o,index:a,handleRefreshAll:t,show:c}=e;const[r,v]=(0,i.useState)(!1),[x,p]=(0,i.useState)(0);(0,i.useEffect)((()=>{r||(v(!0),p((0,d.M5)()))}));let u=null===o||void 0===o||null===(s=o.contactName)||void 0===s||null===(l=s.split("/\n"))||void 0===l?void 0:l.join("");return(0,n.jsx)("div",{className:" ".concat(a," deposit_boxItm "),children:(0,n.jsxs)("div",{className:"_dsplFlx ",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"_dsplFlx ",children:[(0,n.jsx)("div",{className:"key_deposit_balance "}),(0,n.jsx)("div",{className:"value_deposit_gross",children:null===o||void 0===o?void 0:o.processorTransactionReference})]}),(0,n.jsxs)("div",{className:"_dsplFlx ",children:[(0,n.jsx)("div",{className:"key_deposit_balance ",children:"Documeto Referencia:"}),(0,n.jsx)("div",{className:"value_deposit_name ",children:null===o||void 0===o?void 0:o.referenceNumber})]}),(0,n.jsxs)("div",{className:"_dsplFlx ",children:[(0,n.jsx)("div",{className:"key_deposit_balance ",children:"Customer:"}),(0,n.jsx)("div",{className:"value_deposit_name ",children:u})]})]}),(0,n.jsx)("div",{className:"flexSpace"}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"_dsplFlx ",children:[(0,n.jsx)("div",{className:"key_deposit_balance ",style:{width:130}}),(0,n.jsxs)("div",{className:"value_deposit_gross",children:["$",(1*(null===o||void 0===o?void 0:o.amount)).toFixed(2)]})]}),(0,n.jsxs)("div",{className:"_dsplFlx ",children:[(0,n.jsx)("div",{className:"key_deposit_balance ",style:{width:130},children:"Fees:"}),(0,n.jsxs)("div",{className:"value_deposit_balance ",children:["$",(1*(null===o||void 0===o?void 0:o.totalTransactionFee)).toFixed(2)]})]}),(0,n.jsxs)("div",{className:"_dsplFlx ",children:[(0,n.jsx)("div",{className:"key_deposit_balance ",style:{width:130},children:"Net amount:"}),(0,n.jsxs)("div",{className:"value_deposit_balance ",children:["$",(1*(null===o||void 0===o?void 0:o.amount)-1*(null===o||void 0===o?void 0:o.totalTransactionFee)).toFixed(2)]})]})]})]})})}},9498:(e,s,l)=>{l.d(s,{EY:()=>d,LY:()=>n,Sb:()=>t,hj:()=>o,in:()=>a});var i=l(2350);const d=async e=>{let s=(0,i.bh)("getall_deposit_last")||0;if(Date.now()>s){var l,d;(0,i.Rz)("getall_deposit_last",Date.now()+190);let s={...null===(l=(0,i.bh)((0,i.hQ)()))||void 0===l?void 0:l.scan_deposit_summary};s.params={businessId:null===(d=(0,i.bh)("profileUser"))||void 0===d?void 0:d.businessId};const o=(0,i.I7)(s),t=await o;t&&((0,i.Rz)("deposits_list",a(t,"depositDate")),(0,i.Rz)("deposits_ids",(0,i.ME)((0,i.jQ)(t),"depositId")),e&&e())}},o=async e=>{var s,l;let d={...null===(s=(0,i.bh)((0,i.hQ)()))||void 0===s?void 0:s.scan_deposit_summary};d.params={businessId:null===(l=(0,i.bh)("profileUser"))||void 0===l?void 0:l.businessId},(0,i.bh)("searchQryDept").split(" ").map(((e,s)=>{e&&(d.params[":search"+s]=e.trim())}));const o=(0,i.I7)(d),t=await o;console.log(d),t?((0,i.Rz)("deposits_list",a((0,i.jQ)(t),"date")),(0,i.Rz)("deposits_ids",t),e&&e()):(0,i.Rz)("deposits_list",[])},a=(e,s,l)=>(0,i.MV)("sortDeposits",[e],(()=>e&&e.sort(((e,i)=>{let d=e[s],o=i[s];return d<o?l?-1:1:d>o?l?1:-1:0})))),t=async(e,s)=>{var l,d;let o={...null===(l=(0,i.bh)((0,i.hQ)()))||void 0===l?void 0:l.delete_deposit};o.params={businessId:null===(d=(0,i.bh)("profileUser"))||void 0===d?void 0:d.businessId,depositId:e};const a=(0,i.I7)(o);await a&&s&&s()},n=async()=>{[].map((e=>{var s,l;let d={...e};d.depositSummaryId=e.id;let o={...null===(s=(0,i.bh)((0,i.hQ)()))||void 0===s?void 0:s.add_deposit_summary};o.params={businessId:null===(l=(0,i.bh)("profileUser"))||void 0===l?void 0:l.businessId},o.form=d})),console.log([])}},8202:()=>{},9803:()=>{}}]);
//# sourceMappingURL=8704.8e5a964a.chunk.js.map