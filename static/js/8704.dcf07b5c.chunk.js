"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[8704,7766],{689:(e,s,i)=>{i.r(s),i.d(s,{default:()=>h});var l=i(2791),d=i(2350),o=(i(8202),i(9760)),a=i(9498),t=i(2647),n=(i(9803),i(184));var c=i(6963),r=i(4e3),x=i(6824);let v=0;var p=i(5261);const u=(0,t.PU)(),m="new_multi_deposit_prov",h=e=>{var s,i;let{data:h,index:b,handleRefreshAll:f,show:y}=e;const[j,N]=(0,l.useState)(!1),[w,g]=(0,l.useState)(0);if((0,l.useEffect)((()=>{j||(N(!0),g((0,d.M5)()))})),!y)return null;const z=()=>{};(0,a.in)(null===(s=(0,d.bh)("sub_deposit_group"))||void 0===s?void 0:s[h.depositId],"subDeposit");return(0,n.jsxs)("div",{className:" ".concat(b," deposit_box "),children:[(0,n.jsxs)("div",{className:"_dsplFlx ",children:[(0,n.jsxs)("div",{className:"_dsplFlx ",children:[(0,n.jsx)("div",{className:"key_deposit_balance "}),(0,n.jsx)("div",{className:"value_deposit_gross",children:(0,d.sJ)(null===h||void 0===h?void 0:h.depositDate)})]}),(0,n.jsx)("div",{className:"flexSpace"}),(0,n.jsxs)("div",{className:"_dsplFlx ",children:[(0,n.jsx)("div",{className:"icon_image ",style:{padding:"5px 10px 0 0"},onClick:()=>{(async e=>{const s=await c.PDFDocument.create();s.registerFontkit(r.Z);const i=await(0,x.h2)(s);console.log(i);let l=s.addPage();const{width:o,height:a}=l.getSize();v=a-40;let t=(0,d.sJ)(null===e||void 0===e?void 0:e.depositDate);const n=i.GSansBold.widthOfTextAtSize(t,13);l.drawText(t,{x:575-n,y:v,size:13,font:i.GSansBold,color:(0,c.rgb)(0,0,0)}),v-=20;const p=i.GSansBold.widthOfTextAtSize(null===e||void 0===e?void 0:e.id,12),u=i.GSansBold.widthOfTextAtSize("Deposit ID:  ",11);l.drawText("Deposit ID: ",{x:575-p-u,y:v,size:11,font:i.GSansBold,color:(0,c.rgb)(0,0,0)}),l.drawText(null===e||void 0===e?void 0:e.id,{x:575-p,y:v,size:12,font:i.GSansBold,color:(0,c.rgb)(0,0,0)}),v-=50;const m=i.Lexend_700.widthOfTextAtSize("$"+(null===e||void 0===e?void 0:e.amount),12);l.drawText("$"+(null===e||void 0===e?void 0:e.amount),{x:575-m,y:v,size:12,font:i.Lexend_700,color:(0,c.rgb)(0,0,0)}),v-=20;let h="$".concat((1*(null===e||void 0===e?void 0:e.paymentDepositFee)).toFixed(2));const _=i.Lexend_700.widthOfTextAtSize(h,12),b=i.GSansBold.widthOfTextAtSize("Fees:",11);l.drawText("Fees:",{x:515-b,y:v,size:11,font:i.GSansBold,color:(0,c.rgb)(0,0,0)}),l.drawText(h,{x:575-_,y:v,size:12,font:i.Lexend_700,color:(0,c.rgb)(0,0,0)}),v-=20;let f="$".concat((1*(null===e||void 0===e?void 0:e.amount)-1*(null===e||void 0===e?void 0:e.paymentDepositFee)).toFixed(2));const y=i.Lexend_700.widthOfTextAtSize(f,12),j=i.GSansBold.widthOfTextAtSize("Net amount:",11);l.drawText("Net amount:",{x:515-j,y:v,size:11,font:i.GSansBold,color:(0,c.rgb)(0,0,0)}),l.drawText(f,{x:575-y,y:v,size:12,font:i.Lexend_700,color:(0,c.rgb)(0,0,0)});let N=a-30;l.drawText("Granite Concepts",{x:20,y:N,size:13,font:i.GSansBold,color:(0,c.rgb)(0,0,0)}),l.drawText("4504 Poplar Level Rd",{x:20,y:N-15,size:10,font:i.GSansBold,color:(0,c.rgb)(0,0,0)}),l.drawText("Louisville, KY 40213",{x:20,y:N-30,size:10,font:i.GSansBold,color:(0,c.rgb)(0,0,0)}),l.drawText("(502) 742-2473",{x:20,y:N-45,size:10,font:i.GSansBold,color:(0,c.rgb)(0,0,0)}),l.drawText("graniteconceptsky@gmail.com",{x:20,y:N-60,size:10,font:i.GSansBold,color:(0,c.rgb)(0,0,0)}),l.drawText("graniteconceptsky.com",{x:20,y:N-75,size:10,font:i.GSansBold,color:(0,c.rgb)(0,0,0)}),v-=90,l.drawText("Invoice",{x:15,y:v,size:10,font:i.GSansBold,color:(0,c.rgb)(0,0,0)}),l.drawText("Reference",{x:70,y:v,size:10,font:i.GSansBold,color:(0,c.rgb)(0,0,0)}),l.drawText("Name",{x:160,y:v,size:10,font:i.GSansBold,color:(0,c.rgb)(0,0,0)}),l.drawText("Amount",{x:440,y:v,size:11,font:i.Lexend_700,color:(0,c.rgb)(0,0,0)}),l.drawText("Fee",{x:540,y:v,size:11,font:i.Lexend_700,color:(0,c.rgb)(0,0,0)}),l.drawRectangle({x:15,y:v-10,width:575,height:.85,color:(0,c.rgb)(0,0,0),borderColor:(0,c.rgb)(0,0,0)}),null===e||void 0===e||e.transactions.map((e=>{var s,d;v-=40;let o=null===e||void 0===e||null===(s=e.contactName)||void 0===s||null===(d=s.split("/\n"))||void 0===d?void 0:d.join(""),a="$".concat((1*(null===e||void 0===e?void 0:e.amount)).toFixed(2)),t="$".concat((1*(null===e||void 0===e?void 0:e.totalTransactionFee)).toFixed(2));const n=i.Lexend_700.widthOfTextAtSize(a,11),r=i.Lexend_700.widthOfTextAtSize(t,11);l.drawText(null===e||void 0===e?void 0:e.referenceNumber,{x:20,y:v,size:10,font:i.GSansBold,color:(0,c.rgb)(0,0,0)}),l.drawText(null===e||void 0===e?void 0:e.processorTransactionReference,{x:60,y:v,size:10,font:i.GSansBold,color:(0,c.rgb)(0,0,0)}),l.drawText(o,{x:150,y:v,size:10,font:i.GSansBold,color:(0,c.rgb)(0,0,0)}),l.drawText(a,{x:480-n,y:v,size:11,font:i.Lexend_700,color:(0,c.rgb)(0,0,0)}),l.drawText(t,{x:575-r,y:v,size:11,font:i.Lexend_700,color:(0,c.rgb)(0,0,0)})}));const w=await s.save();let g=(0,d.ou)(w);window.open(g)})(h)},children:(0,n.jsx)(u,{name:"printer",color:" var(--hrm_palette-blue-purple)"})}),(0,n.jsx)("div",{className:"icon_image ",style:{padding:"5px 10px 0 0"},onClick:e=>{(0,d.Rz)(m,h),(0,d.Rz)(m+"_bck",JSON.parse(JSON.stringify(h)));let s={zIndex:450,height:"80vh",props:{minHeight:"1vh",overlay:!0}};s.content=(0,n.jsx)(p.ME,{confirm:z,item:h}),(0,o.OpenModal)(s)},children:(0,n.jsx)(u,{name:"google-spreadsheet",color:"var(--partial-success)"})})]})]}),(0,n.jsxs)("div",{className:"_dsplFlx ",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"_dsplFlx ",children:[(0,n.jsx)("div",{className:"key_deposit_balance ",children:"Deposit ID:"}),(0,n.jsx)("div",{className:"value_deposit_balance ",children:null===h||void 0===h?void 0:h.id})]}),(0,n.jsxs)("div",{className:"_dsplFlx ",children:[(0,n.jsx)("div",{className:"trnsNo",children:null===h||void 0===h?void 0:h.transactions.length}),(0,n.jsx)("div",{className:" _dsplFlx value_deposit_balance ",children:(null===h||void 0===h?void 0:h.transactions.length)>1?"transactions":"transaction"})]})]}),(0,n.jsx)("div",{className:"flexSpace"}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"_dsplFlx ",children:[(0,n.jsx)("div",{className:"key_deposit_balance ",style:{width:130}}),(0,n.jsxs)("div",{className:"value_deposit_gross",children:["$",(1*(null===h||void 0===h?void 0:h.amount)).toFixed(2)]})]}),(0,n.jsxs)("div",{className:"_dsplFlx ",children:[(0,n.jsx)("div",{className:"key_deposit_balance ",style:{width:130},children:"Fees:"}),(0,n.jsxs)("div",{className:"value_deposit_balance ",children:["$",(1*(null===h||void 0===h?void 0:h.paymentDepositFee)).toFixed(2)]})]}),(0,n.jsxs)("div",{className:"_dsplFlx ",children:[(0,n.jsx)("div",{className:"key_deposit_balance ",style:{width:130},children:"Net amount:"}),(0,n.jsxs)("div",{className:"value_deposit_balance ",children:["$",(1*(null===h||void 0===h?void 0:h.amount)-1*(null===h||void 0===h?void 0:h.paymentDepositFee)).toFixed(2)]})]})]})]}),(0,n.jsx)(t.rD,{children:(0,n.jsx)("div",{className:" spaceAround flxWrp ",style:{margin:"6px 0 6px"},children:null===h||void 0===h||null===(i=h.transactions)||void 0===i?void 0:i.map((e=>(0,n.jsx)(_,{data:e,id:e.id})))})})]})},_=e=>{var s,i;let{data:o,index:a,handleRefreshAll:t,show:c}=e;const[r,x]=(0,l.useState)(!1),[v,p]=(0,l.useState)(0);(0,l.useEffect)((()=>{r||(x(!0),p((0,d.M5)()))}));let u=null===o||void 0===o||null===(s=o.contactName)||void 0===s||null===(i=s.split("/\n"))||void 0===i?void 0:i.join("");return(0,n.jsx)("div",{className:" ".concat(a," deposit_boxItm "),children:(0,n.jsxs)("div",{className:"_dsplFlx ",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"_dsplFlx ",children:[(0,n.jsx)("div",{className:"key_deposit_balance "}),(0,n.jsx)("div",{className:"value_deposit_gross",children:null===o||void 0===o?void 0:o.processorTransactionReference})]}),(0,n.jsxs)("div",{className:"_dsplFlx ",children:[(0,n.jsx)("div",{className:"key_deposit_balance ",children:"Documeto Referencia:"}),(0,n.jsx)("div",{className:"value_deposit_name ",children:null===o||void 0===o?void 0:o.referenceNumber})]}),(0,n.jsxs)("div",{className:"_dsplFlx ",children:[(0,n.jsx)("div",{className:"key_deposit_balance ",children:"Customer:"}),(0,n.jsx)("div",{className:"value_deposit_name ",children:u})]})]}),(0,n.jsx)("div",{className:"flexSpace"}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"_dsplFlx ",children:[(0,n.jsx)("div",{className:"key_deposit_balance ",style:{width:130}}),(0,n.jsxs)("div",{className:"value_deposit_gross",children:["$",(1*(null===o||void 0===o?void 0:o.amount)).toFixed(2)]})]}),(0,n.jsxs)("div",{className:"_dsplFlx ",children:[(0,n.jsx)("div",{className:"key_deposit_balance ",style:{width:130},children:"Fees:"}),(0,n.jsxs)("div",{className:"value_deposit_balance ",children:["$",(1*(null===o||void 0===o?void 0:o.totalTransactionFee)).toFixed(2)]})]}),(0,n.jsxs)("div",{className:"_dsplFlx ",children:[(0,n.jsx)("div",{className:"key_deposit_balance ",style:{width:130},children:"Net amount:"}),(0,n.jsxs)("div",{className:"value_deposit_balance ",children:["$",(1*(null===o||void 0===o?void 0:o.amount)-1*(null===o||void 0===o?void 0:o.totalTransactionFee)).toFixed(2)]})]})]})]})})}},9498:(e,s,i)=>{i.d(s,{EY:()=>d,LY:()=>n,Sb:()=>t,hj:()=>o,in:()=>a});var l=i(2350);const d=async e=>{let s=(0,l.bh)("getall_deposit_last")||0;if(Date.now()>s){var i,d;(0,l.Rz)("getall_deposit_last",Date.now()+190);let s={...null===(i=(0,l.bh)((0,l.hQ)()))||void 0===i?void 0:i.scan_deposit_summary};s.params={businessId:null===(d=(0,l.bh)("profileUser"))||void 0===d?void 0:d.businessId};const o=(0,l.I7)(s),t=await o;t&&((0,l.Rz)("deposits_list",a(t,"depositDate")),(0,l.Rz)("deposits_ids",(0,l.ME)((0,l.jQ)(t),"depositId")),e&&e())}},o=async e=>{var s,i;let d={...null===(s=(0,l.bh)((0,l.hQ)()))||void 0===s?void 0:s.scan_deposit_summary};d.params={businessId:null===(i=(0,l.bh)("profileUser"))||void 0===i?void 0:i.businessId},(0,l.bh)("searchQryDept").split(" ").map(((e,s)=>{e&&(d.params[":search"+s]=e.trim())}));const o=(0,l.I7)(d),t=await o;console.log(d),t?((0,l.Rz)("deposits_list",a((0,l.jQ)(t),"date")),(0,l.Rz)("deposits_ids",t),e&&e()):(0,l.Rz)("deposits_list",[])},a=(e,s,i)=>(0,l.MV)("sortDeposits",[e],(()=>e&&e.sort(((e,l)=>{let d=e[s],o=l[s];return d<o?i?-1:1:d>o?i?1:-1:0})))),t=async(e,s)=>{var i,d;let o={...null===(i=(0,l.bh)((0,l.hQ)()))||void 0===i?void 0:i.delete_deposit};o.params={businessId:null===(d=(0,l.bh)("profileUser"))||void 0===d?void 0:d.businessId,depositId:e};const a=(0,l.I7)(o);await a&&s&&s()},n=async()=>{[].map((e=>{var s,i;let d={...e};d.depositSummaryId=e.id;let o={...null===(s=(0,l.bh)((0,l.hQ)()))||void 0===s?void 0:s.add_deposit_summary};o.params={businessId:null===(i=(0,l.bh)("profileUser"))||void 0===i?void 0:i.businessId},o.form=d})),console.log([])}},8202:()=>{},9803:()=>{}}]);
//# sourceMappingURL=8704.dcf07b5c.chunk.js.map