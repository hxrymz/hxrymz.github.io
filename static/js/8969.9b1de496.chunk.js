"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[8969],{8969:(e,l,i)=>{i.r(l),i.d(l,{default:()=>f});var d=i(2791),s=i(2350),n=i(2647),a=(i(1534),i(9760)),r=i(7689),t=i(9661),c=i(24),o=(i(6824),i(9715),i(7709)),v=(i(7889),i(184));const u=e=>{let{data:l,wT:i,hT:n,svDm:r,vertice:t,item:c,comp2Render:u,confirm:h}=e;const[,p]=(0,d.useState)(1);(0,d.useEffect)((()=>{p((0,s.M5)())}),[t]);const m=e=>{h(e),x()},x=()=>{(null===l||void 0===l?void 0:l.modalID)&&(0,a.CloseModal)({id:null===l||void 0===l?void 0:l.modalID})},b={LL:(0,v.jsx)(o.gY,{item:c,wT:i,hT:n,svDm:null===c||void 0===c?void 0:c.bluePrint,addBlPr:m,profile:null===c||void 0===c?void 0:c.profile}),U:(0,v.jsx)(o.Xu,{item:c,wT:i,hT:n,svDm:null===c||void 0===c?void 0:c.bluePrint,addBlPr:m,profile:null===c||void 0===c?void 0:c.profile})};return(0,v.jsx)("div",{style:{maxHeight:"86vh",minHeight:"65vh",width:"960px",overflow:"auto",background:"var(--hrm_palette-general-background-b)",borderRadius:13,padding:"10px 19px"},children:b[u]})};i(4622);const h=(0,n.PU)(),p=((0,n.YZ)(),(0,n.A5)()),m=(0,n.Np)(),x=((0,t.a)(),(0,n.JC)()),b=((0,t.LZ)(),(0,c.Az)()),_=(0,c.f_)(),j="new_product_entry_comprobante",N="productListOnVoucherCmp",g="productList2VoucherSelected",f=e=>{var l,i,n,t,c,u,h,p,x;let{data:b,confirm:g,updateView:f}=e;const[I,k]=(0,d.useState)(!1),[C,w]=(0,d.useState)(0);(0,r.s0)();(0,d.useEffect)((()=>{I||(k(!0),(0,s.Rz)("accountPicker",{}),w((0,s.M5)()))}));const z=(e,l,i)=>{let d=(0,s.bh)(j)||{};i?(d[i]||(d[i]={}),d[i][e]=l):d[e]=l,(0,s.Rz)(j,d),w((0,s.M5)())};null===(l=(0,s.bh)("account_ids"))||void 0===l||l[null===(i=(0,s.bh)("accountPicker"))||void 0===i?void 0:i.account],null===(n=(0,s.bh)("sub_account_ids"))||void 0===n||n[null===(t=(0,s.bh)("accountPicker"))||void 0===t?void 0:t.subAccount];return(0,v.jsxs)("div",{style:{maxHeight:"96vh",minHeight:"93vh",width:"1060px",overflow:"auto",background:"var(--hrm_palette-general-background-b)",borderRadius:13,padding:"10px 19px"},children:[(0,v.jsxs)("div",{className:"_dsplFlx ",children:[(0,v.jsx)("p",{className:"form_title",children:"Crear Voucher"}),(0,v.jsx)("div",{className:"flexSpace"}),(0,v.jsx)("p",{className:"label",children:"Invoice"}),(0,v.jsx)("div",{className:"date2Upd",style:{padding:7,fontSize:18},children:null===(c=(0,s.bh)(j))||void 0===c?void 0:c.invoice})]}),(0,v.jsxs)("div",{className:"_dsplFlx ",children:[(0,v.jsx)(_,{init:null===(u=(0,s.bh)(j))||void 0===u?void 0:u.date,updDate:e=>z("date",e)}),(0,v.jsx)("div",{className:"flexSpace"})]}),(0,v.jsx)(y,{}),(0,v.jsx)("div",{className:"_dsplFlx ",style:{margin:"18px 0"},children:(0,v.jsx)(m,{init:null===(h=(0,s.bh)(j))||void 0===h?void 0:h.clientName,label:"Nombre Cliente",width:520,updChanges:e=>z("clientName",e)})}),(0,v.jsx)("div",{className:"_dsplFlx ",style:{margin:"18px 0"},children:(0,v.jsx)(m,{init:null===(p=(0,s.bh)(j))||void 0===p?void 0:p.clientAddress,label:"Direccion",width:520,updChanges:e=>z("clientAddress",e)})}),(0,v.jsxs)("div",{className:"_dsplFlx ",children:[(0,v.jsx)("div",{className:"flexSpace"}),(0,v.jsx)("div",{className:"card",children:(0,v.jsx)("button",{onClick:async()=>{(0,s.Rz)("bluePrint",null);let e=(0,s.bh)(j)||{},l={invoice:null===e||void 0===e?void 0:e.invoice,date:null===e||void 0===e?void 0:e.date,clientAddress:null===e||void 0===e?void 0:e.clientAddress,clientName:null===e||void 0===e?void 0:e.clientName,products:[]},i=(new Date).getTime()+800;if(l.date){let e=new Date(l.date).getTime();i=e||i}if(l.date=i,l.products=(0,s.bh)(N),l.voucherId=(0,s.M5)(),console.log(l),f);else{var d,n;let e={...null===(d=(0,s.bh)((0,s.hQ)()))||void 0===d?void 0:d.add_voucher_production};e.params={businessId:null===(n=(0,s.bh)("profileUser"))||void 0===n?void 0:n.businessId},e.form=l;const i=(0,s.I7)(e);await i}(null===b||void 0===b?void 0:b.modalID)&&(0,a.CloseModal)({id:null===b||void 0===b?void 0:b.modalID}),setTimeout((()=>{(0,s.Rz)(N,null),(0,s.Rz)("provider_picker",null),(0,s.Rz)(j,null),w((0,s.M5)()),g&&g()}),400)},children:f?"Actualizar":"Guardar"})})]}),(0,v.jsx)("div",{className:"rndImghidde",children:(0,s.bh)(N)&&(null===(x=(0,s.bh)(N))||void 0===x?void 0:x.map(((e,l)=>{var i,d;const s={LL:(0,v.jsx)(o.gY,{item:e,svDm:null===e||void 0===e?void 0:e.bluePrint,addBlPr:()=>{},profile:null===e||void 0===e?void 0:e.profile}),U:(0,v.jsx)(o.Xu,{item:e,svDm:null===e||void 0===e?void 0:e.bluePrint,addBlPr:()=>{},profile:null===e||void 0===e?void 0:e.profile})};return null!==e&&void 0!==e&&null!==(i=e.bluePrint)&&void 0!==i&&i.type?s[null===e||void 0===e||null===(d=e.bluePrint)||void 0===d?void 0:d.type]:null})))})]})},y=e=>{var l,i,n,a,r,t,c,o,u,x,_;let{}=e;const[f,y]=(0,d.useState)(0),C=()=>{y((0,s.M5)())};let w=null===(l=(0,s.bh)("products_ids"))||void 0===l?void 0:l[null===(i=(0,s.bh)("product_picker_in"))||void 0===i?void 0:i.productId];const z=(e,l,i)=>{let d=(0,s.bh)("product_picker_in")||{};i?(d[i]||(d[i]={}),d[i][e]=l):d[e]=l,(0,s.Rz)("product_picker_in",d),y((0,s.M5)())},P=e=>{let l=(0,s.bh)(N)||[];l.splice(e,1),(0,s.Rz)(N,l),y((0,s.M5)())};let F=(0,s.bh)(g)||{};return(0,v.jsxs)("div",{className:"boxAddAcc",style:{margin:"18px 0"},children:[null!==(n=(0,s.bh)("product_picker_in"))&&void 0!==n&&n.productId?(0,v.jsx)("div",{className:"_dsplFlx ",style:{margin:"18px 0"},children:(0,v.jsxs)("div",{className:" acc_dtls",children:[(0,v.jsxs)("div",{className:"_dsplFlx",onClick:e=>{(0,s.Rz)("product_picker_in",null),y((0,s.M5)())},children:[(0,v.jsx)("div",{className:"code",style:{color:"#646cff"},children:null===w||void 0===w?void 0:w.upc_barcode}),(0,v.jsx)("div",{className:"name",children:null===w||void 0===w?void 0:w.name})]}),(0,v.jsx)("div",{className:"flexSpace"})]})}):(0,v.jsx)(b,{width:420,handleClick:e=>{let l={productId:e.productId,unit:e.unit};(0,s.Rz)("product_picker_in",l),y((0,s.M5)())}}),null!==(a=(0,s.bh)("product_picker_in"))&&void 0!==a&&a.productId?(0,v.jsxs)("div",{className:"_dsplFlx ",children:[w.hasDimension?(0,v.jsx)("div",{className:"",style:{width:270,marginLeft:18},children:(0,v.jsx)(m,{init:null===(r=(0,s.bh)("product_picker_in"))||void 0===r?void 0:r.dimension,label:"Dimension (width,height) in inch",width:100,updChanges:e=>z("dimension",e)})}):(0,v.jsx)(m,{init:null===(t=(0,s.bh)("product_picker_in"))||void 0===t?void 0:t.qty,label:"Cantidad",width:100,type:"number",updChanges:e=>z("qty",e)}),(0,v.jsx)("div",{className:"centerBx",style:{maxWidth:130,marginLeft:17,marginTop:37},children:(0,v.jsx)(p,{init:null===(c=(0,s.bh)("product_picker_in"))||void 0===c?void 0:c.profile,lbl_empty:"Profile",list:[{label:"choseOne",id:null},{label:"No",id:"-"},{label:"FLAT",id:"FLAT"},{label:"PENCIL",id:"PENCIL"},{label:"BEVEL",id:"BEVEL"},{label:"DEMI",id:"DEMI"},{label:"OGEE",id:"OGEE"},{label:"COBE",id:"COBE"},{label:"BULLNOSE",id:"BULLNOSE"}],onSelect:e=>z("profile",e)})}),(0,v.jsx)("div",{className:"flexSpace"}),null!==(o=(0,s.bh)("product_picker_in"))&&void 0!==o&&o.qty?(0,v.jsx)("div",{className:"card",children:(0,v.jsx)("button",{onClick:()=>{var e;let l={...(0,s.bh)("product_picker_in")}||{},i={...(0,s.bh)("product_picker_in")}||{},d=(0,s.bh)(N)||[];l.dimension&&(l.qty=1,l.squareFeet=I(null===l||void 0===l?void 0:l.dimension.split(",")[0],null===l||void 0===l?void 0:l.dimension.split(",")[1]),l.pricePerSquareFeet=1*l.price/l.squareFeet*1),l.inventoryId=(0,s.M5)(),l.alphaCode=(0,s.Pb)();let n=(new Date).getTime()+800;if(null!==(e=(0,s.bh)(j))&&void 0!==e&&e.date){let e=new Date((0,s.bh)(j).date).getTime();n=e||n}l.date=n,d.push(l),(0,s.Rz)(N,d),i.productId=null,i.qty="",i.price="",(0,s.Rz)("product_picker_in",i),y((0,s.M5)())},children:"Agregar"})}):null]}):null,(0,s._2)(F).length>0?(0,v.jsxs)("div",{className:"_dsplFlx hdr_bar purple",style:{margin:"18px 0"},children:[(0,v.jsx)("div",{className:"tr_bar tr_bar_5 align_itm",children:(0,v.jsx)("div",{className:"icon align_itm",onClick:()=>{let e=(0,s.bh)(g)||{};(0,s._2)(e).length<(0,s.bh)(N).length?((0,s.bh)(N).map((l=>{e[l.inventoryId]=1})),(0,s.Rz)(g,e)):(0,s.Rz)(g,{}),y((0,s.M5)())},children:(0,v.jsx)(h,{name:(0,s._2)(F).length<(0,s.bh)(N).length?"minus-circle-outline":"check_circle_outline",color:"#646cff"})})}),(0,v.jsxs)("div",{className:"tr_bar tr_bar_20 align_itm left_alg",children:[(0,s._2)(F).length," Seleccionado(s)"]}),(0,v.jsx)("div",{className:"tr_bar tr_bar_70"}),(0,v.jsx)("div",{className:"tr_bar tr_bar_5 align_itm",children:(0,v.jsx)("div",{className:"icon align_itm",onClick:()=>{let e=(0,s.bh)(N).filter((e=>!F[e.inventoryId]));(0,s.Rz)(N,e),(0,s.Rz)(g,{}),y((0,s.M5)())},children:(0,v.jsx)(h,{name:"outline_delete",color:"#646cff"})})})]}):(0,v.jsxs)("div",{className:"_dsplFlx hdr_bar purple align_itm",style:{margin:"18px 0"},children:[(0,v.jsx)("div",{className:"tr_bar tr_bar_5",children:null!==(u=(0,s.bh)(N))&&void 0!==u&&u.length?null===(x=(0,s.bh)(N))||void 0===x?void 0:x.length:""}),(0,v.jsx)("div",{className:"tr_bar tr_bar_50 left_alg",children:"Producto"}),(0,v.jsx)("div",{className:"tr_bar tr_bar_10",children:"Dimension"}),(0,v.jsx)("div",{className:"tr_bar tr_bar_15",children:"Qty"}),(0,v.jsx)("div",{className:"tr_bar tr_bar_15",children:"Profile"}),(0,v.jsx)("div",{className:"tr_bar tr_bar_5"})]}),(0,s.bh)(N)&&(0,s.bh)(N).length>0&&(null===(_=(0,s.bh)(N))||void 0===_?void 0:_.map(((e,l)=>(0,v.jsx)(k,{idKey:e.productId,index:l,data:e,deleteItem:P,updObs:C},e.productId+"_"+l))))]})},I=(e,l)=>{let i=e*l*.0069444444444;return(0,s.Zv)(i,2)},k=e=>{var l;let{data:i,deleteItem:n,updObs:r,index:t}=e;const[c,o]=(0,d.useState)(!1);let p=null===(l=(0,s.bh)("products_ids"))||void 0===l?void 0:l[null===i||void 0===i?void 0:i.productId],m=(null===i||void 0===i?void 0:i.dimension)&&(null===i||void 0===i?void 0:i.dimension.split(",")[0])+" X "+(null===i||void 0===i?void 0:i.dimension.split(",")[1]),b=(null===i||void 0===i?void 0:i.dimension)&&{lbl:m+" (inch)",hover:(null===i||void 0===i?void 0:i.squareFeet)+"S/F X $"+(0,s.Zv)(null===i||void 0===i?void 0:i.pricePerSquareFeet,2)};const _=(0,d.useRef)(null),j=e=>{var l;null===_||void 0===_||null===(l=_.current)||void 0===l||l.showw(e)},f=e=>{let l={zIndex:450,height:"40vh",props:{minHeight:"1vh",overlay:!0,closeEvent:()=>{}}};l.content=(0,v.jsx)(u,{comp2Render:e,confirm:y,item:i}),(0,a.OpenModal)(l),r(),I()},y=e=>{let l={...i};l.bluePrint=e;let d=(0,s.bh)(N),n=((e,l)=>{let i=null;return e.map(((e,d)=>{e.productId===l&&(i=d)})),i})(d,l.productId);d[n]=l,(0,s.Rz)(N,d),r()},I=()=>{j(!1)};let k=(0,s.bh)(g)||{};return(0,v.jsxs)("div",{className:"_dsplFlx hdr_bar centerBx",children:[(0,v.jsx)("div",{className:"tr_bar tr_bar_5 icon ",onClick:()=>{let e=(0,s.bh)(g)||{};e[i.inventoryId]?delete e[i.inventoryId]:e[i.inventoryId]=1,(0,s.Rz)(g,e),r()},children:(0,v.jsx)(h,{name:k[i.inventoryId]?"check_circle_outline":"radio_unchecked",color:k[i.inventoryId]?"var(--hrm_palette-blue-purple)":"var(--hrm_palette-imput-label_gray)"})}),(0,v.jsx)("div",{className:"tr_bar tr_bar_50 left_alg",children:null===p||void 0===p?void 0:p.name}),(0,v.jsx)("div",{className:"tr_bar tr_bar_10 centerBx",style:{marginTop:-4},children:null!==i&&void 0!==i&&i.dimension?(0,v.jsx)(x,{data:b,color:"#282828",labelField:"lbl",infoField:"hover"}):null}),(0,v.jsx)("div",{className:"tr_bar tr_bar_15 centerBx",children:(0,s.Zv)(null===i||void 0===i?void 0:i.qty,2)}),(0,v.jsx)("div",{className:"tr_bar tr_bar_15 centerBx",children:null===i||void 0===i?void 0:i.profile}),(0,v.jsx)("div",{className:"flexSpace"}),(0,v.jsxs)("div",{className:" relPos",children:[(0,v.jsx)(C,{ref:_,handleIcon1:()=>f("LL"),handleIcon2:()=>f("I"),handleIcon3:()=>f("U")}),null!==i&&void 0!==i&&i.profile?(0,v.jsx)("div",{className:"icon centerBx",onClick:()=>{(0,s.Rz)("bluePrint",null),null!==i&&void 0!==i&&i.bluePrint?f(null===i||void 0===i?void 0:i.bluePrint.type):j(!0)},children:(0,v.jsx)(h,{name:"vector-polygon",color:"var(--hrm_palette-imput-txt_gray)"})}):null]})]})},C=(0,d.forwardRef)(((e,l)=>{let{handleIcon1:i,handleIcon2:s,handleIcon3:n,close:a}=e;const[r,t]=(0,d.useState)(0);return(0,d.useImperativeHandle)(l,(()=>({showw(e){t(e)}}))),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"c5dXqd",style:{display:r?"block":"none"},children:r?(0,v.jsxs)("div",{className:"rR9aKd",role:"list",children:[(0,v.jsx)("div",{className:"ef3QKd",children:(0,v.jsxs)("div",{role:"listitem",tabIndex:"0","aria-label":"Share",children:[(0,v.jsx)("span",{children:(0,v.jsx)("div",{children:(0,v.jsx)("div",{className:"M5n4Ud",onClick:i,children:(0,v.jsx)("span",{className:"HQcgX z1asCe Fp7My",style:{height:16,lineHeight:16,width:16},children:(0,v.jsx)(h,{name:"size-l",size:16})})})})}),(0,v.jsx)("div",{id:"_6Wu4ZMz5NpepptQPlL2l4Aw_4"})]})}),(0,v.jsx)("div",{className:"ef3QKd",role:"listitem",children:(0,v.jsx)("div",{"aria-label":"Save",role:"button",tabIndex:"0",children:(0,v.jsx)("div",{className:"M5n4Ud",onClick:s,children:(0,v.jsx)("span",{className:"HQcgX z1asCe Fp7My",style:{height:16,lineHeight:16,width:16},children:(0,v.jsx)(h,{name:"rectangle-outline",size:16})})})})}),(0,v.jsx)("div",{className:"ef3QKd",children:(0,v.jsxs)("div",{role:"listitem",tabIndex:"0","aria-label":"Share",children:[(0,v.jsx)("span",{children:(0,v.jsx)("div",{children:(0,v.jsx)("div",{className:"M5n4Ud",onClick:n,children:(0,v.jsx)("span",{className:"HQcgX z1asCe Fp7My",style:{height:16,lineHeight:16,width:16},children:(0,v.jsx)(h,{name:"keyboard-space",size:16})})})})}),(0,v.jsx)("div",{id:"_6Wu44fZMz5NpepptQPlL2l4Aw_4"})]})})]}):null}),r?(0,v.jsx)("div",{className:"Overlay_floatAct",onClick:()=>t(!1)}):null]})}))},9715:(e,l,i)=>{i.d(l,{Z:()=>t});var d=i(2791),s=(i(1534),i(9760)),n=i(2647),a=i(184);const r=(0,n.Np)(),t=e=>{let{data:l,confirm:i,label:n,close:t}=e;const[c,o]=(0,d.useState)(0),{modalID:v}=l,u=e=>{(0,s.CloseModal)({id:v})};return(0,a.jsxs)("div",{style:{maxHeight:"40vh",minHeight:"28vh",overflow:"auto",background:"#fff",borderRadius:13,padding:"10px 19px"},children:[(0,a.jsxs)("div",{className:"_dsplFlx ",children:[(0,a.jsx)("p",{className:"form_title",children:n}),(0,a.jsx)("div",{className:"flexSpace"})]}),(0,a.jsx)("div",{className:"_dsplFlx ",children:(0,a.jsx)("span",{children:"Cuantas copias deseas hacer"})}),(0,a.jsxs)("div",{className:"_dsplFlx ",style:{padding:"15px 10px 0"},children:[(0,a.jsx)("div",{className:"flexSpace"}),(0,a.jsx)(r,{init:c,width:100,type:"number",updChanges:e=>o(1*e)}),(0,a.jsx)("div",{className:"flexSpace"})]}),(0,a.jsxs)("div",{className:"_dsplFlx ",style:{padding:"15px 10px"},children:[(0,a.jsx)("div",{className:"flexSpace"}),(0,a.jsx)("p",{className:"group_title addBtn",onClick:u,children:"Cancelar"}),(0,a.jsx)("p",{className:"group_title addBtn ",onClick:()=>{i(1*c),u()},children:"Crear Copias"})]})]})}},7889:()=>{},1534:()=>{}}]);
//# sourceMappingURL=8969.9b1de496.chunk.js.map