"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[9075,9760],{9760:(e,t,l)=>{l.r(t),l.d(t,{CloseModal:()=>c,OpenModal:()=>r,default:()=>n});var o=l(2791),i=l(5408),d=l(2350),s=l(184);const a="listDialog_mdh392",n=()=>{const e=(0,d.bh)("listDialog")||{};(0,i.Z)(a);let t=Object.keys(e);return(0,s.jsx)(s.Fragment,{children:t.map(((t,l)=>{let i=e[t];if(i&&i.visible){let e={};i.height&&(e.heigth=i.height),i.width,i.zIndex&&(e.zIndex=i.zIndex-1);let l={zIndex:i.zIndex},d=null,a=i.data;return i.content&&(d=o.cloneElement(i.content,{data:a})),(0,s.jsxs)("div",{className:"ltr-1kbnjow",style:e,children:[(0,s.jsx)("div",{className:"ltr-hoe9xz",children:(0,s.jsx)("div",{className:"ltr-1wao6ny",style:l,id:t,children:d})}),i.data.overlay?(0,s.jsx)("div",{className:"DialogHRMOverlay ".concat(i.visible?"active":""),onClick:()=>{var e;e=t,document.getElementsByTagName("html")[0].classList.remove("has-level-two"),c({id:e})}}):null]},t)}}))})},r=e=>{let t=(0,d.bh)("listDialog")||{},l=(0,d.M5)();t[l]||(t[l]={}),t[l].visible=!0;let o={};e.props?(o=e.props,o.modalID=l):o.modalID=l;let i=document.getElementsByTagName("body")[0];null!==i&&void 0!==i&&i.style&&(i.style.overflowY="hidden"),t[l].isView=e.isView,t[l].observeResize=e.observeResize,t[l].observeResize&&(t[l].observeInterval=setInterval((()=>{let e=document.querySelector("[dialog-key-id='".concat(l,"']")),o=e&&e.getBoundingClientRect();o&&(o.width===t[l].width&&o.height===t[l].height||(t[l].height=o.height+10,t[l].width=o.width,(0,d.Rz)("listDialog",t),(0,d.wt)(a)))}),200)),t[l].display=!0,e.zIndex&&(t[l].zIndex=e.zIndex),e.height&&(t[l].height=e.height),e.width&&(t[l].width=e.width),e.content&&(t[l].content=e.content),t[l].data=o,(0,d.Rz)("listDialog",t),(0,d.wt)(a),setTimeout((()=>{document.getElementsByTagName("html")[0].classList.add("has-level-two"),(0,d.Rz)("modalOpen",l),(0,d.wt)(a)}),125)},c=e=>{let t=(0,d.bh)("listDialog")||{},l=e.id;if(t[l]){var o,i,s;t[l].observeResize&&t[l].observeInterval&&clearInterval(t[l].observeInterval),t[l].display=!1,null===(o=t[l])||void 0===o||null===(i=o.data)||void 0===i||null===(s=i.closeEvent)||void 0===s||s.call(i),(0,d.Rz)("listDialog",t),delete t[l],document.getElementsByTagName("body")[0].style.overflowY=null,(0,d.wt)(a),setTimeout((()=>{delete t[l],document.getElementsByTagName("html")[0].classList.remove("has-level-two"),(0,d.Rz)("modalOpen",null)}),750)}}},9075:(e,t,l)=>{l.r(t),l.d(t,{default:()=>g});var o=l(2791),i=(l(261),l(2350)),d=l(7689),s=l(9760),a=l(2647),n=l(4050),r=l(713),c=l(6677),v=l(6963),x=l(4e3);let h=0;var u=l(184);const m=(0,a.PU)(),g=e=>{var t,l,a,g,p,f,_;let{data:w,item:z}=e;const[T,F]=(0,o.useState)(0);(0,o.useEffect)((()=>{var e,t,l;(0,i.Rz)("inv_products_list",null),(0,i.Rz)("inv_products_stock",null),null!==(e=(0,i.bh)("providers_ids"))&&void 0!==e&&null!==(t=e[null===z||void 0===z||null===(l=z.customer)||void 0===l?void 0:l.providerId])&&void 0!==t&&t.name||(0,c.Je)(j),(0,i.bh)("products_ids")||(0,r.ii)(j),(0,n.Ht)("global_accounts","global_account_params",j),j()}),[z.productId]);const j=()=>{F((0,i.M5)())},S=((0,d.s0)(),e=>{(0,s.CloseModal)({id:w.modalID})});let N=null!==z&&void 0!==z&&z.hasTax?(null===z||void 0===z?void 0:z.hasTax)+(null===z||void 0===z?void 0:z.amount):1*(null===z||void 0===z?void 0:z.amount);let A=null!==z&&void 0!==z&&z.hasAdvancePay?null===z||void 0===z?void 0:z.hasAdvancePay:0;return(0,u.jsxs)("div",{style:{maxHeight:"94vh",width:"960px",overflow:"auto",background:"var(--hrm_palette-general-background-b)",borderRadius:13,padding:"10px 19px 30px"},children:[(0,u.jsxs)("div",{className:"_dsplFlx ",children:[(0,u.jsx)("p",{className:"title_collect gSansFont",children:"Invoice:"}),(0,u.jsx)("p",{className:"title_collect fntW600 gSansFont",style:{color:"#646cff"},children:null===z||void 0===z?void 0:z.document}),(0,u.jsx)("div",{className:"flexSpace"}),(0,i.I0)()?(0,u.jsx)("div",{className:"code comprobante_id  gSansFont",style:{color:"#646cff",paddingTop:10},children:null===z||void 0===z?void 0:z.comprobanteId}):null,(0,u.jsx)("div",{className:"icon_print",onClick:()=>{(async e=>{var t,l,o,d,s,a;const n=await v.PDFDocument.create();n.registerFontkit(x.Z);var r=await n.embedFont(v.StandardFonts.TimesRoman),c=await n.embedFont(v.StandardFonts.TimesRomanBold),u=await n.embedFont(v.StandardFonts.TimesRomanBold);if((0,i.bh)("modernFontReport")){let e=(0,i.bh)("Roboto-Bold.ttf");const t=await fetch(e).then((e=>e.arrayBuffer()));c=await n.embedFont(t);let l=(0,i.bh)("ggSans-Italic.ttf");const o=await fetch(l).then((e=>e.arrayBuffer()));r=await n.embedFont(o);let d=(0,i.bh)("ggSans-Medium.ttf");const s=await fetch(d).then((e=>e.arrayBuffer()));u=await n.embedFont(s)}let m=n.addPage();const{width:g,height:b}=m.getSize(),y=10;h=b-40;const p=u.widthOfTextAtSize(null===e||void 0===e?void 0:e.document,12),f=r.widthOfTextAtSize("Invoice: ",11);m.drawText("Invoice: ",{x:580-p-f,y:h,size:11,font:r,color:(0,v.rgb)(0,0,0)}),m.drawText(null===e||void 0===e?void 0:e.document,{x:580-p,y:h,size:12,font:u,color:(0,v.rgb)(0,0,0)});let _=b-30;m.drawText("Granite Concepts",{x:20,y:_,size:13,font:c,color:(0,v.rgb)(0,0,0)}),m.drawText("4504 Poplar Level Rd",{x:20,y:_-15,size:10,font:r,color:(0,v.rgb)(0,0,0)}),m.drawText("Louisville, KY 40213",{x:20,y:_-30,size:10,font:r,color:(0,v.rgb)(0,0,0)}),m.drawText("(502) 742-2473",{x:20,y:_-45,size:10,font:c,color:(0,v.rgb)(0,0,0)}),m.drawText("graniteconceptsky@gmail.com",{x:20,y:_-60,size:10,font:r,color:(0,v.rgb)(0,0,0)}),m.drawText("graniteconceptsky.com",{x:20,y:_-75,size:10,font:r,color:(0,v.rgb)(0,0,0)}),h-=20;const w=r.widthOfTextAtSize("Date: ",11),z=c.widthOfTextAtSize((0,i.Gv)(null===e||void 0===e?void 0:e.date)+"",12);m.drawText("Date: ",{x:580-w-z,y:h,size:11,font:r,color:(0,v.rgb)(0,0,0)}),m.drawText((0,i.Gv)(null===e||void 0===e?void 0:e.date)+"",{x:580-z,y:h,size:12,font:c,color:(0,v.rgb)(.06,.06,.06)}),h-=20;let T=null===(t=(0,i.bh)("providers_ids"))||void 0===t||null===(l=t[null===e||void 0===e||null===(o=e.customer)||void 0===o?void 0:o.providerId])||void 0===l?void 0:l.name;const F=r.widthOfTextAtSize("Bill To: ",11),j=c.widthOfTextAtSize(T+"",12);m.drawText("Bill To: ",{x:580-F-j,y:h,size:11,font:r,color:(0,v.rgb)(0,0,0)}),m.drawText(T+"",{x:580-j,y:h,size:12,font:c,color:(0,v.rgb)(0,0,0)}),h-=50,m.drawRectangle({x:15,y:h+1,width:560,height:.85,color:(0,v.rgb)(.53,.53,.53),borderColor:(0,v.rgb)(.53,.53,.53)}),m.drawText((null===e||void 0===e?void 0:e.description)+"",{x:20,y:h-11,size:10,font:r,color:(0,v.rgb)(0,0,0)}),h-=20,m.drawRectangle({x:15,y:h+1,width:560,height:.85,color:(0,v.rgb)(.53,.53,.53),borderColor:(0,v.rgb)(.53,.53,.53)}),h-=18,m.drawText((0,i.zE)(4)+"",{x:20,y:h,size:13,font:c,color:(0,v.rgb)(0,0,0)});const S=c.widthOfTextAtSize((0,i.zE)(14)+"",12);m.drawText((0,i.zE)(10)+"",{x:480-S,y:h,size:12,font:c,color:(0,v.rgb)(0,0,0)});const N=c.widthOfTextAtSize((0,i.zE)(14)+"",12);m.drawText((0,i.zE)(14)+"",{x:560-N,y:h,size:12,font:c,color:(0,v.rgb)(0,0,0)}),h-=8,m.drawRectangle({x:15,y:h+1,width:560,height:.95,color:(0,v.rgb)(.53,.53,.53),borderColor:(0,v.rgb)(.53,.53,.53)});let A=(null===e||void 0===e?void 0:e.products)||[];Array.isArray(A)&&A.map(((e,t)=>{var l,o,d,s;const a=null===(l=(0,i.bh)("products_ids"))||void 0===l||null===(o=l[null===e||void 0===e?void 0:e.product])||void 0===o?void 0:o.name;h-=16,a&&m.drawText(a+"",{x:20,y:h,size:y,font:r,color:(0,v.rgb)(0,0,0)});let n=null!==e&&void 0!==e&&e.qty?null===(d=1*(null===e||void 0===e?void 0:e.qty))||void 0===d?void 0:d.toFixed(2):"0.00";const c=r.widthOfTextAtSize(n+"",y);m.drawText(n+"",{x:480-c,y:h,size:y,font:r,color:(0,v.rgb)(0,0,0)});let x=null!==e&&void 0!==e&&e.qty?null===(s=(null===e||void 0===e?void 0:e.salePrice)*(null===e||void 0===e?void 0:e.qty)*1)||void 0===s?void 0:s.toFixed(2):"0.00";const u=r.widthOfTextAtSize(x+"",y);m.drawText(x+"",{x:560-u,y:h,size:y,font:r,color:(0,v.rgb)(0,0,0)})}));let I=(0,i._2)(null===e||void 0===e?void 0:e.extras)||[];Array.isArray(I)&&I.map(((t,l)=>{var o,i,d;let s=null===(o=e.extras)||void 0===o?void 0:o[t];const a=s.description;h-=16,a&&m.drawText(a+"",{x:20,y:h,size:y,font:r,color:(0,v.rgb)(0,0,0)});let n=null!==s&&void 0!==s&&s.qty?null===(i=1*(null===s||void 0===s?void 0:s.qty))||void 0===i?void 0:i.toFixed(2):"0.00";const c=r.widthOfTextAtSize(n+"",y);m.drawText(n+"",{x:480-c,y:h,size:y,font:r,color:(0,v.rgb)(0,0,0)});let x=null!==s&&void 0!==s&&s.qty?null===(d=(null===s||void 0===s?void 0:s.salePrice)*(null===s||void 0===s?void 0:s.qty)*1)||void 0===d?void 0:d.toFixed(2):"0.00";const u=r.widthOfTextAtSize(x+"",y);m.drawText(x+"",{x:560-u,y:h,size:y,font:r,color:(0,v.rgb)(0,0,0)})})),h-=28,m.drawRectangle({x:15,y:h+1,width:560,height:.85,color:(0,v.rgb)(.53,.53,.53),borderColor:(0,v.rgb)(.53,.53,.53)});let O=500;h-=20;let R=null!==e&&void 0!==e&&e.amount?null===e||void 0===e||null===(d=e.amount)||void 0===d?void 0:d.toFixed(2):"0.00";const k=r.widthOfTextAtSize(R+"",y);m.drawText(R+"",{x:560-k,y:h,size:y,font:r,color:(0,v.rgb)(.13,.13,.13)});const B=r.widthOfTextAtSize("SubTotal",y);m.drawText("SubTotal",{x:O-B,y:h,size:y,font:r,color:(0,v.rgb)(0,0,0)}),h-=16;let D=null!==e&&void 0!==e&&e.hasTax?null===e||void 0===e||null===(s=e.hasTax)||void 0===s?void 0:s.toFixed(2):"0.00";const E=r.widthOfTextAtSize(D+"",y);m.drawText(D+"",{x:560-E,y:h,size:y,font:r,color:(0,v.rgb)(.13,.13,.13)});const P=r.widthOfTextAtSize("Taxes",y);m.drawText("Taxes",{x:O-P,y:h,size:y,font:r,color:(0,v.rgb)(0,0,0)});let q=null!==e&&void 0!==e&&e.hasTax?(null===e||void 0===e?void 0:e.hasTax)+(null===e||void 0===e?void 0:e.amount):1*(null===e||void 0===e?void 0:e.amount);h-=16;let C=q?null===q||void 0===q?void 0:q.toFixed(2):"0.00";const M=u.widthOfTextAtSize(C+"",11);m.drawText(C+"",{x:560-M,y:h,size:11,font:u,color:(0,v.rgb)(0,0,0)});const L=u.widthOfTextAtSize("Total",11);m.drawText("Total",{x:O-L,y:h,size:11,font:u,color:(0,v.rgb)(0,0,0)}),h-=16;let Q=null!==e&&void 0!==e&&e.hasAdvancePay?null===(a=-1*(null===e||void 0===e?void 0:e.hasAdvancePay))||void 0===a?void 0:a.toFixed(2):"0.00";const K=r.widthOfTextAtSize(""+Q,11);m.drawText(""+Q,{x:560-K,y:h,size:11,font:r,color:(0,v.rgb)(.13,.13,.13)});const U=r.widthOfTextAtSize("Advance Payment",11);m.drawText("Advance Payment",{x:O-U,y:h,size:11,font:r,color:(0,v.rgb)(0,0,0)});let V=q+1*Q;h-=16;let W=V?null===V||void 0===V?void 0:V.toFixed(2):"0.00";const $=u.widthOfTextAtSize(W+"",11);m.drawText(W+"",{x:560-$,y:h,size:11,font:u,color:(0,v.rgb)(0,0,0)});const G=u.widthOfTextAtSize("Balance Due",11);m.drawText("Balance Due",{x:O-G,y:h,size:11,font:u,color:(0,v.rgb)(0,0,0)});const H=await n.save();let J=(0,i.ou)(H);window.open(J)})({...z})},children:(0,u.jsx)(m,{name:"printer",color:"var(--hrm_palette-inverse-background-b)"})})]}),(0,u.jsx)("div",{className:"acc_dtls",style:{marginTop:10,marginLeft:2},children:(0,u.jsxs)("div",{className:"_dsplFlx",children:[(0,u.jsx)("div",{className:"name",children:(0,u.jsx)("div",{className:" code gSansFont",style:{color:"var(--hrm_palette-inverse-background-b)"},children:(0,i.sJ)(null===z||void 0===z?void 0:z.date)})}),(0,u.jsx)("div",{className:"flexSpace"}),(0,u.jsxs)("div",{className:"_dsplFlx",children:[(0,u.jsx)("div",{className:"name gSansFont",style:{marginRight:5,color:"var(--hrm_palette-item_coll_gray)"},children:"Bill To:"}),(0,u.jsx)("div",{className:"code gSansFont",style:{color:"#646cff"},children:null===(t=(0,i.bh)("providers_ids"))||void 0===t||null===(l=t[null===z||void 0===z||null===(a=z.customer)||void 0===a?void 0:a.providerId])||void 0===l?void 0:l.name})]})]})}),(0,u.jsxs)("div",{className:"_dsplFlx ",style:{marginBottom:8},children:[(0,u.jsx)("div",{className:"flexSpace"}),(0,u.jsx)("div",{className:"_dsplFlx",children:(0,u.jsx)("div",{className:"name gSansFont",style:{color:"var(--hrm_palette-item_coll_gray)"},children:null===z||void 0===z?void 0:z.description})})]}),(0,u.jsxs)("div",{className:"_dsplFlx hdr_bar purple",children:[(0,u.jsx)("div",{className:"tr_bar_70",style:{textAlign:"left",paddingLeft:14},children:(0,i.zE)(4)}),(0,u.jsx)("div",{className:"tr_bar_15 txt_alg_padd",children:(0,i.zE)(10)}),(0,u.jsx)("div",{className:"tr_bar_15 txt_alg_padd",children:(0,i.zE)(14)})]}),(0,u.jsxs)("div",{className:"scollVh subMHeight",style:{height:"calc(84vh - 142px)"},children:[z.products&&(null===(g=z.products)||void 0===g?void 0:g.map((e=>(0,u.jsx)(b,{element:e,idKey:e.inventoryId,close:S},e.inventoryId)))),z.extras&&(null===(p=(0,i._2)(z.extras))||void 0===p?void 0:p.map((e=>(0,u.jsx)(y,{element:z.extras[e],idKey:e,close:S},e)))),(0,u.jsxs)("div",{className:"_dsplFlx totalsGrid",style:{margin:"19px 15px 10px"},children:[(0,u.jsx)("div",{className:"tr_bar_70"}),(0,u.jsxs)("div",{className:"tr_bar_30 brdTp",children:[(0,u.jsxs)("div",{className:"_dsplFlx totals",children:[(0,u.jsx)("div",{className:"code tr_bar_70 gSansFont",children:"Subtotal:"}),(0,u.jsxs)("div",{className:"name tr_bar_30 gSansFont",children:["$",null===z||void 0===z||null===(f=z.amount)||void 0===f?void 0:f.toFixed(2)]})]}),(0,u.jsxs)("div",{className:"_dsplFlx totals",children:[(0,u.jsx)("div",{className:"code tr_bar_60 gSansFont",children:"tax:"}),(0,u.jsxs)("div",{className:"name tr_bar_40 gSansFont",children:["$",null!==z&&void 0!==z&&z.hasTax?null===z||void 0===z?void 0:z.hasTax.toFixed(2):"0.00"]})]}),(0,u.jsxs)("div",{className:"_dsplFlx totals",children:[(0,u.jsx)("div",{className:"code tr_bar_60 fntW600 gSansFont",style:{color:"var(--hrm_palette-inverse-background-b)"},children:"Total:"}),(0,u.jsxs)("div",{className:"name tr_bar_40  gSansFont fntW600",style:{color:"var(--hrm_palette-inverse-background-b)"},children:["$",null===N||void 0===N?void 0:N.toFixed(2)]})]}),(0,u.jsxs)("div",{className:"_dsplFlx totals",children:[(0,u.jsx)("div",{className:"code tr_bar_60 gSansFont",children:"Advance Payment:"}),(0,u.jsxs)("div",{className:"name tr_bar_40  gSansFont",children:["$",null===A||void 0===A?void 0:A.toFixed(2)]})]}),(0,u.jsxs)("div",{className:"_dsplFlx totals",children:[(0,u.jsx)("div",{className:"code tr_bar_60 fntW600 gSansFont",style:{color:"#646cff"},children:"Balance Due:"}),(0,u.jsxs)("div",{className:"name tr_bar_40 fntW600 gSansFont",style:{color:"#646cff"},children:["$",null===(_=N-A)||void 0===_?void 0:_.toFixed(2)]})]})]})]})]})]})},b=e=>{var t,l;let{element:o,idKey:d,close:s}=e,a=null===(t=(0,i.bh)("products_ids"))||void 0===t?void 0:t[null===o||void 0===o?void 0:o.product],n=1*o.qty?1*o.qty*o.salePrice:0;return(0,u.jsxs)("div",{className:"_dsplFlx hdr_bar",children:[(0,u.jsx)("div",{className:"tr_bar_70 gSansFont",style:{textAlign:"left",paddingLeft:14},children:null===a||void 0===a?void 0:a.name}),(0,u.jsx)("div",{className:"tr_bar_15 numbAlign gSansFont",children:null===(l=o.qty)||void 0===l?void 0:l.toFixed(2)}),(0,u.jsx)("div",{className:"tr_bar_15 numbAlign gSansFont",children:null===n||void 0===n?void 0:n.toFixed(2)})]})},y=e=>{var t,l;let{element:o,idKey:i,close:d}=e;return(0,u.jsxs)("div",{className:"_dsplFlx hdr_bar",children:[(0,u.jsx)("div",{className:"tr_bar_70  gSansFont",style:{textAlign:"left",paddingLeft:14},children:null===o||void 0===o?void 0:o.description}),(0,u.jsx)("div",{className:"tr_bar_15 numbAlign gSansFont",children:null===(t=1*o.qty)||void 0===t?void 0:t.toFixed(2)}),(0,u.jsx)("div",{className:"tr_bar_15 numbAlign gSansFont",children:1*o.qty?null===(l=1*o.qty*o.salePrice*1)||void 0===l?void 0:l.toFixed(2):""})]})}},6677:(e,t,l)=>{l.d(t,{Je:()=>i,Qn:()=>n,UO:()=>d,mQ:()=>a});var o=l(2350);const i=async e=>{var t,l;let i={...null===(t=(0,o.bh)((0,o.hQ)()))||void 0===t?void 0:t.all_prov_cust};i.params={businessId:null===(l=(0,o.bh)("profileUser"))||void 0===l?void 0:l.businessId};const d=(0,o.I7)(i),a=await d;a&&((0,o.Rz)("providers_list",s((0,o.jQ)(a),"name",1)),(0,o.Rz)("providers_ids",(0,o.ME)((0,o.jQ)(a),"providerId")),e&&e())},d=async e=>{var t,l;let i={...null===(t=(0,o.bh)((0,o.hQ)()))||void 0===t?void 0:t.search_prov_cust};i.params={businessId:null===(l=(0,o.bh)("profileUser"))||void 0===l?void 0:l.businessId,":search":(0,o.bh)("search_prov")};const d=(0,o.I7)(i),a=await d;a&&((0,o.Rz)("providers_list",s((0,o.jQ)(a),"name",1)),e&&e())};const s=(e,t,l)=>(0,o.MV)("sortProviders",[e],(()=>e&&e.sort(((e,o)=>{let i=1*e[t],d=1*o[t];return i<d?l?-1:1:i>d?l?1:-1:0})))),a=(e,t)=>(0,o.MV)("sortSubProviders",[e],(()=>e&&e.sort(((e,l)=>{let o=1*e[t],i=1*l[t];return o<i?-1:o>i?1:0})))),n=async(e,t)=>{var l,i;let d={...null===(l=(0,o.bh)((0,o.hQ)()))||void 0===l?void 0:l.delete_prov_cust};d.params={businessId:null===(i=(0,o.bh)("profileUser"))||void 0===i?void 0:i.businessId,providerId:e};const s=(0,o.I7)(d);await s&&t&&t()}},261:()=>{}}]);
//# sourceMappingURL=9075.3f7213a0.chunk.js.map