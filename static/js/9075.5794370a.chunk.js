"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[9075,9760],{9760:(e,t,o)=>{o.r(t),o.d(t,{CloseModal:()=>c,OpenModal:()=>r,default:()=>a});var l=o(2791),i=o(5408),s=o(2350),d=o(184);const n="listDialog_mdh392",a=()=>{const e=(0,s.bh)("listDialog")||{};(0,i.Z)(n);let t=Object.keys(e);return(0,d.jsx)(d.Fragment,{children:t.map(((t,o)=>{let i=e[t];if(i&&i.visible){let e={};i.height&&(e.heigth=i.height),i.width,i.zIndex&&(e.zIndex=i.zIndex-1);let o={zIndex:i.zIndex},s=null,n=i.data;return i.content&&(s=l.cloneElement(i.content,{data:n})),(0,d.jsxs)("div",{className:"ltr-1kbnjow",style:e,children:[(0,d.jsx)("div",{className:"ltr-hoe9xz",children:(0,d.jsx)("div",{className:"ltr-1wao6ny",style:o,id:t,children:s})}),i.data.overlay?(0,d.jsx)("div",{className:"DialogHRMOverlay ".concat(i.visible?"active":""),onClick:()=>{var e;e=t,document.getElementsByTagName("html")[0].classList.remove("has-level-two"),c({id:e})}}):null]},t)}}))})},r=e=>{let t=(0,s.bh)("listDialog")||{},o=(0,s.M5)();t[o]||(t[o]={}),t[o].visible=!0;let l={};e.props?(l=e.props,l.modalID=o):l.modalID=o;let i=document.getElementsByTagName("body")[0];null!==i&&void 0!==i&&i.style&&(i.style.overflowY="hidden"),t[o].isView=e.isView,t[o].observeResize=e.observeResize,t[o].observeResize&&(t[o].observeInterval=setInterval((()=>{let e=document.querySelector("[dialog-key-id='".concat(o,"']")),l=e&&e.getBoundingClientRect();l&&(l.width===t[o].width&&l.height===t[o].height||(t[o].height=l.height+10,t[o].width=l.width,(0,s.Rz)("listDialog",t),(0,s.wt)(n)))}),200)),t[o].display=!0,e.zIndex&&(t[o].zIndex=e.zIndex),e.height&&(t[o].height=e.height),e.width&&(t[o].width=e.width),e.content&&(t[o].content=e.content),t[o].data=l,(0,s.Rz)("listDialog",t),(0,s.wt)(n),setTimeout((()=>{document.getElementsByTagName("html")[0].classList.add("has-level-two"),(0,s.Rz)("modalOpen",o),(0,s.wt)(n)}),125)},c=e=>{let t=(0,s.bh)("listDialog")||{},o=e.id;if(t[o]){var l,i,d;t[o].observeResize&&t[o].observeInterval&&clearInterval(t[o].observeInterval),t[o].display=!1,null===(l=t[o])||void 0===l||null===(i=l.data)||void 0===i||null===(d=i.closeEvent)||void 0===d||d.call(i),(0,s.Rz)("listDialog",t),delete t[o],document.getElementsByTagName("body")[0].style.overflowY=null,(0,s.wt)(n),setTimeout((()=>{delete t[o],document.getElementsByTagName("html")[0].classList.remove("has-level-two"),(0,s.Rz)("modalOpen",null)}),750)}}},713:(e,t,o)=>{o.d(t,{$P:()=>h,B8:()=>y,IR:()=>a,QJ:()=>u,Rd:()=>d,VI:()=>p,Ve:()=>v,WA:()=>x,ZW:()=>s,Zj:()=>m,ii:()=>c,nj:()=>b,qT:()=>n,qv:()=>r,yk:()=>i});var l=o(2350);const i=async e=>{var t,o;let i={...null===(t=(0,l.bh)((0,l.hQ)()))||void 0===t?void 0:t.scan_voucher_production};if(i.params={businessId:null===(o=(0,l.bh)("profileUser"))||void 0===o?void 0:o.businessId,limit:120},(0,l.bh)("searchVoucherQry")&&(0,l.bh)("searchVoucherQry").length>1){(0,l.bh)("searchVoucherQry").split(" ").map(((e,t)=>{e&&(i.params[":search"+t]=e.trim())}));const t=(0,l.I7)(i),o=await t;o&&((0,l.Rz)("voucher_production",o),(0,l.Rz)("vouchers_list",m((0,l.jQ)(o),"voucherId")),e&&e())}else(0,l.Rz)("vouchers_list",null),e&&e()},s=async(e,t)=>{var o,i;let s={...null===(o=(0,l.bh)((0,l.hQ)()))||void 0===o?void 0:o.get_inventory_prod};s.params={businessId:null===(i=(0,l.bh)("profileUser"))||void 0===i?void 0:i.businessId,":productId":e};const d=(0,l.I7)(s),n=await d;n&&((0,l.Rz)("inv_products_list",m((0,l.jQ)(n.list),"name")),(0,l.Rz)("inv_products_stock",n.stock),t&&t())},d=async(e,t)=>{var o,i;let s={...null===(o=(0,l.bh)((0,l.hQ)()))||void 0===o?void 0:o.get_prod_stock};s.params={businessId:null===(i=(0,l.bh)("profileUser"))||void 0===i?void 0:i.businessId,productId:e};const d=(0,l.I7)(s),n=await d;if(n){let o={...(0,l.bh)("products_stock")};o[e]=n.stock,(0,l.Rz)("products_stock",o),t&&t()}},n=async e=>{var t,o;let i={...null===(t=(0,l.bh)((0,l.hQ)()))||void 0===t?void 0:t.all_prods};i.params={businessId:null===(o=(0,l.bh)("profileUser"))||void 0===o?void 0:o.businessId},i.subQuerys={},i.subQuerys.stock=1;const s=(0,l.I7)(i),d=await s;if(d){let t={},o=[],i=0;d.map((e=>{var s;if(null!==e&&void 0!==e&&null!==(s=e.inventory)&&void 0!==s&&s.qty){var d,n,a;if(i+=1*(0,l.Zv)(null===e||void 0===e||null===(d=e.inventory)||void 0===d?void 0:d.amount,2),t[e.unit])t[e.unit]+=null===e||void 0===e||null===(n=e.inventory)||void 0===n?void 0:n.qty;else t[e.unit]=null===e||void 0===e||null===(a=e.inventory)||void 0===a?void 0:a.qty;o.push({productId:e.productId,name:e.name,unit:e.unit,qty:(1*e.inventory.qty).toFixed(2),amount:(1*e.inventory.amount).toFixed(2),cost:(e.inventory.amount/e.inventory.qty*1).toFixed(2)})}})),(0,l.Ey)(e)&&e({list:m(o,"name"),total:i,units:t})}},a=async(e,t)=>{var o,i;let s={...null===(o=(0,l.bh)((0,l.hQ)()))||void 0===o?void 0:o.group_prod_stock};s.params={businessId:null===(i=(0,l.bh)("profileUser"))||void 0===i?void 0:i.businessId};const d=(0,l.I7)(s),n=await d;if(n){let o=(0,l._I)(n.comps),i=0,s=0,d=0,a=[],r=[];(0,l._2)(e).map((t=>{let c={...e[t]},v=("debit"===e[t].type?1:-1)*e[t].amount,u=1*(0,l.Zv)(v,2);if(i+=u,n.comps[e[t].comprobanteId]){c.inventory=n.comps[e[t].comprobanteId];let i=0;if((0,l._2)(n.comps[e[t].comprobanteId]).map((o=>{i=1*(0,l.Zv)(i,2)+1*(0,l.Zv)(n.comps[e[t].comprobanteId][o],2)})),i=i<0?-1*i:i,i=1*(0,l.Zv)(i,2),c.inventoryAmount=i,s+=i,u=u<0?-1*u:u,u-i!==0){let e=u-i;d+=e,r.push(c),console.log("diff",c,u,i,e)}else a.push(c);delete o[e[t].comprobanteId]}else d+=v,r.push(c)}));let c=0;(0,l._2)(o).map((e=>{let t=0;(0,l._2)(o[e]).map((i=>{t=1*(0,l.Zv)(t,2)+1*(0,l.Zv)(o[e][i],2)})),c+=t})),console.log("inventoryBack",o,"inventoryBackTotal",c),(0,l.Rz)("inv_comprobantes_compare",{hasError:r,success:a,inventoryBack:o}),(0,l.Ey)(t)&&t()}},r=async e=>{var t,o,i;let s={...null===(t=(0,l.bh)((0,l.hQ)()))||void 0===t?void 0:t.filter_search_opera};s.params={businessId:null===(o=(0,l.bh)("profileUser"))||void 0===o?void 0:o.businessId,year:(0,l.bh)("date_current_year"),":account":null===(i=(0,l.bh)("global_account_params"))||void 0===i?void 0:i.inventory.account};const d=(0,l.I7)(s),n=await d;n&&!n.error&&(0,l.Ey)(e)&&e(m((0,l.jQ)(n),"date"))},c=async e=>{var t,o;let i={...null===(t=(0,l.bh)((0,l.hQ)()))||void 0===t?void 0:t.all_prods};i.params={businessId:null===(o=(0,l.bh)("profileUser"))||void 0===o?void 0:o.businessId};const s=(0,l.I7)(i),d=await s;d&&((0,l.Rz)("products_list",m(d,"name")),(0,l.Rz)("products_ids",(0,l.ME)((0,l.jQ)(d),"productId")),e&&e())},v=async e=>{var t,o;let i={...null===(t=(0,l.bh)((0,l.hQ)()))||void 0===t?void 0:t.search_prod};if(i.params={businessId:null===(o=(0,l.bh)("profileUser"))||void 0===o?void 0:o.businessId,limit:120},(0,l.bh)("searchQry").length>1){(0,l.bh)("searchQry").split(" ").map(((e,t)=>{e&&(i.params[":search"+t]=e.trim())}));const t=(0,l.I7)(i),o=await t;o&&((0,l.Rz)("products_list",m((0,l.jQ)(o),"code")),e&&e())}else(0,l.Rz)("products_list",null),e&&e()},u=async e=>{var t,o;let i={...null===(t=(0,l.bh)((0,l.hQ)()))||void 0===t?void 0:t.all_entry_invoices};i.params={businessId:null===(o=(0,l.bh)("profileUser"))||void 0===o?void 0:o.businessId};const s=(0,l.I7)(i),d=await s;d&&((0,l.Rz)("movements_list",m(d,"date")),(0,l.Rz)("movements_ids",(0,l.ME)((0,l.jQ)(d),"inventoryId")),e&&e())},h=async e=>{var t;if((null===(t=(0,l.bh)("searchMovQry"))||void 0===t?void 0:t.length)>1){var o,i;let t={...null===(o=(0,l.bh)((0,l.hQ)()))||void 0===o?void 0:o.search_inventory};t.params={businessId:null===(i=(0,l.bh)("profileUser"))||void 0===i?void 0:i.businessId,":search0":(0,l.bh)("searchMovQry")};const s=(0,l.I7)(t),d=await s;d&&((0,l.Rz)("movements_list",function(e){var t={};let o=e&&(0,l._2)(e);o.length>0?o.map((o=>{let l=e[o];t[l.comprobanteId]||(t[l.comprobanteId]={},t[l.comprobanteId].amount=0,t[l.comprobanteId].document=l.document,t[l.comprobanteId].date=l.date,t[l.comprobanteId].comprobanteId=l.comprobanteId,t[l.comprobanteId].products=[]),t[l.comprobanteId].amount+=l.qty*l.price,t[l.comprobanteId].products.push({productId:l.productId,qty:l.qty,price:l.price,inventoryId:l.inventoryId})})):t=null;return t}(d)),(0,l.Rz)("movements_ids",d),e&&e())}else(0,l.Rz)("movements_list",[]),(0,l.Rz)("movements_ids",{}),e&&e()};const m=(e,t)=>(0,l.MV)("sortProducts",[e],(()=>e&&e.sort(((e,o)=>{let l=e[t],i=o[t];return l<i?-1:l>i?1:0})))),b=async(e,t)=>{var o,i;let s={...null===(o=(0,l.bh)((0,l.hQ)()))||void 0===o?void 0:o.delete_prod};s.params={businessId:null===(i=(0,l.bh)("profileUser"))||void 0===i?void 0:i.businessId,productId:e};const d=(0,l.I7)(s);await d&&t&&t()},x=async(e,t)=>{var o,i;let s={...null===(o=(0,l.bh)((0,l.hQ)()))||void 0===o?void 0:o.delete_inventory};s.params={businessId:null===(i=(0,l.bh)("profileUser"))||void 0===i?void 0:i.businessId,inventoryId:e};const d=(0,l.I7)(s);await d&&t&&t()},p=async(e,t)=>{var o,i;({...null===(o=(0,l.bh)((0,l.hQ)()))||void 0===o?void 0:o.entry_invoice_acc_2}).params={businessId:null===(i=(0,l.bh)("profileUser"))||void 0===i?void 0:i.businessId,entriesInvoiceId:e}},y=(e,t)=>(0,l.MV)("rangeProdArr",[e,t],(()=>e?(0,l._2)(e).slice(0,t):[]))},9075:(e,t,o)=>{o.r(t),o.d(t,{default:()=>x});var l=o(2791),i=(o(261),o(2350)),s=o(7689),d=o(9760),n=o(2647),a=o(4050),r=o(713),c=o(6677),v=o(6963),u=o(4e3);let h=0;var m=o(184);const b=(0,n.PU)(),x=e=>{var t,o,n,x,g,_,f;let{data:w,item:I}=e;const[z,T]=(0,l.useState)(0);(0,l.useEffect)((()=>{var e,t,o;(0,i.Rz)("inv_products_list",null),(0,i.Rz)("inv_products_stock",null),null!==(e=(0,i.bh)("providers_ids"))&&void 0!==e&&null!==(t=e[null===I||void 0===I||null===(o=I.customer)||void 0===o?void 0:o.providerId])&&void 0!==t&&t.name||(0,c.Je)(j),(0,i.bh)("products_ids")||(0,r.ii)(j),(0,a.Ht)("global_accounts","global_account_params",j),j()}),[I.productId]);const j=()=>{T((0,i.M5)())},F=((0,s.s0)(),e=>{(0,d.CloseModal)({id:w.modalID})});let S=null!==I&&void 0!==I&&I.hasTax?(null===I||void 0===I?void 0:I.hasTax)+(null===I||void 0===I?void 0:I.amount):1*(null===I||void 0===I?void 0:I.amount);let N=null!==I&&void 0!==I&&I.hasAdvancePay?null===I||void 0===I?void 0:I.hasAdvancePay:0;return(0,m.jsxs)("div",{style:{maxHeight:"94vh",width:"960px",overflow:"auto",background:"var(--hrm_palette-general-background-b)",borderRadius:13,padding:"10px 19px 30px"},children:[(0,m.jsxs)("div",{className:"_dsplFlx ",children:[(0,m.jsx)("p",{className:"title_collect gSansFont",children:"Invoice:"}),(0,m.jsx)("p",{className:"title_collect fntW600 gSansFont",style:{color:"#646cff"},children:null===I||void 0===I?void 0:I.document}),(0,m.jsx)("div",{className:"flexSpace"}),(0,i.I0)()?(0,m.jsx)("div",{className:"code comprobante_id  gSansFont",style:{color:"#646cff",paddingTop:10},children:null===I||void 0===I?void 0:I.comprobanteId}):null,(0,m.jsx)("div",{className:"icon_print",onClick:()=>{(async e=>{var t,o,l,s,d,n;const a=await v.PDFDocument.create();a.registerFontkit(u.Z);var r=await a.embedFont(v.StandardFonts.TimesRoman),c=await a.embedFont(v.StandardFonts.TimesRomanBold),m=await a.embedFont(v.StandardFonts.TimesRomanBold);if((0,i.bh)("modernFontReport")){let e=(0,i.bh)("Roboto-Bold.ttf");const t=await fetch(e).then((e=>e.arrayBuffer()));c=await a.embedFont(t);let o=(0,i.bh)("ggSans-Italic.ttf");const l=await fetch(o).then((e=>e.arrayBuffer()));r=await a.embedFont(l);let s=(0,i.bh)("ggSans-Medium.ttf");const d=await fetch(s).then((e=>e.arrayBuffer()));m=await a.embedFont(d)}let b=a.addPage();const{width:x,height:p}=b.getSize(),y=10;h=p-40;const g=m.widthOfTextAtSize(null===e||void 0===e?void 0:e.document,12),_=r.widthOfTextAtSize("Invoice: ",11);b.drawText("Invoice: ",{x:580-g-_,y:h,size:11,font:r,color:(0,v.rgb)(0,0,0)}),b.drawText(null===e||void 0===e?void 0:e.document,{x:580-g,y:h,size:12,font:m,color:(0,v.rgb)(0,0,0)});let f=p-30;b.drawText("Granite Concepts",{x:20,y:f,size:13,font:c,color:(0,v.rgb)(0,0,0)}),b.drawText("4504 Poplar Level Rd",{x:20,y:f-15,size:10,font:r,color:(0,v.rgb)(0,0,0)}),b.drawText("Louisville, KY 40213",{x:20,y:f-30,size:10,font:r,color:(0,v.rgb)(0,0,0)}),b.drawText("(502) 742-2473",{x:20,y:f-45,size:10,font:c,color:(0,v.rgb)(0,0,0)}),b.drawText("graniteconceptsky@gmail.com",{x:20,y:f-60,size:10,font:r,color:(0,v.rgb)(0,0,0)}),b.drawText("graniteconceptsky.com",{x:20,y:f-75,size:10,font:r,color:(0,v.rgb)(0,0,0)}),h-=20;const w=r.widthOfTextAtSize("Date: ",11),I=c.widthOfTextAtSize((0,i.Gv)(null===e||void 0===e?void 0:e.date)+"",12);b.drawText("Date: ",{x:580-w-I,y:h,size:11,font:r,color:(0,v.rgb)(0,0,0)}),b.drawText((0,i.Gv)(null===e||void 0===e?void 0:e.date)+"",{x:580-I,y:h,size:12,font:c,color:(0,v.rgb)(.06,.06,.06)}),h-=20;let z=null===(t=(0,i.bh)("providers_ids"))||void 0===t||null===(o=t[null===e||void 0===e||null===(l=e.customer)||void 0===l?void 0:l.providerId])||void 0===o?void 0:o.name;const T=r.widthOfTextAtSize("Bill To: ",11),j=c.widthOfTextAtSize(z+"",12);b.drawText("Bill To: ",{x:580-T-j,y:h,size:11,font:r,color:(0,v.rgb)(0,0,0)}),b.drawText(z+"",{x:580-j,y:h,size:12,font:c,color:(0,v.rgb)(0,0,0)}),h-=50,b.drawRectangle({x:15,y:h+1,width:560,height:.85,color:(0,v.rgb)(.53,.53,.53),borderColor:(0,v.rgb)(.53,.53,.53)}),b.drawText((null===e||void 0===e?void 0:e.description)+"",{x:20,y:h-11,size:10,font:r,color:(0,v.rgb)(0,0,0)}),h-=20,b.drawRectangle({x:15,y:h+1,width:560,height:.85,color:(0,v.rgb)(.53,.53,.53),borderColor:(0,v.rgb)(.53,.53,.53)}),h-=18,b.drawText((0,i.zE)(4)+"",{x:20,y:h,size:13,font:c,color:(0,v.rgb)(0,0,0)});const F=c.widthOfTextAtSize((0,i.zE)(14)+"",12);b.drawText((0,i.zE)(10)+"",{x:480-F,y:h,size:12,font:c,color:(0,v.rgb)(0,0,0)});const S=c.widthOfTextAtSize((0,i.zE)(14)+"",12);b.drawText((0,i.zE)(14)+"",{x:560-S,y:h,size:12,font:c,color:(0,v.rgb)(0,0,0)}),h-=8,b.drawRectangle({x:15,y:h+1,width:560,height:.95,color:(0,v.rgb)(.53,.53,.53),borderColor:(0,v.rgb)(.53,.53,.53)});let N=(null===e||void 0===e?void 0:e.products)||[];Array.isArray(N)&&N.map(((e,t)=>{var o,l,s,d;const n=null===(o=(0,i.bh)("products_ids"))||void 0===o||null===(l=o[null===e||void 0===e?void 0:e.product])||void 0===l?void 0:l.name;h-=16,n&&b.drawText(n+"",{x:20,y:h,size:y,font:r,color:(0,v.rgb)(0,0,0)});let a=null!==e&&void 0!==e&&e.qty?null===(s=1*(null===e||void 0===e?void 0:e.qty))||void 0===s?void 0:s.toFixed(2):"0.00";const c=r.widthOfTextAtSize(a+"",y);b.drawText(a+"",{x:480-c,y:h,size:y,font:r,color:(0,v.rgb)(0,0,0)});let u=null!==e&&void 0!==e&&e.qty?null===(d=(null===e||void 0===e?void 0:e.salePrice)*(null===e||void 0===e?void 0:e.qty)*1)||void 0===d?void 0:d.toFixed(2):"0.00";const m=r.widthOfTextAtSize(u+"",y);b.drawText(u+"",{x:560-m,y:h,size:y,font:r,color:(0,v.rgb)(0,0,0)})}));let R=(0,i._2)(null===e||void 0===e?void 0:e.extras)||[];Array.isArray(R)&&R.map(((t,o)=>{var l,i,s;let d=null===(l=e.extras)||void 0===l?void 0:l[t];const n=d.description;h-=16,n&&b.drawText(n+"",{x:20,y:h,size:y,font:r,color:(0,v.rgb)(0,0,0)});let a=null!==d&&void 0!==d&&d.qty?null===(i=1*(null===d||void 0===d?void 0:d.qty))||void 0===i?void 0:i.toFixed(2):"0.00";const c=r.widthOfTextAtSize(a+"",y);b.drawText(a+"",{x:480-c,y:h,size:y,font:r,color:(0,v.rgb)(0,0,0)});let u=null!==d&&void 0!==d&&d.qty?null===(s=(null===d||void 0===d?void 0:d.salePrice)*(null===d||void 0===d?void 0:d.qty)*1)||void 0===s?void 0:s.toFixed(2):"0.00";const m=r.widthOfTextAtSize(u+"",y);b.drawText(u+"",{x:560-m,y:h,size:y,font:r,color:(0,v.rgb)(0,0,0)})})),h-=28,b.drawRectangle({x:15,y:h+1,width:560,height:.85,color:(0,v.rgb)(.53,.53,.53),borderColor:(0,v.rgb)(.53,.53,.53)});let A=500;h-=20;let Q=null!==e&&void 0!==e&&e.amount?null===e||void 0===e||null===(s=e.amount)||void 0===s?void 0:s.toFixed(2):"0.00";const k=r.widthOfTextAtSize(Q+"",y);b.drawText(Q+"",{x:560-k,y:h,size:y,font:r,color:(0,v.rgb)(.13,.13,.13)});const O=r.widthOfTextAtSize("SubTotal",y);b.drawText("SubTotal",{x:A-O,y:h,size:y,font:r,color:(0,v.rgb)(0,0,0)}),h-=16;let q=null!==e&&void 0!==e&&e.hasTax?null===e||void 0===e||null===(d=e.hasTax)||void 0===d?void 0:d.toFixed(2):"0.00";const B=r.widthOfTextAtSize(q+"",y);b.drawText(q+"",{x:560-B,y:h,size:y,font:r,color:(0,v.rgb)(.13,.13,.13)});const E=r.widthOfTextAtSize("Taxes",y);b.drawText("Taxes",{x:A-E,y:h,size:y,font:r,color:(0,v.rgb)(0,0,0)});let P=null!==e&&void 0!==e&&e.hasTax?(null===e||void 0===e?void 0:e.hasTax)+(null===e||void 0===e?void 0:e.amount):1*(null===e||void 0===e?void 0:e.amount);h-=16;let D=P?null===P||void 0===P?void 0:P.toFixed(2):"0.00";const U=m.widthOfTextAtSize(D+"",11);b.drawText(D+"",{x:560-U,y:h,size:11,font:m,color:(0,v.rgb)(0,0,0)});const M=m.widthOfTextAtSize("Total",11);b.drawText("Total",{x:A-M,y:h,size:11,font:m,color:(0,v.rgb)(0,0,0)}),h-=16;let C=null!==e&&void 0!==e&&e.hasAdvancePay?null===(n=-1*(null===e||void 0===e?void 0:e.hasAdvancePay))||void 0===n?void 0:n.toFixed(2):"0.00";const V=r.widthOfTextAtSize(""+C,11);b.drawText(""+C,{x:560-V,y:h,size:11,font:r,color:(0,v.rgb)(.13,.13,.13)});const Z=r.widthOfTextAtSize("Advance Payment",11);b.drawText("Advance Payment",{x:A-Z,y:h,size:11,font:r,color:(0,v.rgb)(0,0,0)});let L=P+1*C;h-=16;let W=L?null===L||void 0===L?void 0:L.toFixed(2):"0.00";const $=m.widthOfTextAtSize(W+"",11);b.drawText(W+"",{x:560-$,y:h,size:11,font:m,color:(0,v.rgb)(0,0,0)});const K=m.widthOfTextAtSize("Balance Due",11);b.drawText("Balance Due",{x:A-K,y:h,size:11,font:m,color:(0,v.rgb)(0,0,0)});const G=await a.save();let H=(0,i.ou)(G);window.open(H)})({...I})},children:(0,m.jsx)(b,{name:"printer",color:"var(--hrm_palette-inverse-background-b)"})})]}),(0,m.jsx)("div",{className:"acc_dtls",style:{marginTop:10,marginLeft:2},children:(0,m.jsxs)("div",{className:"_dsplFlx",children:[(0,m.jsx)("div",{className:"name",children:(0,m.jsx)("div",{className:" code gSansFont",style:{color:"var(--hrm_palette-inverse-background-b)"},children:(0,i.sJ)(null===I||void 0===I?void 0:I.date)})}),(0,m.jsx)("div",{className:"flexSpace"}),(0,m.jsxs)("div",{className:"_dsplFlx",children:[(0,m.jsx)("div",{className:"name gSansFont",style:{marginRight:5,color:"var(--hrm_palette-item_coll_gray)"},children:"Bill To:"}),(0,m.jsx)("div",{className:"code gSansFont",style:{color:"#646cff"},children:null===(t=(0,i.bh)("providers_ids"))||void 0===t||null===(o=t[null===I||void 0===I||null===(n=I.customer)||void 0===n?void 0:n.providerId])||void 0===o?void 0:o.name})]})]})}),(0,m.jsxs)("div",{className:"_dsplFlx ",style:{marginBottom:8},children:[(0,m.jsx)("div",{className:"flexSpace"}),(0,m.jsx)("div",{className:"_dsplFlx",children:(0,m.jsx)("div",{className:"name gSansFont",style:{color:"var(--hrm_palette-item_coll_gray)"},children:null===I||void 0===I?void 0:I.description})})]}),(0,m.jsxs)("div",{className:"_dsplFlx hdr_bar purple",children:[(0,m.jsx)("div",{className:"tr_bar_70",style:{textAlign:"left",paddingLeft:14},children:(0,i.zE)(4)}),(0,m.jsx)("div",{className:"tr_bar_15 txt_alg_padd",children:(0,i.zE)(10)}),(0,m.jsx)("div",{className:"tr_bar_15 txt_alg_padd",children:(0,i.zE)(14)})]}),(0,m.jsxs)("div",{className:"scollVh subMHeight",style:{height:"calc(84vh - 142px)"},children:[I.products&&(null===(x=I.products)||void 0===x?void 0:x.map((e=>(0,m.jsx)(p,{element:e,idKey:e.inventoryId,close:F},e.inventoryId)))),I.extras&&(null===(g=(0,i._2)(I.extras))||void 0===g?void 0:g.map((e=>(0,m.jsx)(y,{element:I.extras[e],idKey:e,close:F},e)))),(0,m.jsxs)("div",{className:"_dsplFlx totalsGrid",style:{margin:"19px 15px 10px"},children:[(0,m.jsx)("div",{className:"tr_bar_70"}),(0,m.jsxs)("div",{className:"tr_bar_30 brdTp",children:[(0,m.jsxs)("div",{className:"_dsplFlx totals",children:[(0,m.jsx)("div",{className:"code tr_bar_70 gSansFont",children:"Subtotal:"}),(0,m.jsxs)("div",{className:"name tr_bar_30 gSansFont",children:["$",null===I||void 0===I||null===(_=I.amount)||void 0===_?void 0:_.toFixed(2)]})]}),(0,m.jsxs)("div",{className:"_dsplFlx totals",children:[(0,m.jsx)("div",{className:"code tr_bar_60 gSansFont",children:"tax:"}),(0,m.jsxs)("div",{className:"name tr_bar_40 gSansFont",children:["$",null!==I&&void 0!==I&&I.hasTax?null===I||void 0===I?void 0:I.hasTax.toFixed(2):"0.00"]})]}),(0,m.jsxs)("div",{className:"_dsplFlx totals",children:[(0,m.jsx)("div",{className:"code tr_bar_60 fntW600 gSansFont",style:{color:"var(--hrm_palette-inverse-background-b)"},children:"Total:"}),(0,m.jsxs)("div",{className:"name tr_bar_40  gSansFont fntW600",style:{color:"var(--hrm_palette-inverse-background-b)"},children:["$",null===S||void 0===S?void 0:S.toFixed(2)]})]}),(0,m.jsxs)("div",{className:"_dsplFlx totals",children:[(0,m.jsx)("div",{className:"code tr_bar_60 gSansFont",children:"Advance Payment:"}),(0,m.jsxs)("div",{className:"name tr_bar_40  gSansFont",children:["$",null===N||void 0===N?void 0:N.toFixed(2)]})]}),(0,m.jsxs)("div",{className:"_dsplFlx totals",children:[(0,m.jsx)("div",{className:"code tr_bar_60 fntW600 gSansFont",style:{color:"#646cff"},children:"Balance Due:"}),(0,m.jsxs)("div",{className:"name tr_bar_40 fntW600 gSansFont",style:{color:"#646cff"},children:["$",null===(f=S-N)||void 0===f?void 0:f.toFixed(2)]})]})]})]})]})]})},p=e=>{var t,o;let{element:l,idKey:s,close:d}=e,n=null===(t=(0,i.bh)("products_ids"))||void 0===t?void 0:t[null===l||void 0===l?void 0:l.product],a=1*l.qty?1*l.qty*l.salePrice:0;return(0,m.jsxs)("div",{className:"_dsplFlx hdr_bar",children:[(0,m.jsx)("div",{className:"tr_bar_70 gSansFont",style:{textAlign:"left",paddingLeft:14},children:null===n||void 0===n?void 0:n.name}),(0,m.jsx)("div",{className:"tr_bar_15 numbAlign gSansFont",children:null===(o=l.qty)||void 0===o?void 0:o.toFixed(2)}),(0,m.jsx)("div",{className:"tr_bar_15 numbAlign gSansFont",children:null===a||void 0===a?void 0:a.toFixed(2)})]})},y=e=>{var t,o;let{element:l,idKey:i,close:s}=e;return(0,m.jsxs)("div",{className:"_dsplFlx hdr_bar",children:[(0,m.jsx)("div",{className:"tr_bar_70  gSansFont",style:{textAlign:"left",paddingLeft:14},children:null===l||void 0===l?void 0:l.description}),(0,m.jsx)("div",{className:"tr_bar_15 numbAlign gSansFont",children:null===(t=1*l.qty)||void 0===t?void 0:t.toFixed(2)}),(0,m.jsx)("div",{className:"tr_bar_15 numbAlign gSansFont",children:1*l.qty?null===(o=1*l.qty*l.salePrice*1)||void 0===o?void 0:o.toFixed(2):""})]})}},6677:(e,t,o)=>{o.d(t,{Je:()=>i,Qn:()=>a,UO:()=>s,mQ:()=>n});var l=o(2350);const i=async e=>{var t,o;let i={...null===(t=(0,l.bh)((0,l.hQ)()))||void 0===t?void 0:t.all_prov_cust};i.params={businessId:null===(o=(0,l.bh)("profileUser"))||void 0===o?void 0:o.businessId};const s=(0,l.I7)(i),n=await s;n&&((0,l.Rz)("providers_list",d((0,l.jQ)(n),"name",1)),(0,l.Rz)("providers_ids",(0,l.ME)((0,l.jQ)(n),"providerId")),e&&e())},s=async e=>{var t,o;let i={...null===(t=(0,l.bh)((0,l.hQ)()))||void 0===t?void 0:t.search_prov_cust};i.params={businessId:null===(o=(0,l.bh)("profileUser"))||void 0===o?void 0:o.businessId,":search":(0,l.bh)("search_prov")};const s=(0,l.I7)(i),n=await s;n&&((0,l.Rz)("providers_list",d((0,l.jQ)(n),"name",1)),e&&e())};const d=(e,t,o)=>(0,l.MV)("sortProviders",[e],(()=>e&&e.sort(((e,l)=>{let i=1*e[t],s=1*l[t];return i<s?o?-1:1:i>s?o?1:-1:0})))),n=(e,t)=>(0,l.MV)("sortSubProviders",[e],(()=>e&&e.sort(((e,o)=>{let l=1*e[t],i=1*o[t];return l<i?-1:l>i?1:0})))),a=async(e,t)=>{var o,i;let s={...null===(o=(0,l.bh)((0,l.hQ)()))||void 0===o?void 0:o.delete_prov_cust};s.params={businessId:null===(i=(0,l.bh)("profileUser"))||void 0===i?void 0:i.businessId,providerId:e};const d=(0,l.I7)(s);await d&&t&&t()}},261:()=>{}}]);
//# sourceMappingURL=9075.5794370a.chunk.js.map