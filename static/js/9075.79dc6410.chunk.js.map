{"version":3,"file":"static/js/9075.79dc6410.chunk.js","mappings":"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","sources":["components/DialogHRM.jsx","features/Inventory/services/server_fetching.js","features/Invoices/services/export_service.js","features/Invoices/component/ViewInvoice.jsx","features/ProvidersCustomers/services/server_fetching.js"],"sourcesContent":["import React from \"react\";\r\nimport ObserveEvent from \"../hooks/observeEvent\";\r\nimport { callDispatchEvent, updStore, getStore, gen16CodeId } from \"../stores/Utils\";\r\n\r\nimport './DialogHRM.css'\r\n\r\nconst obsCode = \"listDialog_mdh392\"\r\nconst DialogHRM = () => {\r\n\tconst list = getStore(\"listDialog\") || {};\r\n\tconst observeComponent = ObserveEvent(obsCode);\r\n\tlet _list = Object.keys(list);\r\n\tconst close = (Id) => {\r\n\t\tlet htm = document.getElementsByTagName(\"html\")[0];\r\n\t\thtm.classList.remove(\"has-level-two\");\r\n\t\tCloseModal({ id: Id });\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{_list.map((dg, indg) => {\r\n\t\t\t\tlet dlg = list[dg];\r\n\t\t\t\tif (dlg && dlg.visible) {\r\n\t\t\t\t\tlet _Style = {};\r\n\t\t\t\t\t//let _cldg = cleanbase64(dg);\r\n\t\t\t\t\t//_Style[`--s__${_cldg}_zIndex__`]=250;\r\n\t\t\t\t\t//_Style[`--overlay__${_cldg}_zIndex__`]=249;\r\n\t\t\t\t\tif (dlg.height) {\r\n\t\t\t\t\t\t_Style[`heigth`]=dlg.height;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (dlg.width) {\r\n\t\t\t\t\t\t//_Style[`--s__${_cldg}_width__`]=dlg.width;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (dlg.zIndex) {\r\n\t\t\t\t\t\t//_Style[`--s__${_cldg}_zIndex__`]=dlg.zIndex;\r\n\t\t\t\t\t\t//_Style[`--overlay__${_cldg}_zIndex__`]=dlg.zIndex-1;\r\n\t\t\t\t\t\t_Style[\"zIndex\"] = dlg.zIndex - 1;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet ts = {\r\n\t\t\t\t\t\t// height: dlg.height,\r\n\t\t\t\t\t\t// width: dlg.width,\r\n\t\t\t\t\t\tzIndex: dlg.zIndex,\r\n\t\t\t\t\t};\r\n\t\t\t\t\tlet cmp2render = null;\r\n\t\t\t\t\tlet data = dlg.data;\r\n\t\t\t\t\tif (dlg.content) {\r\n\t\t\t\t\t\tcmp2render = React.cloneElement(dlg.content, { data });\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div className={\"ltr-1kbnjow\"} style={_Style} key={dg} >\r\n\t\t\t\t\t\t\t<div className={\"ltr-hoe9xz\"}>\r\n\t\t\t\t\t\t\t\t<div className=\"ltr-1wao6ny\" style={ts} id={dg}>\r\n\t\t\t\t\t\t\t\t\t{ cmp2render}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{dlg.data.overlay ? (\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName={`DialogHRMOverlay ${\r\n\t\t\t\t\t\t\t\t\t\tdlg.visible ? \"active\" : \"\"\r\n\t\t\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tclose(dg)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t})}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default DialogHRM;\r\n\r\n\r\n\r\n/*************************************************************************************************************/\r\n/*************************************************************************************************************/\r\n/*************************************************************************************************************/\r\n\r\nexport const OpenModal = (data) => {\r\n\tlet list = getStore(\"listDialog\") || {};\r\n\tlet Id = gen16CodeId();\r\n\tif (!list[Id]) {\r\n\t  list[Id] = {};\r\n\t}\r\n\tlist[Id][\"visible\"] = true;\r\n\tlet _dataProps = {};\r\n\tif (!data[\"props\"]) {\r\n\t  _dataProps[\"modalID\"] = Id;\r\n\t} else {\r\n\t  _dataProps = data[\"props\"];\r\n\t  _dataProps[\"modalID\"] = Id;\r\n\t}\r\n\tlet doc = document.getElementsByTagName(\"body\")[0];\r\n\tif(doc?.style){\r\n\t\tdoc.style.overflowY = \"hidden\"\r\n\t}\r\n\tlist[Id][\"isView\"] = data[\"isView\"];\r\n\tlist[Id][\"observeResize\"] = data[\"observeResize\"];\r\n\tif (list[Id][\"observeResize\"]) {\r\n\t  list[Id][\"observeInterval\"] = setInterval(() => {\r\n\t\tlet cmp = document.querySelector(`[dialog-key-id='${Id}']`);\r\n\t\tlet dmz = cmp && cmp.getBoundingClientRect();\r\n\t\tif (dmz) {\r\n\t\t  if (\r\n\t\t\tdmz.width !== list[Id][\"width\"] ||\r\n\t\t\tdmz.height !== list[Id][\"height\"]\r\n\t\t  ) {\r\n\t\t\tlist[Id][\"height\"] = dmz.height + 10;\r\n\t\t\tlist[Id][\"width\"] = dmz.width;\r\n\t\t\tupdStore(\"listDialog\", list);\r\n\t\t\tcallDispatchEvent(obsCode);\r\n\t\t  }\r\n\t\t}\r\n\t  }, 200);\r\n\t}\r\n  \r\n\tlist[Id][\"display\"] = true;\r\n\tif (data[\"zIndex\"]) {\r\n\t  list[Id][\"zIndex\"] = data[\"zIndex\"];\r\n\t}\r\n\tif (data[\"height\"]) {\r\n\t  list[Id][\"height\"] = data[\"height\"];\r\n\t}\r\n\tif (data[\"width\"]) {\r\n\t  list[Id][\"width\"] = data[\"width\"];\r\n\t}\r\n\tif (data[\"content\"]) {\r\n\t  list[Id][\"content\"] = data[\"content\"];\r\n\t}\r\n\tlist[Id][\"data\"] = _dataProps;\r\n\tupdStore(\"listDialog\", list);\r\n\tcallDispatchEvent(obsCode);\r\n\tsetTimeout(() => {\r\n\t\t// updComponentStore('listDialog',list);\r\n\t\tlet htm = document.getElementsByTagName(\"html\")[0];\r\n\t\thtm.classList.add(\"has-level-two\");\r\n\t\tupdStore(\"modalOpen\", Id);\r\n\t\tcallDispatchEvent(obsCode);\r\n\t}, 125);\r\n  };\r\n  \r\n  export const CloseModal = (data) => {\r\n\tlet list = getStore(\"listDialog\") || {};\r\n\tlet Id = data[\"id\"];\r\n\tif (list[Id]) {\r\n\t  if (list[Id][\"observeResize\"]) {\r\n\t\tif (list[Id][\"observeInterval\"]) {\r\n\t\t  clearInterval(list[Id][\"observeInterval\"]);\r\n\t\t}\r\n\t  }\r\n\t  list[Id][\"display\"] = false;\r\n\t  list[Id]?.data?.closeEvent?.();\r\n\t  updStore(\"listDialog\", list);\r\n\t  delete list[Id];\r\n\t  let doc = document.getElementsByTagName(\"body\")[0];\r\n\t  doc.style.overflowY = null\r\n\t  callDispatchEvent(obsCode);\r\n\t  setTimeout(() => {\r\n\t\tdelete list[Id];\r\n\t\t//updComponentStore('listDialog',list);\r\n\t\t//getDispatch()(setObserveCmpt())\r\n\t\tlet htm = document.getElementsByTagName(\"html\")[0];\r\n\t\thtm.classList.remove(\"has-level-two\");\r\n\t\tupdStore(\"modalOpen\", null);\r\n\t  }, 750);\r\n\t}\r\n  };\r\n  ","import { fetchEncryptStream, updStore, getStore, convertArray2Obj, ObjectKeys, callbackOnMemory, convertObj2Array, qryStore, csvJSON, gen16CodeId, fetchQueue } from \"../../../stores/Utils\";\n\n\n\n// import prodCSV from './Yansel_products_inventory - Artículos.json'\n\n\nexport const get_inventory_by_prod = async (pId,cb) => {\n    \n    let bdyq2 = {...getStore(qryStore())?.get_inventory_prod};\n    bdyq2.params = {\n        businessId:  getStore(\"profileUser\")?.businessId,\n        \":productId\": pId\n    }\n    const res = fetchEncryptStream(bdyq2);\n    const td = await res;\n    if (td) {\n        updStore(\"inv_products_list\", sortProducts(convertObj2Array(td.list),\"name\"));\n        updStore(\"inv_products_stock\", td.stock);\n        cb && cb();\n    }\n};\n\n\nexport const get_prod_stock = async (pId,cb) => {\n    \n    let bdyq2 = {...getStore(qryStore())?.get_prod_stock};\n    bdyq2.params = {\n        businessId:  getStore(\"profileUser\")?.businessId,\n        \"productId\": pId\n    }\n    const res = fetchEncryptStream(bdyq2);\n    const td = await res;\n    if (td) {\n        let products_stock = {...getStore(\"products_stock\")};\n        products_stock[pId] = td.stock;\n        updStore(\"products_stock\", products_stock);\n        cb && cb();\n    }\n};\n\n\n\n\nexport const getall_product = async (cb) => {\n    let bdyq2 = {...getStore(qryStore())?.all_prods};\n    bdyq2.params = {\n        businessId:  getStore(\"profileUser\")?.businessId\n    }\n    const res = fetchEncryptStream(bdyq2);\n    const td = await res;\n    if (td) {\n        updStore(\"products_list\", sortProducts(td,\"name\"));\n        updStore(\"products_ids\", convertArray2Obj(convertObj2Array(td),\"productId\"));\n        cb && cb();\n    }\n};\n\n\n\n\nexport const search_product = async (cb) => {\n\n    let bdyq2 = {...getStore(qryStore())?.search_prod};\n    bdyq2.params = {\n        businessId:  getStore(\"profileUser\")?.businessId,\n        limit: 120\n    }\n\n   \n\n    if(getStore(\"searchQry\").length>2){\n        getStore(\"searchQry\").split(\" \").map((qry,inDq)=>{\n            if(qry){\n                bdyq2.params[\":search\"+inDq] = qry.trim();\n            }\n        })\n        const res = fetchEncryptStream(bdyq2);\n        const td = await res;\n        if (td) {\n            updStore(\"products_list\", sortProducts(convertObj2Array(td),\"code\"));\n            cb && cb();\n        }\n    }else{\n        updStore(\"products_list\",null);\n        cb && cb();\n    }\n\n};\n\n\n\n\nexport const getall_movement = async (cb) => {\n    let bdyq2 = {...getStore(qryStore())?.all_entry_invoices};\n    bdyq2.params = {\n        businessId:  getStore(\"profileUser\")?.businessId\n    }\n    const res = fetchEncryptStream(bdyq2);\n    const td = await res;\n    if (td) {\n        updStore(\"movements_list\", sortProducts(td,\"date\"));\n        updStore(\"movements_ids\", convertArray2Obj(convertObj2Array(td),\"inventoryId\"));\n        cb && cb();\n    }\n   \n};\n\n\n\n\nexport const search_movement = async (cb) => {\n\n    let bdyq2 = {...getStore(qryStore())?.search_entry_invoice};\n    bdyq2.params = {\n        businessId:  getStore(\"profileUser\")?.businessId,\n        \":search\": getStore(\"searchMovQry\")\n    }\n    const res = fetchEncryptStream(bdyq2);\n    const td = await res;\n    if (td) {\n        updStore(\"movements_list\", sortProducts(convertObj2Array(td),\"code\"));\n        cb && cb();\n    }\n};\n\n\n\n\n\n\n\nexport const get_filter_by_acc = async (frm,cb) => {\n   \n};\n\n\n\n\nexport function GroupbyAcc(arr, isPay) {\n    let key =  \"product\";\n    var obj = {\n        \"operations\":[]\n    };\n    let balance = 0;\n\n    let arr1 = arr && ObjectKeys(arr)\n    if (arr1.length > 0) {\n      arr1.map((ele) => {\n        let s = arr[ele];\n        if(s[\"type\"]){\n            if(isPay){\n                balance += s[\"type\"] === \"debit\" ? s[\"amount\"] * -1 : s[\"amount\"] * 1;\n            }\n            else{\n                balance += s[\"type\"] === \"credit\" ? s[\"amount\"] * -1 : s[\"amount\"] * 1;\n            }\n            obj[\"operations\"].push(convert4acc(s));\n        }\n      });\n    } else {\n      obj = null;\n    }\n    return obj;\n  }\n\n\n\n  export function convert4acc(s) {\n    let nItm = {};\n    nItm[\"product\"] =  getStore(\"products_ids\")?.[s[\"product\"]];\n    nItm[\"sub_product\"] = getStore(\"sub_products_ids\")?.[s[\"subProduct\"]];\n    nItm[\"comprobanteId\"] = s[\"comprobanteId\"];\n    nItm[\"document\"] = s[\"document\"];\n    nItm[\"date\"] = s[\"date\"];\n    if(s[\"type\"]===\"credit\"){\n        nItm[\"debit\"] = 0;\n        nItm[\"credit\"] = s[\"amount\"];\n        \n    }\n    else if(s[\"type\"]===\"debit\"){\n        nItm[\"credit\"] = 0;\n        nItm[\"debit\"] = s[\"amount\"];\n    }\n    return nItm;\n  }\n\n\n\n  \n//  sorting episodes comparing inputs to save in cache\nexport const sortProducts = (td, key) =>\ncallbackOnMemory(\n\t\"sortProducts\",\n\t[td],\n\t() => {\n        let order = true;\n\t\tlet sortedA = td && td.sort((a, b) => {\n\t\t\tlet A = a[key];\n\t\t\tlet B = b[key];\n\t\t\tif (A < B) {\n\t\t\t\treturn order ? -1 : 1;\n\t\t\t}\n\t\t\tif (A > B) {\n\t\t\t\treturn order ? 1 : -1;\n\t\t\t}\n\t\t\treturn 0;\n        });\n\t\treturn sortedA;\n\t}\n);\n\n\n\n\nexport const calcSf2fromInch = ({w,h}) =>\ncallbackOnMemory(\n\t\"calcSf2fromInch\",\n\t[w,h],\n\t() => {\n        let square_inch = w*h;\n\t\treturn square_inch;\n\t}\n);\n\n\n\n\nexport const sortComprobantesByDate = (td) =>\ncallbackOnMemory(\n\t\"sortComprobantesByDate\",\n\t[td],\n\t() => {\n        let order = true;\n        let key = \"date\";\n\t\tlet sortedA = td && td.sort((a, b) => {\n\t\t\tlet A =(new Date(a[key])).getTime();\n\t\t\tlet B = (new Date(b[key])).getTime();\n\t\t\tif (A < B) {\n\t\t\t\treturn order ? -1 : 1;\n\t\t\t}\n\t\t\tif (A > B) {\n\t\t\t\treturn order ? 1 : -1;\n\t\t\t}\n\t\t\treturn 0;\n        });\n\t\treturn sortedA;\n\t}\n);\n\n\n\n\nexport const calcSubmayor = (td, product, subProduct) =>\ncallbackOnMemory(\n\t\"calcSubmayor\",\n    [td, product, subProduct],() => {\n        let order = true;\n        let key = \"date\";\n\t\tlet sortedA = td.sort((a, b) => {\n\t\t\tlet A =(new Date(a[key])).getTime();\n\t\t\tlet B = (new Date(b[key])).getTime();\n\t\t\tif (A < B) {\n\t\t\t\treturn order ? -1 : 1;\n\t\t\t}\n\t\t\tif (A > B) {\n\t\t\t\treturn order ? 1 : -1;\n\t\t\t}\n\t\t\treturn 0;\n        });\n\n       let prevBal = 0;\n\n        const saldo = (item)=>{\n            let itm = {...item};\n            if(item?.product?.type===\"credit\"){\n                itm[\"saldo\"] = prevBal +  (itm[\"credit\"]*1) - (itm[\"debit\"]*1); \n            }else{\n                itm[\"saldo\"] = prevBal + (itm[\"debit\"]*1) - (itm[\"credit\"]*1); \n            }\n           \n            prevBal = itm[\"saldo\"];\n            return itm;\n        }\n\n\t\treturn sortedA.map((d)=>saldo(d));\n\t}\n);\n\n\n\n\n\nexport const delete_product = async (productId, cb) => {\n    \n    let bdyq2 = {...getStore(qryStore())?.delete_prod};\n    bdyq2.params = {\n        businessId:  getStore(\"profileUser\")?.businessId,\n        productId: productId\n    }\n    const res = fetchEncryptStream(bdyq2);\n    const td = await res;\n    if (td) {\n        cb && cb();\n    }\n};\n\n\n\nexport const delete_inventory = async (invId, cb) => {\n    let bdyq2 = {...getStore(qryStore())?.delete_inventory};\n    bdyq2.params = {\n        businessId:  getStore(\"profileUser\")?.businessId,\n        \"inventoryId\": invId\n    }\n    const res = fetchEncryptStream(bdyq2);\n    const td = await res;\n    if (td) {\n        cb && cb();\n    }\n};\n\n\nexport const delete_movement = async (invId, cb) => {\n    let bdyq2 = {...getStore(qryStore())?.delete_entry_invoice};\n    bdyq2.params = {\n        businessId:  getStore(\"profileUser\")?.businessId,\n        \"entriesInvoiceId\": invId\n    }\n    const res = fetchEncryptStream(bdyq2);\n    const td = await res;\n    if (td) {\n        cb && cb();\n    }\n};\n\n\n\nexport const entry_invoice_acc_2 = async (invId, cb) => {\n    let bdyq2 = {...getStore(qryStore())?.entry_invoice_acc_2};\n    bdyq2.params = {\n        businessId:  getStore(\"profileUser\")?.businessId,\n        \"entriesInvoiceId\": invId\n    }\n    \n    const res = fetchEncryptStream(bdyq2);\n    const td = await res;\n    if (td) {\n        cb && cb(td);\n    }\n};\n\n\nexport const clearComprobante = async (invId, cb) => {\n    let bdyq2 = {...getStore(qryStore())?.upd_entry_invoice};\n    bdyq2.params = {\n        businessId:  getStore(\"profileUser\")?.businessId,\n        \"entriesInvoiceId\": invId\n    };\n    bdyq2.data2update= {comprobanteId:\"\"};\n    const res = fetchEncryptStream(bdyq2);\n    const td = await res;\n    if (td) {\n        cb && cb();\n    }\n};\n\n// \n\n\n\n\n\nexport const fill_inv = async () => {\n    \n   /** \n    let comp2save = []\n    invJs.map(tS=>{\n\n        let frm = {...tS}\n        if(frm.document === \"Apertura-0001\"){\n           \n            frm[\"date\"] = 1672549200000;\n            let bdyq2 = {...getStore(qryStore())?.add_opera};\n            bdyq2.params = {\n                businessId:  getStore(\"profileUser\")?.businessId\n            }\n            bdyq2.form=frm;\n            comp2save.push(bdyq2)\n        }\n       \n        \n    })\n    console.log(comp2save)\n    \n      \n    const promises = comp2save.map(async (qry2Sv) => {\n        const res = fetchEncryptStream(qry2Sv);\n        const td = await res;\n        if (td) {\n            //console.log(td)\n        }\n    })      \n    await Promise.all(promises);\n\n\n\n        itm[\"cloverId\"] = it2[\"ID de Clover\"];\n        itm[\"name\"] = it2[\"Nombre\"];\n        itm[\"altName\"] = it2[\"Nombre alternativo\"];\n        itm[\"price\"] = it2[\"Precio\"]*1;\n        itm[\"priceType\"] = it2[\"Tipo de precio\"] === \"Fijo\"? \"static\":\"dynamic\";\n        itm[\"priceUnit\"] = it2[\"Unidad de precio\"];\n        itm[\"productCode\"] = it2[\"Código del producto\"];\n        itm[\"sku\"] = it2[\"SKU\"];\n        itm[\"group\"] = it2[\"Grupos de modificadores\"];\n        itm[\"labels\"] = it2[\"Etiquetas\"];\n        itm[\"hidde\"] = it2[\"Oculto\"] === \"NO\"?false:true;\n   */\n\n};\n\nlet idsProds = {};\n\nexport const loadCSVInve = () => {\n    /*\n    let hh = prodCSV;\n    let prod = []\n    false && hh.map(it2=>{\n        let itm = {...it2};\n        let pId = gen16CodeId();\n        let fixname =  itm.name;\n        fixname =  fixname.split(';').join(\"\");\n        fixname =  fixname.split('\"').join(\"\");\n        fixname =  fixname.split('.').join(\"\");\n        itm.name = fixname;\n        if(idsProds[pId]){\n            pId = gen16CodeId();\n            itm[\"productId\"]  = pId;\n            idsProds[pId] = 1;\n        }else{\n            itm[\"productId\"] = pId;\n            idsProds[pId] = 1;\n        }\n        console.log(itm);\n\t\t\n\t\tlet bdyq2 = {\n\t\t\tquery: \"addProductsHRG\",\n\t\t\tparams: {\n\t\t\t\tbusinessId:  getStore(\"profileUser\")?.businessId\n\t\t\t},\n\t\t\tform:itm\n        };\n        prod.push(bdyq2);\n    });\n\n     */\n  //  fetchQueue(prod, fetchCSVInve)\n   \n}\n\nconst fetchCSVInve = async (qry2Sv) => {\n    const res = fetchEncryptStream(qry2Sv);\n    const td = await res;\n    if (td) {\n        return td;\n    }\n}\n\n\n// \n\nexport const rangeProdArr = (obj, range) =>\ncallbackOnMemory(\n\t\"rangeProdArr\",\n\t[obj,range],\n\t() => {\n        return obj ? ObjectKeys(obj).slice(0,range) : [];\n    }\n);","import { PDFDocument, StandardFonts, rgb, degrees } from 'pdf-lib'\nimport { getStore, ObjectKeys, blobfromArray, parseDateMMDDYY, getLabelTranslate } from '../../../stores/Utils';\n\nimport fontkit from '@pdf-lib/fontkit';\n\n\nlet heightPg = 0;\n\n\n\n\n\n\n\n\nexport const Invoice2Pdf = async (item) => {\n    \n \n\n  const pdfDoc = await PDFDocument.create()\n\n  pdfDoc.registerFontkit(fontkit);\n\n\n\n  var timesRomanFont = await pdfDoc.embedFont(StandardFonts.TimesRoman);\n  var TimesRomanBold = await pdfDoc.embedFont(StandardFonts.TimesRomanBold);\n  \n  var GSansBold = await pdfDoc.embedFont(StandardFonts.TimesRomanBold);\n\nif(getStore(\"modernFontReport\")){\n  let fontUrl = \"https://qvamarkets.com/gql_api/getStatic?fileName=Roboto-Bold.ttf\"\n  const fontBytes =  await fetch(fontUrl).then((res) => res.arrayBuffer());\n  TimesRomanBold = await pdfDoc.embedFont(fontBytes);\n\n\n\n  let fontUrlRoboto_italic = \"https://qvamarkets.com/gql_api/getStatic?fileName=ggSans-Italic.ttf\"\n  const fontBytes2 =  await fetch(fontUrlRoboto_italic).then((res) => res.arrayBuffer());\n  timesRomanFont = await pdfDoc.embedFont(fontBytes2);\n\n\n  let fontUrlGSB = \"https://qvamarkets.com/gql_api/getStatic?fileName=ggSans-Medium.ttf\"\n  const fontBytes_GSB =  await fetch(fontUrlGSB).then((res) => res.arrayBuffer());\n  GSansBold = await pdfDoc.embedFont(fontBytes_GSB);\n\n  \n}\n  // \"https://qvamarkets.com/gql_api/getStatic?fileName=gSans-Italic.woff2\"\n\n  // TimesRomanBold = await pdfDoc.embedFont(StandardFonts.TimesRomanBold);\n \n\n // let fontUrlRoboto_italic = \"https://qvamarkets.com/gql_api/getStatic?fileName=gSans-Medium.woff2\"\n \n\n \n  \n  let page = pdfDoc.addPage()\n  const { width, height } = page.getSize()\n  const fontSize = 10\n\n  heightPg =  height - 40;\n\n  \n\n\n\n\n/**************************************************************************/\n/**************************************************************************/\n/**************************************************************************/\n/**************************************************************************/\n/**************************************************************************/\n\n  const invoiceWidth = GSansBold.widthOfTextAtSize(item?.document , 12);\n\n  const invoiceLblWidth = timesRomanFont.widthOfTextAtSize(\"Invoice: \" , 11);\n\n  page.drawText(\"Invoice: \" , {\n      x: 580 - invoiceWidth - invoiceLblWidth,\n      y:  heightPg,\n      size: 11,\n      font: timesRomanFont,\n      color: rgb(0, 0, 0),\n  })\n  \n  page.drawText( item?.document, {\n      x: 580 - invoiceWidth,\n      y:  heightPg,\n      size: 12,\n      font: GSansBold,\n      color:  rgb(0, 0, 0),\n})\n\n\n/**************************************************************************/\n/**************************************************************************/\n/**************************************************************************/\n/**************************************************************************/\n/**************************************************************************/\n\n//fonts.gstatic.com/s/googlesans/v14/4UaGrENHsxJlGDuGo1OIlL3Kwp5MKg.woff2\n// https://fonts.gstatic.com/s/googlesans/v14/4UaGrENHsxJlGDuGo1OIlL3Owp4.woff2\n\nlet headeTH =  height - 30;\n\npage.drawText( \"Granite Concepts\", {\n  x: 20,\n  y:  headeTH,\n  size: 13,\n  font: TimesRomanBold,\n  color: rgb(0, 0, 0),\n})\n\npage.drawText(\"4504 Poplar Level Rd\" , {\n  x: 20,\n  y:  headeTH - 15,\n  size: 10,\n  font: timesRomanFont,\n  color: rgb(0, 0, 0),\n})\npage.drawText(\"Louisville, KY 40213\" , {\n  x: 20,\n  y: headeTH - 30,\n  size: 10,\n  font: timesRomanFont,\n  color: rgb(0, 0, 0),\n})\npage.drawText(\"(502) 742-2473\" , {\n  x: 20,\n  y: headeTH - 45,\n  size: 10,\n  font: TimesRomanBold,\n  color: rgb(0, 0, 0),\n})\n\npage.drawText(\"graniteconceptsky@gmail.com\" , {\n  x: 20,\n  y: headeTH - 60,\n  size: 10,\n  font: timesRomanFont,\n  color: rgb(0, 0, 0),\n})\npage.drawText(\"graniteconceptsky.com\" , {\n  x: 20,\n  y: headeTH - 75,\n  size: 10,\n  font: timesRomanFont,\n  color: rgb(0, 0, 0),\n})\n\n\n\n\n\n\n\n/**************************************************************************/\n/**************************************************************************/\n/**************************************************************************/\n/**************************************************************************/\n/**************************************************************************/\n\n\n\n\n  heightPg = heightPg -20;\n\n  \n  const docWidth = timesRomanFont.widthOfTextAtSize(\"Date: \" , 11);\n  const docWoWidth = TimesRomanBold.widthOfTextAtSize(parseDateMMDDYY(item?.date) +\"\", 12);\n\n  page.drawText(\"Date: \" , {\n      x: 580 - docWidth - docWoWidth,\n      y:  heightPg,\n      size: 11,\n      font: timesRomanFont,\n      color: rgb(0, 0, 0),\n  })\n\n  page.drawText(parseDateMMDDYY(item?.date) + \"\"  , {\n      x: 580 - docWoWidth,\n      y:  heightPg,\n      size: 12,\n      font: TimesRomanBold,\n      color: rgb(0.06, 0.06, 0.06),\n  })\n\n/**************************************************************************/\n/**************************************************************************/\n/**************************************************************************/\n/**************************************************************************/\n/**************************************************************************/\n\nheightPg = heightPg -20;\nlet customer = getStore(\"providers_ids\")?.[ item?.customer?.providerId]?.name;\n\n\nconst customerLblWidth = timesRomanFont.widthOfTextAtSize(\"Bill To: \" , 11);\n  const customerWidth = TimesRomanBold.widthOfTextAtSize(customer+\"\", 12);\n\n  page.drawText(\"Bill To: \" , {\n      x: 580 - customerLblWidth - customerWidth,\n      y:  heightPg,\n      size: 11,\n      font: timesRomanFont,\n      color: rgb(0, 0, 0),\n  })\n\n  page.drawText(customer+ \"\"  , {\n      x: 580 - customerWidth,\n      y:  heightPg,\n      size: 12,\n      font: TimesRomanBold,\n      color: rgb(0, 0, 0),\n})\n\n\n/**************************************************************************/\n/**************************************************************************/\n/**************************************************************************/\n/**************************************************************************/\n/**************************************************************************/\n\n\n\nheightPg = heightPg -50;\n\n\npage.drawRectangle({\n      x: 15,\n      y: heightPg + 1,\n      width: 560,\n      height: 0.85,\n      color: rgb(0.53, 0.53, 0.53),\n      borderColor: rgb(0.53, 0.53, 0.53),\n  });\n\npage.drawText(item?.description + \"\", {\n      x: 20,\n      y:  heightPg  -11,\n      size: 10,\n      font: timesRomanFont,\n      color: rgb(0, 0, 0),\n  })\n\nheightPg = heightPg -20;\n\n\npage.drawRectangle({\n      x: 15,\n      y: heightPg + 1,\n      width: 560,\n      height: 0.85,\n      color: rgb(0.53, 0.53, 0.53),\n      borderColor: rgb(0.53, 0.53, 0.53),\n  });\n\n\n \n  \n    heightPg = heightPg -18;\n\n      page.drawText(getLabelTranslate(4)+ \"\", {\n        x: 20,\n        y:  heightPg,\n        size: 13,\n        font: TimesRomanBold,\n        color: rgb(0, 0, 0),\n      })\n\n  \n  \n\n      const creditTWidth = TimesRomanBold.widthOfTextAtSize(getLabelTranslate(14)+ \"\", 12);\n\n      page.drawText(getLabelTranslate(10)+ \"\", {\n          x: 480 - creditTWidth,\n          y:  heightPg,\n          size: 12,\n          font: TimesRomanBold,\n          color: rgb(0, 0, 0),\n      }) \n      \n      const amountTWidth = TimesRomanBold.widthOfTextAtSize(getLabelTranslate(14)+ \"\", 12);\n\n      page.drawText(getLabelTranslate(14)+ \"\", {\n          x: 560 - amountTWidth,\n          y:  heightPg,\n          size: 12,\n          font: TimesRomanBold,\n          color: rgb(0, 0, 0),\n      }) \n \n      heightPg = heightPg -8;\n      page.drawRectangle({\n          x: 15,\n          y: heightPg + 1,\n          width: 560,\n          height: 0.95,\n          color: rgb(0.53, 0.53, 0.53),\n          borderColor: rgb(0.53, 0.53, 0.53),\n  });\n  \n\n  let arr = item?.products || [];\n   \n    Array.isArray(arr) && arr.map((itemP, Ind)=>{\n\n  \n  const productName = getStore(\"products_ids\")?.[itemP?.product]?.name;\n\n      heightPg = heightPg -16;\n\n      if(productName){\n          page.drawText(productName + \"\", {\n            x: 20,\n            y:  heightPg,\n            size: fontSize,\n            font: timesRomanFont,\n            color: rgb(0, 0, 0),\n          })\n    \n      }\n     \n     \n      \n    \n      let credit = itemP?.qty?(itemP?.qty*1)?.toFixed(2):\"0.00\";\n      const creditWidth = timesRomanFont.widthOfTextAtSize(credit + \"\", fontSize);\n\n      page.drawText(credit + \"\", {\n          x: 480 - creditWidth,\n          y:  heightPg,\n          size: fontSize,\n          font: timesRomanFont,\n          color: rgb(0, 0, 0),\n      })\n\n  let amount = itemP?.qty?(itemP?.salePrice*itemP?.qty*1)?.toFixed(2):\"0.00\";\n      const amountWidth = timesRomanFont.widthOfTextAtSize(amount + \"\", fontSize);\n\n      page.drawText(amount + \"\", {\n          x: 560 - amountWidth,\n          y:  heightPg,\n          size: fontSize,\n          font: timesRomanFont,\n          color: rgb(0, 0, 0),\n      })\n  \n      \n  })\n  \n\n\n  let arrE = ObjectKeys(item?.extras) || [];\n   \n    Array.isArray(arrE) && arrE.map((it, Ind)=>{\n\n  let itemP =  item.extras?.[it];\n  const productName = itemP.description;\n\n      heightPg = heightPg -16;\n\n      if(productName){\n          page.drawText(productName + \"\", {\n            x: 20,\n            y:  heightPg,\n            size: fontSize,\n            font: timesRomanFont,\n            color: rgb(0, 0, 0),\n          })\n    \n      }\n     \n     \n      \n   \n\n      let credit = itemP?.qty?(itemP?.qty*1)?.toFixed(2):\"0.00\";\n      const creditWidth = timesRomanFont.widthOfTextAtSize(credit + \"\", fontSize);\n\n      page.drawText(credit + \"\", {\n          x: 480 - creditWidth,\n          y:  heightPg,\n          size: fontSize,\n          font: timesRomanFont,\n          color: rgb(0, 0, 0),\n      })\n\n  let amount = itemP?.qty?(itemP?.salePrice*itemP?.qty*1)?.toFixed(2):\"0.00\";\n      const amountWidth = timesRomanFont.widthOfTextAtSize(amount + \"\", fontSize);\n\n      page.drawText(amount + \"\", {\n          x: 560 - amountWidth,\n          y:  heightPg,\n          size: fontSize,\n          font: timesRomanFont,\n          color: rgb(0, 0, 0),\n      })\n  \n      \n  })\n\n\n    heightPg = heightPg - 28;\n    page.drawRectangle({\n      x: 15,\n      y: heightPg + 1,\n      width: 560,\n      height: 0.85,\n      color: rgb(0.53, 0.53, 0.53),\n      borderColor: rgb(0.53, 0.53, 0.53),\n  });\n\nlet lblWTotals = 500;\n\n\nheightPg = heightPg - 20;\n\n/**************/\nlet sub_amount =  item?. amount ? item?.amount?.toFixed(2):\"0.00\";\n\nconst sub_amount_Width = timesRomanFont.widthOfTextAtSize(sub_amount + \"\", fontSize);\n\npage.drawText(sub_amount + \"\", {\n  x: 560 - sub_amount_Width,\n  y:  heightPg,\n  size: fontSize,\n  font: timesRomanFont,\n  color: rgb(0.13, 0.13, 0.13),\n})\n\nconst sub_amountlbl_Width = timesRomanFont.widthOfTextAtSize( \"SubTotal\", fontSize);\n\npage.drawText(\"SubTotal\", {\n  x: lblWTotals - sub_amountlbl_Width,\n  y:  heightPg,\n  size: fontSize,\n  font: timesRomanFont,\n  color: rgb(0, 0, 0),\n})\n\n/**************/\nheightPg = heightPg - 16;\nlet taxes =  item?. hasTax ? item?.hasTax?.toFixed(2):\"0.00\";\n\nconst taxes_Width = timesRomanFont.widthOfTextAtSize(taxes + \"\", fontSize);\n\npage.drawText(taxes + \"\", {\n  x: 560 - taxes_Width,\n  y:  heightPg,\n  size: fontSize,\n  font: timesRomanFont,\n  color: rgb(0.13, 0.13, 0.13),\n})\n\nconst taxlbl_Width = timesRomanFont.widthOfTextAtSize( \"Taxes\", fontSize);\n\npage.drawText(\"Taxes\", {\n  x: lblWTotals - taxlbl_Width,\n  y:  heightPg,\n  size: fontSize,\n  font: timesRomanFont,\n  color: rgb(0, 0, 0),\n})\n\n/**************/\n\nlet TotalAmount =  item?.hasTax? item?.hasTax + item?.amount : item?.amount*1;\n\nheightPg = heightPg - 16;\nlet tAm =  TotalAmount ? TotalAmount?.toFixed(2):\"0.00\";\n\nconst tAm_Width = GSansBold.widthOfTextAtSize(tAm + \"\", 11);\n\npage.drawText(tAm + \"\", {\n  x: 560 - tAm_Width,\n  y:  heightPg,\n  size: 11,\n  font: GSansBold,\n  color: rgb(0, 0, 0),\n})\n\nconst tAmlbl_Width = GSansBold.widthOfTextAtSize( \"Total\", 11);\n\npage.drawText(\"Total\", {\n  x: lblWTotals - tAmlbl_Width,\n  y:  heightPg,\n  size: 11,\n  font: GSansBold,\n  color: rgb(0, 0, 0),\n})\n\n\n  /**************/\n\n  \n  heightPg = heightPg - 16;\n  let advPay =  item?.hasAdvancePay ? (item?.hasAdvancePay*-1)?.toFixed(2):\"0.00\";\n  const advPay_Width = timesRomanFont.widthOfTextAtSize(  \"\" +advPay , 11);\n\n  page.drawText( \"\" +advPay, {\n    x: 560 - advPay_Width,\n    y:  heightPg,\n    size: 11,\n    font: timesRomanFont,\n    color: rgb(0.13, 0.13, 0.13),\n  })\n\n  const advPaylbl_Width = timesRomanFont.widthOfTextAtSize( \"Advance Payment\", 11);\n\n  page.drawText(\"Advance Payment\", {\n    x: lblWTotals - advPaylbl_Width,\n    y:  heightPg,\n    size: 11,\n    font: timesRomanFont,\n    color: rgb(0, 0, 0),\n  })\n\n  \n\n/**************/\n\nlet due =  TotalAmount + advPay*1;\n\nheightPg = heightPg - 16;\nlet tDue =  due ? due?.toFixed(2):\"0.00\";\n\nconst due_Width = GSansBold.widthOfTextAtSize(tDue + \"\", 11);\n\npage.drawText(tDue + \"\", {\n  x: 560 - due_Width,\n  y:  heightPg,\n  size: 11,\n  font: GSansBold,\n  color: rgb(0, 0, 0),\n})\n\nconst duelbl_Width = GSansBold.widthOfTextAtSize( \"Balance Due\", 11);\n\npage.drawText(\"Balance Due\", {\n  x: lblWTotals - duelbl_Width,\n  y:  heightPg,\n  size: 11,\n  font: GSansBold,\n  color: rgb(0, 0, 0),\n})\n\n\n\n  const pdfBytes = await pdfDoc.save();\n  let blobUrl = blobfromArray(pdfBytes)\n \n\n  window.open(blobUrl)\n}\n\n\n\n\n\n\n\n\n\n\n\n/**\n \n\n\n  let HelveticaFont = await pdfDoc.embedFont(StandardFonts.Helvetica);\n  let HelveticaBoldFont = await pdfDoc.embedFont(StandardFonts.HelveticaBold);\n  \n\n  let CourierFont = await pdfDoc.embedFont(StandardFonts.Courier);\n  let CourierBoldFont = await pdfDoc.embedFont(StandardFonts.CourierBold);\n\n  let ZapfDingbatsFont = await pdfDoc.embedFont(StandardFonts.ZapfDingbats);\n\n  \n\n\nheightPg = heightPg -20;\n\npage.drawText(\"Total: HelveticaFont \" , {\n  x: 20,\n  y:  heightPg,\n  size: 10,\n  font: HelveticaFont,\n  color: rgb(0, 0, 0),\n})\n\nheightPg = heightPg -20;\n\npage.drawText(\"Total: HelveticaBoldFont\" , {\n  x: 20,\n  y:  heightPg,\n  size: 10,\n  font: HelveticaBoldFont,\n  color: rgb(0, 0, 0),\n})\n\nheightPg = heightPg -20;\n\npage.drawText(\"Total: CourierFont\" , {\n  x: 20,\n  y:  heightPg,\n  size: 10,\n  font: CourierFont,\n  color: rgb(0, 0, 0),\n})\n\n\n\nheightPg = heightPg -20;\n\npage.drawText(\"Total: CourierBoldFont\" , {\n  x: 20,\n  y:  heightPg,\n  size: 10,\n  font: CourierBoldFont,\n  color: rgb(0, 0, 0),\n})\n\n\n\n\n\n\n */","import React , {useEffect, useState} from \"react\";\r\n\r\nimport \"./styles.css\"\r\nimport { getStore, parseDateMMDDYYYY, gen16CodeId, updStore, hasWritePrivilege, ObjectKeys, getLabelTranslate, blobfromArray, parseDateMMDDYY } from \"../../../stores/Utils\";\r\n\r\nimport { useNavigate } from \"react-router\";\r\nimport { CloseModal } from \"../../../components/DialogHRM\";\r\nimport { SvgIcon_Cmpt } from \"../../../components\";\r\nimport { get_balances_by_type } from \"../../CuentasContables/services/server_fetching\";\r\nimport { getall_product } from \"../../Inventory/services/server_fetching\";\r\nimport { getall_provider } from \"../../ProvidersCustomers/services/server_fetching\";\r\nimport { Invoice2Pdf } from \"../services/export_service\";\r\n\r\n\r\n\r\nconst Svg = SvgIcon_Cmpt();\r\n\r\n\r\n\r\nconst ViewInvoice  = ({ data, item }) => {\r\n\r\n\tconst [obs, set_obs] = useState(0);\r\n\r\n\r\n\t\r\n\tuseEffect(() => {\r\n\t\tupdStore(\"inv_products_list\", null);\r\n\t\tupdStore(\"inv_products_stock\",null);\r\n\r\n\t\tif(!(getStore(\"providers_ids\")?.[ item?.customer?.providerId]?.name)){\r\n\t\t\tgetall_provider(updObs);\r\n\t\t}\r\n\r\n\t\tif(!getStore(\"products_ids\")){\r\n\t\t\t//console.log(\"fetching products\")\r\n\t\t\tgetall_product(updObs);\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tget_balances_by_type(\"global_accounts\",\"global_account_params\",updObs);\r\n\t\tupdObs();\r\n\t\t//get_inventory_by_prod(item.productId,updObs)\r\n\t},[item.productId]);\r\n\r\n\tconst updObs =  () => {\r\n\t\tset_obs(gen16CodeId())\r\n\t}\r\n\r\n\r\n\r\n\r\n\tconst navigate = useNavigate();\r\n\r\n\tconst close =  (element) => {\r\n\t\tCloseModal({id:data.modalID});\r\n\t\t\r\n\t}\r\n\t\r\n\r\n\r\n\tlet TotalAmount =  item?.hasTax? item?.hasTax + item?.amount : item?.amount*1;\r\n\r\n\tconst printInvoice =  () => {\r\n\t\tlet data2print =  {...item};\r\n\t\tInvoice2Pdf(data2print)\r\n\r\n\t\t\r\n\t}\r\n\r\n\r\n\treturn (\r\n\t\t<div style={{\r\n\t\t\tmaxHeight: \"80vh\",\r\n\t\t\twidth: \"960px\",\r\n\t\t\toverflow: \"auto\",\r\n\t\t\tbackground: \"var(--hrm_palette-general-background-b)\",\r\n\t\t\tborderRadius: 13,\r\n\t\t\tpadding: \"10px 19px 30px\"\r\n\t\t}}>\r\n\t\t\t<div className=\"_dsplFlx \">\r\n\t\t\t\t<p className=\"title_collect gSansFont\">\r\n\t\t\t\t\t{ \"Invoice:\" } \r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"title_collect fntW600 gSansFont\" style={{color: \"#646cff\"}}>\r\n\t\t\t\t\t{ item?.document} \r\n\t\t\t\t</p>\r\n\t\t\t\t<div className=\"flexSpace\"/>\r\n\t\t\t\t{hasWritePrivilege()?\r\n\t\t\t\t<div className=\"code comprobante_id  gSansFont\" style={{color: \"#646cff\", paddingTop: 10}}>\r\n\t\t\t\t\t{item?.comprobanteId} \r\n\t\t\t\t</div>:null}\r\n\t\t\t\t<div className=\"icon_print\" onClick={printInvoice}>\r\n\t\t\t\t\t<Svg name={\"printer\"} color={\"var(--hrm_palette-inverse-background-b)\"}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"acc_dtls\" style={{marginTop: 10, marginLeft: 2}}>\r\n\t\t\t\r\n\t\t\t\t<div className=\"_dsplFlx\"  >\r\n\t\t\t\t\t<div className=\"name\">\r\n\t\t\t\t\t\t<div className=\" code gSansFont\" style={{ color: \"var(--hrm_palette-inverse-background-b)\"}} >\r\n\t\t\t\t\t\t\t{parseDateMMDDYYYY(item?.date)} \r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"flexSpace\"/>\r\n\t\t\t\t\t<div className=\"_dsplFlx\"  >\r\n\t\t\t\t\t\t<div className=\"name gSansFont\" style={{ marginRight: 5, color: \"var(--hrm_palette-item_coll_gray)\"}}>\r\n\t\t\t\t\t\t\tBill To: \r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"code gSansFont\" style={{color: \"#646cff\"}}>\r\n\t\t\t\t\t\t\t{ getStore(\"providers_ids\")?.[ item?.customer?.providerId]?.name } \r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t<div className=\"_dsplFlx \" style={{marginBottom: 8}}>\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"flexSpace\"/>\r\n\t\t\t\t<div className=\"_dsplFlx\"  >\r\n\t\t\t\t\t<div className=\"name gSansFont\" style={{color: \"var(--hrm_palette-item_coll_gray)\"}}>\r\n\t\t\t\t\t{item?.description} \r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\r\n\t\t\t</div>\r\n\r\n\r\n\r\n\r\n\t\t\t\r\n\t\t\t<div className=\"_dsplFlx hdr_bar purple\">\r\n\t\t\t\t<div className=\"tr_bar_70\"  style={{textAlign:\"left\", paddingLeft: 14}}>\r\n\t\t\t\t\t{getLabelTranslate(4)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"tr_bar_15 txt_alg_padd\" >\r\n\t\t\t\t\t{getLabelTranslate(10)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"tr_bar_15 txt_alg_padd\">\r\n\t\t\t\t\t{getLabelTranslate(14)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<div className=\"scollVh subMHeight\">\r\n\t\t\t{item.products && item.products?.map((element) => \r\n\t\t\t\t<ListingProducts \r\n\t\t\t\t\tkey={element.inventoryId} \r\n\t\t\t\t\telement={element} \r\n\t\t\t\t\tidKey={element.inventoryId} \r\n\t\t\t\t\tclose={close}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t{item.extras && ObjectKeys(item.extras)?.map((element) => \r\n\t\t\t\t<ListingExtras \r\n\t\t\t\t\tkey={element} \r\n\t\t\t\t\telement={item.extras[element]} \r\n\t\t\t\t\tidKey={element} \r\n\t\t\t\t\tclose={close}\r\n\t\t\t\t/>)}\r\n\t\t\t\t<div className=\"_dsplFlx totalsGrid\" style={{margin:\"19px 15px 10px\"}} >\r\n\t\t\t\t\t<div className=\"tr_bar_70\"/>\r\n\t\t\t\t\t<div className=\"tr_bar_30 brdTp\">\r\n\t\t\t\t\t\t<div className=\"_dsplFlx totals\"  >\r\n\t\t\t\t\t\t\t<div className=\"code tr_bar_70 gSansFont\"  >\r\n\t\t\t\t\t\t\t\t{\"Subtotal:\"} \r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"name tr_bar_30 gSansFont\" >\r\n\t\t\t\t\t\t\t\t${item?. amount?.toFixed(2)} \r\n\t\t\t\t\t\t\t</div>\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"_dsplFlx totals\" >\r\n\t\t\t\t\t\t\t<div className=\"code tr_bar_70 gSansFont\" >\r\n\t\t\t\t\t\t\t\t{\"tax:\"} \r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"name tr_bar_30 gSansFont\" >\r\n\t\t\t\t\t\t\t\t${item?. hasTax?.toFixed(2)} \r\n\t\t\t\t\t\t\t</div>\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"_dsplFlx totals\" >\r\n\t\t\t\t\t\t\t<div className=\"code tr_bar_70 fntW600 gSansFont\"  style={{color: \"var(--hrm_palette-inverse-background-b)\"}}>\r\n\t\t\t\t\t\t\t\t{\"Total:\"} \r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"name tr_bar_30  gSansFont fntW600\"  style={{color: \"var(--hrm_palette-inverse-background-b)\"}}>\r\n\t\t\t\t\t\t\t\t${TotalAmount?.toFixed(2)} \r\n\t\t\t\t\t\t\t</div>\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"_dsplFlx totals\" >\r\n\t\t\t\t\t\t\t<div className=\"code tr_bar_70 gSansFont\" >\r\n\t\t\t\t\t\t\t\t{\"Advance Payment:\"} \r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"name tr_bar_30  gSansFont\" >\r\n\t\t\t\t\t\t\t\t${item?. hasAdvancePay?.toFixed(2)} \r\n\t\t\t\t\t\t\t</div>\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"_dsplFlx totals\" >\r\n\t\t\t\t\t\t\t<div className=\"code tr_bar_70 fntW600 gSansFont\"   style={{color: \"#646cff\" }}>\r\n\t\t\t\t\t\t\t\t{\"Balance Due:\"} \r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"name tr_bar_30 fntW600 gSansFont\"  style={{color: \"#646cff\"}}>\r\n\t\t\t\t\t\t\t\t${(TotalAmount - item?. hasAdvancePay)?.toFixed(2)} \r\n\t\t\t\t\t\t\t</div>\t\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ViewInvoice;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst ListingProducts  = ({ element, idKey, close }) => {\r\n\tlet product = getStore(\"products_ids\")?.[element?.product];\r\n\r\n\tlet amount = element.qty*1 ?element.qty*1*element.salePrice:0;\r\n\treturn (\r\n\t\t<div className=\"_dsplFlx hdr_bar\">\r\n\t\t\t<div className=\"tr_bar_70 gSansFont\" style={{textAlign:\"left\", paddingLeft: 14}}>\r\n\t\t\t\t{product?.name}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"tr_bar_15 numbAlign gSansFont\">\r\n\t\t\t\t{(element.qty)?.toFixed(2)}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"tr_bar_15 numbAlign gSansFont\">\r\n\t\t\t\t{amount?.toFixed(2)}\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t</div>\r\n\t)\r\n\r\n}\r\n\r\n\r\nconst ListingExtras  = ({ element, idKey, close }) => {\r\n\r\n\r\n\treturn (\r\n\t\t<div className=\"_dsplFlx hdr_bar\">\r\n\t\t\t<div className=\"tr_bar_70  gSansFont\" style={{textAlign:\"left\", paddingLeft: 14}}>\r\n\t\t\t\t{element?.description}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"tr_bar_15 numbAlign gSansFont\" >\r\n\t\t\t\t{(element.qty*1)?.toFixed(2)}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"tr_bar_15 numbAlign gSansFont\">\r\n\t\t\t\t{(element.qty*1)?((element.qty*1)*element.salePrice*1)?.toFixed(2):\"\"}\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t</div>\r\n\t)\r\n\r\n}\r\n\r\n\r\n","import { fetchEncryptStream, updStore, getStore, gen16CodeId, convertArray2ObjGroupby, convertArray2Obj, ObjectKeys, callbackOnMemory, convertObj2Array, qryStore } from \"../../../stores/Utils\";\n\nexport const getall_provider = async (cb) => {\n    \n    let bdyq2 = {...getStore(qryStore())?.all_prov_cust};\n    bdyq2.params = {\n        businessId:  getStore(\"profileUser\")?.businessId\n    }\n    const res = fetchEncryptStream(bdyq2);\n    const td = await res;\n    if (td) {\n        updStore(\"providers_list\", sortProviders(convertObj2Array(td),\"code\"));\n        updStore(\"providers_ids\", convertArray2Obj(convertObj2Array(td),\"providerId\"));\n        cb && cb();\n    }\n};\n\n\n\n\nexport const search_provider = async (cb) => {\n    \n    let bdyq2 = {...getStore(qryStore())?.search_prov_cust};\n    bdyq2.params = {\n        businessId:  getStore(\"profileUser\")?.businessId,\n        \":search\": getStore(\"search_prov\")\n    }\n    const res = fetchEncryptStream(bdyq2);\n    const td = await res;\n    if (td) {\n        updStore(\"providers_list\", sortProviders(convertObj2Array(td),\"code\"));\n        cb && cb();\n    }\n};\n\n\n\n\nexport const get_filter_by_acc = async (frm,cb) => {\n    \n    let bdyq2 = {...getStore(qryStore())?.find_prov_cust};\n    bdyq2.params = {\n        businessId:  getStore(\"profileUser\")?.businessId,\n        \":provider\": frm.provider\n    }\n    if(frm?.subProvider){\n        bdyq2[\"params\"][\":sub_provider\"] = frm?.subProvider;\n        bdyq2[\"queryString\"] += ' AND subProvider contain :sub_provider';\n    }\n    const res = fetchEncryptStream(bdyq2);\n    const td = await res;\n    if (td && !td.error) {\n        updStore(\"submayor_list\", td);\n        updStore(\"submayor_group\", GroupbyAcc(td));\n    }\n    cb && cb();\n};\n\n\n\n\nexport function GroupbyAcc(arr, isPay) {\n    let key =  \"provider\";\n    var obj = {\n        \"operations\":[]\n    };\n    let balance = 0;\n\n    let arr1 = arr && ObjectKeys(arr)\n    if (arr1.length > 0) {\n      arr1.map((ele) => {\n        let s = arr[ele];\n        if(s[\"type\"]){\n            if(isPay){\n                balance += s[\"type\"] === \"debit\" ? s[\"amount\"] * -1 : s[\"amount\"] * 1;\n            }\n            else{\n                balance += s[\"type\"] === \"credit\" ? s[\"amount\"] * -1 : s[\"amount\"] * 1;\n            }\n            obj[\"operations\"].push(convert4acc(s));\n        }\n      });\n    } else {\n      obj = null;\n    }\n    return obj;\n  }\n\n\n\n  export function convert4acc(s) {\n    let nItm = {};\n    nItm[\"provider\"] =  getStore(\"providers_ids\")?.[s[\"provider\"]];\n    nItm[\"sub_provider\"] = getStore(\"sub_providers_ids\")?.[s[\"subProvider\"]];\n    nItm[\"comprobanteId\"] = s[\"comprobanteId\"];\n    nItm[\"document\"] = s[\"document\"];\n    nItm[\"date\"] = s[\"date\"];\n    if(s[\"type\"]===\"credit\"){\n        nItm[\"debit\"] = 0;\n        nItm[\"credit\"] = s[\"amount\"];\n        \n    }\n    else if(s[\"type\"]===\"debit\"){\n        nItm[\"credit\"] = 0;\n        nItm[\"debit\"] = s[\"amount\"];\n    }\n    return nItm;\n  }\n\n\n\n  \n//  sorting episodes comparing inputs to save in cache\nexport const sortProviders = (td, key) =>\ncallbackOnMemory(\n\t\"sortProviders\",\n\t[td],\n\t() => {\n        let order = true;\n\t\tlet sortedA = td && td.sort((a, b) => {\n\t\t\tlet A = a[key] * 1;\n\t\t\tlet B = b[key] *1;\n\t\t\tif (A < B) {\n\t\t\t\treturn order ? -1 : 1;\n\t\t\t}\n\t\t\tif (A > B) {\n\t\t\t\treturn order ? 1 : -1;\n\t\t\t}\n\t\t\treturn 0;\n        });\n\t\treturn sortedA;\n\t}\n);\n\n\nexport const sortSubProviders = (td, key) =>\ncallbackOnMemory(\n\t\"sortSubProviders\",\n\t[td],\n\t() => {\n        let order = true;\n\t\tlet sortedA = td && td.sort((a, b) => {\n\t\t\tlet A = a[key] * 1;\n\t\t\tlet B = b[key] *1;\n\t\t\tif (A < B) {\n\t\t\t\treturn order ? -1 : 1;\n\t\t\t}\n\t\t\tif (A > B) {\n\t\t\t\treturn order ? 1 : -1;\n\t\t\t}\n\t\t\treturn 0;\n        });\n\t\treturn sortedA;\n\t}\n);\n\n\n\n\nexport const sortComprobantesByDate = (td) =>\ncallbackOnMemory(\n\t\"sortComprobantesByDate\",\n\t[td],\n\t() => {\n        let order = true;\n        let key = \"date\";\n\t\tlet sortedA = td && td.sort((a, b) => {\n\t\t\tlet A =(new Date(a[key])).getTime();\n\t\t\tlet B = (new Date(b[key])).getTime();\n\t\t\tif (A < B) {\n\t\t\t\treturn order ? -1 : 1;\n\t\t\t}\n\t\t\tif (A > B) {\n\t\t\t\treturn order ? 1 : -1;\n\t\t\t}\n\t\t\treturn 0;\n        });\n\t\treturn sortedA;\n\t}\n);\n\n\n\n\nexport const calcSubmayor = (td, provider, subProvider) =>\ncallbackOnMemory(\n\t\"calcSubmayor\",\n    [td, provider, subProvider],() => {\n        let order = true;\n        let key = \"date\";\n\t\tlet sortedA = td.sort((a, b) => {\n\t\t\tlet A =(new Date(a[key])).getTime();\n\t\t\tlet B = (new Date(b[key])).getTime();\n\t\t\tif (A < B) {\n\t\t\t\treturn order ? -1 : 1;\n\t\t\t}\n\t\t\tif (A > B) {\n\t\t\t\treturn order ? 1 : -1;\n\t\t\t}\n\t\t\treturn 0;\n        });\n\n       let prevBal = 0;\n\n        const saldo = (item)=>{\n            let itm = {...item};\n            if(item?.provider?.type===\"credit\"){\n                itm[\"saldo\"] = prevBal +  (itm[\"credit\"]*1) - (itm[\"debit\"]*1); \n            }else{\n                itm[\"saldo\"] = prevBal + (itm[\"debit\"]*1) - (itm[\"credit\"]*1); \n            }\n           \n            prevBal = itm[\"saldo\"];\n            return itm;\n        }\n\n\t\treturn sortedA.map((d)=>saldo(d));\n\t}\n);\n\n\n\n\n\nexport const delete_provider = async (providerId, cb) => {\n\n    let bdyq2 = {...getStore(qryStore())?.delete_prov_cust};\n    bdyq2.params= {\n        businessId:  getStore(\"profileUser\")?.businessId,\n        providerId: providerId\n    };\n    const res = fetchEncryptStream(bdyq2);\n    const td = await res;\n    if (td) {\n        cb && cb();\n    }\n};\n\n"],"names":["obsCode","list","getStore","_list","ObserveEvent","Object","keys","map","dg","indg","dlg","visible","_Style","height","width","zIndex","ts","cmp2render","data","content","React","className","style","id","overlay","onClick","Id","document","getElementsByTagName","classList","remove","CloseModal","OpenModal","gen16CodeId","_dataProps","doc","overflowY","setInterval","cmp","querySelector","dmz","getBoundingClientRect","updStore","callDispatchEvent","setTimeout","add","clearInterval","closeEvent","get_inventory_by_prod","pId","cb","bdyq2","qryStore","get_inventory_prod","params","businessId","res","fetchEncryptStream","td","sortProducts","convertObj2Array","stock","get_prod_stock","products_stock","getall_product","all_prods","convertArray2Obj","search_product","search_prod","limit","length","split","qry","inDq","trim","getall_movement","all_entry_invoices","search_movement","search_entry_invoice","key","callbackOnMemory","sort","a","b","A","B","delete_product","productId","delete_prod","delete_inventory","invId","delete_movement","delete_entry_invoice","entry_invoice_acc_2","rangeProdArr","obj","range","ObjectKeys","slice","heightPg","Invoice2Pdf","item","PDFDocument","pdfDoc","registerFontkit","fontkit","embedFont","StandardFonts","timesRomanFont","TimesRomanBold","GSansBold","fetch","then","arrayBuffer","fontBytes","fontBytes2","fontBytes_GSB","page","addPage","getSize","fontSize","invoiceWidth","widthOfTextAtSize","invoiceLblWidth","drawText","x","y","size","font","color","rgb","headeTH","docWidth","docWoWidth","parseDateMMDDYY","date","customer","providerId","name","customerLblWidth","customerWidth","drawRectangle","borderColor","description","getLabelTranslate","creditTWidth","amountTWidth","arr","products","Array","isArray","itemP","Ind","productName","product","credit","qty","toFixed","creditWidth","amount","salePrice","amountWidth","arrE","extras","it","lblWTotals","sub_amount","sub_amount_Width","sub_amountlbl_Width","taxes","hasTax","taxes_Width","taxlbl_Width","TotalAmount","tAm","tAm_Width","tAmlbl_Width","advPay","hasAdvancePay","advPay_Width","advPaylbl_Width","tDue","due","due_Width","duelbl_Width","save","pdfBytes","blobUrl","blobfromArray","window","open","Svg","SvgIcon_Cmpt","useState","set_obs","useEffect","getall_provider","updObs","get_balances_by_type","close","useNavigate","element","modalID","maxHeight","overflow","background","borderRadius","padding","hasWritePrivilege","paddingTop","comprobanteId","data2print","marginTop","marginLeft","parseDateMMDDYYYY","marginRight","marginBottom","textAlign","paddingLeft","ListingProducts","idKey","inventoryId","ListingExtras","margin","all_prov_cust","sortProviders","search_provider","search_prov_cust","sortSubProviders","delete_provider","delete_prov_cust"],"sourceRoot":""}