"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[9075],{9075:(e,t,o)=>{o.r(t),o.d(t,{default:()=>b});var l=o(2791),i=(o(261),o(2350)),d=o(7689),a=o(9760),s=o(2647),r=o(4050),n=o(713),c=o(6677),v=o(6963),x=o(4e3);let u=0;var h=o(184);const m=(0,s.PU)(),b=e=>{var t,o,s,b,f,y,p;let{data:w,item:T}=e;const[z,F]=(0,l.useState)(0);(0,l.useEffect)((()=>{var e,t,o;(0,i.Rz)("inv_products_list",null),(0,i.Rz)("inv_products_stock",null),null!==(e=(0,i.bh)("providers_ids"))&&void 0!==e&&null!==(t=e[null===T||void 0===T||null===(o=T.customer)||void 0===o?void 0:o.providerId])&&void 0!==t&&t.name||(0,c.Je)(S),(0,i.bh)("products_ids")||(0,n.ii)(S),(0,r.Ht)("global_accounts","global_account_params",S),S()}),[T.productId]);const S=()=>{F((0,i.M5)())},j=((0,d.s0)(),e=>{(0,a.CloseModal)({id:w.modalID})});let N=null!==T&&void 0!==T&&T.hasTax?(null===T||void 0===T?void 0:T.hasTax)+(null===T||void 0===T?void 0:T.amount):1*(null===T||void 0===T?void 0:T.amount);let A=null!==T&&void 0!==T&&T.hasAdvancePay?null===T||void 0===T?void 0:T.hasAdvancePay:0;return(0,h.jsxs)("div",{style:{maxHeight:"94vh",width:"960px",overflow:"auto",background:"var(--hrm_palette-general-background-b)",borderRadius:13,padding:"10px 19px 30px"},children:[(0,h.jsxs)("div",{className:"_dsplFlx ",children:[(0,h.jsx)("p",{className:"title_collect gSansFont",children:"Invoice:"}),(0,h.jsx)("p",{className:"title_collect fntW600 gSansFont",style:{color:"#646cff"},children:null===T||void 0===T?void 0:T.document}),(0,h.jsx)("div",{className:"flexSpace"}),(0,i.I0)()?(0,h.jsx)("div",{className:"code comprobante_id  gSansFont",style:{color:"#646cff",paddingTop:10},children:null===T||void 0===T?void 0:T.comprobanteId}):null,(0,h.jsx)("div",{className:"icon_print",onClick:()=>{(async e=>{var t,o,l,d,a,s;const r=await v.PDFDocument.create();r.registerFontkit(x.Z);var n=await r.embedFont(v.StandardFonts.TimesRoman),c=await r.embedFont(v.StandardFonts.TimesRomanBold),h=await r.embedFont(v.StandardFonts.TimesRomanBold);if((0,i.bh)("modernFontReport")){let e=(0,i.bh)("Roboto-Bold.ttf");const t=await fetch(e).then((e=>e.arrayBuffer()));c=await r.embedFont(t);let o=(0,i.bh)("ggSans-Italic.ttf");const l=await fetch(o).then((e=>e.arrayBuffer()));n=await r.embedFont(l);let d=(0,i.bh)("ggSans-Medium.ttf");const a=await fetch(d).then((e=>e.arrayBuffer()));h=await r.embedFont(a)}let m=r.addPage();const{width:b,height:g}=m.getSize(),_=10;u=g-40;const f=h.widthOfTextAtSize(null===e||void 0===e?void 0:e.document,12),y=n.widthOfTextAtSize("Invoice: ",11);m.drawText("Invoice: ",{x:580-f-y,y:u,size:11,font:n,color:(0,v.rgb)(0,0,0)}),m.drawText(null===e||void 0===e?void 0:e.document,{x:580-f,y:u,size:12,font:h,color:(0,v.rgb)(0,0,0)});let p=g-30;m.drawText("Granite Concepts",{x:20,y:p,size:13,font:c,color:(0,v.rgb)(0,0,0)}),m.drawText("4504 Poplar Level Rd",{x:20,y:p-15,size:10,font:n,color:(0,v.rgb)(0,0,0)}),m.drawText("Louisville, KY 40213",{x:20,y:p-30,size:10,font:n,color:(0,v.rgb)(0,0,0)}),m.drawText("(502) 742-2473",{x:20,y:p-45,size:10,font:c,color:(0,v.rgb)(0,0,0)}),m.drawText("graniteconceptsky@gmail.com",{x:20,y:p-60,size:10,font:n,color:(0,v.rgb)(0,0,0)}),m.drawText("graniteconceptsky.com",{x:20,y:p-75,size:10,font:n,color:(0,v.rgb)(0,0,0)}),u-=20;const w=n.widthOfTextAtSize("Date: ",11),T=c.widthOfTextAtSize((0,i.Gv)(null===e||void 0===e?void 0:e.date)+"",12);m.drawText("Date: ",{x:580-w-T,y:u,size:11,font:n,color:(0,v.rgb)(0,0,0)}),m.drawText((0,i.Gv)(null===e||void 0===e?void 0:e.date)+"",{x:580-T,y:u,size:12,font:c,color:(0,v.rgb)(.06,.06,.06)}),u-=20;let z=null===(t=(0,i.bh)("providers_ids"))||void 0===t||null===(o=t[null===e||void 0===e||null===(l=e.customer)||void 0===l?void 0:l.providerId])||void 0===o?void 0:o.name;const F=n.widthOfTextAtSize("Bill To: ",11),S=c.widthOfTextAtSize(z+"",12);m.drawText("Bill To: ",{x:580-F-S,y:u,size:11,font:n,color:(0,v.rgb)(0,0,0)}),m.drawText(z+"",{x:580-S,y:u,size:12,font:c,color:(0,v.rgb)(0,0,0)}),u-=50,m.drawRectangle({x:15,y:u+1,width:560,height:.85,color:(0,v.rgb)(.53,.53,.53),borderColor:(0,v.rgb)(.53,.53,.53)}),m.drawText((null===e||void 0===e?void 0:e.description)+"",{x:20,y:u-11,size:10,font:n,color:(0,v.rgb)(0,0,0)}),u-=20,m.drawRectangle({x:15,y:u+1,width:560,height:.85,color:(0,v.rgb)(.53,.53,.53),borderColor:(0,v.rgb)(.53,.53,.53)}),u-=18,m.drawText((0,i.zE)(4)+"",{x:20,y:u,size:13,font:c,color:(0,v.rgb)(0,0,0)});const j=c.widthOfTextAtSize((0,i.zE)(14)+"",12);m.drawText((0,i.zE)(10)+"",{x:480-j,y:u,size:12,font:c,color:(0,v.rgb)(0,0,0)});const N=c.widthOfTextAtSize((0,i.zE)(14)+"",12);m.drawText((0,i.zE)(14)+"",{x:560-N,y:u,size:12,font:c,color:(0,v.rgb)(0,0,0)}),u-=8,m.drawRectangle({x:15,y:u+1,width:560,height:.95,color:(0,v.rgb)(.53,.53,.53),borderColor:(0,v.rgb)(.53,.53,.53)});let A=(null===e||void 0===e?void 0:e.products)||[];Array.isArray(A)&&A.map(((e,t)=>{var o,l,d,a;const s=null===(o=(0,i.bh)("products_ids"))||void 0===o||null===(l=o[null===e||void 0===e?void 0:e.product])||void 0===l?void 0:l.name;u-=16,s&&m.drawText(s+"",{x:20,y:u,size:_,font:n,color:(0,v.rgb)(0,0,0)});let r=null!==e&&void 0!==e&&e.qty?null===(d=1*(null===e||void 0===e?void 0:e.qty))||void 0===d?void 0:d.toFixed(2):"0.00";const c=n.widthOfTextAtSize(r+"",_);m.drawText(r+"",{x:480-c,y:u,size:_,font:n,color:(0,v.rgb)(0,0,0)});let x=null!==e&&void 0!==e&&e.qty?null===(a=(null===e||void 0===e?void 0:e.salePrice)*(null===e||void 0===e?void 0:e.qty)*1)||void 0===a?void 0:a.toFixed(2):"0.00";const h=n.widthOfTextAtSize(x+"",_);m.drawText(x+"",{x:560-h,y:u,size:_,font:n,color:(0,v.rgb)(0,0,0)})}));let I=(0,i._2)(null===e||void 0===e?void 0:e.extras)||[];Array.isArray(I)&&I.map(((t,o)=>{var l,i,d;let a=null===(l=e.extras)||void 0===l?void 0:l[t];const s=a.description;u-=16,s&&m.drawText(s+"",{x:20,y:u,size:_,font:n,color:(0,v.rgb)(0,0,0)});let r=null!==a&&void 0!==a&&a.qty?null===(i=1*(null===a||void 0===a?void 0:a.qty))||void 0===i?void 0:i.toFixed(2):"0.00";const c=n.widthOfTextAtSize(r+"",_);m.drawText(r+"",{x:480-c,y:u,size:_,font:n,color:(0,v.rgb)(0,0,0)});let x=null!==a&&void 0!==a&&a.qty?null===(d=(null===a||void 0===a?void 0:a.salePrice)*(null===a||void 0===a?void 0:a.qty)*1)||void 0===d?void 0:d.toFixed(2):"0.00";const h=n.widthOfTextAtSize(x+"",_);m.drawText(x+"",{x:560-h,y:u,size:_,font:n,color:(0,v.rgb)(0,0,0)})})),u-=28,m.drawRectangle({x:15,y:u+1,width:560,height:.85,color:(0,v.rgb)(.53,.53,.53),borderColor:(0,v.rgb)(.53,.53,.53)});let O=500;u-=20;let P=null!==e&&void 0!==e&&e.amount?null===e||void 0===e||null===(d=e.amount)||void 0===d?void 0:d.toFixed(2):"0.00";const R=n.widthOfTextAtSize(P+"",_);m.drawText(P+"",{x:560-R,y:u,size:_,font:n,color:(0,v.rgb)(.13,.13,.13)});const k=n.widthOfTextAtSize("SubTotal",_);m.drawText("SubTotal",{x:O-k,y:u,size:_,font:n,color:(0,v.rgb)(0,0,0)}),u-=16;let q=null!==e&&void 0!==e&&e.hasTax?null===e||void 0===e||null===(a=e.hasTax)||void 0===a?void 0:a.toFixed(2):"0.00";const B=n.widthOfTextAtSize(q+"",_);m.drawText(q+"",{x:560-B,y:u,size:_,font:n,color:(0,v.rgb)(.13,.13,.13)});const E=n.widthOfTextAtSize("Taxes",_);m.drawText("Taxes",{x:O-E,y:u,size:_,font:n,color:(0,v.rgb)(0,0,0)});let C=null!==e&&void 0!==e&&e.hasTax?(null===e||void 0===e?void 0:e.hasTax)+(null===e||void 0===e?void 0:e.amount):1*(null===e||void 0===e?void 0:e.amount);u-=16;let D=C?null===C||void 0===C?void 0:C.toFixed(2):"0.00";const Q=h.widthOfTextAtSize(D+"",11);m.drawText(D+"",{x:560-Q,y:u,size:11,font:h,color:(0,v.rgb)(0,0,0)});const M=h.widthOfTextAtSize("Total",11);m.drawText("Total",{x:O-M,y:u,size:11,font:h,color:(0,v.rgb)(0,0,0)}),u-=16;let L=null!==e&&void 0!==e&&e.hasAdvancePay?null===(s=-1*(null===e||void 0===e?void 0:e.hasAdvancePay))||void 0===s?void 0:s.toFixed(2):"0.00";const K=n.widthOfTextAtSize(""+L,11);m.drawText(""+L,{x:560-K,y:u,size:11,font:n,color:(0,v.rgb)(.13,.13,.13)});const U=n.widthOfTextAtSize("Advance Payment",11);m.drawText("Advance Payment",{x:O-U,y:u,size:11,font:n,color:(0,v.rgb)(0,0,0)});let W=C+1*L;u-=16;let $=W?null===W||void 0===W?void 0:W.toFixed(2):"0.00";const G=h.widthOfTextAtSize($+"",11);m.drawText($+"",{x:560-G,y:u,size:11,font:h,color:(0,v.rgb)(0,0,0)});const H=h.widthOfTextAtSize("Balance Due",11);m.drawText("Balance Due",{x:O-H,y:u,size:11,font:h,color:(0,v.rgb)(0,0,0)});const J=await r.save();let V=(0,i.ou)(J);window.open(V)})({...T})},children:(0,h.jsx)(m,{name:"printer",color:"var(--hrm_palette-inverse-background-b)"})})]}),(0,h.jsx)("div",{className:"acc_dtls",style:{marginTop:10,marginLeft:2},children:(0,h.jsxs)("div",{className:"_dsplFlx",children:[(0,h.jsx)("div",{className:"name",children:(0,h.jsx)("div",{className:" code gSansFont",style:{color:"var(--hrm_palette-inverse-background-b)"},children:(0,i.sJ)(null===T||void 0===T?void 0:T.date)})}),(0,h.jsx)("div",{className:"flexSpace"}),(0,h.jsxs)("div",{className:"_dsplFlx",children:[(0,h.jsx)("div",{className:"name gSansFont",style:{marginRight:5,color:"var(--hrm_palette-item_coll_gray)"},children:"Bill To:"}),(0,h.jsx)("div",{className:"code gSansFont",style:{color:"#646cff"},children:null===(t=(0,i.bh)("providers_ids"))||void 0===t||null===(o=t[null===T||void 0===T||null===(s=T.customer)||void 0===s?void 0:s.providerId])||void 0===o?void 0:o.name})]})]})}),(0,h.jsxs)("div",{className:"_dsplFlx ",style:{marginBottom:8},children:[(0,h.jsx)("div",{className:"flexSpace"}),(0,h.jsx)("div",{className:"_dsplFlx",children:(0,h.jsx)("div",{className:"name gSansFont",style:{color:"var(--hrm_palette-item_coll_gray)"},children:null===T||void 0===T?void 0:T.description})})]}),(0,h.jsxs)("div",{className:"_dsplFlx hdr_bar purple",children:[(0,h.jsx)("div",{className:"tr_bar_70",style:{textAlign:"left",paddingLeft:14},children:(0,i.zE)(4)}),(0,h.jsx)("div",{className:"tr_bar_15 txt_alg_padd",children:(0,i.zE)(10)}),(0,h.jsx)("div",{className:"tr_bar_15 txt_alg_padd",children:(0,i.zE)(14)})]}),(0,h.jsxs)("div",{className:"scollVh subMHeight",style:{height:"calc(84vh - 142px)"},children:[T.products&&(null===(b=T.products)||void 0===b?void 0:b.map((e=>(0,h.jsx)(g,{element:e,idKey:e.inventoryId,close:j},e.inventoryId)))),T.extras&&(null===(f=(0,i._2)(T.extras))||void 0===f?void 0:f.map((e=>(0,h.jsx)(_,{element:T.extras[e],idKey:e,close:j},e)))),(0,h.jsxs)("div",{className:"_dsplFlx totalsGrid",style:{margin:"19px 15px 10px"},children:[(0,h.jsx)("div",{className:"tr_bar_70"}),(0,h.jsxs)("div",{className:"tr_bar_30 brdTp",children:[(0,h.jsxs)("div",{className:"_dsplFlx totals",children:[(0,h.jsx)("div",{className:"code tr_bar_70 gSansFont",children:"Subtotal:"}),(0,h.jsxs)("div",{className:"name tr_bar_30 gSansFont",children:["$",null===T||void 0===T||null===(y=T.amount)||void 0===y?void 0:y.toFixed(2)]})]}),(0,h.jsxs)("div",{className:"_dsplFlx totals",children:[(0,h.jsx)("div",{className:"code tr_bar_60 gSansFont",children:"tax:"}),(0,h.jsxs)("div",{className:"name tr_bar_40 gSansFont",children:["$",null!==T&&void 0!==T&&T.hasTax?null===T||void 0===T?void 0:T.hasTax.toFixed(2):"0.00"]})]}),(0,h.jsxs)("div",{className:"_dsplFlx totals",children:[(0,h.jsx)("div",{className:"code tr_bar_60 fntW600 gSansFont",style:{color:"var(--hrm_palette-inverse-background-b)"},children:"Total:"}),(0,h.jsxs)("div",{className:"name tr_bar_40  gSansFont fntW600",style:{color:"var(--hrm_palette-inverse-background-b)"},children:["$",null===N||void 0===N?void 0:N.toFixed(2)]})]}),(0,h.jsxs)("div",{className:"_dsplFlx totals",children:[(0,h.jsx)("div",{className:"code tr_bar_60 gSansFont",children:"Advance Payment:"}),(0,h.jsxs)("div",{className:"name tr_bar_40  gSansFont",children:["$",null===A||void 0===A?void 0:A.toFixed(2)]})]}),(0,h.jsxs)("div",{className:"_dsplFlx totals",children:[(0,h.jsx)("div",{className:"code tr_bar_60 fntW600 gSansFont",style:{color:"#646cff"},children:"Balance Due:"}),(0,h.jsxs)("div",{className:"name tr_bar_40 fntW600 gSansFont",style:{color:"#646cff"},children:["$",null===(p=N-A)||void 0===p?void 0:p.toFixed(2)]})]})]})]})]})]})},g=e=>{var t,o;let{element:l,idKey:d,close:a}=e,s=null===(t=(0,i.bh)("products_ids"))||void 0===t?void 0:t[null===l||void 0===l?void 0:l.product],r=1*l.qty?1*l.qty*l.salePrice:0;return(0,h.jsxs)("div",{className:"_dsplFlx hdr_bar",children:[(0,h.jsx)("div",{className:"tr_bar_70 gSansFont",style:{textAlign:"left",paddingLeft:14},children:null===s||void 0===s?void 0:s.name}),(0,h.jsx)("div",{className:"tr_bar_15 numbAlign gSansFont",children:null===(o=l.qty)||void 0===o?void 0:o.toFixed(2)}),(0,h.jsx)("div",{className:"tr_bar_15 numbAlign gSansFont",children:null===r||void 0===r?void 0:r.toFixed(2)})]})},_=e=>{var t,o;let{element:l,idKey:i,close:d}=e;return(0,h.jsxs)("div",{className:"_dsplFlx hdr_bar",children:[(0,h.jsx)("div",{className:"tr_bar_70  gSansFont",style:{textAlign:"left",paddingLeft:14},children:null===l||void 0===l?void 0:l.description}),(0,h.jsx)("div",{className:"tr_bar_15 numbAlign gSansFont",children:null===(t=1*l.qty)||void 0===t?void 0:t.toFixed(2)}),(0,h.jsx)("div",{className:"tr_bar_15 numbAlign gSansFont",children:1*l.qty?null===(o=1*l.qty*l.salePrice*1)||void 0===o?void 0:o.toFixed(2):""})]})}},6677:(e,t,o)=>{o.d(t,{Je:()=>i,Qn:()=>r,UO:()=>d,mQ:()=>s});var l=o(2350);const i=async e=>{var t,o;let i={...null===(t=(0,l.bh)((0,l.hQ)()))||void 0===t?void 0:t.all_prov_cust};i.params={businessId:null===(o=(0,l.bh)("profileUser"))||void 0===o?void 0:o.businessId,year:(0,l.bh)("date_current_year")};const d=(0,l.I7)(i),s=await d;s&&((0,l.Rz)("providers_list",a((0,l.jQ)(s),"name",1)),(0,l.Rz)("providers_ids",(0,l.ME)((0,l.jQ)(s),"providerId")),e&&e())},d=async e=>{var t,o;let i={...null===(t=(0,l.bh)((0,l.hQ)()))||void 0===t?void 0:t.search_prov_cust};i.params={businessId:null===(o=(0,l.bh)("profileUser"))||void 0===o?void 0:o.businessId,":search":(0,l.bh)("search_prov"),year:(0,l.bh)("date_current_year")};const d=(0,l.I7)(i),s=await d;s&&((0,l.Rz)("providers_list",a((0,l.jQ)(s),"name",1)),e&&e())};const a=(e,t,o)=>(0,l.MV)("sortProviders",[e],(()=>e&&e.sort(((e,l)=>{let i=1*e[t],d=1*l[t];return i<d?o?-1:1:i>d?o?1:-1:0})))),s=(e,t)=>(0,l.MV)("sortSubProviders",[e],(()=>e&&e.sort(((e,o)=>{let l=1*e[t],i=1*o[t];return l<i?-1:l>i?1:0})))),r=async(e,t)=>{var o,i;let d={...null===(o=(0,l.bh)((0,l.hQ)()))||void 0===o?void 0:o.delete_prov_cust};d.params={businessId:null===(i=(0,l.bh)("profileUser"))||void 0===i?void 0:i.businessId,providerId:e,year:(0,l.bh)("date_current_year")};const a=(0,l.I7)(d);await a&&t&&t()}},261:()=>{}}]);
//# sourceMappingURL=9075.9207dcae.chunk.js.map