"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[9075,9760],{9760:function(e,n,t){t.r(n),t.d(n,{CloseModal:function(){return l},OpenModal:function(){return c},default:function(){return d}});var r=t(2791),o=t(5408),i=t(2350),a=t(184),s="listDialog_mdh392",d=function(){var e=(0,i.bh)("listDialog")||{},n=((0,o.Z)(s),Object.keys(e));return(0,a.jsx)(a.Fragment,{children:n.map((function(n,t){var o=e[n];if(o&&o.visible){var i={};o.height&&(i.heigth=o.height),o.width,o.zIndex&&(i.zIndex=o.zIndex-1);var s={zIndex:o.zIndex},d=null,c=o.data;return o.content&&(d=r.cloneElement(o.content,{data:c})),(0,a.jsxs)("div",{className:"ltr-1kbnjow",style:i,children:[(0,a.jsx)("div",{className:"ltr-hoe9xz",children:(0,a.jsx)("div",{className:"ltr-1wao6ny",style:s,id:n,children:d})}),o.data.overlay?(0,a.jsx)("div",{className:"DialogHRMOverlay ".concat(o.visible?"active":""),onClick:function(){var e;e=n,document.getElementsByTagName("html")[0].classList.remove("has-level-two"),l({id:e})}}):null]},n)}}))})},c=function(e){var n=(0,i.bh)("listDialog")||{},t=(0,i.M5)();n[t]||(n[t]={}),n[t].visible=!0;var r={};e.props?(r=e.props).modalID=t:r.modalID=t;var o=document.getElementsByTagName("body")[0];null!==o&&void 0!==o&&o.style&&(o.style.overflowY="hidden"),n[t].isView=e.isView,n[t].observeResize=e.observeResize,n[t].observeResize&&(n[t].observeInterval=setInterval((function(){var e=document.querySelector("[dialog-key-id='".concat(t,"']")),r=e&&e.getBoundingClientRect();r&&(r.width===n[t].width&&r.height===n[t].height||(n[t].height=r.height+10,n[t].width=r.width,(0,i.Rz)("listDialog",n),(0,i.wt)(s)))}),200)),n[t].display=!0,e.zIndex&&(n[t].zIndex=e.zIndex),e.height&&(n[t].height=e.height),e.width&&(n[t].width=e.width),e.content&&(n[t].content=e.content),n[t].data=r,(0,i.Rz)("listDialog",n),(0,i.wt)(s),setTimeout((function(){document.getElementsByTagName("html")[0].classList.add("has-level-two"),(0,i.Rz)("modalOpen",t),(0,i.wt)(s)}),125)},l=function(e){var n,t,r,o=(0,i.bh)("listDialog")||{},a=e.id;o[a]&&(o[a].observeResize&&o[a].observeInterval&&clearInterval(o[a].observeInterval),o[a].display=!1,null===(n=o[a])||void 0===n||null===(t=n.data)||void 0===t||null===(r=t.closeEvent)||void 0===r||r.call(t),(0,i.Rz)("listDialog",o),delete o[a],document.getElementsByTagName("body")[0].style.overflowY=null,(0,i.wt)(s),setTimeout((function(){delete o[a],document.getElementsByTagName("html")[0].classList.remove("has-level-two"),(0,i.Rz)("modalOpen",null)}),750))}},4050:function(e,n,t){t.d(n,{Ht:function(){return y},Jy:function(){return v},S:function(){return T},T7:function(){return x},TP:function(){return _},Y1:function(){return m},ZX:function(){return l},_0:function(){return c},bs:function(){return g},eK:function(){return d},h1:function(){return b},i_:function(){return w},rs:function(){return f},y1:function(){return I}});var r=t(4165),o=t(1413),i=t(5861),a=t(2350),s=t(15),d=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var t,i,d,c,l,u,v,f,h,p,m;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(t=(0,a.bh)("accounts_summary_by_months"))||void 0===t||!t.balanceId){e.next=11;break}return(c=(0,o.Z)({},null===(i=(0,a.bh)((0,a.hQ)()))||void 0===i?void 0:i.calc_sub_myr)).params={businessId:null===(d=(0,a.bh)("profileUser"))||void 0===d?void 0:d.businessId,balanceId:null===t||void 0===t?void 0:t.balanceId},l=(0,a.I7)(c),e.next=7,l;case 7:(u=e.sent)&&(t.summary=u,(0,a.Rz)("accounts_summary_by_months",t),(0,s.OpenToast)({text:"Accounts Summary Updated",timeout:3500}),n&&n()),e.next=22;break;case 11:return(h={}).balanceId=(0,a.M5)(),h.type="accounts_summary_by_months",(p=(0,o.Z)({},null===(v=(0,a.bh)((0,a.hQ)()))||void 0===v?void 0:v.add_balances)).params={businessId:null===(f=(0,a.bh)("profileUser"))||void 0===f?void 0:f.businessId},p.form=h,m=(0,a.I7)(p),e.next=20,m;case 20:e.sent&&((0,a.Rz)("accounts_summary_by_months",h),(0,s.OpenToast)({text:"Something went Wrong. try again later",timeout:3500}),n&&n());case 22:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),c=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var t,i,s,d,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=(0,o.Z)({},null===(t=(0,a.bh)((0,a.hQ)()))||void 0===t?void 0:t.all_accounts)).params={businessId:null===(i=(0,a.bh)("profileUser"))||void 0===i?void 0:i.businessId},d=(0,a.I7)(s),e.next=5,d;case 5:(c=e.sent)&&((0,a.Rz)("account_list",p(c,"code")),(0,a.Rz)("account_ids",(0,a.ME)(c,"accountId")),n&&n());case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),l=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var t,i,s,d,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=(0,o.Z)({},null===(t=(0,a.bh)((0,a.hQ)()))||void 0===t?void 0:t.all_sub_account)).params={businessId:null===(i=(0,a.bh)("profileUser"))||void 0===i?void 0:i.businessId},d=(0,a.I7)(s),e.next=5,d;case 5:(l=e.sent)&&((0,a.Rz)("sub_account_list",m(l,"subAccount")),(0,a.Rz)("sub_account_group",u(l,"accountId")),(0,a.Rz)("sub_account_ids",(0,a.ME)(l,"sub_accountId")),c(),n&&n());case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();function u(e,n){n=n||"id";var t={};return e.length>0?e.map((function(e){e.subAccount&&(t[e[n]]||(t[e[n]]=[]),t[e[n]].push(e))})):t=null,t}var v=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var t,i,s,d,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=(0,o.Z)({},null===(t=(0,a.bh)((0,a.hQ)()))||void 0===t?void 0:t.search_account)).params={businessId:null===(i=(0,a.bh)("profileUser"))||void 0===i?void 0:i.businessId,":search":(0,a.bh)("searchQry")},d=(0,a.I7)(s),e.next=5,d;case 5:(c=e.sent)&&((0,a.Rz)("account_list",p((0,a.jQ)(c),"code")),n&&n());case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),f=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,t){var i,s,d,c,l,u,v;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(l=(0,o.Z)({},null===(i=(0,a.bh)((0,a.hQ)()))||void 0===i?void 0:i.filter_search_opera)).params={businessId:null===(s=(0,a.bh)("profileUser"))||void 0===s?void 0:s.businessId,":account":null===n||void 0===n?void 0:n.account,":subAccount":null===n||void 0===n?void 0:n.subAccount,":date1":null===(d=(0,a.bh)("date_range_submayor"))||void 0===d?void 0:d.initDate,":date2":null===(c=(0,a.bh)("date_range_submayor"))||void 0===c?void 0:c.lastDate},u=(0,a.I7)(l),e.next=5,u;case 5:(v=e.sent)&&!v.error&&((0,a.Rz)("submayor_list",v),(0,a.Rz)("submayor_group",h(v))),t&&t();case 8:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();function h(e,n){var t={operations:[]},r=e&&(0,a._2)(e);return r.length>0?r.map((function(n){var r=e[n];r.type&&t.operations.push(function(e){var n,t,r={};r.account=null===(n=(0,a.bh)("account_ids"))||void 0===n?void 0:n[e.account],r.sub_account=null===(t=(0,a.bh)("sub_account_ids"))||void 0===t?void 0:t[e.subAccount],r.comprobanteId=e.comprobanteId,r.document=e.document,r.date=e.date,"credit"===e.type?(r.debit=0,r.credit=e.amount):"debit"===e.type&&(r.credit=0,r.debit=e.amount);return r}(r))})):t=null,t}var p=function(e,n){return(0,a.MV)("sortAccounts",[e,n],(function(){return e&&e.sort((function(e,t){var r=1*e[n],o=1*t[n];return r<o?-1:r>o?1:0}))}))},m=function(e,n){return(0,a.MV)("sortSubAccounts",[e],(function(){return e&&e.sort((function(e,t){var r=1*e[n],o=1*t[n];return r<o?-1:r>o?1:0}))}))},b=function(e){return(0,a.MV)("sortComprobantesByDate",[e],(function(){var n="date";return e.sort((function(e,t){var r=e[n],o=t[n];return r<o?-1:r>o?1:0}))}))},x=function(e,n,t,r){return(0,a.MV)("calcSubmayor",[e,n,t,r],(function(){var r,i="date",s=new Date(null===(r=(0,a.bh)("date_range_submayor"))||void 0===r?void 0:r.initDate).getMonth(),d=T(s,{account:n,subAccount:t},"calcSubmayor")||0,c=e&&e.sort((function(e,n){var t=e[i],r=n[i];return t<r?-1:t>r?1:0}));return c.map((function(e){return function(e){var n,t=(0,o.Z)({},e);return"credit"===(null===e||void 0===e||null===(n=e.account)||void 0===n?void 0:n.type)?t.saldo=d+1*t.credit-1*t.debit:t.saldo=d+1*t.debit-1*t.credit,d=t.saldo,t}(e)}))}))};var _=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var t,i,s,d;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,o.Z)({},null===(t=(0,a.bh)((0,a.hQ)()))||void 0===t?void 0:t.get_balance_general_param),s=(0,a.I7)(i),e.next=4,s;case 4:(d=e.sent)&&!d.error&&((0,a.Rz)("balance_general_param",null===d||void 0===d?void 0:d.general),(0,a.Rz)("result_sheet_params",null===d||void 0===d?void 0:d.result),(0,a.Rz)("balance_general_upd_flds",null===d||void 0===d?void 0:d.general_flds),(0,a.Rz)("result_sheet_upd_flds",null===d||void 0===d?void 0:d.result_flds)),n&&n();case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),y=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,t,i){var s,d,c,l,u,v,f;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=(0,o.Z)({},null===(s=(0,a.bh)((0,a.hQ)()))||void 0===s?void 0:s.find_balances)).params={businessId:null===(d=(0,a.bh)("profileUser"))||void 0===d?void 0:d.businessId,":type":n},l=(0,a.I7)(c),e.next=5,l;case 5:(u=e.sent)&&!u.error&&(v=(0,a._2)(u)[0],f=u[v],(0,a.Rz)(t,f),(0,a.Rz)(t+"_bck",(0,o.Z)({},f))),i&&i();case 8:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),g=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var n,t,i,s,d,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=(0,o.Z)({},null===(n=(0,a.bh)((0,a.hQ)()))||void 0===n?void 0:n.calc_balance_comprobacion)).params={businessId:null===(t=(0,a.bh)("profileUser"))||void 0===t?void 0:t.businessId},s=(0,a.I7)(i),e.next=5,s;case 5:if(!(d=e.sent)||d.error){e.next=9;break}return c=function(e){var n,t,r,o,i=null===(n=(0,a.bh)("account_ids"))||void 0===n?void 0:n[e.accountId],s=e.subAccount?null===(t=d[e.accountId])||void 0===t||null===(r=t.sub[e.sub_accountId])||void 0===r?void 0:r.saldo:null===(o=d[e.accountId])||void 0===o?void 0:o.saldo;return{cuenta:i.code+"",nombre:i.name,sub_cuenta:e.subAccount?e.subAccount:"",nombre_sub_cuenta:e.subAccount?e.subAccountName:"",saldo:s||0,type:i.type}},e.abrupt("return",p((0,a.bh)("sub_account_list").map(c),"cuenta"));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function w(e,n,t){return e.map((function(e){return{date:(0,a.Gv)(e.date),document:e.document,comprobante:e.comprobanteId,description:e.description,debito:e.debit,credito:e.credit,saldo:e.saldo,cuenta:n,sub_cuenta:t||""}}))}var I=function(e,n,t){var r=z(e,"date"),o=function(e){var n={};for(var t in e)n[t]=e[t];return n}(r),i=function(e){var n={};for(var t in e)n[t]=Z(e[t]);return n}(n),a={},s={},d={},c={},l=r,u=i;t&&(l=i,u=r);var v=function(e){if(a[e.comprobante]||(a[e.comprobante]=e),s[e.comprobante])return delete s[e.comprobante],1},f=function(e){if(!s[e.comprobante])return s[e.comprobante]=e,1},h=function(e,n){for(var t in o){var r,i,a=o[t],s=1*e.amount,l=s>0?1*a.debito:-1*a.credito;if(d[""+n])break;var u=null===(r=a.documento)||void 0===r?void 0:r.trim(),h=null===(i=e.checkOrSlip)||void 0===i?void 0:i.trim();if(h&&u===h&&l===s){d[""+n]=""+t,c[""+t]=""+n,v(a),delete o[t];break}if(l===s){d[""+n]=""+t,c[""+t]=""+n,v(a),delete o[t];break}f(a)}};for(var p in u){var m=u[p];m.checkOrSlip&&h(m,p)}for(var b in u){h(u[b],b)}var x=[];for(var _ in u){var y=u[_];d[_]?(y.comprobante=l[d[_]].comprobante,y.document=l[d[_]].documento,x.push(y)):(y.comprobante="",y.document="",x.push(y))}return{ready:x,cmpbNotInBank:s}},z=function(e,n){return e&&e.sort((function(e,t){var r=(0,a.Vd)(e[n]),o=(0,a.Vd)(t[n]);return r<o?-1:r>o?1:0}))},Z=function(e){var n=(0,o.Z)({},e);return n.hasOwnProperty("Date")&&(n.date=n.Date,delete n.Date),n.hasOwnProperty("Posting Date")&&(n.date=n["Posting Date"],delete n["Posting Date"]),n.hasOwnProperty("Check Number")&&(n.checkOrSlip=n["Check Number"],delete n["Check Number"]),n.hasOwnProperty('"Check Number"')&&(n.checkOrSlip=n['"Check Number"'],delete n['"Check Number"']),n.hasOwnProperty("Check or Slip #")&&(n.checkOrSlip=n["Check or Slip #"],delete n["Check or Slip #"]),n.hasOwnProperty("Amount")&&(n.amount=n.Amount,delete n.Amount),n.hasOwnProperty("Documento")&&(n.document=n.Documento,delete n.Documento),n.hasOwnProperty("Description")&&(n.description=n.Description,delete n.Description),n},T=function(e,n,t){return(0,a.MV)("getPrevBalance",[e,n,t],(function(){var t,r,o=n.account;n.subAccount&&(o=n.account+"_"+n.subAccount);var i=null===(t=(0,a.bh)("accounts_summary_by_months"))||void 0===t||null===(r=t.summary)||void 0===r?void 0:r[o],s=e-1,d=0;if((0,a.UE)(null===i||void 0===i?void 0:i[s])){var c=0;Array.from(Array(e).keys()).map((function(e){var n=(0,a.Zv)(i[e],2);c=1*c+1*n})),d=c}return d}))}},713:function(e,n,t){t.d(n,{B8:function(){return x},QJ:function(){return u},Rd:function(){return d},VI:function(){return b},Ve:function(){return l},WA:function(){return p},ZW:function(){return s},Zj:function(){return f},dZ:function(){return v},ii:function(){return c},nj:function(){return h},tH:function(){return m}});var r=t(4165),o=t(1413),i=t(5861),a=t(2350),s=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,t){var i,s,d,c,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(d=(0,o.Z)({},null===(i=(0,a.bh)((0,a.hQ)()))||void 0===i?void 0:i.get_inventory_prod)).params={businessId:null===(s=(0,a.bh)("profileUser"))||void 0===s?void 0:s.businessId,":productId":n},c=(0,a.I7)(d),e.next=5,c;case 5:(l=e.sent)&&((0,a.Rz)("inv_products_list",f((0,a.jQ)(l.list),"name")),(0,a.Rz)("inv_products_stock",l.stock),t&&t());case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),d=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,t){var i,s,d,c,l,u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(d=(0,o.Z)({},null===(i=(0,a.bh)((0,a.hQ)()))||void 0===i?void 0:i.get_prod_stock)).params={businessId:null===(s=(0,a.bh)("profileUser"))||void 0===s?void 0:s.businessId,productId:n},c=(0,a.I7)(d),e.next=5,c;case 5:(l=e.sent)&&((u=(0,o.Z)({},(0,a.bh)("products_stock")))[n]=l.stock,(0,a.Rz)("products_stock",u),t&&t());case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),c=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var t,i,s,d,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=(0,o.Z)({},null===(t=(0,a.bh)((0,a.hQ)()))||void 0===t?void 0:t.all_prods)).params={businessId:null===(i=(0,a.bh)("profileUser"))||void 0===i?void 0:i.businessId},d=(0,a.I7)(s),e.next=5,d;case 5:(c=e.sent)&&((0,a.Rz)("products_list",f(c,"name")),(0,a.Rz)("products_ids",(0,a.ME)((0,a.jQ)(c),"productId")),n&&n());case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),l=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var t,i,s,d,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((s=(0,o.Z)({},null===(t=(0,a.bh)((0,a.hQ)()))||void 0===t?void 0:t.search_prod)).params={businessId:null===(i=(0,a.bh)("profileUser"))||void 0===i?void 0:i.businessId,":search":(0,a.bh)("searchQry"),limit:120},!((0,a.bh)("searchQry").length>2)){e.next=10;break}return d=(0,a.I7)(s),e.next=6,d;case 6:(c=e.sent)&&((0,a.Rz)("products_list",f((0,a.jQ)(c),"code")),n&&n()),e.next=12;break;case 10:(0,a.Rz)("products_list",null),n&&n();case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),u=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var t,i,s,d,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=(0,o.Z)({},null===(t=(0,a.bh)((0,a.hQ)()))||void 0===t?void 0:t.all_entry_invoices)).params={businessId:null===(i=(0,a.bh)("profileUser"))||void 0===i?void 0:i.businessId},d=(0,a.I7)(s),e.next=5,d;case 5:(c=e.sent)&&((0,a.Rz)("movements_list",f(c,"date")),(0,a.Rz)("movements_ids",(0,a.ME)((0,a.jQ)(c),"inventoryId")),n&&n());case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),v=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var t,i,s,d,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=(0,o.Z)({},null===(t=(0,a.bh)((0,a.hQ)()))||void 0===t?void 0:t.search_entry_invoice)).params={businessId:null===(i=(0,a.bh)("profileUser"))||void 0===i?void 0:i.businessId,":search":(0,a.bh)("searchMovQry")},d=(0,a.I7)(s),e.next=5,d;case 5:(c=e.sent)&&((0,a.Rz)("movements_list",f((0,a.jQ)(c),"code")),n&&n());case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();var f=function(e,n){return(0,a.MV)("sortProducts",[e],(function(){return e&&e.sort((function(e,t){var r=e[n],o=t[n];return r<o?-1:r>o?1:0}))}))},h=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,t){var i,s,d,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(d=(0,o.Z)({},null===(i=(0,a.bh)((0,a.hQ)()))||void 0===i?void 0:i.delete_prod)).params={businessId:null===(s=(0,a.bh)("profileUser"))||void 0===s?void 0:s.businessId,productId:n},c=(0,a.I7)(d),e.next=5,c;case 5:e.sent&&t&&t();case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),p=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,t){var i,s,d,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(d=(0,o.Z)({},null===(i=(0,a.bh)((0,a.hQ)()))||void 0===i?void 0:i.delete_inventory)).params={businessId:null===(s=(0,a.bh)("profileUser"))||void 0===s?void 0:s.businessId,inventoryId:n},c=(0,a.I7)(d),e.next=5,c;case 5:e.sent&&t&&t();case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),m=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,t){var i,s,d,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(d=(0,o.Z)({},null===(i=(0,a.bh)((0,a.hQ)()))||void 0===i?void 0:i.delete_entry_invoice)).params={businessId:null===(s=(0,a.bh)("profileUser"))||void 0===s?void 0:s.businessId,entriesInvoiceId:n},c=(0,a.I7)(d),e.next=5,c;case 5:e.sent&&t&&t();case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),b=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,t){var i,s,d,c,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(d=(0,o.Z)({},null===(i=(0,a.bh)((0,a.hQ)()))||void 0===i?void 0:i.entry_invoice_acc_2)).params={businessId:null===(s=(0,a.bh)("profileUser"))||void 0===s?void 0:s.businessId,entriesInvoiceId:n},c=(0,a.I7)(d),e.next=5,c;case 5:(l=e.sent)&&t&&t(l);case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),x=function(e,n){return(0,a.MV)("rangeProdArr",[e,n],(function(){return e?(0,a._2)(e).slice(0,n):[]}))}},9075:function(e,n,t){t.r(n),t.d(n,{default:function(){return g}});var r=t(1413),o=t(9439),i=t(2791),a=(t(261),t(2350)),s=t(7689),d=t(9760),c=t(2647),l=t(4050),u=t(713),v=t(6677),f=t(4165),h=t(5861),p=t(6963),m=t(4e3),b=0,x=function(){var e=(0,h.Z)((0,f.Z)().mark((function e(n){var t,r,o,i,s,d,c,l,u,v,h,x,_,y,g,w,I,z,Z,T,S,k,N,j,F,A,R,O,Q,D,P,q,M,U,B,C,E,V,L,W,H,K,G,J,$,Y,X,ee,ne;return(0,f.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.PDFDocument.create();case 2:return(c=e.sent).registerFontkit(m.Z),e.next=6,c.embedFont(p.StandardFonts.TimesRoman);case 6:return l=e.sent,e.next=9,c.embedFont(p.StandardFonts.TimesRomanBold);case 9:return u=e.sent,e.next=12,c.embedFont(p.StandardFonts.TimesRomanBold);case 12:if(v=e.sent,!(0,a.bh)("modernFontReport")){e.next=35;break}return"https://qvamarkets.com/gql_api/getStatic?fileName=Roboto-Bold.ttf",e.next=17,fetch("https://qvamarkets.com/gql_api/getStatic?fileName=Roboto-Bold.ttf").then((function(e){return e.arrayBuffer()}));case 17:return h=e.sent,e.next=20,c.embedFont(h);case 20:return u=e.sent,"https://qvamarkets.com/gql_api/getStatic?fileName=ggSans-Italic.ttf",e.next=24,fetch("https://qvamarkets.com/gql_api/getStatic?fileName=ggSans-Italic.ttf").then((function(e){return e.arrayBuffer()}));case 24:return x=e.sent,e.next=27,c.embedFont(x);case 27:return l=e.sent,"https://qvamarkets.com/gql_api/getStatic?fileName=ggSans-Medium.ttf",e.next=31,fetch("https://qvamarkets.com/gql_api/getStatic?fileName=ggSans-Medium.ttf").then((function(e){return e.arrayBuffer()}));case 31:return _=e.sent,e.next=34,c.embedFont(_);case 34:v=e.sent;case 35:return y=c.addPage(),g=y.getSize(),g.width,w=g.height,I=10,b=w-40,z=v.widthOfTextAtSize(null===n||void 0===n?void 0:n.document,12),Z=l.widthOfTextAtSize("Invoice: ",11),y.drawText("Invoice: ",{x:580-z-Z,y:b,size:11,font:l,color:(0,p.rgb)(0,0,0)}),y.drawText(null===n||void 0===n?void 0:n.document,{x:580-z,y:b,size:12,font:v,color:(0,p.rgb)(0,0,0)}),T=w-30,y.drawText("Granite Concepts",{x:20,y:T,size:13,font:u,color:(0,p.rgb)(0,0,0)}),y.drawText("4504 Poplar Level Rd",{x:20,y:T-15,size:10,font:l,color:(0,p.rgb)(0,0,0)}),y.drawText("Louisville, KY 40213",{x:20,y:T-30,size:10,font:l,color:(0,p.rgb)(0,0,0)}),y.drawText("(502) 742-2473",{x:20,y:T-45,size:10,font:u,color:(0,p.rgb)(0,0,0)}),y.drawText("graniteconceptsky@gmail.com",{x:20,y:T-60,size:10,font:l,color:(0,p.rgb)(0,0,0)}),y.drawText("graniteconceptsky.com",{x:20,y:T-75,size:10,font:l,color:(0,p.rgb)(0,0,0)}),b-=20,S=l.widthOfTextAtSize("Date: ",11),k=u.widthOfTextAtSize((0,a.Gv)(null===n||void 0===n?void 0:n.date)+"",12),y.drawText("Date: ",{x:580-S-k,y:b,size:11,font:l,color:(0,p.rgb)(0,0,0)}),y.drawText((0,a.Gv)(null===n||void 0===n?void 0:n.date)+"",{x:580-k,y:b,size:12,font:u,color:(0,p.rgb)(.06,.06,.06)}),b-=20,N=null===(t=(0,a.bh)("providers_ids"))||void 0===t||null===(r=t[null===n||void 0===n||null===(o=n.customer)||void 0===o?void 0:o.providerId])||void 0===r?void 0:r.name,j=l.widthOfTextAtSize("Bill To: ",11),F=u.widthOfTextAtSize(N+"",12),y.drawText("Bill To: ",{x:580-j-F,y:b,size:11,font:l,color:(0,p.rgb)(0,0,0)}),y.drawText(N+"",{x:580-F,y:b,size:12,font:u,color:(0,p.rgb)(0,0,0)}),b-=50,y.drawRectangle({x:15,y:b+1,width:560,height:.85,color:(0,p.rgb)(.53,.53,.53),borderColor:(0,p.rgb)(.53,.53,.53)}),y.drawText((null===n||void 0===n?void 0:n.description)+"",{x:20,y:b-11,size:10,font:l,color:(0,p.rgb)(0,0,0)}),b-=20,y.drawRectangle({x:15,y:b+1,width:560,height:.85,color:(0,p.rgb)(.53,.53,.53),borderColor:(0,p.rgb)(.53,.53,.53)}),b-=18,y.drawText((0,a.zE)(4)+"",{x:20,y:b,size:13,font:u,color:(0,p.rgb)(0,0,0)}),A=u.widthOfTextAtSize((0,a.zE)(14)+"",12),y.drawText((0,a.zE)(10)+"",{x:480-A,y:b,size:12,font:u,color:(0,p.rgb)(0,0,0)}),R=u.widthOfTextAtSize((0,a.zE)(14)+"",12),y.drawText((0,a.zE)(14)+"",{x:560-R,y:b,size:12,font:u,color:(0,p.rgb)(0,0,0)}),b-=8,y.drawRectangle({x:15,y:b+1,width:560,height:.95,color:(0,p.rgb)(.53,.53,.53),borderColor:(0,p.rgb)(.53,.53,.53)}),O=(null===n||void 0===n?void 0:n.products)||[],Array.isArray(O)&&O.map((function(e,n){var t,r,o,i,s=null===(t=(0,a.bh)("products_ids"))||void 0===t||null===(r=t[null===e||void 0===e?void 0:e.product])||void 0===r?void 0:r.name;b-=16,s&&y.drawText(s+"",{x:20,y:b,size:I,font:l,color:(0,p.rgb)(0,0,0)});var d=null!==e&&void 0!==e&&e.qty?null===(o=1*(null===e||void 0===e?void 0:e.qty))||void 0===o?void 0:o.toFixed(2):"0.00",c=l.widthOfTextAtSize(d+"",I);y.drawText(d+"",{x:480-c,y:b,size:I,font:l,color:(0,p.rgb)(0,0,0)});var u=null!==e&&void 0!==e&&e.qty?null===(i=(null===e||void 0===e?void 0:e.salePrice)*(null===e||void 0===e?void 0:e.qty)*1)||void 0===i?void 0:i.toFixed(2):"0.00",v=l.widthOfTextAtSize(u+"",I);y.drawText(u+"",{x:560-v,y:b,size:I,font:l,color:(0,p.rgb)(0,0,0)})})),Q=(0,a._2)(null===n||void 0===n?void 0:n.extras)||[],Array.isArray(Q)&&Q.map((function(e,t){var r,o,i,a=null===(r=n.extras)||void 0===r?void 0:r[e],s=a.description;b-=16,s&&y.drawText(s+"",{x:20,y:b,size:I,font:l,color:(0,p.rgb)(0,0,0)});var d=null!==a&&void 0!==a&&a.qty?null===(o=1*(null===a||void 0===a?void 0:a.qty))||void 0===o?void 0:o.toFixed(2):"0.00",c=l.widthOfTextAtSize(d+"",I);y.drawText(d+"",{x:480-c,y:b,size:I,font:l,color:(0,p.rgb)(0,0,0)});var u=null!==a&&void 0!==a&&a.qty?null===(i=(null===a||void 0===a?void 0:a.salePrice)*(null===a||void 0===a?void 0:a.qty)*1)||void 0===i?void 0:i.toFixed(2):"0.00",v=l.widthOfTextAtSize(u+"",I);y.drawText(u+"",{x:560-v,y:b,size:I,font:l,color:(0,p.rgb)(0,0,0)})})),b-=28,y.drawRectangle({x:15,y:b+1,width:560,height:.85,color:(0,p.rgb)(.53,.53,.53),borderColor:(0,p.rgb)(.53,.53,.53)}),D=500,b-=20,P=null!==n&&void 0!==n&&n.amount?null===n||void 0===n||null===(i=n.amount)||void 0===i?void 0:i.toFixed(2):"0.00",q=l.widthOfTextAtSize(P+"",I),y.drawText(P+"",{x:560-q,y:b,size:I,font:l,color:(0,p.rgb)(.13,.13,.13)}),M=l.widthOfTextAtSize("SubTotal",I),y.drawText("SubTotal",{x:D-M,y:b,size:I,font:l,color:(0,p.rgb)(0,0,0)}),b-=16,U=null!==n&&void 0!==n&&n.hasTax?null===n||void 0===n||null===(s=n.hasTax)||void 0===s?void 0:s.toFixed(2):"0.00",B=l.widthOfTextAtSize(U+"",I),y.drawText(U+"",{x:560-B,y:b,size:I,font:l,color:(0,p.rgb)(.13,.13,.13)}),C=l.widthOfTextAtSize("Taxes",I),y.drawText("Taxes",{x:D-C,y:b,size:I,font:l,color:(0,p.rgb)(0,0,0)}),E=null!==n&&void 0!==n&&n.hasTax?(null===n||void 0===n?void 0:n.hasTax)+(null===n||void 0===n?void 0:n.amount):1*(null===n||void 0===n?void 0:n.amount),b-=16,V=E?null===E||void 0===E?void 0:E.toFixed(2):"0.00",L=v.widthOfTextAtSize(V+"",11),y.drawText(V+"",{x:560-L,y:b,size:11,font:v,color:(0,p.rgb)(0,0,0)}),W=v.widthOfTextAtSize("Total",11),y.drawText("Total",{x:D-W,y:b,size:11,font:v,color:(0,p.rgb)(0,0,0)}),b-=16,H=null!==n&&void 0!==n&&n.hasAdvancePay?null===(d=-1*(null===n||void 0===n?void 0:n.hasAdvancePay))||void 0===d?void 0:d.toFixed(2):"0.00",K=l.widthOfTextAtSize(""+H,11),y.drawText(""+H,{x:560-K,y:b,size:11,font:l,color:(0,p.rgb)(.13,.13,.13)}),G=l.widthOfTextAtSize("Advance Payment",11),y.drawText("Advance Payment",{x:D-G,y:b,size:11,font:l,color:(0,p.rgb)(0,0,0)}),b-=16,$=(J=E+1*H)?null===J||void 0===J?void 0:J.toFixed(2):"0.00",Y=v.widthOfTextAtSize($+"",11),y.drawText($+"",{x:560-Y,y:b,size:11,font:v,color:(0,p.rgb)(0,0,0)}),X=v.widthOfTextAtSize("Balance Due",11),y.drawText("Balance Due",{x:D-X,y:b,size:11,font:v,color:(0,p.rgb)(0,0,0)}),e.next=115,c.save();case 115:ee=e.sent,ne=(0,a.ou)(ee),window.open(ne);case 118:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),_=t(184),y=(0,c.PU)(),g=function(e){var n,t,c,f,h,p,m,b,g,z=e.data,Z=e.item,T=(0,i.useState)(0),S=(0,o.Z)(T,2),k=(S[0],S[1]);(0,i.useEffect)((function(){var e,n,t;(0,a.Rz)("inv_products_list",null),(0,a.Rz)("inv_products_stock",null),null!==(e=(0,a.bh)("providers_ids"))&&void 0!==e&&null!==(n=e[null===Z||void 0===Z||null===(t=Z.customer)||void 0===t?void 0:t.providerId])&&void 0!==n&&n.name||(0,v.Je)(N),(0,a.bh)("products_ids")||(0,u.ii)(N),(0,l.Ht)("global_accounts","global_account_params",N),N()}),[Z.productId]);var N=function(){k((0,a.M5)())},j=((0,s.s0)(),function(e){(0,d.CloseModal)({id:z.modalID})}),F=null!==Z&&void 0!==Z&&Z.hasTax?(null===Z||void 0===Z?void 0:Z.hasTax)+(null===Z||void 0===Z?void 0:Z.amount):1*(null===Z||void 0===Z?void 0:Z.amount);return(0,_.jsxs)("div",{style:{maxHeight:"80vh",width:"960px",overflow:"auto",background:"var(--hrm_palette-general-background-b)",borderRadius:13,padding:"10px 19px 30px"},children:[(0,_.jsxs)("div",{className:"_dsplFlx ",children:[(0,_.jsx)("p",{className:"title_collect gSansFont",children:"Invoice:"}),(0,_.jsx)("p",{className:"title_collect fntW600 gSansFont",style:{color:"#646cff"},children:null===Z||void 0===Z?void 0:Z.document}),(0,_.jsx)("div",{className:"flexSpace"}),(0,a.I0)()?(0,_.jsx)("div",{className:"code comprobante_id  gSansFont",style:{color:"#646cff",paddingTop:10},children:null===Z||void 0===Z?void 0:Z.comprobanteId}):null,(0,_.jsx)("div",{className:"icon_print",onClick:function(){var e=(0,r.Z)({},Z);x(e)},children:(0,_.jsx)(y,{name:"printer",color:"var(--hrm_palette-inverse-background-b)"})})]}),(0,_.jsx)("div",{className:"acc_dtls",style:{marginTop:10,marginLeft:2},children:(0,_.jsxs)("div",{className:"_dsplFlx",children:[(0,_.jsx)("div",{className:"name",children:(0,_.jsx)("div",{className:" code gSansFont",style:{color:"var(--hrm_palette-inverse-background-b)"},children:(0,a.sJ)(null===Z||void 0===Z?void 0:Z.date)})}),(0,_.jsx)("div",{className:"flexSpace"}),(0,_.jsxs)("div",{className:"_dsplFlx",children:[(0,_.jsx)("div",{className:"name gSansFont",style:{marginRight:5,color:"var(--hrm_palette-item_coll_gray)"},children:"Bill To:"}),(0,_.jsx)("div",{className:"code gSansFont",style:{color:"#646cff"},children:null===(n=(0,a.bh)("providers_ids"))||void 0===n||null===(t=n[null===Z||void 0===Z||null===(c=Z.customer)||void 0===c?void 0:c.providerId])||void 0===t?void 0:t.name})]})]})}),(0,_.jsxs)("div",{className:"_dsplFlx ",style:{marginBottom:8},children:[(0,_.jsx)("div",{className:"flexSpace"}),(0,_.jsx)("div",{className:"_dsplFlx",children:(0,_.jsx)("div",{className:"name gSansFont",style:{color:"var(--hrm_palette-item_coll_gray)"},children:null===Z||void 0===Z?void 0:Z.description})})]}),(0,_.jsxs)("div",{className:"_dsplFlx hdr_bar purple",children:[(0,_.jsx)("div",{className:"tr_bar_70",style:{textAlign:"left",paddingLeft:14},children:(0,a.zE)(4)}),(0,_.jsx)("div",{className:"tr_bar_15 txt_alg_padd",children:(0,a.zE)(10)}),(0,_.jsx)("div",{className:"tr_bar_15 txt_alg_padd",children:(0,a.zE)(14)})]}),(0,_.jsxs)("div",{className:"scollVh subMHeight",children:[Z.products&&(null===(f=Z.products)||void 0===f?void 0:f.map((function(e){return(0,_.jsx)(w,{element:e,idKey:e.inventoryId,close:j},e.inventoryId)}))),Z.extras&&(null===(h=(0,a._2)(Z.extras))||void 0===h?void 0:h.map((function(e){return(0,_.jsx)(I,{element:Z.extras[e],idKey:e,close:j},e)}))),(0,_.jsxs)("div",{className:"_dsplFlx totalsGrid",style:{margin:"19px 15px 10px"},children:[(0,_.jsx)("div",{className:"tr_bar_70"}),(0,_.jsxs)("div",{className:"tr_bar_30 brdTp",children:[(0,_.jsxs)("div",{className:"_dsplFlx totals",children:[(0,_.jsx)("div",{className:"code tr_bar_70 gSansFont",children:"Subtotal:"}),(0,_.jsxs)("div",{className:"name tr_bar_30 gSansFont",children:["$",null===Z||void 0===Z||null===(p=Z.amount)||void 0===p?void 0:p.toFixed(2)]})]}),(0,_.jsxs)("div",{className:"_dsplFlx totals",children:[(0,_.jsx)("div",{className:"code tr_bar_70 gSansFont",children:"tax:"}),(0,_.jsxs)("div",{className:"name tr_bar_30 gSansFont",children:["$",null===Z||void 0===Z||null===(m=Z.hasTax)||void 0===m?void 0:m.toFixed(2)]})]}),(0,_.jsxs)("div",{className:"_dsplFlx totals",children:[(0,_.jsx)("div",{className:"code tr_bar_70 fntW600 gSansFont",style:{color:"var(--hrm_palette-inverse-background-b)"},children:"Total:"}),(0,_.jsxs)("div",{className:"name tr_bar_30  gSansFont fntW600",style:{color:"var(--hrm_palette-inverse-background-b)"},children:["$",null===F||void 0===F?void 0:F.toFixed(2)]})]}),(0,_.jsxs)("div",{className:"_dsplFlx totals",children:[(0,_.jsx)("div",{className:"code tr_bar_70 gSansFont",children:"Advance Payment:"}),(0,_.jsxs)("div",{className:"name tr_bar_30  gSansFont",children:["$",null===Z||void 0===Z||null===(b=Z.hasAdvancePay)||void 0===b?void 0:b.toFixed(2)]})]}),(0,_.jsxs)("div",{className:"_dsplFlx totals",children:[(0,_.jsx)("div",{className:"code tr_bar_70 fntW600 gSansFont",style:{color:"#646cff"},children:"Balance Due:"}),(0,_.jsxs)("div",{className:"name tr_bar_30 fntW600 gSansFont",style:{color:"#646cff"},children:["$",null===(g=F-(null===Z||void 0===Z?void 0:Z.hasAdvancePay))||void 0===g?void 0:g.toFixed(2)]})]})]})]})]})]})},w=function(e){var n,t,r=e.element,o=(e.idKey,e.close,null===(n=(0,a.bh)("products_ids"))||void 0===n?void 0:n[null===r||void 0===r?void 0:r.product]),i=1*r.qty?1*r.qty*r.salePrice:0;return(0,_.jsxs)("div",{className:"_dsplFlx hdr_bar",children:[(0,_.jsx)("div",{className:"tr_bar_70 gSansFont",style:{textAlign:"left",paddingLeft:14},children:null===o||void 0===o?void 0:o.name}),(0,_.jsx)("div",{className:"tr_bar_15 numbAlign gSansFont",children:null===(t=r.qty)||void 0===t?void 0:t.toFixed(2)}),(0,_.jsx)("div",{className:"tr_bar_15 numbAlign gSansFont",children:null===i||void 0===i?void 0:i.toFixed(2)})]})},I=function(e){var n,t,r=e.element;e.idKey,e.close;return(0,_.jsxs)("div",{className:"_dsplFlx hdr_bar",children:[(0,_.jsx)("div",{className:"tr_bar_70  gSansFont",style:{textAlign:"left",paddingLeft:14},children:null===r||void 0===r?void 0:r.description}),(0,_.jsx)("div",{className:"tr_bar_15 numbAlign gSansFont",children:null===(n=1*r.qty)||void 0===n?void 0:n.toFixed(2)}),(0,_.jsx)("div",{className:"tr_bar_15 numbAlign gSansFont",children:1*r.qty?null===(t=1*r.qty*r.salePrice*1)||void 0===t?void 0:t.toFixed(2):""})]})}},6677:function(e,n,t){t.d(n,{Je:function(){return s},Qn:function(){return u},UO:function(){return d},mQ:function(){return l}});var r=t(4165),o=t(1413),i=t(5861),a=t(2350),s=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var t,i,s,d,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=(0,o.Z)({},null===(t=(0,a.bh)((0,a.hQ)()))||void 0===t?void 0:t.all_prov_cust)).params={businessId:null===(i=(0,a.bh)("profileUser"))||void 0===i?void 0:i.businessId},d=(0,a.I7)(s),e.next=5,d;case 5:(l=e.sent)&&((0,a.Rz)("providers_list",c((0,a.jQ)(l),"code")),(0,a.Rz)("providers_ids",(0,a.ME)((0,a.jQ)(l),"providerId")),n&&n());case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),d=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var t,i,s,d,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=(0,o.Z)({},null===(t=(0,a.bh)((0,a.hQ)()))||void 0===t?void 0:t.search_prov_cust)).params={businessId:null===(i=(0,a.bh)("profileUser"))||void 0===i?void 0:i.businessId,":search":(0,a.bh)("search_prov")},d=(0,a.I7)(s),e.next=5,d;case 5:(l=e.sent)&&((0,a.Rz)("providers_list",c((0,a.jQ)(l),"code")),n&&n());case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();var c=function(e,n){return(0,a.MV)("sortProviders",[e],(function(){return e&&e.sort((function(e,t){var r=1*e[n],o=1*t[n];return r<o?-1:r>o?1:0}))}))},l=function(e,n){return(0,a.MV)("sortSubProviders",[e],(function(){return e&&e.sort((function(e,t){var r=1*e[n],o=1*t[n];return r<o?-1:r>o?1:0}))}))},u=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,t){var i,s,d,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(d=(0,o.Z)({},null===(i=(0,a.bh)((0,a.hQ)()))||void 0===i?void 0:i.delete_prov_cust)).params={businessId:null===(s=(0,a.bh)("profileUser"))||void 0===s?void 0:s.businessId,providerId:n},c=(0,a.I7)(d),e.next=5,c;case 5:e.sent&&t&&t();case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()},261:function(){}}]);
//# sourceMappingURL=9075.bfb5eb56.chunk.js.map