"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[9283],{1130:(d,e,i)=>{i.r(e),i.d(e,{default:()=>_});var s=i(2791),l=i(2350),a=i(2647),r=(i(1534),i(7689)),n=i(6824),o=i(4050),c=i(6677),t=i(713),v=i(9760),p=i(15),u=i(1087),m=i(184);const h=(0,a.PU)(),x=(0,a.JC)(),b="view_product_entry_comprobante",_=d=>{var e,i,a,n,p;let{data:h,confirm:x,item:_}=d;const[N,I]=(0,s.useState)(!1),[f,g]=(0,s.useState)(0);(0,r.s0)();(0,s.useEffect)((()=>{var d,e;N||(I(!0),(0,l.Rz)("accountPicker",{}),g((0,l.M5)()),(0,l.bh)("account_ids")||(0,o.ZX)(y),null!==(d=(0,l.bh)("providers_ids"))&&void 0!==d&&null!==(e=d[null===_||void 0===_?void 0:_.providerId])&&void 0!==e&&e.name||(0,c.Je)(y),(0,l.bh)("products_ids")||(0,t.ii)(y))}),[_.providerId,N]);const y=async()=>{g((0,l.M5)())},k=()=>{};return(0,m.jsxs)("div",{style:{maxHeight:"90vh",minHeight:"58vh",width:"860px",overflow:"auto",background:"var(--hrm_palette-general-background-b)",borderRadius:13,padding:"10px 19px"},children:[(0,m.jsxs)("div",{className:"_dsplFlx ",children:[(0,m.jsxs)("p",{className:"form_title",children:[_.amount<0?"Salida":"Entrada"," de Mercancias"]}),(0,m.jsx)("div",{className:"flexSpace"}),(0,m.jsx)("div",{children:(0,m.jsx)("div",{className:"date2Upd",children:(0,l.sG)(null===(e=(0,l.bh)(b))||void 0===e?void 0:e.date)})})]}),(0,m.jsxs)("div",{className:"_dsplFlx ",children:[(0,m.jsxs)("div",{className:"_dsplFlx ",children:[(0,m.jsx)("div",{className:"flexSpace"}),null!==(i=(0,l.bh)(b))&&void 0!==i&&i.comprobanteId?(0,m.jsxs)("div",{className:" ",onClick:async()=>{},children:[(0,m.jsx)("p",{className:"label",children:"Comprobante"}),(0,m.jsx)(u.OL,{to:{pathname:"/accounting-ledger",search:"?cId=".concat(null===(a=(0,l.bh)(b))||void 0===a?void 0:a.comprobanteId)},children:(0,m.jsx)("div",{className:"date2Upd",onClick:()=>{h.modalID&&(0,v.CloseModal)({id:h.modalID})},children:null===(n=(0,l.bh)(b))||void 0===n?void 0:n.comprobanteId})})]}):(0,m.jsx)("p",{className:"group_title addBtn purple",children:"Enviar a contabilidad"})]}),(0,m.jsx)("div",{className:"flexSpace"}),(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{className:"label",children:"Documento"}),(0,m.jsx)("div",{className:"date2Upd",onClick:()=>{var d,e;return e=null===(d=(0,l.bh)(b))||void 0===d?void 0:d.document,void(0,l.vQ)(e,k)},children:null===(p=(0,l.bh)(b))||void 0===p?void 0:p.document})]})]}),(0,m.jsx)(j,{data:_.products,entriesInvoiceId:null===_||void 0===_?void 0:_.entriesInvoiceId}),(0,m.jsxs)("div",{className:"_dsplFlx ",style:{margin:"4px 1px 5px 10px"},children:[(0,m.jsx)("div",{className:"flexSpace"}),(0,m.jsx)("div",{className:"date2Upd",style:{margin:"0px 7px"},children:"Balance:"}),"$",_.amount.toFixed(2)]})]})},j=d=>{let{data:e,entriesInvoiceId:i}=d;return(0,m.jsxs)("div",{className:"boxAddAcc",style:{margin:"18px 0"},children:[(0,m.jsxs)("div",{className:"_dsplFlx hdr_bar purple",style:{margin:"18px 0"},children:[(0,m.jsx)("div",{className:"tr_bar tr_bar_50 left_alg",children:"Producto"}),(0,m.jsx)("div",{className:"tr_bar tr_bar_15",children:"Dimension"}),(0,m.jsx)("div",{className:"tr_bar tr_bar_15",children:"Qty"}),(0,m.jsx)("div",{className:"tr_bar tr_bar_15",children:"Precio"}),(0,m.jsx)("div",{className:"tr_bar tr_bar_5",children:(0,m.jsx)("div",{className:"icon",onClick:()=>{let d=[];e.map((e=>{var i;d.push(null===(i=(0,l.bh)("movements_ids"))||void 0===i?void 0:i[e.inventoryId])})),(0,n.Hc)(d)},children:(0,m.jsx)(h,{name:"printer",color:"#646cff"})})})]}),e&&e.length>0&&(null===e||void 0===e?void 0:e.map(((d,e)=>(0,m.jsx)(N,{idKey:d.productId,index:e,data:d},d.productId+"_"+e))))]})},N=d=>{var e;let{data:i,index:s}=d,a=null===(e=(0,l.bh)("products_ids"))||void 0===e?void 0:e[null===i||void 0===i?void 0:i.productId],r=(null===i||void 0===i?void 0:i.dimension)&&(null===i||void 0===i?void 0:i.dimension.split(",")[0])+" X "+(null===i||void 0===i?void 0:i.dimension.split(",")[1]),n=(null===i||void 0===i?void 0:i.dimension)&&{lbl:r+" (inch)",hover:(null===i||void 0===i?void 0:i.squareFeet)+"S/F X $"+(0,l.Zv)(null===i||void 0===i?void 0:i.pricePerSquareFeet,2)};const o=()=>{(0,p.OpenToast)({text:"Copied to clipobard",timeout:1500})},c=d=>{(0,l.vQ)(d,o)};return(0,m.jsxs)("div",{className:"_dsplFlx hdr_bar",children:[(0,m.jsx)("div",{className:"tr_bar tr_bar_50 left_alg",children:null===a||void 0===a?void 0:a.name}),(0,m.jsx)("div",{className:"tr_bar tr_bar_15",style:{marginTop:-4},children:null!==i&&void 0!==i&&i.dimension?(0,m.jsx)(x,{data:n,color:"#282828",labelField:"lbl",infoField:"hover"}):null}),(0,m.jsx)("div",{className:"tr_bar tr_bar_15",onClick:()=>c((0,l.Zv)(null===i||void 0===i?void 0:i.qty,2)),children:(0,l.Zv)(null===i||void 0===i?void 0:i.qty,2)}),(0,m.jsx)("div",{className:"tr_bar tr_bar_15",onClick:()=>c((0,l.Zv)(null===i||void 0===i?void 0:i.price,2)),children:(0,l.Zv)(null===i||void 0===i?void 0:i.price,2)}),(0,m.jsx)("div",{className:"flexSpace"})]})}},6677:(d,e,i)=>{i.d(e,{Je:()=>l,Qn:()=>o,UO:()=>a,mQ:()=>n});var s=i(2350);const l=async d=>{var e,i;let l={...null===(e=(0,s.bh)((0,s.hQ)()))||void 0===e?void 0:e.all_prov_cust};l.params={businessId:null===(i=(0,s.bh)("profileUser"))||void 0===i?void 0:i.businessId};const a=(0,s.I7)(l),n=await a;n&&((0,s.Rz)("providers_list",r((0,s.jQ)(n),"name",1)),(0,s.Rz)("providers_ids",(0,s.ME)((0,s.jQ)(n),"providerId")),d&&d())},a=async d=>{var e,i;let l={...null===(e=(0,s.bh)((0,s.hQ)()))||void 0===e?void 0:e.search_prov_cust};l.params={businessId:null===(i=(0,s.bh)("profileUser"))||void 0===i?void 0:i.businessId,":search":(0,s.bh)("search_prov")};const a=(0,s.I7)(l),n=await a;n&&((0,s.Rz)("providers_list",r((0,s.jQ)(n),"name",1)),d&&d())};const r=(d,e,i)=>(0,s.MV)("sortProviders",[d],(()=>d&&d.sort(((d,s)=>{let l=1*d[e],a=1*s[e];return l<a?i?-1:1:l>a?i?1:-1:0})))),n=(d,e)=>(0,s.MV)("sortSubProviders",[d],(()=>d&&d.sort(((d,i)=>{let s=1*d[e],l=1*i[e];return s<l?-1:s>l?1:0})))),o=async(d,e)=>{var i,l;let a={...null===(i=(0,s.bh)((0,s.hQ)()))||void 0===i?void 0:i.delete_prov_cust};a.params={businessId:null===(l=(0,s.bh)("profileUser"))||void 0===l?void 0:l.businessId,providerId:d};const r=(0,s.I7)(a);await r&&e&&e()}},1534:()=>{}}]);
//# sourceMappingURL=9283.b9c75676.chunk.js.map