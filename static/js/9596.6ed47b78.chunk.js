"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[9596,7766],{9596:(e,a,l)=>{l.r(a),l.d(a,{default:()=>h});var t=l(2791),o=l(2350),n=l(2647),d=(l(1206),l(24)),i=l(4304),c=l(7689),s=l(9760),u=l(184);const r=(0,n.YZ)(),p=(0,n.Np)(),v=(0,d.f_)(),m="paystub_employee_2Acc",h=e=>{var a,l,n,d;let{data:h,confirm:b,item:x}=e;const[_,f]=(0,t.useState)(!1),[g,y]=(0,t.useState)(0),j=(0,c.s0)();(0,t.useEffect)((()=>{if(!_){f(!0);(0,o.bh)(m);y((0,o.M5)())}}));const N=(e,a,l)=>{let t=(0,o.bh)(m)||{};l?(t[l]||(t[l]={}),t[l][e]=a):t[e]=a,(0,o.Rz)(m,t),y((0,o.M5)())};let I=(0,o.bh)(m)||{},k=(new Date).getTime()+800;if(I.date){k=new Date(I.date).getTime()}let w=null===(a=(0,o.bh)("employees_ids"))||void 0===a?void 0:a[null===x||void 0===x?void 0:x.employeeId],S="Check No ".concat(I.document?I.document:""," - Salary ").concat((0,o.sJ)(k)," - ").concat(null===w||void 0===w?void 0:w.name).toUpperCase();const C=async e=>{var a,l,t,n,d;let i=(0,o.bh)(m)||{},c=(new Date).getTime()+800;if(i.date){let e=new Date(i.date).getTime();c=e||c}i.date=c,i.amount=null===x||void 0===x?void 0:x.grossPay,i.description||(i.description=S);let s=await(0,o.fN)(i.date),u={date:i.date,comprobanteId:s,description:i.description,businessId:null===(a=(0,o.bh)("profileUser"))||void 0===a?void 0:a.businessId,year:new Date(i.date).getFullYear()};delete i.date,i.document=null===(l=i.document)||void 0===l?void 0:l.trim(),i.employeeId=null===x||void 0===x?void 0:x.employeeId;let r=[],p={...i};p.account=null===(t=(0,o.bh)("global_account_params"))||void 0===t?void 0:t.salary.account;let v=(0,o.Zv)(i.amount,2);p.type="debit",p.operationId=(0,o.M5)(),p.amount=1*v,r.push(p);let h={...i};var b,_,f,g;(h.account=null===(n=(0,o.bh)("global_account_params"))||void 0===n?void 0:n.cash_bank.account,null!==i&&void 0!==i&&i.futureSlipCheck)&&(h.account=null===(b=(0,o.bh)("global_account_params"))||void 0===b||null===(_=b.futureSlipCheck)||void 0===_?void 0:_.account,h.subAccount=null===(f=(0,o.bh)("global_account_params"))||void 0===f||null===(g=f.futureSlipCheck)||void 0===g?void 0:g.subAccount);let y=(0,o.Zv)(i.amount,2);h.type="credit",h.operationId=(0,o.M5)(),h.amount=1*y,r.push(h);let j={...null===(d=(0,o.bh)((0,o.hQ)()))||void 0===d?void 0:d.add_multi_opera};j.params=u,j.form=r,D(j,s,i.document)},T=async e=>{var a,l,t,n,d,i;let c=(0,o.bh)(m)||{},s=(new Date).getTime()+800;if(c.date){let e=new Date(c.date).getTime();s=e||s}c.date=s;const u=c.cash_amount;delete c.cash_amount;let r=await(0,o.fN)(c.date);c.comprobanteId=r,c.document=null===(a=c.document)||void 0===a?void 0:a.trim(),c.description||(c.description=S),c.amount=null===x||void 0===x?void 0:x.grossPay,c.employeeId=null===x||void 0===x?void 0:x.employeeId;let p=[],v=0,h={date:c.date,comprobanteId:r,description:c.description,businessId:null===(l=(0,o.bh)("profileUser"))||void 0===l?void 0:l.businessId,year:new Date(c.date).getFullYear()};delete c.date,x.w2Taxes&&(0,o._2)(x.w2Taxes).map((e=>{let a={...c},l=x.w2Taxes[e],t=l.account;a.account=t.account,a.subAccount=t.subAccount;let n=l.amount?l.amount:l.percent/100*x.grossPay,d=(0,o.Zv)(n,2);if(a.type="credit",a.operationId=(0,o.M5)(),"socialSecurity"===e){var i,s;let e={...c};e.account=null===(i=(0,o.bh)("global_account_params"))||void 0===i||null===(s=i.socialsecurity_tax_expenses)||void 0===s?void 0:s.account,e.type="debit",e.amount=1*d,e.operationId=(0,o.M5)(),v+=1*d,a.amount=2*d,p.push(e)}else if("medicareTax"===e){var u,r;let e={...c};e.account=null===(u=(0,o.bh)("global_account_params"))||void 0===u||null===(r=u.medicare_tax_expenses)||void 0===r?void 0:r.account,e.type="debit",e.amount=1*d,e.operationId=(0,o.M5)(),a.amount=2*d,v+=1*d,p.push(e)}else a.amount=1*d,v+=1*d;1*d>0&&p.push(a)}));let b={...c};b.account=null===(t=(0,o.bh)("global_account_params"))||void 0===t||null===(n=t.salary)||void 0===n?void 0:n.account;let _=c.amount,f=(0,o.Zv)(_,2);b.type="debit",b.operationId=(0,o.M5)(),b.amount=1*f,p.push(b);let g={...c};var y,j,N,I;(g.account=null===(d=(0,o.bh)("global_account_params"))||void 0===d?void 0:d.cash_bank.account,null!==c&&void 0!==c&&c.futureSlipCheck)&&(g.account=null===(y=(0,o.bh)("global_account_params"))||void 0===y||null===(j=y.futureSlipCheck)||void 0===j?void 0:j.account,g.subAccount=null===(N=(0,o.bh)("global_account_params"))||void 0===N||null===(I=N.futureSlipCheck)||void 0===I?void 0:I.subAccount);let k=c.amount-v;u&&(k-=u);let w=(0,o.Zv)(k,2);if(g.type="credit",g.operationId=(0,o.M5)(),g.amount=1*w,p.push(g),u){var C;let e={...c};e.account=null===(C=(0,o.bh)("global_account_params"))||void 0===C?void 0:C.cash_fluid.account;let a=(0,o.Zv)(u,2);e.type="credit",e.operationId=(0,o.M5)(),e.amount=1*a,p.push(e)}let T={...null===(i=(0,o.bh)((0,o.hQ)()))||void 0===i?void 0:i.add_multi_opera};T.params=h,T.form=p,D(T,r,c.document)},D=async(e,a,l)=>{const t=(0,o.I7)(e);await t&&setTimeout((()=>{(0,o.Rz)(m,null),(null===h||void 0===h?void 0:h.modalID)&&(0,s.CloseModal)({id:null===h||void 0===h?void 0:h.modalID}),b&&b(a,l),j({pathname:"/accounting-ledger",search:"?cId=".concat(a)})}),400)};return(0,u.jsxs)("div",{style:{maxHeight:"96vh",width:"1040px",overflow:"auto",background:"var(--hrm_palette-general-background-b)",borderRadius:13,padding:"10px 19px 25px"},className:"payStub ",children:[(0,u.jsxs)("div",{className:"_dsplFlx ",children:[(0,u.jsx)("p",{className:"form_title",children:"Registrar Nomina en la Contabilidad"}),(0,u.jsx)("div",{className:"flexSpace"}),(0,u.jsx)("div",{className:"employee_name",children:null===x||void 0===x?void 0:x.name})]}),(0,u.jsxs)("div",{className:"_dsplFlx ",style:{margin:"10px 10px 10px 0"},children:[(0,u.jsx)("div",{className:"flexSpace"}),(0,u.jsx)("div",{style:{margin:"14px 10px 0px 0"},children:(0,u.jsx)(v,{init:null===(l=(0,o.bh)(m))||void 0===l?void 0:l.date,label:"Fecha",updDate:e=>N("date",e)})}),(0,u.jsx)("div",{className:"flexSpace"}),(0,u.jsx)("div",{style:{margin:"30px 0px 0px 0"},children:(0,u.jsxs)("div",{className:"_dsplFlx ",children:[(0,u.jsx)("span",{className:"checklabel",children:"Cheque a Futuro"}),(0,u.jsx)(r,{initvalue:null===(n=(0,o.bh)(m))||void 0===n?void 0:n.futureSlipCheck,keyCode:57,updChange:e=>N("futureSlipCheck",e)})]})}),(0,u.jsx)("div",{className:"flexSpace"}),(0,u.jsx)(p,{init:null===(d=(0,o.bh)(m))||void 0===d?void 0:d.document,label:"Document",width:170,updChanges:e=>N("document",e)}),(0,u.jsx)("div",{className:"flexSpace"})]}),(0,u.jsxs)("div",{className:"_dsplFlx ",style:{marginTop:48},children:[(0,u.jsx)("div",{className:"_dsplFlx ",style:{margin:"10px 10px 10px 0"},children:S}),(0,u.jsx)("div",{className:"flexSpace"}),(0,u.jsx)("div",{children:(0,u.jsx)(i.NK,{clickHandler:()=>{x.w2Taxes?T():C()},label:"Guardar"})})]})]})}},4304:(e,a,l)=>{l.d(a,{lp:()=>d,NK:()=>n});l(2791);var t=l(1087),o=l(184);const n=e=>{let{clickHandler:a,label:l,navTo:n}=e;return(0,o.jsx)("button",{className:"gHAsFI dqnOfN jUrKkb",onClick:a,children:(0,o.jsx)(t.OL,{className:" jaqJnq",to:n,children:l})})},d=e=>{let{children:a}=e;return(0,o.jsx)("div",{className:"jRutKh",children:(0,o.jsx)("div",{className:"jSvsvz",children:(0,o.jsx)("div",{className:"jzcvbH",children:(0,o.jsx)("div",{className:" kfqEsq",children:a})})})})}},1206:()=>{}}]);
//# sourceMappingURL=9596.6ed47b78.chunk.js.map