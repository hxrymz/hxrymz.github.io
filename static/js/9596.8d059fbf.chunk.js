"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[9596,7766],{8037:(e,a,t)=>{t.d(a,{N:()=>d});var o=t(2647),l=t(2350),n=t(184);const c=(0,o.PU)(),d=e=>{let{clickHandler:a,label:t,theme:o,width:d,icon:i,color:s}=e,u={"--btn_bg_hrm2":"var(--btn_bg_hrm1_".concat(o,")"),"--btn_bg_hover_hrm2":"var(--btn_bg_hover_hrm1_".concat(o,")"),"--btn_text_hrm2":"var(--btn_text_hrm1_".concat(o,")")};if(s){let{r:e,g:a,b:t}=(0,l.wK)(s);u={"--btn_bg_hrm2":"rgba("+[e,a,t].join(",")+", 0.11 )","--btn_bg_hover_hrm2":"rgba("+[e,a,t].join(",")+", 0.21 )","--btn_text_hrm2":s}}return d&&(u.width=d),(0,n.jsx)("div",{className:" jaqJnq_hrm1",style:u,children:(0,n.jsxs)("button",{className:"gHAsFI_hrm1 dqnOfN jUrKkb ".concat(o),onClick:a,children:[i?(0,n.jsx)("div",{style:{padding:"5px 10px 0 0",cursor:"pointer"},children:(0,n.jsx)(c,{name:i,color:"var(--btn_text_hrm2)"})}):null,(0,n.jsx)("span",{className:" jaqJnq_hrm1",children:t})]})})}},9596:(e,a,t)=>{t.r(a),t.d(a,{default:()=>h});var o=t(2791),l=t(2350),n=t(2647),c=(t(1206),t(24)),d=t(8037),i=t(7689),s=t(9760),u=t(184);const r=(0,n.YZ)(),m=(0,n.Np)(),p=(0,c.f_)(),v="paystub_employee_2Acc",h=e=>{var a,t,n,c;let{data:h,confirm:b,item:_}=e;const[x,g]=(0,o.useState)(!1),[y,f]=(0,o.useState)(0),j=(0,i.s0)();(0,o.useEffect)((()=>{if(!x){g(!0);(0,l.bh)(v);f((0,l.M5)())}}));const I=(e,a,t)=>{let o=(0,l.bh)(v)||{};t?(o[t]||(o[t]={}),o[t][e]=a):o[e]=a,(0,l.Rz)(v,o),f((0,l.M5)())};let N=(0,l.bh)(v)||{},k=(new Date).getTime()+800;if(N.date){k=new Date(N.date).getTime()}let w=null===(a=(0,l.bh)("employees_ids"))||void 0===a?void 0:a[null===_||void 0===_?void 0:_.employeeId],C="Check No ".concat(N.document?N.document:""," - Salary ").concat((0,l.sJ)(k)," - ").concat(null===w||void 0===w?void 0:w.name).toUpperCase();const S=async e=>{var a,t,o,n,c;let d=(0,l.bh)(v)||{},i=(new Date).getTime()+800;if(d.date){let e=new Date(d.date).getTime();i=e||i}d.date=i,d.amount=null===_||void 0===_?void 0:_.grossPay,d.description||(d.description=C);let s=await(0,l.fN)(d.date),u={date:d.date,comprobanteId:s,description:d.description,businessId:null===(a=(0,l.bh)("profileUser"))||void 0===a?void 0:a.businessId,year:new Date(d.date).getFullYear()};delete d.date,d.document=null===(t=d.document)||void 0===t?void 0:t.trim(),d.employeeId=null===_||void 0===_?void 0:_.employeeId;let r=[],m={...d},p=(0,l.Zv)(d.amount,2);_.otherDeductions&&(0,l._2)(_.otherDeductions).map((e=>{var a;let t={...d},o=_.otherDeductions[e],n={...null===(a=(0,l.bh)("global_account_params"))||void 0===a?void 0:a[e]};t.account=n.account,t.subAccount=n.subAccount,t.operationId=(0,l.M5)();let c=1*o.amount;"Overpayments"===e?(t.type="credit",p=1*p+c,t.amount=-1*c):"Underpayments"===e&&(t.type="debit",p=1*p+c,t.amount=c),r.push(t)})),m.account=null===(o=(0,l.bh)("global_account_params"))||void 0===o?void 0:o.salary.account;let h=(0,l.Zv)(d.amount,2);m.type="debit",m.operationId=(0,l.M5)(),m.amount=1*h,r.push(m);let b={...d};var x,g,y,f;(b.account=null===(n=(0,l.bh)("global_account_params"))||void 0===n?void 0:n.cash_bank.account,null!==d&&void 0!==d&&d.futureSlipCheck)&&(b.account=null===(x=(0,l.bh)("global_account_params"))||void 0===x||null===(g=x.futureSlipCheck)||void 0===g?void 0:g.account,b.subAccount=null===(y=(0,l.bh)("global_account_params"))||void 0===y||null===(f=y.futureSlipCheck)||void 0===f?void 0:f.subAccount);b.type="credit",b.operationId=(0,l.M5)(),b.amount=1*p,r.push(b);let j={...null===(c=(0,l.bh)((0,l.hQ)()))||void 0===c?void 0:c.add_multi_opera};j.params=u,j.form=r,M(j,s,d.document)},D=async e=>{var a,t,o,n,c,d;let i=(0,l.bh)(v)||{},s=(new Date).getTime()+800;if(i.date){let e=new Date(i.date).getTime();s=e||s}i.date=s;const u=i.cash_amount;delete i.cash_amount;let r=await(0,l.fN)(i.date);i.comprobanteId=r,i.document=null===(a=i.document)||void 0===a?void 0:a.trim(),i.description||(i.description=C),i.amount=null===_||void 0===_?void 0:_.grossPay,i.employeeId=null===_||void 0===_?void 0:_.employeeId;let m=[],p=0,h={date:i.date,comprobanteId:r,description:i.description,businessId:null===(t=(0,l.bh)("profileUser"))||void 0===t?void 0:t.businessId,year:new Date(i.date).getFullYear()};delete i.date,_.w2Taxes&&(0,l._2)(_.w2Taxes).map((e=>{let a={...i},t=_.w2Taxes[e],o=t.account;a.account=o.account,a.subAccount=o.subAccount;let n=t.amount?t.amount:t.percent/100*_.grossPay,c=(0,l.Zv)(n,2);if(a.type="credit",a.operationId=(0,l.M5)(),"socialSecurity"===e){var d,s;let e={...i};e.account=null===(d=(0,l.bh)("global_account_params"))||void 0===d||null===(s=d.socialsecurity_tax_expenses)||void 0===s?void 0:s.account,e.type="debit",e.amount=1*c,e.operationId=(0,l.M5)(),p+=1*c,a.amount=2*c,m.push(e)}else if("medicareTax"===e){var u,r;let e={...i};e.account=null===(u=(0,l.bh)("global_account_params"))||void 0===u||null===(r=u.medicare_tax_expenses)||void 0===r?void 0:r.account,e.type="debit",e.amount=1*c,e.operationId=(0,l.M5)(),a.amount=2*c,p+=1*c,m.push(e)}else a.amount=1*c,p+=1*c;1*c>0&&m.push(a)})),_.otherDeductions&&(0,l._2)(_.otherDeductions).map((e=>{var a;let t={...i},o=_.otherDeductions[e],n={...null===(a=(0,l.bh)("global_account_params"))||void 0===a?void 0:a[e]};t.account=n.account,t.subAccount=n.subAccount,t.operationId=(0,l.M5)();let c=1*o.amount;"Overpayments"===e?(t.type="credit",p-=1*c,console.log(e,p),t.amount=-1*c):"Underpayments"===e&&(t.type="debit",p+=1*c,console.log(e,p),t.amount=c),m.push(t)}));let b={...i};b.account=null===(o=(0,l.bh)("global_account_params"))||void 0===o||null===(n=o.salary)||void 0===n?void 0:n.account;let x=i.amount,g=(0,l.Zv)(x,2);b.type="debit",b.operationId=(0,l.M5)(),b.amount=1*g,m.push(b);let y={...i};var f,j,I,N;(y.account=null===(c=(0,l.bh)("global_account_params"))||void 0===c?void 0:c.cash_bank.account,null!==i&&void 0!==i&&i.futureSlipCheck)&&(y.account=null===(f=(0,l.bh)("global_account_params"))||void 0===f||null===(j=f.futureSlipCheck)||void 0===j?void 0:j.account,y.subAccount=null===(I=(0,l.bh)("global_account_params"))||void 0===I||null===(N=I.futureSlipCheck)||void 0===N?void 0:N.subAccount);let k=i.amount-p;u&&(k-=u);let w=(0,l.Zv)(k,2);if(y.type="credit",y.operationId=(0,l.M5)(),y.amount=1*w,m.push(y),u){var S;let e={...i};e.account=null===(S=(0,l.bh)("global_account_params"))||void 0===S?void 0:S.cash_fluid.account;let a=(0,l.Zv)(u,2);e.type="credit",e.operationId=(0,l.M5)(),e.amount=1*a,m.push(e)}let D={...null===(d=(0,l.bh)((0,l.hQ)()))||void 0===d?void 0:d.add_multi_opera};D.params=h,D.form=m,M(D,r,i.document)},M=async(e,a,t)=>{const o=(0,l.I7)(e);await o&&setTimeout((()=>{(0,l.Rz)(v,null),(null===h||void 0===h?void 0:h.modalID)&&(0,s.CloseModal)({id:null===h||void 0===h?void 0:h.modalID}),b&&b(a,t),j({pathname:"/accounting-ledger",search:"?cId=".concat(a)})}),400)};return(0,u.jsxs)("div",{style:{maxHeight:"96vh",width:"1040px",overflow:"auto",background:"var(--hrm_palette-general-background-b)",borderRadius:13,padding:"10px 19px 25px"},className:"payStub ",children:[(0,u.jsxs)("div",{className:"_dsplFlx ",children:[(0,u.jsx)("p",{className:"form_title",children:"Registrar Nomina en la Contabilidad"}),(0,u.jsx)("div",{className:"flexSpace"}),(0,u.jsx)("div",{className:"employee_name",children:null===_||void 0===_?void 0:_.name})]}),(0,u.jsxs)("div",{className:"_dsplFlx ",style:{margin:"10px 10px 10px 0"},children:[(0,u.jsx)("div",{className:"flexSpace"}),(0,u.jsx)("div",{style:{margin:"14px 10px 0px 0"},children:(0,u.jsx)(p,{init:null===(t=(0,l.bh)(v))||void 0===t?void 0:t.date,label:"Fecha",updDate:e=>I("date",e)})}),(0,u.jsx)("div",{className:"flexSpace"}),(0,u.jsx)("div",{style:{margin:"30px 0px 0px 0"},children:(0,u.jsxs)("div",{className:"_dsplFlx ",children:[(0,u.jsx)("span",{className:"checklabel",children:"Cheque a Futuro"}),(0,u.jsx)(r,{initvalue:null===(n=(0,l.bh)(v))||void 0===n?void 0:n.futureSlipCheck,keyCode:57,updChange:e=>I("futureSlipCheck",e)})]})}),(0,u.jsx)("div",{className:"flexSpace"}),(0,u.jsx)(m,{init:null===(c=(0,l.bh)(v))||void 0===c?void 0:c.document,label:"Document",width:170,updChanges:e=>I("document",e)}),(0,u.jsx)("div",{className:"flexSpace"})]}),(0,u.jsxs)("div",{className:"_dsplFlx ",style:{marginTop:48},children:[(0,u.jsx)("div",{className:"_dsplFlx ",style:{margin:"10px 10px 10px 0"},children:C}),(0,u.jsx)("div",{className:"flexSpace"}),(0,u.jsx)("div",{children:(0,u.jsx)(d.N,{clickHandler:()=>{_.w2Taxes?D():S()},label:"Guardar"})})]})]})}},1206:()=>{}}]);
//# sourceMappingURL=9596.8d059fbf.chunk.js.map