"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[9694],{9694:(e,s,a)=>{a.r(s),a.d(s,{default:()=>m});var l=a(2791),r=a(2350),t=a(2647),i=a(9760),d=(a(2768),a(7183)),n=a(901),c=a(6677),o=a(184);const h=(0,t.Vg)(),v=(0,d.cc)(),u=(0,d.qh)(),_=(0,t.h0)(),p=(0,t.PU)(),m=e=>{var s,a,t,d,m,x;let{data:y,elmId:j,updObs:g}=e;const[N,f]=(0,l.useState)(!1),[F,I]=(0,l.useState)(0),[C,k]=(0,l.useState)(!1);(0,l.useEffect)((()=>{N||(f(!0),I((0,r.M5)()),(0,c.Je)(O))}));const D=()=>{},Q=e=>{(0,n.gW)(O)},O=async(e,s)=>{I((0,r.M5)()),k(!1)},w=e=>{if(null!==e&&void 0!==e&&e.initDate&&null!==e&&void 0!==e&&e.lastDate){let s={...e};s.initDate=s.initDate-100,s.lastDate=s.lastDate+8638e4,(0,r.Rz)("date_range_comps",s)}(0,n.gW)(O)};let R=(null===(s=(0,r.bh)("date_range_comps"))||void 0===s?void 0:s.initDate)&&(0,r.sJ)(null===(a=(0,r.bh)("date_range_comps"))||void 0===a?void 0:a.initDate)+"-"+(0,r.sJ)(null===(t=(0,r.bh)("date_range_comps"))||void 0===t?void 0:t.lastDate);return(0,o.jsxs)("div",{className:"",children:[(0,o.jsxs)("div",{className:"accounts_header",children:[(0,o.jsx)("h2",{children:"Cheques a Futuro"}),(0,o.jsxs)("div",{className:"_dsplFlx ",children:[(0,o.jsx)("div",{className:"group_title addBtn purple",onClick:()=>{(0,n.$s)();let e={zIndex:450,height:"80vh",props:{minHeight:"1vh",overlay:!0}};e.content=(0,o.jsx)(v,{confirm:Q}),(0,i.OpenModal)(e)},children:"Agregar Cheques"}),(0,o.jsx)("div",{className:"flexSpace"}),(0,o.jsx)("div",{children:(0,o.jsxs)("div",{className:"filter_date_btn _dsplFlx",onClick:()=>{var e,s;let a={zIndex:950,height:"80vh",props:{minHeight:"1vh",overlay:!0}};a.content=(0,o.jsx)(_,{onConfirm:w,init:null===(e=(0,r.bh)("date_range_comps"))||void 0===e?void 0:e.initDate,last:null===(s=(0,r.bh)("date_range_comps"))||void 0===s?void 0:s.lastDate,isRange:!0}),(0,i.OpenModal)(a)},children:[(0,o.jsx)("div",{className:"lbl date",children:R||"Fecha"}),(0,o.jsx)(p,{name:"calendar",color:"#66666"})]})})]}),(0,o.jsxs)("div",{className:"_dsplFlx ",style:{marginTop:14},children:[(0,o.jsx)(h,{placeholder:"Buscar ....",width:360,obs:I,fetchData:e=>{k(!0),(0,n.Ly)(O)},loading:C,change:e=>{!C&&k(!0)},callempty:Q,keyFlds:"searchCFQry"}),(0,o.jsx)("div",{className:"flexSpace"}),(0,o.jsxs)("div",{className:"_dsplFlx ",children:[(0,o.jsx)("div",{className:"total_comprobante_title",children:"Qty de Cheques:"}),(0,o.jsx)("div",{className:"total_comprobante gray",children:(0,o.jsx)("span",{children:null===(d=(0,r._2)((0,r.bh)("payChecksOnFutures_list")))||void 0===d?void 0:d.length})}),(0,o.jsx)("div",{className:"lineV"}),(0,o.jsx)("div",{className:"_dsplFlx acc_dtls",style:{margin:"10px 0 0 0"},children:(0,o.jsxs)("div",{className:"_dsplFlx",children:[(0,o.jsx)("div",{className:"name",style:{color:"var(--hrm_palette-item_coll_gray)"},children:"Monto a Pagar:"}),(0,o.jsxs)("div",{className:"code",style:{marginLeft:8,color:"var(--hrm_palette-inverse-background-b)"},children:["$",null===(m=b((0,r.bh)("payChecksOnFutures_list")))||void 0===m?void 0:m.toFixed(2)]})]})})]})]})]}),(0,o.jsxs)("div",{className:"_dsplFlx hdr_bar purple",children:[(0,o.jsx)("div",{className:"icon tr_bar_5"}),(0,o.jsx)("div",{className:" tr_bar_20",children:"Fecha"}),(0,o.jsx)("div",{className:" tr_bar_10",children:"No Cheque"}),(0,o.jsx)("div",{className:" tr_bar_20",children:"Documento"}),(0,o.jsx)("div",{className:" tr_bar_30",children:"Proveedor"}),(0,o.jsx)("div",{className:" tr_bar_10",children:"Importe"}),(0,o.jsx)("div",{className:"icon tr_bar_5"})]}),(0,o.jsx)("div",{className:"payChecksOnFutures_container scollVh",children:(0,r.bh)("payChecksOnFutures_list")&&(null===(x=(0,r._2)((0,r.bh)("payChecksOnFutures_list")))||void 0===x?void 0:x.map((e=>(0,o.jsx)(u,{data:(0,r.bh)("payChecksOnFutures_list")[e],elmId:e,openUpdateView:D,handleRefreshAll:Q},e))))})]})},b=e=>{var s;let a=0;return e&&(null===(s=(0,r._2)(e))||void 0===s||s.map(((s,l)=>{let t=1*e[s].amount;a=1*(0,r.Zv)(a,2)+1*(0,r.Zv)(t,2)}))),a}},901:(e,s,a)=>{a.d(s,{$s:()=>c,Ly:()=>t,Ri:()=>r,gW:()=>i,t_:()=>d,yD:()=>n});var l=a(2350);const r=async e=>{e&&e()},t=async e=>{var s,a;let r={...null===(s=(0,l.bh)((0,l.hQ)()))||void 0===s?void 0:s.search_future_check};r.params={businessId:null===(a=(0,l.bh)("profileUser"))||void 0===a?void 0:a.businessId},(0,l.bh)("searchCFQry").split(" ").map(((e,s)=>{e&&(r.params[":search"+s]=e.trim())}));const t=(0,l.I7)(r),i=await t;i&&((0,l.Rz)("payChecksOnFutures_list",d((0,l.jQ)(i),"date")),e&&e())},i=async e=>{var s,a,r,t;(0,l.Rz)("payChecksOnFutures_list",null);let i={...null===(s=(0,l.bh)((0,l.hQ)()))||void 0===s?void 0:s.search_future_check};i.params={businessId:null===(a=(0,l.bh)("profileUser"))||void 0===a?void 0:a.businessId,":date1":(null===(r=(0,l.bh)("date_range_comps"))||void 0===r?void 0:r.initDate)-10,":date2":null===(t=(0,l.bh)("date_range_comps"))||void 0===t?void 0:t.lastDate},(0,l.bh)("searchCFQry").split(" ").map(((e,s)=>{e&&(i.params[":search"+s]=e.trim())}));const n=(0,l.I7)(i),c=await n;if(c&&!c.error){var o=[];c&&(0,l._2)(c).map((e=>{var s,a;c[e].date>(null===(s=(0,l.bh)("date_range_comps"))||void 0===s?void 0:s.initDate)-10&&c[e].date<=(null===(a=(0,l.bh)("date_range_comps"))||void 0===a?void 0:a.lastDate)&&o.push(c[e])})),(0,l.Rz)("payChecksOnFutures_list",d(o,"date"))}e&&e()};const d=(e,s)=>(0,l.MV)("sortPayChecksOnFutures",[e],(()=>e&&e.sort(((e,a)=>{let l=1*e[s],r=1*a[s];return l<r?-1:l>r?1:0})))),n=async(e,s)=>{var a,r;let t={...null===(a=(0,l.bh)((0,l.hQ)()))||void 0===a?void 0:a.delete_future_check};t.params={businessId:null===(r=(0,l.bh)("profileUser"))||void 0===r?void 0:r.businessId,payFutureCheckId:e};const i=(0,l.I7)(t);await i&&s&&s()},c=()=>{}},6677:(e,s,a)=>{a.d(s,{Je:()=>r,Qn:()=>n,UO:()=>t,mQ:()=>d});var l=a(2350);const r=async e=>{var s,a;let r={...null===(s=(0,l.bh)((0,l.hQ)()))||void 0===s?void 0:s.all_prov_cust};r.params={businessId:null===(a=(0,l.bh)("profileUser"))||void 0===a?void 0:a.businessId,year:(0,l.bh)("date_current_year")};const t=(0,l.I7)(r),d=await t;d&&((0,l.Rz)("providers_list",i((0,l.jQ)(d),"name",1)),(0,l.Rz)("providers_ids",(0,l.ME)((0,l.jQ)(d),"providerId")),e&&e())},t=async e=>{var s,a;let r={...null===(s=(0,l.bh)((0,l.hQ)()))||void 0===s?void 0:s.search_prov_cust};r.params={businessId:null===(a=(0,l.bh)("profileUser"))||void 0===a?void 0:a.businessId,":search":(0,l.bh)("search_prov"),year:(0,l.bh)("date_current_year")};const t=(0,l.I7)(r),d=await t;d&&((0,l.Rz)("providers_list",i((0,l.jQ)(d),"name",1)),e&&e())};const i=(e,s,a)=>(0,l.MV)("sortProviders",[e],(()=>e&&e.sort(((e,l)=>{let r=1*e[s],t=1*l[s];return r<t?a?-1:1:r>t?a?1:-1:0})))),d=(e,s)=>(0,l.MV)("sortSubProviders",[e],(()=>e&&e.sort(((e,a)=>{let l=1*e[s],r=1*a[s];return l<r?-1:l>r?1:0})))),n=async(e,s)=>{var a,r;let t={...null===(a=(0,l.bh)((0,l.hQ)()))||void 0===a?void 0:a.delete_prov_cust};t.params={businessId:null===(r=(0,l.bh)("profileUser"))||void 0===r?void 0:r.businessId,providerId:e,year:(0,l.bh)("date_current_year")};const i=(0,l.I7)(t);await i&&s&&s()}},2768:()=>{}}]);
//# sourceMappingURL=9694.7a8e505a.chunk.js.map