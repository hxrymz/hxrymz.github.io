"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[9749],{8037:(e,l,a)=>{a.d(l,{N:()=>r});var t=a(2647),s=a(2350),i=a(184);const n=(0,t.PU)(),r=e=>{let{clickHandler:l,label:a,theme:t,width:r,icon:d,color:o}=e,c={"--btn_bg_hrm2":"var(--btn_bg_hrm1_".concat(t,")"),"--btn_bg_hover_hrm2":"var(--btn_bg_hover_hrm1_".concat(t,")"),"--btn_text_hrm2":"var(--btn_text_hrm1_".concat(t,")")};if(o){let{r:e,g:l,b:a}=(0,s.wK)(o);c={"--btn_bg_hrm2":"rgba("+[e,l,a].join(",")+", 0.11 )","--btn_bg_hover_hrm2":"rgba("+[e,l,a].join(",")+", 0.21 )","--btn_text_hrm2":o}}return r&&(c.width=r),(0,i.jsx)("div",{className:" jaqJnq_hrm1",style:c,children:(0,i.jsxs)("button",{className:"gHAsFI_hrm1 dqnOfN jUrKkb ".concat(t),onClick:l,children:[d?(0,i.jsx)("div",{style:{padding:"5px 10px 0 0",cursor:"pointer"},children:(0,i.jsx)(n,{name:d,color:"var(--btn_text_hrm2)"})}):null,(0,i.jsx)("span",{className:" jaqJnq_hrm1",children:a})]})})}},1475:(e,l,a)=>{a.d(l,{Je:()=>n,MX:()=>s,M_:()=>u,Qq:()=>i,bM:()=>v,lG:()=>d,p8:()=>o,sV:()=>r,tS:()=>h,vC:()=>c});var t=a(2350);const s=async e=>{e&&e()},i=async(e,l)=>{var a;let s={query:"getSignedUrl",params:{userId:null===(a=(0,t.bh)("profileUser"))||void 0===a?void 0:a.businessId,fileName:e}};const i=(0,t.I7)(s),n=await i;null!==n&&void 0!==n&&n.url?(0,t.Ey)(l)&&l(null===n||void 0===n?void 0:n.url):(0,t.Ey)(l)&&l(null)},n=async(e,l,a)=>{var s;let i={query:"ProccessImage",params:{userId:null===(s=(0,t.bh)("profileUser"))||void 0===s?void 0:s.businessId,fileName:l,url:e}};const n=(0,t.I7)(i),r=await n;null!==r&&void 0!==r&&r.url?(0,t.Ey)(a)&&a(null===r||void 0===r?void 0:r.url):(0,t.Ey)(a)&&a(null)},r=async(e,l)=>{let a={query:"detectLandMark",params:{url:e}};const s=(0,t.I7)(a),i=await s;l(e,i||null)},d=async e=>{var l,a,s,i;let n={...null===(l=(0,t.bh)((0,t.hQ)()))||void 0===l?void 0:l.search_incms_expns};n.params={businessId:null===(a=(0,t.bh)("profileUser"))||void 0===a?void 0:a.businessId,year:(0,t.bh)("date_current_year"),":date1":null===(s=(0,t.bh)("date_range_comps"))||void 0===s?void 0:s.initDate,":date2":null===(i=(0,t.bh)("date_range_comps"))||void 0===i?void 0:i.lastDate},(0,t.bh)("search_acc_record").split(" ").map(((e,l)=>{e&&(n.params[":search"+l]=e.trim())}));const r=(0,t.I7)(n),d=await r;d&&((0,t.Rz)("feedfMbls_ids",d),(0,t.Rz)("feedfMbls_list",m((0,t.jQ)(d),"date")),e&&e())},o=async()=>{let e=[];(0,t.bh)("feedfMbls_list").map((async(l,a)=>{var s,i,n,r,d,o;if(l.comprobanteId)return;let c={...l},v={...l},m="debit",u="credit";"expense"===(null===v||void 0===v?void 0:v.movementType)&&(m="credit",u="debit");let h=(null===v||void 0===v?void 0:v.title)+"; "+(null===v||void 0===v?void 0:v.description),p=null===(s=(0,t.bh)("categories_ids"))||void 0===s?void 0:s[null===v||void 0===v?void 0:v.categoryId],b={};b.amount=null===v||void 0===v?void 0:v.amount,b.movementId=null===v||void 0===v?void 0:v.movementId,b.description=h,b.date=null===v||void 0===v?void 0:v.date;let x={...b};b.account=null===(i=(0,t.bh)("global_account_params"))||void 0===i?void 0:i.cash_bank.account,b.type=m,x.account=null===p||void 0===p?void 0:p.account,null!==p&&void 0!==p&&p.subAccount&&(x.subAccount=null===p||void 0===p?void 0:p.subAccount),x.type=u;let _=[x,b];c.date?c.date=new Date(c.date).getTime()+4800:c.date=(new Date).getTime()+4800;let g=await(0,t.V_)(c.date,1*a+4);c.comprobanteId=g,c.document=null===(n=c.document)||void 0===n?void 0:n.trim(),_&&(null===(r=(0,t._2)(_))||void 0===r||r.map((async(a,s)=>{let i=_[a];if(!isNaN(1*i.amount)&&1*i.amount>0){var n,r;let a={...c};a.account=i.account,i.subAccount&&(a.subAccount=i.subAccount),a.movementRef=l.movementId,a.type=i.type,a.amount=1*i.amount,a.operationId=(0,t.M5)(),a.document=(0,t.LO)()+"_"+(0,t.UG)(c.date);let s={...null===(n=(0,t.bh)((0,t.hQ)()))||void 0===n?void 0:n.add_opera};s.params={businessId:null===(r=(0,t.bh)("profileUser"))||void 0===r?void 0:r.businessId,year:new Date(c.date).getFullYear()},s.form=a,e.push(s)}})));let f={...null===(d=(0,t.bh)((0,t.hQ)()))||void 0===d?void 0:d.upd__incms_expns};f.params={businessId:null===(o=(0,t.bh)("profileUser"))||void 0===o?void 0:o.businessId,movementId:l.movementId,year:(0,t.bh)("date_current_year")},f.data2update={comprobanteId:g},e.push(f)})),setTimeout((()=>{}),4e3)},c=async e=>{var l,a;let s={...null===(l=(0,t.bh)((0,t.hQ)()))||void 0===l?void 0:l.search_categapp};s.params={businessId:null===(a=(0,t.bh)("profileUser"))||void 0===a?void 0:a.businessId},(0,t.bh)("search_categories").split(" ").map(((e,l)=>{e&&(s.params[":search"+l]=e.trim())}));const i=(0,t.I7)(s),n=await i;n&&((0,t.Rz)("categories_ids",n),(0,t.Rz)("categories_list",m((0,t.jQ)(n),"name")),e&&e())},v=async e=>{var l,a;let s={...null===(l=(0,t.bh)((0,t.hQ)()))||void 0===l?void 0:l.all_categapp};s.params={businessId:null===(a=(0,t.bh)("profileUser"))||void 0===a?void 0:a.businessId};const i=(0,t.I7)(s),n=await i;n&&(!function(e){const l=e=>({label:e.name,id:e.categoryId});(0,t.Rz)("categories_pick_data",e.map(l))}(n),(0,t.Rz)("categories_list",m(n,"name")),(0,t.Rz)("categories_ids",(0,t.ME)(n,"categoryId"))),e&&e()};const m=(e,l)=>(0,t.MV)("sort_feedfMbl",[e],(()=>e&&e.sort(((e,a)=>{let t=1*e[l],s=1*a[l];return t<s?-1:t>s?1:0})))),u=async(e,l)=>{var a,s;let i={...null===(a=(0,t.bh)((0,t.hQ)()))||void 0===a?void 0:a.delete__incms_expns};i.params={businessId:null===(s=(0,t.bh)("profileUser"))||void 0===s?void 0:s.businessId,movementId:e};const n=(0,t.I7)(i);await n&&l&&l()},h=(e,l)=>(0,t.MV)("rangeArr",[e,l],(()=>e?(0,t._2)(e).slice(0,l):[]))},9749:(e,l,a)=>{a.r(l),a.d(l,{default:()=>z});var t=a(2791),s=(a(5868),a(9760)),i=a(2647),n=a(7689),r=a(1087),d=a(2350),o=a(5143),c=a(184);const v=(0,i.PU)(),m=e=>{var l,a;let{data:s,show:i,range2Scroll:n,updRange:o,type:m}=e;const u=(0,t.useRef)(null),h=(0,t.useRef)(0),p=(0,t.useRef)(!1),b=(0,t.useRef)(null);if((0,t.useEffect)((()=>(n&&(b.current=setInterval((()=>{let e=window.pageYOffset||document.documentElement.scrollTop;if(!p.current&&h.current!==e){h.current=e;let l=(0,d.cv)(u.current);l.top+l.height-h.current<0&&(0,d.Ey)(o)&&(p.current=!0,o())}}),250)),()=>{b.current&&clearInterval(b.current)})),[n]),!i)return null;let x=null!==s&&void 0!==s&&s.amount?(1*(null===s||void 0===s?void 0:s.amount)).toFixed(2):"0.00",_=null===(l=(0,d.bh)("categories_ids"))||void 0===l||null===(a=l[null===s||void 0===s?void 0:s.categoryId])||void 0===a?void 0:a.name;return(0,c.jsx)(r.OL,{className:"",ref:u,to:{pathname:"/movements/detail",search:"?cId="+(null===s||void 0===s?void 0:s.movementId)+"&view=1"},children:(0,c.jsx)("div",{className:"client_item_box gWXAaj jlytmu",onClick:async()=>{window.scrollTo(0,0),(0,d.Rz)((0,d.Ks)(),s)},style:{marginBottom:9},children:(0,c.jsxs)("div",{className:"_dsplFlx",children:[(0,c.jsxs)("div",{className:"",children:[(0,c.jsxs)("div",{className:"name  title  _dsplFlx ",children:[null!==s&&void 0!==s&&s.categoryId?null:(0,c.jsx)("div",{className:"icon_action",children:(0,c.jsx)(v,{name:"help",color:"var(--partial-success)",size:18})}),"".concat(null===s||void 0===s?void 0:s.title)]}),(0,c.jsx)("div",{className:"name  date ",children:"".concat((0,d.sG)(1*(null===s||void 0===s?void 0:s.date)))}),(0,c.jsx)("div",{className:"category ",children:_})]}),(0,c.jsx)("div",{className:"flexSpace"}),(0,c.jsxs)("div",{className:"name amount lbl_tx",children:["$",x]})]})})})},u=(e,l)=>{let a=(0,d.bh)("ignoreMemo")||{};return null!==a&&void 0!==a&&a[l.elmId]?(a[l.elmId]-=1,null!==a&&void 0!==a&&a[l.elmId]||null===a||void 0===a||delete a[l.elmId],(0,d.Rz)("ignoreMemo",a),!1):l.elmId===e.elmId&&l.show===e.show&&l.range2Scroll===e.range2Scroll},h=(0,t.memo)(m,u);a(8037);(0,i.Np)();const p=(0,i.JY)(),b=(0,i.LA)(),x=e=>{let{data:l,confirm:a}=e;const[i,n]=(0,t.useState)(!1),[r,v]=(0,t.useState)(1);(0,t.useEffect)((()=>{i||(n(!0),v((0,d.M5)()))}));const m=e=>{let l=new Date;if("last1M"===e){let e=l.getMonth()+1,a=new Date(l.getMonth()+1+"/01/"+l.getFullYear()),t=a.getTime(),s=a.setMonth(e)-600;(0,d.Rz)("date_range_comps",{initDate:t,lastDate:s})}else if("last3M"===e){let e=l.getMonth()+1,a=l.getMonth()-3;a<0&&(a=0);let t=new Date(l.getMonth()+1+"/01/"+l.getFullYear()),s=t.setMonth(a),i=t.setMonth(e)-600;(0,d.Rz)("date_range_comps",{initDate:s,lastDate:i})}else if("last6M"===e){let e=l.getMonth()+1,a=l.getMonth()-6;a<0&&(a=0);let t=new Date(l.getMonth()-6+"/01/"+l.getFullYear()),s=t.setMonth(a),i=t.setMonth(e)-600;(0,d.Rz)("date_range_comps",{initDate:s,lastDate:i})}else if("allYear"===e){let e=1*l.getFullYear(),a=1*l.getFullYear()+1,t=new Date("01/01/"+e).getTime(),s=new Date("01/01/"+a).getTime()-10;(0,d.Rz)("date_range_comps",{initDate:t,lastDate:s})}(0,d.Rz)("date_range_option",e),v((0,d.M5)()),(0,d.Ey)(a)&&(h(),a())},u=e=>{let l={...e};l.initDate=l.initDate-100,l.lastDate=l.lastDate+8638e4,(0,d.Rz)("date_range_comps",l),(0,d.Ey)(a)&&(h(),a())},h=()=>{(null===l||void 0===l?void 0:l.modalID)&&(0,s.CloseModal)({id:null===l||void 0===l?void 0:l.modalID})};return(0,c.jsxs)("div",{style:{height:"300px",width:"80vw",overflow:"auto",background:"var(--dark-800)",borderRadius:13,padding:"10px 19px"},children:[(0,c.jsxs)("div",{className:"_dsplFlx ",children:[(0,c.jsx)("p",{className:"form_title blue30",children:(0,o.mU)(55)}),(0,c.jsx)("div",{className:"flexSpace"})]}),(0,c.jsx)("div",{className:"_dsplFlx spaceAround",style:{marginTop:20}}),(0,c.jsx)(p,{label:(0,o.mU)(60),active:"last1M"===(0,d.bh)("date_range_option"),updSelect:()=>m("last1M")}),(0,c.jsx)(p,{label:(0,o.mU)(61),active:"last3M"===(0,d.bh)("date_range_option"),updSelect:()=>m("last3M")}),(0,c.jsx)(p,{label:(0,o.mU)(62),active:"last6M"===(0,d.bh)("date_range_option"),updSelect:()=>m("last6M")}),(0,c.jsx)(p,{label:(0,o.mU)(63),active:"allYear"===(0,d.bh)("date_range_option"),updSelect:()=>m("allYear")}),(0,c.jsx)(p,{label:(0,o.mU)(64),active:"range"===(0,d.bh)("date_range_option"),updSelect:()=>(e=>{(0,d.Rz)("date_range_option",e),v((0,d.M5)());let l={zIndex:950,height:"80vh",props:{minHeight:"1vh",overlay:!0}};l.content=(0,c.jsx)(b,{onConfirm:u,isRange:!0,colors:{"--calendar-primary-color":"var(--primary-blue--backg-30)","--calendar-primary-backcolor":"var(--primary-blue--hover-back-30)","--calendar-selected_lbl_color":"var(--primary-blue--color-30)","--calendar-light-backcolor":"var(--dark-800)","--calendar-primary-hover-backcolor":"var(--hrm_palette-blue-purple_100)","--calendar-light-300":"var(--light-300)","--calendar-light-200":"var(--light-200)","--calendar-light-100":"var(--light-100)","--calendar-dark-800":"var(dark-800)","--calendar-white-100":"var(--primary-blue--color-30)","--calendar-white":"var(--white)"}}),(0,s.OpenModal)(l)})("range")}),(0,c.jsx)("div",{className:"_dsplFlx spaceAround",style:{marginTop:20},children:(0,c.jsx)("div",{className:"card"})})]})};var _=a(2825);(0,i.Np)(),(0,i.JY)(),(0,i.h0)();const g=e=>{var l;let{data:a,confirm:i}=e;const[n,r]=(0,t.useState)(!1),[v,m]=(0,t.useState)(1),u=()=>{m((0,d.M5)())};(0,t.useEffect)((()=>{n||(r(!0),m((0,d.M5)()),(0,o.Je)(u))}));const h=e=>{(0,d.Rz)("provider_filter",e),m((0,d.M5)()),(0,d.Ey)(i)&&(p(),i())},p=()=>{(null===a||void 0===a?void 0:a.modalID)&&(0,s.CloseModal)({id:null===a||void 0===a?void 0:a.modalID})};let b=(0,d.bh)("providers_list");return(0,c.jsxs)("div",{style:{height:"80vh",width:"80vw",overflow:"auto",background:"var(--dark-800)",borderRadius:13,padding:"10px 19px"},children:[(0,c.jsxs)("div",{className:"_dsplFlx ",children:[(0,c.jsx)("p",{className:"form_title blue30",children:"Clientes"}),(0,c.jsx)("div",{className:"flexSpace"})]}),(0,c.jsx)("div",{className:" spaceAround flxWrp scollVh",style:{marginTop:20,maxHeight:"calc( 78vh - 70px)"},children:b&&(null===(l=(0,d._2)(b))||void 0===l?void 0:l.map((e=>(0,c.jsx)(f,{data:b[e],elmId:b[e].providerId,label:b[e].name,clickHandler:h,active:(0,d.bh)("provider_filter")},b[e].providerId))))})]})},f=e=>{let{clickHandler:l,label:a,active:t,elmId:s}=e,i=t===s?null:s;return(0,c.jsx)("div",{className:" btn_filter y2 itmMrg ".concat(t===s?"active":""," "),onClick:()=>l(i),children:(0,c.jsx)("span",{className:"y2",children:a})})};var j=a(5882),y=a(1475),N=a(8965);const I=(0,i.PU)(),w=(0,i.Vg)(),M=(0,i.tW)(),k=(0,j.lT)(),R=e=>{var l,a,i,n,r,v,m;let{}=e;const[,u]=(0,t.useState)(1),p=(0,d.bh)("movement_type"),[b,f]=(0,t.useState)(36),j=(0,t.useRef)(null),R=(0,t.useRef)(null),U=(0,t.useRef)(null),D=(0,t.useRef)(null),z=(0,t.useRef)(!1);(0,t.useEffect)((()=>{(0,y.bM)(E),(0,o.EV)(H)}),[]);const T=e=>{var l,a;null===j||void 0===j||null===(l=j.current)||void 0===l||l.setAttribute("show",e),null===R||void 0===R||null===(a=R.current)||void 0===a||a.setAttribute("loading",e)},F=(0,N.g)(!1,T),C=()=>{f((e=>e+36))},E=()=>{u((0,d.M5)())},H=()=>{setTimeout((()=>{F.value=!1,T(!1),64!==b?f(64):E()}),50)},A=async e=>{(0,d.Rz)("category_filter",e),F.value||(F.value=!0),T(!0),(0,o.EV)(H)},V=()=>{F.value||(F.value=!0),T(!0),(0,o.EV)(H)};let O=(0,d.bh)("client_list_"+p);const Y=e=>{(0,d.Rz)("movement_type",e),E(),F.value||(F.value=!0),T(!0),(0,o.EV)(H)};let Q="incomes"===(0,d.bh)("movement_type")?"var(--primary-blue--backg-30)":"var(--primary-red--color-f7)",q=null!==(l=(0,d.bh)("date_range_comps"))&&void 0!==l&&l.initDate?(0,d.sJ)(null===(a=(0,d.bh)("date_range_comps"))||void 0===a?void 0:a.initDate)+" - "+(0,d.sJ)(null===(i=(0,d.bh)("date_range_comps"))||void 0===i?void 0:i.lastDate):null,P=null===(n=(0,d.bh)("categories_ids"))||void 0===n||null===(r=n[(0,d.bh)("category_filter")])||void 0===r?void 0:r.name,J=null===(v=(0,d.bh)("providers_ids"))||void 0===v||null===(m=v[(0,d.bh)("provider_filter")])||void 0===m?void 0:m.name;return(0,c.jsxs)("div",{className:"customer_bx_dash colorType mobile_version",children:[(0,c.jsx)("style",{children:"\n\t\t\t\t\t.colorType{\n\t\t\t\t\t\t--label-theme-color:".concat(Q,";\n\t\t\t\t\t}\n\t\t\t\t")}),(0,c.jsxs)("div",{className:"colorType ",children:[(0,c.jsxs)("div",{className:"_dsplFlx ",children:[(0,c.jsx)("div",{style:{marginTop:"8px"},children:(0,c.jsx)(w,{loadingColor:"var(-primary-blue--backg-30)",placeholder:(0,o.mU)(6),obs:u,fetchData:A,change:e=>{F.value||(F.value=!0),T(!0)},callempty:A,keyFlds:"searchQryNotary"})}),(0,c.jsx)("div",{className:"flexSpace"}),(0,c.jsx)("div",{className:"icon blue30",children:(0,c.jsx)("div",{className:" action ",onClick:()=>{let e={zIndex:450,height:"80vh",props:{minHeight:"1vh",overlay:!0}};e.content=(0,c.jsx)(k,{confirm:V}),(0,s.OpenModal)(e)},children:(0,c.jsx)(I,{name:"add"})})}),(0,c.jsx)("div",{className:"flexSpace"}),(0,c.jsx)("div",{className:"icon blue30",children:(0,c.jsx)("div",{className:" action ",ref:D,onClick:()=>{z.value=!z.value,(e=>{var l,a;null===U||void 0===U||null===(l=U.current)||void 0===l||l.setAttribute("show",e),null===D||void 0===D||null===(a=D.current)||void 0===a||a.setAttribute("active",e)})(z.value)},children:(0,c.jsx)(I,{name:"filter"})})}),(0,c.jsx)("div",{className:"flexSpace"})]}),(0,c.jsx)("div",{className:"_dsplFlx bx_filter",style:{marginTop:2},children:(0,c.jsxs)("div",{className:"_dsplFlx w100 ",children:[(0,c.jsxs)("div",{className:" _dsplFlx totalize ",children:["Total:",(0,c.jsxs)("div",{className:"blue ",children:["$",S(O)]})]}),(0,c.jsx)("div",{className:"flexSpace"}),(0,c.jsx)("div",{className:" tab_switch ".concat("expenses"===p?"red_orangered":"white_black"," "),onClick:()=>Y("expenses"),children:(0,o.mU)(40)}),(0,c.jsx)("div",{className:"flexSpace"}),(0,c.jsx)("div",{className:" tab_switch ".concat("incomes"===p?"blue_30":"white_black"," "),onClick:()=>Y("incomes"),children:(0,o.mU)(42)}),(0,c.jsx)("div",{className:"flexSpace"})]})}),(0,c.jsx)("div",{className:"_dsplFlx bx_filter_toogle",style:{marginTop:2},ref:U,children:(0,c.jsxs)("div",{className:"_dsplFlx w100",children:[(0,c.jsx)("div",{className:"flexSpace"}),(0,c.jsx)("div",{className:" btn_filter y2  ".concat(q?"w33 active":""," "),onClick:e=>{let l={zIndex:480,props:{minHeight:"1vh",overlay:!0}};l.content=(0,c.jsx)(x,{confirm:A}),(0,s.OpenModal)(l)},children:q||(0,o.mU)(55)}),(0,c.jsx)("div",{className:"flexSpace"}),(0,c.jsx)("div",{className:" btn_filter y2  ".concat(P?"w33 active":""," "),onClick:e=>{let l={zIndex:480,props:{minHeight:"1vh",overlay:!0}};l.content=(0,c.jsx)(_.Z,{type:p,confirm:A,init:(0,d.bh)("category_filter")}),(0,s.OpenModal)(l)},children:P||(0,o.mU)(54)}),(0,c.jsx)("div",{className:"flexSpace"}),(0,c.jsx)("div",{className:" btn_filter y2  ".concat(J?"w33 active":""," "),onClick:e=>{let l={zIndex:480,props:{minHeight:"1vh",overlay:!0}};l.content=(0,c.jsx)(g,{confirm:A}),(0,s.OpenModal)(l)},children:J||(0,o.mU)(57)}),(0,c.jsx)("div",{className:"flexSpace"})]})}),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"loading_animation_container",style:{marginTop:2},ref:j,children:[(0,c.jsx)("div",{className:"load_animation",style:{backgroundColor:"incomes"===(0,d.bh)("movement_type")?"var(--primary-blue--backg-30)":"var(--primary-red--color-f7)"}}),(0,c.jsxs)("div",{className:"_dsplFlx ",style:{marginTop:32},children:[(0,c.jsx)("div",{className:"flexSpace"}),(0,c.jsxs)("div",{className:"icon_compr _dsplFlx",children:[(0,c.jsx)("div",{className:"lbl_saving",children:"searching ..."}),(0,c.jsx)(M,{stroke:"incomes"===(0,d.bh)("movement_type")?"var(--primary-blue--backg-30)":"var(--primary-red--color-f7)",size:24,strokeW:8})]}),(0,c.jsx)("div",{className:"flexSpace"})]})]}),(0,c.jsx)("div",{className:"clients_container",ref:R,children:O&&(null===O||void 0===O?void 0:O.map(((e,l)=>(0,c.jsx)(h,{data:e,elmId:e.movementId,type:p,range2Scroll:b-l===24,show:l<b,updRange:C},e.movementId+"mov_id"))))})]})]})]})},S=e=>{var l;let a=0;return e&&(null===(l=(0,d._2)(e))||void 0===l||l.map(((l,t)=>{let s=1*e[l].amount;a=1*(0,d.Zv)(a,2)+1*(0,d.Zv)(s,2)}))),1*(0,d.Zv)(a,2)},U=(0,i.PU)(),D=(0,j.lM)(),z=e=>{var l,a;let{data:s,confirm:i,label:o,item:v}=e;const[m,u]=(0,t.useState)(1);let h=(0,n.TH)();const p=(0,n.s0)(),b=null===(l=h.search)||void 0===l||null===(a=l.split("?"))||void 0===a?void 0:a[1],x=(0,d.mB)(b);let _=null===x||void 0===x?void 0:x.tab;(0,t.useEffect)((()=>{_||p({pathname:"/movements",search:"?tab=resume"})}),[_]);const g=e=>{u((0,d.M5)())};return(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"listFlx  ",children:(0,c.jsx)("p",{className:"nav_title_header header_mobile"})}),(0,c.jsxs)("div",{className:"ebEwoI",children:[(0,c.jsx)("div",{className:"jKZvHt ",children:(0,c.jsx)(r.OL,{className:"",to:"/",children:(0,c.jsx)("div",{className:"nav_title_header header_mobile ",onClick:e=>{document.cookie="".concat((0,d.in)(),'=""'),document.cookie='hrm_access_tkn = ""',(0,d.Rz)((0,d.nc)(),null),(0,d.Rz)("isAdmin",null),(0,d.wt)("dimention_hash")},children:(0,c.jsx)("div",{className:"logo_ssg  ",children:(0,c.jsx)("img",{src:"https://www.hrmfinance.com/logo192.png",alt:"logo"})})})})}),(0,c.jsx)("nav",{className:" iHJbYx",children:[{id:"resume",label:"Resume",navTo:{pathname:"/movements",search:"?tab=resume"},icon:"pdf_box"},{id:"movements",label:"Movements",navTo:{pathname:"/movements",search:"?tab=movements"},icon:"search"}].map((e=>(0,c.jsxs)(r.OL,{className:"bXnHIV ".concat(_===e.id?"activeTab":""),to:e.navTo,children:[(0,c.jsx)(U,{name:e.icon,size:22}),(0,c.jsx)("div",{className:"eULkqP",children:e.label})]},e.id+"_header")))})]}),(0,c.jsx)(T,{viewId:"resume",activeView:null===x||void 0===x?void 0:x.tab,children:(0,c.jsx)(D,{updObPrnt:g})}),(0,c.jsx)(T,{viewId:"movements",activeView:null===x||void 0===x?void 0:x.tab,children:(0,c.jsx)(R,{updObPrnt:g})})]})},T=e=>{let{viewId:l,activeView:a,children:t}=e;return(0,c.jsx)("div",{className:"opacityView",style:{opacity:l===a?1:0,marginTop:29},children:l===a?t:null})}},2825:(e,l,a)=>{a.d(l,{Z:()=>m});var t=a(2791),s=a(9760),i=a(2647),n=a(2350),r=a(8037),d=a(5143),o=a(184);const c=(0,i.Np)(),v=(0,i.tL)(),m=e=>{var l;let{data:a,confirm:i,type:c,init:v}=e;const[m,p]=(0,t.useState)(!1),[,b]=(0,t.useState)(1),x=()=>{b((0,n.M5)())};(0,t.useEffect)((()=>{m||(p(!0),b((0,n.M5)()),(0,d.bM)(x))}));const _=e=>{b((0,n.M5)()),(0,n.Ey)(i)&&(g(),i(e))},g=()=>{(null===a||void 0===a?void 0:a.modalID)&&(0,s.CloseModal)({id:null===a||void 0===a?void 0:a.modalID})};let f=(0,n.bh)("categories_list");return(0,o.jsxs)("div",{style:{height:"80vh",width:"90vw",overflow:"auto",background:"var(--dark-800)",borderRadius:13,padding:"20px"},children:[(0,o.jsxs)("div",{className:"_dsplFlx ",children:[(0,o.jsx)("p",{className:"form_title blue30",style:{margin:"10px"},children:(0,d.mU)(54)}),(0,o.jsx)("div",{className:"flexSpace"}),(0,o.jsx)("div",{className:"",children:(0,o.jsx)(r.N,{color:"#007bfc",label:(0,d.mU)(46),clickHandler:e=>{let l={zIndex:480,props:{minHeight:"1vh",overlay:!0}};l.content=(0,o.jsx)(h,{}),(0,s.OpenModal)(l)}})})]}),(0,o.jsx)("div",{className:" spaceAround flxWrp scollVh",style:{marginTop:20,maxHeight:"calc( 78vh - 70px)"},children:f&&(null===(l=(0,n._2)(f))||void 0===l?void 0:l.map((e=>(0,o.jsx)(u,{data:f[e],elmId:f[e].categoryId,label:f[e].name,clickHandler:_,active:v,type:c},f[e].categoryId))))})]})},u=e=>{let{clickHandler:l,label:a,active:t,elmId:s,data:i,type:n}=e,r=t===s?null:s;return i.type!==n?null:(0,o.jsx)("div",{className:" btn_filter itmMrg ".concat(t===s?"active":""," "),onClick:()=>l(r),children:a})},h=e=>{var l,a,i;let{data:m,confirm:u,type:h,init:p}=e;const b="add_category_frm",[x,_]=(0,t.useState)(1),g=()=>{(null===m||void 0===m?void 0:m.modalID)&&(0,s.CloseModal)({id:null===m||void 0===m?void 0:m.modalID})},f=(e,l)=>{let a=(0,n.bh)(b)||{};a[e]=l,(0,n.Rz)(b,a),_((0,n.M5)())};return(0,o.jsxs)("div",{style:{height:"80vh",width:"90vw",overflow:"auto",background:"var(--dark-800)",borderRadius:13,padding:"20px"},children:[(0,o.jsxs)("div",{className:"_dsplFlx ",children:[(0,o.jsxs)("p",{className:"form_title blue30",style:{margin:"10px"},children:[(0,d.mU)(46)," ",(0,d.mU)(54)]}),(0,o.jsx)("div",{className:"flexSpace"}),(0,o.jsx)("div",{className:"",children:(0,o.jsx)(r.N,{color:"#007bfc",label:(0,d.mU)(43),clickHandler:async()=>{var e,l;let a=(0,n.bh)(b);a.categoryId=(0,n.M5)();let t={...null===(e=(0,n.bh)((0,n.hQ)()))||void 0===e?void 0:e.add_categapp};t.params={businessId:null===(l=(0,n.bh)("profileUser"))||void 0===l?void 0:l.businessId},t.form=a;const s=(0,n.I7)(t);await s&&((0,n.Rz)(b,{}),u&&u(),g())}})})]}),(0,o.jsxs)("div",{className:"",style:{margin:"30px 0"},children:[(0,o.jsx)("div",{className:"lbl_dtls",children:(0,o.jsx)(c,{init:null===(l=(0,n.bh)(b))||void 0===l?void 0:l.name,width:"68vw",label:(0,d.mU)(56),updChanges:e=>f("name",e)})}),(0,o.jsx)("div",{className:"lbl_dtls",children:(0,o.jsx)(c,{init:null===(a=(0,n.bh)(b))||void 0===a?void 0:a.description,width:"68vw",label:(0,d.mU)(53),updChanges:e=>f("description",e)})}),(0,o.jsxs)("div",{className:"_dsplFlx ",style:{padding:"48px 10px 10px"},children:[(0,o.jsx)("div",{className:"flexSpace"}),(0,o.jsx)(v,{data:[{label:(0,d.mU)(40),id:"expenses"},{label:(0,d.mU)(42),id:"incomes"}],active:null===(i=(0,n.bh)(b))||void 0===i?void 0:i.type,updSelect:e=>f("type",e),colors:{"--base-ck-primary-color":"var(--primary-blue--backg-30)","--base-ck-primary-backcolor":"var(--primary-blue--color-30)"}})]})]})]})}},8965:(e,l,a)=>{a.d(l,{g:()=>d,w:()=>r});var t=a(2791),s=a(184);const i=(0,t.forwardRef)(((e,l)=>{let{initValue:a}=e;const[i,n]=(0,t.useState)(a);return(0,t.useImperativeHandle)(l,(()=>({refresh(e){n(e)}}))),(0,s.jsxs)(s.Fragment,{children:[" ",i]})})),n="referenceRender",r=(e,l)=>{const[,a]=(0,t.useState)(e),r=(0,t.useRef)(null);return(0,t.useRef)(new Proxy({value:e},{get:function(e,a){return l.shallowRender&&a===n?(0,s.jsx)(i,{initValue:e.value,ref:r}):e[a]?e[a]:Reflect.get(...arguments)},set:function(e,t,s){var i;e[t]!==s&&(e[t]=s,l.shallowRender?null===r||void 0===r||null===(i=r.current)||void 0===i||i.refresh(s):a({...e}));return!0}})).current},d=(e,l,a)=>{const[,s]=(0,t.useState)(e);return(0,t.useRef)(new Proxy({value:e},{get:function(e,l){if(e[l])return e[l]},set:function(e,t,i){return e[t]!==i&&(e[t]=i,l&&l(e[t]),null!==a&&void 0!==a&&a.deep&&s({...e})),!0}})).current}},5868:()=>{}}]);
//# sourceMappingURL=9749.27d7ec93.chunk.js.map