"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[9757],{9757:function(e,n,r){r.r(n);var t=r(9439),a=r(2791),c=r(2350),o=(r(1e3),r(2647)),i=r(3588),s=r(184),u=(0,o.JC)();n.default=function(e){e.data;var n,r=e.item,o=(0,a.useState)(!1),d=(0,t.Z)(o,2),l=d[0],p=d[1],v=(0,a.useState)(0),b=(0,t.Z)(v,2),m=(b[0],b[1]);return(0,a.useEffect)((function(){l||(p(!0),m((0,c.M5)()))})),(0,s.jsxs)("div",{style:{maxHeight:"80vh",width:"560px",overflow:"auto",background:"#fff",borderRadius:13,padding:"10px 19px"},children:[(0,s.jsxs)("div",{className:"_dsplFlx ",children:[(0,s.jsx)("p",{className:"form_title",children:r.entryName||"Comprobante Manual"}),(0,s.jsx)("div",{className:"flexSpace"}),(0,s.jsxs)("div",{className:"_dsplFlx",style:{marginTop:20},children:[(0,s.jsx)("div",{className:"desc_lbl",children:"Comprobante:"}),(0,s.jsx)("div",{className:"name comprobante_id",children:null===r||void 0===r?void 0:r.comprobanteId})]})]}),(0,s.jsxs)("div",{className:"_dsplFlx cmp_dtls",children:[(0,s.jsxs)("div",{className:"_dsplFlx",children:[(0,s.jsx)("div",{className:"desc_lbl"}),(0,s.jsx)("div",{className:"name",children:(0,c.sG)(null===r||void 0===r?void 0:r.date)})]}),(0,s.jsx)("div",{className:"flexSpace"}),(0,s.jsxs)("div",{className:"_dsplFlx",children:[(0,s.jsx)("div",{className:"desc_lbl",children:"Documento:"}),(0,s.jsx)("div",{className:"name",children:null===r||void 0===r?void 0:r.document})]})]}),(0,s.jsxs)("div",{className:"_dsplFlx hdr_bar purple",children:[(0,s.jsx)("div",{className:"tr_bar",children:"Cuenta"}),(0,s.jsx)("div",{className:"tr_bar",children:"Sub Cuenta"}),(0,s.jsx)("div",{className:"tr_bar",children:"Debito"}),(0,s.jsx)("div",{className:"tr_bar",children:"Credito"})]}),null===(n=(0,i.Eb)(null===r||void 0===r?void 0:r.operations))||void 0===n?void 0:n.map((function(e,n){var r,t;return(0,s.jsxs)("div",{className:"_dsplFlx hdr_bar",children:[(0,s.jsx)("div",{className:"tr_bar",children:(0,s.jsx)(u,{data:e.account,labelField:"code",infoField:"name"})}),(0,s.jsx)("div",{className:"tr_bar",children:(0,s.jsx)(u,{data:e.sub_account,labelField:"subAccount",infoField:"subAccountName"})}),(0,s.jsx)("div",{className:"tr_bar",children:null===(r=1*e.debit)||void 0===r?void 0:r.toFixed(2)}),(0,s.jsx)("div",{className:"tr_bar",children:null===(t=1*e.credit)||void 0===t?void 0:t.toFixed(2)})]},n)})),(0,s.jsxs)("div",{className:"cmp_desc",children:[(0,s.jsx)("div",{className:"desc_lbl",children:"Detalles:"}),(0,s.jsx)("div",{className:"description",children:null===r||void 0===r?void 0:r.description})]})]})}},3588:function(e,n,r){r.d(n,{Eb:function(){return l},N$:function(){return s},WB:function(){return u},bx:function(){return b},ly:function(){return i},tS:function(){return v}});var t=r(4165),a=r(1413),c=r(5861),o=r(2350),i=function(){var e=(0,c.Z)((0,t.Z)().mark((function e(n){var r,c,i,s,u;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=(0,a.Z)({},null===(r=(0,o.bh)((0,o.hQ)()))||void 0===r?void 0:r.all_opera)).params={businessId:null===(c=(0,o.bh)("profileUser"))||void 0===c?void 0:c.businessId},s=(0,o.I7)(i),e.next=5,s;case 5:(u=e.sent)&&!u.error&&((0,o.Rz)("comprobante_list",p(u,"date",1)),(0,o.Rz)("comprobante_by_doc",d(u)),n&&n());case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),s=function(){var e=(0,c.Z)((0,t.Z)().mark((function e(n){var r,c,i,s,u;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=(0,a.Z)({},null===(r=(0,o.bh)((0,o.hQ)()))||void 0===r?void 0:r.search_opera)).params={businessId:null===(c=(0,o.bh)("profileUser"))||void 0===c?void 0:c.businessId,":search":(0,o.bh)("search_acc_record")},s=(0,o.I7)(i),e.next=5,s;case 5:(u=e.sent)&&!u.error&&((0,o.Rz)("comprobante_list",u),(0,o.Rz)("comprobante_by_doc",d((0,o.jQ)(u))),n&&n());case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),u=function(){var e=(0,c.Z)((0,t.Z)().mark((function e(n,r){var i,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=[],n.map((function(e){var n,r,t=(0,a.Z)({},null===(n=(0,o.bh)((0,o.hQ)()))||void 0===n?void 0:n.delete_opera);t.params={businessId:null===(r=(0,o.bh)("profileUser"))||void 0===r?void 0:r.businessId,operationId:e.operationId},i.push(t)})),s=i.map(function(){var e=(0,c.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,o.I7)(n),e.next=3,r;case 3:e.sent;case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),e.next=5,Promise.all(s);case 5:r&&r();case 6:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}();function d(e){var n={};return e.length>0?e.map((function(e){var r=new Date(e.date).getTime()+"_"+e.comprobanteId;if(!n[r]){n[r]={};["date","description","document","entryName","comprobanteId"].forEach((function(t){n[r][t]=e[t]})),n[r].amount=0,n[r].operations=[]}e.type&&(n[r].amount+="credit"===e.type?(0,o.Zv)(e.amount,2):0,n[r].operations.push(function(e){var n,r,t={};t.account=null===(n=(0,o.bh)("account_ids"))||void 0===n?void 0:n[e.account],t.sub_account=null===(r=(0,o.bh)("sub_account_ids"))||void 0===r?void 0:r[e.subAccount],t.comprobanteId=e.comprobanteId,t.operationId=e.operationId,t.type=e.type;var a=(0,o.Zv)(e.amount,2);"credit"===e.type?(t.debit=0,t.credit=a):"debit"===e.type&&(t.credit=0,t.debit=a);return t}(e)))})):n=null,n}var l=function(e){return(0,o.MV)("sortComprobantesByType",[e],(function(){var n="type";return e&&e.sort((function(e,r){var t=e[n],a=r[n];return t===a?r[a]-e[t]:a>t?1:-1}))}))},p=function(e,n,r){return e&&e.sort((function(e,t){var a=e[n],c=t[n];return a<c?r?-1:1:a>c?r?1:-1:0}))},v=function(e,n){return(0,o.MV)("rangeArr",[e,n],(function(){return e?(0,o._2)(e).slice(0,n):[]}))};function b(){return(0,o.bh)("comprobante_list").map((function(e){var n,r,t=null===(n=(0,o.bh)("account_ids"))||void 0===n?void 0:n[e.account],a=null===(r=(0,o.bh)("sub_account_ids"))||void 0===r?void 0:r[e.subAccount],c={fecha:(0,o.Gv)(e.date),documento:e.document,comprobante:e.comprobanteId,tipo_cuenta:e.type,importe:e.amount,cuenta:t.code+"",nombre:t.name};return a&&a.subAccount&&(c.sub_cuenta=a.subAccount,c.nombre_sub_cuenta=a.subAccountName),c}))}},1e3:function(){},4942:function(e,n,r){r.d(n,{Z:function(){return a}});var t=r(9142);function a(e,n,r){return(n=(0,t.Z)(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}},1413:function(e,n,r){r.d(n,{Z:function(){return c}});var t=r(4942);function a(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function c(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?a(Object(r),!0).forEach((function(n){(0,t.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}}}]);
//# sourceMappingURL=9757.096ed996.chunk.js.map