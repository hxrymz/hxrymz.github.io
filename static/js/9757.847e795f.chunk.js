"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[9757],{9757:function(e,n,r){r.r(n);var t=r(9439),a=r(2791),i=r(2350),s=(r(1e3),r(2647)),c=r(3588),o=r(184),d=(0,s.JC)();n.default=function(e){e.data;var n,r=e.item,s=(0,a.useState)(!1),l=(0,t.Z)(s,2),u=l[0],p=l[1],v=(0,a.useState)(0),b=(0,t.Z)(v,2),f=(b[0],b[1]);return(0,a.useEffect)((function(){u||(p(!0),f((0,i.M5)()))})),(0,o.jsxs)("div",{style:{maxHeight:"80vh",width:"560px",overflow:"auto",background:"#fff",borderRadius:13,padding:"10px 19px"},children:[(0,o.jsxs)("div",{className:"_dsplFlx ",children:[(0,o.jsx)("p",{className:"form_title",children:r.entryName||"Comprobante Manual"}),(0,o.jsx)("div",{className:"flexSpace"}),(0,o.jsxs)("div",{className:"_dsplFlx",style:{marginTop:20},children:[(0,o.jsx)("div",{className:"desc_lbl",children:"Comprobante:"}),(0,o.jsx)("div",{className:"name comprobante_id",children:null===r||void 0===r?void 0:r.comprobanteId})]})]}),(0,o.jsxs)("div",{className:"_dsplFlx cmp_dtls",children:[(0,o.jsxs)("div",{className:"_dsplFlx",children:[(0,o.jsx)("div",{className:"desc_lbl"}),(0,o.jsx)("div",{className:"name",children:(0,i.sG)(null===r||void 0===r?void 0:r.date)})]}),(0,o.jsx)("div",{className:"flexSpace"}),(0,o.jsxs)("div",{className:"_dsplFlx",children:[(0,o.jsx)("div",{className:"desc_lbl",children:"Documento:"}),(0,o.jsx)("div",{className:"name",children:null===r||void 0===r?void 0:r.document})]})]}),(0,o.jsxs)("div",{className:"_dsplFlx hdr_bar purple",children:[(0,o.jsx)("div",{className:"tr_bar",children:"Cuenta"}),(0,o.jsx)("div",{className:"tr_bar",children:"Sub Cuenta"}),(0,o.jsx)("div",{className:"tr_bar",children:"Debito"}),(0,o.jsx)("div",{className:"tr_bar",children:"Credito"})]}),null===(n=(0,c.Eb)(null===r||void 0===r?void 0:r.operations))||void 0===n?void 0:n.map((function(e,n){var r,t;return(0,o.jsxs)("div",{className:"_dsplFlx hdr_bar",children:[(0,o.jsx)("div",{className:"tr_bar",children:(0,o.jsx)(d,{data:e.account,labelField:"code",infoField:"name"})}),(0,o.jsx)("div",{className:"tr_bar",children:(0,o.jsx)(d,{data:e.sub_account,labelField:"subAccount",infoField:"subAccountName"})}),(0,o.jsx)("div",{className:"tr_bar",children:null===(r=1*e.debit)||void 0===r?void 0:r.toFixed(2)}),(0,o.jsx)("div",{className:"tr_bar",children:null===(t=1*e.credit)||void 0===t?void 0:t.toFixed(2)})]},n)})),(0,o.jsxs)("div",{className:"cmp_desc",children:[(0,o.jsx)("div",{className:"desc_lbl",children:"Detalles:"}),(0,o.jsx)("div",{className:"description",children:null===r||void 0===r?void 0:r.description})]})]})}},3588:function(e,n,r){r.d(n,{Eb:function(){return u},N$:function(){return o},WB:function(){return d},ly:function(){return c},tS:function(){return p}});var t=r(4165),a=r(1413),i=r(5861),s=r(2350),c=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(n){var r,i,c,o,d;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=(0,a.Z)({},null===(r=(0,s.bh)((0,s.hQ)()))||void 0===r?void 0:r.all_opera)).params={businessId:null===(i=(0,s.bh)("profileUser"))||void 0===i?void 0:i.businessId},o=(0,s.I7)(c),e.next=5,o;case 5:(d=e.sent)&&!d.error&&((0,s.Rz)("comprobante_list",d),(0,s.Rz)("comprobante_by_doc",l(d)),n&&n());case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),o=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(n){var r,i,c,o,d;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=(0,a.Z)({},null===(r=(0,s.bh)((0,s.hQ)()))||void 0===r?void 0:r.search_opera)).params={businessId:null===(i=(0,s.bh)("profileUser"))||void 0===i?void 0:i.businessId,":search":(0,s.bh)("search_acc_record")},o=(0,s.I7)(c),e.next=5,o;case 5:(d=e.sent)&&!d.error&&((0,s.Rz)("comprobante_list",d),(0,s.Rz)("comprobante_by_doc",l((0,s.jQ)(d))),n&&n());case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),d=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(n,r){var c,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=[],n.map((function(e){var n,r,t=(0,a.Z)({},null===(n=(0,s.bh)((0,s.hQ)()))||void 0===n?void 0:n.delete_opera);t.params={businessId:null===(r=(0,s.bh)("profileUser"))||void 0===r?void 0:r.businessId,operationId:e.operationId},c.push(t)})),o=c.map(function(){var e=(0,i.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,s.I7)(n),e.next=3,r;case 3:e.sent;case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),e.next=5,Promise.all(o);case 5:r&&r();case 6:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}();function l(e){var n={};return e.length>0?e.map((function(e){var r=new Date(e.date).getTime()+"_"+e.comprobanteId;if(!n[r]){n[r]={};["date","description","document","entryName","comprobanteId"].forEach((function(t){n[r][t]=e[t]})),n[r].amount=0,n[r].operations=[]}e.type&&(n[r].amount+="credit"===e.type?(0,s.Zv)(e.amount,2):0,n[r].operations.push(function(e){var n,r,t={};t.account=null===(n=(0,s.bh)("account_ids"))||void 0===n?void 0:n[e.account],t.sub_account=null===(r=(0,s.bh)("sub_account_ids"))||void 0===r?void 0:r[e.subAccount],t.comprobanteId=e.comprobanteId,t.operationId=e.operationId,t.type=e.type;var a=(0,s.Zv)(e.amount,2);"credit"===e.type?(t.debit=0,t.credit=a):"debit"===e.type&&(t.credit=0,t.debit=a);return t}(e)))})):n=null,n}var u=function(e){return(0,s.MV)("sortComprobantesByType",[e],(function(){var n="type";return e&&e.sort((function(e,r){var t=e[n],a=r[n];return t===a?r[a]-e[t]:a>t?1:-1}))}))},p=function(e,n){return(0,s.MV)("rangeArr",[e,n],(function(){return e?(0,s._2)(e).slice(0,n):[]}))}},1e3:function(){},4942:function(e,n,r){r.d(n,{Z:function(){return a}});var t=r(9142);function a(e,n,r){return(n=(0,t.Z)(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}},1413:function(e,n,r){r.d(n,{Z:function(){return i}});var t=r(4942);function a(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function i(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?a(Object(r),!0).forEach((function(n){(0,t.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}}}]);
//# sourceMappingURL=9757.847e795f.chunk.js.map