"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[9816],{1142:(l,e,d)=>{d.d(e,{Z:()=>r});var s=d(2791),a=(d(6732),d(2647)),i=d(6245),n=d(184);const t=(0,a.PU)(),r=l=>{var e;let{init:d,onSelect:a,lbl_empty:r,direction:o,background:c,color:v,width:u,func:h,extraParam:p}=l;const[x,m]=(0,s.useState)([]),[b,_]=(0,s.useState)(!1),[j,f]=(0,s.useState)(""),N=(0,s.useRef)(!1),g=(0,s.useRef)(null);let y=(0,i.Z)(j);(0,s.useEffect)((()=>(y?I(y):m([]),()=>{})),[y]);const I=async l=>{let e=await h(l,p);m(e)},C=l=>{N.current?(N.current=!1,_(!1),l&&a(l)):N.current||(_(!0),setTimeout((()=>{N.current=!0}),50))};let k=x&&(null===x||void 0===x||null===(e=x.filter((l=>l.id===d)))||void 0===e?void 0:e[0]),S=o||"left",F={"--color-pck":v||null,"--backColor-pck":c||null,"--width-pck":u||"130px"};return(0,n.jsxs)("div",{id:"drpdwn_click_outside",open:b,style:F,children:[(0,n.jsxs)("div",{className:"filter_month_btn _dsplFlx",onClick:C,children:[(0,n.jsx)("div",{className:"lbl date",children:(null===k||void 0===k?void 0:k.label)||r}),(0,n.jsx)(t,{name:"arrow_drop_down",color:"var(--color-pck)"})]}),b?(0,n.jsxs)("div",{className:"OpenBoxContainer",style:c?{backgroundColor:c}:null,direction:"".concat(S),children:[(0,n.jsxs)("div",{className:" _dsplFlx",children:[(0,n.jsx)("input",{className:"OpenBoxInput",placeholder:"search",onChange:async l=>{f(l.target.value)},ref:g}),(0,n.jsx)("div",{className:"icon_close",onClick:async l=>{g.current.value="",I(""),a(null),C()},children:(0,n.jsx)(t,{name:"cancel",color:"var(--color-pck)",size:18})})]}),(0,n.jsx)("div",{className:"separator"}),(0,n.jsx)("div",{className:" monthList",style:{},children:x.map(((l,e)=>{let d=l.label;return d?(0,n.jsx)("div",{className:"filter_month_item _dsplFlx",onClick:()=>{C(l)},children:(0,n.jsx)("div",{className:"lbl tr_bar_90 ",style:{marginLeft:5},children:d})},d+"_"+e):null}))})]}):null]})}},3885:(l,e,d)=>{d.d(e,{Z:()=>i});d(2791),d(1534);var s=d(9760),a=d(184);const i=l=>{let{data:e,confirm:d,title:i,msg:n}=l;const{modalID:t}=e;return(0,a.jsxs)("div",{style:{maxHeight:"40vh",minHeight:"18vh",overflow:"auto",background:"#fff",borderRadius:13,padding:"10px 19px"},children:[(0,a.jsxs)("div",{className:"_dsplFlx ",children:[(0,a.jsx)("p",{className:"form_title",style:{color:"var(--hrm_palette-static-brand-red"},children:i||"Lo sentimos"}),(0,a.jsx)("div",{className:"flexSpace"})]}),n,(0,a.jsxs)("div",{className:"_dsplFlx ",style:{padding:"5px 10px"},children:[(0,a.jsx)("div",{className:"flexSpace"}),(0,a.jsx)("p",{className:"group_title addBtn blue",onClick:()=>{d&&d(),(0,s.CloseModal)({id:t})},children:"OK"})]})]})}},7852:(l,e,d)=>{d.d(e,{Z:()=>i});d(2791),d(1534);var s=d(9760),a=d(184);const i=l=>{let{data:e,confirm:d,handleClick:i,close:n}=l;const{modalID:t}=e;return(0,a.jsxs)("div",{style:{maxHeight:"40vh",minHeight:"18vh",overflow:"auto",background:"#fff",borderRadius:13,padding:"10px 19px"},children:[(0,a.jsxs)("div",{className:"_dsplFlx ",children:[(0,a.jsx)("p",{className:"form_title",style:{color:"var(--hrm_palette-static-brand-red"},children:"Lo sentimos"}),(0,a.jsx)("div",{className:"flexSpace"})]}),(0,a.jsx)("div",{className:"_dsplFlx ",children:(0,a.jsx)("span",{children:"no tiene acceso a esta operacion"})}),(0,a.jsxs)("div",{className:"_dsplFlx ",style:{padding:"5px 10px"},children:[(0,a.jsx)("div",{className:"flexSpace"}),(0,a.jsx)("p",{className:"group_title addBtn blue",onClick:()=>{(0,s.CloseModal)({id:t})},children:"OK"})]})]})}},9816:(l,e,d)=>{d.r(e),d.d(e,{default:()=>m});var s=d(2791),a=d(2350),i=d(2647),n=(d(1534),d(9760)),t=d(7689),r=(d(9661),d(24),d(6824),d(7709),d(873),d(4622),d(1142)),o=d(713),c=d(7852),v=d(3885),u=d(184);const h=(0,i.PU)(),p="view_voucher";let x=["clientAddress","clientName","date","invoice","locProdFinish","products","userId","voucherId"];const m=l=>{var e,d,i,o,h,m,j,N,g,y,I,C;let{data:k,confirm:S,updateView:F,voucherItem:w}=l;const[D,P]=(0,s.useState)(!1),[B,M]=(0,s.useState)(0);(0,t.s0)();(0,s.useEffect)((()=>{D||(P(!0),(0,a.Rz)("accountPicker",{}),M((0,a.M5)()))}));const R=async l=>{const e=(0,a.I7)(l);await e&&((0,a.Rz)(p,{}),(0,a.Rz)(p+"_bck",{}),M((0,a.M5)()),S&&S(),(null===k||void 0===k?void 0:k.modalID)&&(0,n.CloseModal)({id:null===k||void 0===k?void 0:k.modalID}))},T=async(l,e)=>{let d=(0,a.bh)(p)||{},s=(null===d||void 0===d?void 0:d.locProdFinish)||{};e?s[l]=0:s[l.id]=1,d.locProdFinish=s,(0,a.Rz)(p,d),M((0,a.M5)())},z=async()=>{var l,e;let d=(0,a.bh)(p)||{},s={...null===(l=(0,a.bh)((0,a.hQ)()))||void 0===l?void 0:l.upd_voucher_production};s.params={businessId:null===(e=(0,a.bh)("profileUser"))||void 0===e?void 0:e.businessId,voucherId:d.voucherId},s.data2update={voucherStatus:99},R(s)};let Z=(0,a.vy)(x,(0,a.bh)(p),(0,a.bh)(p+"_bck"));return(0,u.jsxs)("div",{style:{maxHeight:"96vh",minHeight:"93vh",width:"1060px",overflow:"auto",background:"var(--hrm_palette-general-background-b)",borderRadius:13,padding:"10px 19px"},children:[(0,u.jsxs)("div",{className:"_dsplFlx ",children:[(0,u.jsx)("p",{className:"form_title",children:"Voucher"}),(0,u.jsx)("div",{className:"flexSpace"}),(0,u.jsx)("p",{className:"label",children:"Invoice"}),(0,u.jsx)("div",{className:"date2Upd",style:{padding:7,fontSize:18},children:null===(e=(0,a.bh)(p))||void 0===e?void 0:e.invoice})]}),(0,u.jsxs)("div",{className:"_dsplFlx ",children:[(0,u.jsx)("p",{className:"label",children:"Fecha:"}),(0,u.jsx)("div",{className:"valueFontC9",children:(0,a.sJ)(null===(d=(0,a.bh)(p))||void 0===d?void 0:d.date)}),(0,u.jsx)("div",{className:"flexSpace"}),99!==(null===(i=(0,a.bh)(p))||void 0===i?void 0:i.voucherStatus)?(0,u.jsx)("button",{onClick:()=>{var l;let e=(0,a.bh)("lastTimeCallModal")||0;if(!(0,a.I0)()||null!==(l=(0,a.Ch)()[(0,a.bh)("date_current_year")])&&void 0!==l&&l.isClosed){let l={zIndex:450,height:"40vh",props:{minHeight:"1vh",overlay:!0,closeEvent:()=>{}}};l.content=(0,u.jsx)(c.Z,{}),(0,n.OpenModal)(l)}else if(Date.now()>e){(0,a.Rz)("lastTimeCallModal",Date.now()+320);let l={zIndex:450,height:"40vh",props:{minHeight:"1vh",overlay:!0,closeEvent:()=>{}}},e=(0,u.jsx)("div",{className:"_dsplFlx ",children:(0,u.jsx)("span",{children:"Desea marcar el voucher como entregado"})});l.content=(0,u.jsx)(v.Z,{msg:e,title:"Esta seguro que? ",confirm:z}),(0,n.OpenModal)(l)}},children:"Instalado"}):(0,u.jsx)("div",{className:"date2Upd",style:{padding:7,fontSize:18},children:"Instalado"})]}),(0,u.jsx)(_,{list:null===(o=(0,a.bh)(p))||void 0===o?void 0:o.products,updList:async l=>{let e=(0,a.bh)(p)||{};e.products=l,(0,a.Rz)(p,e),M((0,a.M5)())}}),(0,u.jsxs)("div",{className:"_dsplFlx ",children:[(0,u.jsx)("div",{className:"flexSpace"}),(0,u.jsx)("p",{className:"label",children:"Locaciones del trabajo terminado:"}),(0,u.jsx)("div",{className:"flexSpace"}),99!==(null===(h=(0,a.bh)(p))||void 0===h?void 0:h.voucherStatus)?null!==(m=(0,a.Ch)()[(0,a.bh)("date_current_year")])&&void 0!==m&&m.isClosed?null:(0,u.jsx)("div",{className:"_dsplFlx spaceAround",style:{padding:3},children:(0,u.jsx)(r.Z,{lbl_empty:"Location",func:async l=>f((0,a.bh)("location_drpdwn"),l),onSelect:l=>T(l),background:"#f9f9f9",color:"var(--hrm_palette-blue-purple)",direction:"left",width:"280px"})}):null,(0,u.jsx)("div",{className:"flexSpace"})]}),(0,u.jsx)("div",{className:"",children:(null===(j=(0,a.bh)(p))||void 0===j?void 0:j.locProdFinish)&&(null===(N=(0,a._2)(null===(g=(0,a.bh)(p))||void 0===g?void 0:g.locProdFinish))||void 0===N?void 0:N.map(((l,e)=>{var d,s,i;let n=null===(d=(0,a.bh)("locations_ids"))||void 0===d?void 0:d[l];return(null===(s=(0,a.bh)(p))||void 0===s||null===(i=s.locProdFinish)||void 0===i?void 0:i[l])?(0,u.jsx)(b,{locId:l,locItm:n,updlocDrop:T},l):null})))}),(0,u.jsx)("div",{className:"separator"}),(0,u.jsxs)("div",{className:"_dsplFlx ",style:{margin:"2px 0"},children:[(0,u.jsx)("p",{className:"label",children:"Nombre Cliente:"}),(0,u.jsx)("div",{className:"valueFontC9",children:null===(y=(0,a.bh)(p))||void 0===y?void 0:y.clientName})]}),(0,u.jsxs)("div",{className:"_dsplFlx ",style:{margin:"1px 0"},children:[(0,u.jsx)("p",{className:"label",children:"Direccion:"}),(0,u.jsx)("div",{className:"valueFontC9",children:null===(I=(0,a.bh)(p))||void 0===I?void 0:I.clientAddress})]}),null!==Z&&void 0!==Z&&Z.hasChange?null!==(C=(0,a.Ch)()[(0,a.bh)("date_current_year")])&&void 0!==C&&C.isClosed?null:(0,u.jsx)("div",{className:"card",children:(0,u.jsx)("button",{onClick:async()=>{var l,e;let d=(0,a.bh)(p)||{},s=(0,a.vy)(x,d,(0,a.bh)(p+"_bck")),i={...null===(l=(0,a.bh)((0,a.hQ)()))||void 0===l?void 0:l.upd_voucher_production};i.params={businessId:null===(e=(0,a.bh)("profileUser"))||void 0===e?void 0:e.businessId,voucherId:d.voucherId},i.data2update=s.data,R(i)},children:"Actualizar"})}):null,(0,u.jsx)("div",{style:{padding:20}})]})},b=l=>{var e,d;let{locId:s,locItm:i,updlocDrop:n}=l;return(0,u.jsx)("div",{children:(0,u.jsxs)("div",{className:"_dsplFlx ",children:[(0,u.jsx)("div",{className:"flexSpace"}),(0,u.jsxs)("div",{className:"_dsplFlx centerBx locatKrt",children:[(0,u.jsx)("div",{style:{padding:"0 7px"},className:" centerBx",children:o.g5[null===i||void 0===i?void 0:i.areaId]}),(0,u.jsx)("div",{style:{padding:"0 7px"},className:"date2Upd centerBx",children:"".concat(null===i||void 0===i?void 0:i.areaId,"-").concat(null===i||void 0===i?void 0:i.location)}),(0,u.jsx)("div",{className:"flexSpace"}),99!==(null===(e=(0,a.bh)(p))||void 0===e?void 0:e.voucherStatus)?null!==(d=(0,a.Ch)()[(0,a.bh)("date_current_year")])&&void 0!==d&&d.isClosed?null:(0,u.jsx)("div",{className:"icon centerBx",onClick:()=>{n(s,1)},children:(0,u.jsx)(h,{name:"outline_delete",color:"#c62828"})}):null]}),(0,u.jsx)("div",{className:"flexSpace"})]})})},_=l=>{let{list:e,updList:d}=l;const[i,n]=(0,s.useState)(0),t=()=>{n((0,a.M5)())},r=l=>{let s="productId",a=N(e,s,l[s]),i=e;i[a]=l,d(i)};return(0,u.jsxs)("div",{className:"boxAddAcc",style:{margin:"18px 0"},children:[(0,u.jsxs)("div",{className:"_dsplFlx hdr_bar purple align_itm",style:{margin:"18px 0"},children:[(0,u.jsx)("div",{className:"tr_bar tr_bar_50 left_alg",children:"Producto"}),(0,u.jsx)("div",{className:"tr_bar tr_bar_20",children:"InventoryTag"}),(0,u.jsx)("div",{className:"tr_bar tr_bar_15",children:"Qty"}),(0,u.jsx)("div",{className:"tr_bar tr_bar_15",children:"Profile"})]}),e&&e.length>0&&(null===e||void 0===e?void 0:e.map(((l,e)=>(0,u.jsx)(j,{idKey:l.productId,index:e,data:l,updObs:t,updItem:r},l.productId+"_"+e))))]})},j=l=>{var e,d;let{data:i,updItem:n,updObs:t,index:c}=l,v=null===(e=(0,a.bh)("products_ids"))||void 0===e?void 0:e[null===i||void 0===i?void 0:i.productId];(0,s.useRef)(null);return(0,u.jsxs)("div",{className:"_dsplFlx hdr_bar centerBx",children:[(0,u.jsx)("div",{className:"tr_bar tr_bar_50 left_alg",children:null===v||void 0===v?void 0:v.name}),(0,u.jsx)("div",{className:"tr_bar tr_bar_20 centerBx",style:{marginTop:-4},children:null!==i&&void 0!==i&&i.inventoryId?(0,u.jsx)("div",{style:{padding:"0 7px"},className:"date2Upd",onClick:l=>{let e={...i};e.inventoryId=null,e.alphaCode=null,n(e)},children:null===i||void 0===i?void 0:i.alphaCode}):(0,u.jsx)("div",{className:"_dsplFlx spaceAround",style:{padding:3},children:99!==(null===(d=(0,a.bh)(p))||void 0===d?void 0:d.voucherStatus)?(0,u.jsx)(r.Z,{init:null===i||void 0===i?void 0:i.inventoryId,lbl_empty:"Inventory",func:o.id,onSelect:l=>(l=>{let e={...i};e.inventoryId=l.id,e.alphaCode=l.label,n(e)})(l),background:"#f9f9f9",color:"var(--hrm_palette-blue-purple)",direction:"left",width:"280px",extraParam:null===i||void 0===i?void 0:i.productId}):null})}),(0,u.jsx)("div",{className:"tr_bar tr_bar_15 centerBx",children:(0,a.Zv)(null===i||void 0===i?void 0:i.qty,2)}),(0,u.jsx)("div",{className:"tr_bar tr_bar_15 centerBx",children:null===i||void 0===i?void 0:i.profile})]})},f=(l,e)=>{let d=[];return l&&l.map((l=>{l.label.indexOf(e)>=0&&d.push(l)})),d},N=(l,e,d)=>{let s=null;return l&&l.map(((l,a)=>{l[e]===d&&(s=a)})),s}},873:(l,e,d)=>{d.d(e,{Z:()=>r});var s=d(2791),a=(d(7889),d(1534),d(2647),d(2350)),i=d(9760),n=d(7709),t=d(184);const r=l=>{let{data:e,wT:d,hT:r,svDm:o,vertice:c,item:v,comp2Render:u,confirm:h,disable:p}=l;const[,x]=(0,s.useState)(1);(0,s.useEffect)((()=>{x((0,a.M5)())}),[c]);const m=l=>{h(l),b()},b=()=>{(null===e||void 0===e?void 0:e.modalID)&&(0,i.CloseModal)({id:null===e||void 0===e?void 0:e.modalID})},_={LL:(0,t.jsx)(n.gY,{item:v,wT:d,hT:r,svDm:null===v||void 0===v?void 0:v.bluePrint,addBlPr:m,profile:null===v||void 0===v?void 0:v.profile,disable:p}),U:(0,t.jsx)(n.Xu,{item:v,wT:d,hT:r,svDm:null===v||void 0===v?void 0:v.bluePrint,addBlPr:m,profile:null===v||void 0===v?void 0:v.profile,disable:p})};return(0,t.jsx)("div",{style:{maxHeight:"86vh",minHeight:"65vh",width:"960px",overflow:"auto",background:"var(--hrm_palette-general-background-b)",borderRadius:13,padding:"10px 19px"},children:_[u]})}},6245:(l,e,d)=>{d.d(e,{Z:()=>a});var s=d(2791);const a=l=>{const[e,d]=(0,s.useState)(null),[a,i]=(0,s.useState)(""),[n,t]=(0,s.useState)(null);return(0,s.useEffect)((()=>{e||i(l),e>0&&e<Date.now()||n&&clearTimeout(n);let s=setTimeout((()=>{e>0&&e<Date.now()&&l!==a&&i(l)}),250);return t(s),d(Date.now()+220),()=>{}}),[l]),a}},6732:()=>{}}]);
//# sourceMappingURL=9816.9a7abc07.chunk.js.map