"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[9887],{9887:function(e,n,t){t.r(n),t.d(n,{filterArr:function(){return d}});var r=t(9439),o=t(2791),i=t(2350),a=t(2647),u=(t(4719),t(2502)),c=t(184),s=(0,a.kp)();n.default=function(e){var n,t=e.handleClick,a=(0,o.useState)(!1),p=(0,r.Z)(a,2),f=p[0],v=p[1],m=(0,o.useState)(0),h=(0,r.Z)(m,2),b=(h[0],h[1]),y=(0,o.useState)(!1),I=(0,r.Z)(y,2),_=I[0],j=I[1],Z=(0,o.useState)([]),x=(0,r.Z)(Z,2),w=x[0],O=x[1],g=(0,o.useRef)();(0,o.useEffect)((function(){f||(v(!0),(0,u.Dy)(k),b((0,i.M5)()))}));var k=function(e){b((0,i.M5)())},D=function(e,n){t(e,n),g.current.clearTx()};return(0,c.jsx)("div",{children:(0,c.jsx)(s,{placeholder:"buscar empleado",width:420,fetchData:function(e){O(d((0,i.bh)("employees_list"),e)),_&&j(!1)},loading:_,change:function(e){!_&&j(!0)},callempty:function(e){O([]),_&&j(!1)},ref:g,children:(0,c.jsx)("div",{className:"",children:w&&(null===(n=(0,i._2)(w))||void 0===n?void 0:n.map((function(e){return(0,c.jsx)(l,{data:w[e],elmId:e,selectItem:D},e)})))})})})};var l=function(e){var n=e.data,t=e.selectItem;return(0,c.jsx)("div",{className:"item_acc",children:(0,c.jsx)("div",{className:"_dsplFlx item_box account_header",children:(0,c.jsx)("div",{className:"_dsplFlx",onClick:function(){return t(null===n||void 0===n?void 0:n.employeeId,null)},children:(0,c.jsx)("div",{className:"code",children:null===n||void 0===n?void 0:n.name})})})})};function d(e,n){var t=n.toLowerCase(),r=[];return e.length>0&&e.map((function(e){var n,o;(null===(n=e.name)||void 0===n||null===(o=n.toLowerCase())||void 0===o?void 0:o.indexOf(t))>=0&&r.push(e)})),r}},2502:function(e,n,t){t.d(n,{Dy:function(){return u},G:function(){return p},aU:function(){return d},kQ:function(){return c},lG:function(){return s}});var r=t(4165),o=t(1413),i=t(5861),a=t(2350),u=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var t,i,u,c,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(u=(0,o.Z)({},null===(t=(0,a.bh)((0,a.hQ)()))||void 0===t?void 0:t.all_employee)).params={businessId:null===(i=(0,a.bh)("profileUser"))||void 0===i?void 0:i.businessId},c=(0,a.I7)(u),e.next=5,c;case 5:(s=e.sent)&&((0,a.Rz)("employees_list",d((0,a.jQ)(s),"code")),(0,a.Rz)("employees_ids",(0,a.ME)((0,a.jQ)(s),"employeeId")),n&&n());case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),c=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var t,i,u,c,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(u=(0,o.Z)({},null===(t=(0,a.bh)((0,a.hQ)()))||void 0===t?void 0:t.search_employee)).params={businessId:null===(i=(0,a.bh)("profileUser"))||void 0===i?void 0:i.businessId,":search":(0,a.bh)("searchQry")},c=(0,a.I7)(u),e.next=5,c;case 5:(s=e.sent)&&((0,a.Rz)("employees_list",d((0,a.jQ)(s),"code")),n&&n());case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),s=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,t){var i,u,c,s,d,p,f;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(d=(0,o.Z)({},null===(i=(0,a.bh)((0,a.hQ)()))||void 0===i?void 0:i.filter_search_opera)).params={businessId:null===(u=(0,a.bh)("profileUser"))||void 0===u?void 0:u.businessId,":date1":(null===(c=(0,a.bh)("date_range_comps"))||void 0===c?void 0:c.initDate)-10,":date2":null===(s=(0,a.bh)("date_range_comps"))||void 0===s?void 0:s.lastDate,":search":n},p=(0,a.I7)(d),e.next=5,p;case 5:(f=e.sent)&&!f.error&&((0,a.Rz)("paystub_submayor_list",f),(0,a.Rz)("paystub_submayor_group",l((0,a.jQ)(f)))),t&&t();case 8:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();function l(e){var n={};return e.length>0?e.map((function(e){var t=e.date+"_"+e.comprobanteId;if(!n[t]){n[t]={};["date","description","entryName","comprobanteId","employeeId","document"].forEach((function(r){n[t][r]=e[r]})),n[t].amount=0,n[t].balance=0,n[t].operations=[]}e.type&&(n[t].balance=1*(0,a.Zv)(n[t].balance,2)+("debit"===e.type?1*(0,a.Zv)(e.amount,2):0),n[t].operations.push(function(e){var n,t={};t.employeeId=null===(n=(0,a.bh)("employees_ids"))||void 0===n?void 0:n[e.employeeId],t.comprobanteId=e.comprobanteId,t.document=e.document,t.date=e.date,"credit"===e.type?(t.debit=0,t.credit=e.amount):"debit"===e.type&&(t.credit=0,t.debit=e.amount);return t}(e)))})):n=null,n}var d=function(e,n){return(0,a.MV)("sortEmployees",[e],(function(){return e&&e.sort((function(e,t){var r=1*e[n],o=1*t[n];return r<o?-1:r>o?1:0}))}))},p=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,t){var o,i,u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={query:"deleteEmployeesHRG",params:{businessId:null===(o=(0,a.bh)("profileUser"))||void 0===o?void 0:o.businessId,employeeId:n}},u=(0,a.I7)(i),e.next=4,u;case 4:e.sent&&t&&t();case 6:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()},4719:function(){},1413:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(4942);function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}}}]);
//# sourceMappingURL=9887.6a554e17.chunk.js.map