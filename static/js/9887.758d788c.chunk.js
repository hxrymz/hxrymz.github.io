"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[9887],{9887:(e,s,l)=>{l.r(s),l.d(s,{default:()=>n,filterArr:()=>u});var a=l(2791),t=l(2350),i=l(2647),d=(l(4719),l(2502)),o=l(184);const r=(0,i.kp)(),n=e=>{var s;let{handleClick:l}=e;const[i,n]=(0,a.useState)(!1),[h,v]=(0,a.useState)(0),[m,p]=(0,a.useState)(!1),[b,_]=(0,a.useState)([]),y=(0,a.useRef)();(0,a.useEffect)((()=>{i||(n(!0),(0,d.Dy)(f),v((0,t.M5)()))}));const f=e=>{v((0,t.M5)())},I=(e,s)=>{l(e,s),y.current.clearTx()};return(0,o.jsx)("div",{children:(0,o.jsx)(r,{placeholder:"buscar empleado",width:420,fetchData:e=>{_(u((0,t.bh)("employees_list"),e)),m&&p(!1)},loading:m,change:e=>{!m&&p(!0)},callempty:e=>{_([]),m&&p(!1)},ref:y,children:(0,o.jsx)("div",{className:"",children:b&&(null===(s=(0,t._2)(b))||void 0===s?void 0:s.map((e=>(0,o.jsx)(c,{data:b[e],elmId:e,selectItem:I},e))))})})})},c=e=>{let{data:s,selectItem:l}=e;return(0,o.jsx)("div",{className:"item_acc",children:(0,o.jsx)("div",{className:"_dsplFlx item_box account_header",children:(0,o.jsx)("div",{className:"_dsplFlx",onClick:()=>l(null===s||void 0===s?void 0:s.employeeId,null),children:(0,o.jsx)("div",{className:"code",children:null===s||void 0===s?void 0:s.name})})})})};function u(e,s){let l=s.toLowerCase();var a=[];return e.length>0&&e.map((e=>{var s,t;(null===(s=e.name)||void 0===s||null===(t=s.toLowerCase())||void 0===t?void 0:t.indexOf(l))>=0&&a.push(e)})),a}},2502:(e,s,l)=>{l.d(s,{Dy:()=>t,Oy:()=>o,kQ:()=>i,lG:()=>d});var a=l(2350);const t=async e=>{var s,l;let t={...null===(s=(0,a.bh)((0,a.hQ)()))||void 0===s?void 0:s.all_employee};t.params={businessId:null===(l=(0,a.bh)("profileUser"))||void 0===l?void 0:l.businessId};const i=(0,a.I7)(t),d=await i;d&&((0,a.Rz)("employees_list",r((0,a.jQ)(d),"code")),(0,a.Rz)("employees_ids",(0,a.ME)((0,a.jQ)(d),"employeeId")),e&&e())},i=async e=>{var s,l;let t={...null===(s=(0,a.bh)((0,a.hQ)()))||void 0===s?void 0:s.search_employee};t.params={businessId:null===(l=(0,a.bh)("profileUser"))||void 0===l?void 0:l.businessId,":search":(0,a.bh)("searchQry")};const i=(0,a.I7)(t),d=await i;d&&((0,a.Rz)("employees_list",r((0,a.jQ)(d),"code")),e&&e())},d=async(e,s)=>{var l,t,i,d;let o={...null===(l=(0,a.bh)((0,a.hQ)()))||void 0===l?void 0:l.search_employee_paystub};o.params={businessId:null===(t=(0,a.bh)("profileUser"))||void 0===t?void 0:t.businessId,year:(0,a.bh)("date_current_year"),":date1":(null===(i=(0,a.bh)("date_range_comps"))||void 0===i?void 0:i.initDate)-10,":date2":null===(d=(0,a.bh)("date_range_comps"))||void 0===d?void 0:d.lastDate,":employeeId":e};const r=(0,a.I7)(o),n=await r;n&&!n.error&&(0,a.Rz)("paystub_submayor_list",n),s&&s()},o=async(e,s)=>{let l=(0,a.bh)("get_compById_last")||0;if(Date.now()>l){var t,i;(0,a.Rz)("get_compById_last",Date.now()+890);let l={...null===(t=(0,a.bh)((0,a.hQ)()))||void 0===t?void 0:t.filter_search_opera};l.params={businessId:null===(i=(0,a.bh)("profileUser"))||void 0===i?void 0:i.businessId,":search0":e,":search1":s};const d=(0,a.I7)(l),o=await d;if(o)return o}return null};const r=(e,s)=>(0,a.MV)("sortEmployees",[e],(()=>e&&e.sort(((e,l)=>{let a=1*e[s],t=1*l[s];return a<t?-1:a>t?1:0}))))},4719:()=>{}}]);
//# sourceMappingURL=9887.758d788c.chunk.js.map