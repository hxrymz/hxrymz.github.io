"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[9887],{9887:(e,s,l)=>{l.r(s),l.d(s,{default:()=>n,filterArr:()=>u});var a=l(2791),d=l(2350),t=l(2647),i=(l(4719),l(2502)),o=l(184);const r=(0,t.kp)(),n=e=>{var s;let{handleClick:l}=e;const[t,n]=(0,a.useState)(!1),[v,h]=(0,a.useState)(0),[m,p]=(0,a.useState)(!1),[b,y]=(0,a.useState)([]),_=(0,a.useRef)();(0,a.useEffect)((()=>{t||(n(!0),(0,i.Dy)(f),h((0,d.M5)()))}));const f=e=>{h((0,d.M5)())},I=(e,s)=>{l(e,s),_.current.clearTx()};return(0,o.jsx)("div",{children:(0,o.jsx)(r,{placeholder:"buscar empleado",width:420,fetchData:e=>{y(u((0,d.bh)("employees_list"),e)),m&&p(!1)},loading:m,change:e=>{!m&&p(!0)},callempty:e=>{y([]),m&&p(!1)},ref:_,children:(0,o.jsx)("div",{className:"",children:b&&(null===(s=(0,d._2)(b))||void 0===s?void 0:s.map((e=>(0,o.jsx)(c,{data:b[e],elmId:e,selectItem:I},e))))})})})},c=e=>{let{data:s,selectItem:l}=e;return(0,o.jsx)("div",{className:"item_acc",children:(0,o.jsx)("div",{className:"_dsplFlx item_box account_header",children:(0,o.jsx)("div",{className:"_dsplFlx",onClick:()=>l(null===s||void 0===s?void 0:s.employeeId,null),children:(0,o.jsx)("div",{className:"code",children:null===s||void 0===s?void 0:s.name})})})})};function u(e,s){let l=s.toLowerCase();var a=[];return e.length>0&&e.map((e=>{var s,d;(null===(s=e.name)||void 0===s||null===(d=s.toLowerCase())||void 0===d?void 0:d.indexOf(l))>=0&&a.push(e)})),a}},2502:(e,s,l)=>{l.d(s,{Dy:()=>d,kQ:()=>t,lG:()=>i});var a=l(2350);const d=async e=>{var s,l;let d={...null===(s=(0,a.bh)((0,a.hQ)()))||void 0===s?void 0:s.all_employee};d.params={businessId:null===(l=(0,a.bh)("profileUser"))||void 0===l?void 0:l.businessId};const t=(0,a.I7)(d),i=await t;i&&((0,a.Rz)("employees_list",o((0,a.jQ)(i),"code")),(0,a.Rz)("employees_ids",(0,a.ME)((0,a.jQ)(i),"employeeId")),e&&e())},t=async e=>{var s,l;let d={...null===(s=(0,a.bh)((0,a.hQ)()))||void 0===s?void 0:s.search_employee};d.params={businessId:null===(l=(0,a.bh)("profileUser"))||void 0===l?void 0:l.businessId,":search":(0,a.bh)("searchQry")};const t=(0,a.I7)(d),i=await t;i&&((0,a.Rz)("employees_list",o((0,a.jQ)(i),"code")),e&&e())},i=async(e,s)=>{var l,d,t,i;let o={...null===(l=(0,a.bh)((0,a.hQ)()))||void 0===l?void 0:l.search_employee_paystub};o.params={businessId:null===(d=(0,a.bh)("profileUser"))||void 0===d?void 0:d.businessId,year:(0,a.bh)("date_current_year"),":date1":(null===(t=(0,a.bh)("date_range_comps"))||void 0===t?void 0:t.initDate)-10,":date2":null===(i=(0,a.bh)("date_range_comps"))||void 0===i?void 0:i.lastDate,":employeeId":e};const r=(0,a.I7)(o),n=await r;n&&!n.error&&(0,a.Rz)("paystub_submayor_list",n),s&&s()};const o=(e,s)=>(0,a.MV)("sortEmployees",[e],(()=>e&&e.sort(((e,l)=>{let a=1*e[s],d=1*l[s];return a<d?-1:a>d?1:0}))))},4719:()=>{}}]);
//# sourceMappingURL=9887.fa68ae39.chunk.js.map