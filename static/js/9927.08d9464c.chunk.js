"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[9927,9760],{9760:function(e,n,a){a.r(n),a.d(n,{CloseModal:function(){return d},OpenModal:function(){return o},default:function(){return c}});var i=a(2791),l=a(5408),t=a(2350),r=a(184),s="listDialog_mdh392",c=function(){var e=(0,t.bh)("listDialog")||{},n=((0,l.Z)(s),Object.keys(e));return(0,r.jsx)(r.Fragment,{children:n.map((function(n,a){var l=e[n];if(l&&l.visible){var t={};l.height&&(t.heigth=l.height),l.width,l.zIndex&&(t.zIndex=l.zIndex-1);var s={zIndex:l.zIndex},c=null,o=l.data;return l.content&&(c=i.cloneElement(l.content,{data:o})),(0,r.jsxs)("div",{className:"ltr-1kbnjow",style:t,children:[(0,r.jsx)("div",{className:"ltr-hoe9xz",children:(0,r.jsx)("div",{className:"ltr-1wao6ny",style:s,id:n,children:c})}),l.data.overlay?(0,r.jsx)("div",{className:"DialogHRMOverlay ".concat(l.visible?"active":""),onClick:function(){var e;e=n,document.getElementsByTagName("html")[0].classList.remove("has-level-two"),d({id:e})}}):null]},n)}}))})},o=function(e){var n=(0,t.bh)("listDialog")||{},a=(0,t.M5)();n[a]||(n[a]={}),n[a].visible=!0;var i={};e.props?(i=e.props).modalID=a:i.modalID=a;var l=document.getElementsByTagName("body")[0];null!==l&&void 0!==l&&l.style&&(l.style.overflowY="hidden"),n[a].isView=e.isView,n[a].observeResize=e.observeResize,n[a].observeResize&&(n[a].observeInterval=setInterval((function(){var e=document.querySelector("[dialog-key-id='".concat(a,"']")),i=e&&e.getBoundingClientRect();i&&(i.width===n[a].width&&i.height===n[a].height||(n[a].height=i.height+10,n[a].width=i.width,(0,t.Rz)("listDialog",n),(0,t.wt)(s)))}),200)),n[a].display=!0,e.zIndex&&(n[a].zIndex=e.zIndex),e.height&&(n[a].height=e.height),e.width&&(n[a].width=e.width),e.content&&(n[a].content=e.content),n[a].data=i,(0,t.Rz)("listDialog",n),(0,t.wt)(s),setTimeout((function(){document.getElementsByTagName("html")[0].classList.add("has-level-two"),(0,t.Rz)("modalOpen",a),(0,t.wt)(s)}),125)},d=function(e){var n,a,i,l=(0,t.bh)("listDialog")||{},r=e.id;l[r]&&(l[r].observeResize&&l[r].observeInterval&&clearInterval(l[r].observeInterval),l[r].display=!1,null===(n=l[r])||void 0===n||null===(a=n.data)||void 0===a||null===(i=a.closeEvent)||void 0===i||i.call(a),(0,t.Rz)("listDialog",l),delete l[r],document.getElementsByTagName("body")[0].style.overflowY=null,(0,t.wt)(s),setTimeout((function(){delete l[r],document.getElementsByTagName("html")[0].classList.remove("has-level-two"),(0,t.Rz)("modalOpen",null)}),750))}},9018:function(e,n,a){a(2791);var i=a(2647),l=a(184),t=(0,i.PU)();n.Z=function(e){var n=e.icon,a=e.label,i=e.handleClick,r=e.value;return(0,l.jsxs)("div",{className:" _dsplFlx dtls minhh card_dark",children:[(0,l.jsx)("div",{className:"iconBx ",children:(0,l.jsx)(t,{name:n,size:32,color:"var(--light-200)"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"lbl_dtls",style:{marginTop:8,textAlign:"left"},children:a}),(0,l.jsx)("div",{className:"lbl_h_dtls ",style:{marginTop:8,textAlign:"left"},onClick:i,children:r})]})]})}},2825:function(e,n,a){var i=a(4165),l=a(1413),t=a(5861),r=a(9439),s=a(2791),c=a(9760),o=a(2647),d=a(2350),u=a(5143),v=a(184),m=(0,o.Np)(),p=(0,o.tL)();n.Z=function(e){var n,a=e.data,i=e.confirm,l=e.type,t=e.init,o=(0,s.useState)(!1),m=(0,r.Z)(o,2),p=m[0],g=m[1],_=(0,s.useState)(1),b=(0,r.Z)(_,2),j=(b[0],b[1]),w=function(){j((0,d.M5)())};(0,s.useEffect)((function(){p||(g(!0),j((0,d.M5)()),(0,u.bM)(w))}));var y=function(e){j((0,d.M5)()),(0,d.Ey)(i)&&(N(),i(e))},N=function(){(null===a||void 0===a?void 0:a.modalID)&&(0,c.CloseModal)({id:null===a||void 0===a?void 0:a.modalID})},k=(0,d.bh)("categories_list");return(0,v.jsxs)("div",{style:{height:"80vh",width:"90vw",overflow:"auto",background:"var(--dark-800)",borderRadius:13,padding:"20px"},children:[(0,v.jsxs)("div",{className:"_dsplFlx ",children:[(0,v.jsx)("p",{className:"form_title blue30",style:{margin:"10px"},children:"Categories"}),(0,v.jsx)("div",{className:"flexSpace"}),(0,v.jsx)("div",{className:"",children:(0,v.jsx)(x,{label:"Agregar",clickHandler:function(e){var n={zIndex:480,props:{minHeight:"1vh",overlay:!0}};n.content=(0,v.jsx)(f,{}),(0,c.OpenModal)(n)}})})]}),(0,v.jsx)("div",{className:" spaceAround flxWrp scollVh",style:{marginTop:20,maxHeight:"calc( 78vh - 70px)"},children:k&&(null===(n=(0,d._2)(k))||void 0===n?void 0:n.map((function(e){return(0,v.jsx)(h,{data:k[e],elmId:k[e].categoryId,label:k[e].name,clickHandler:y,active:t,type:l},k[e].categoryId)})))})]})};var h=function(e){var n=e.clickHandler,a=e.label,i=e.active,l=e.elmId,t=e.data,r=e.type,s=i===l?null:l;return t.type!==r?null:(0,v.jsx)("div",{className:" btn_filter itmMrg ".concat(i===l?"active":""," "),onClick:function(){return n(s)},children:a})},x=function(e){var n=e.clickHandler,a=e.label;return(0,v.jsx)("div",{className:" jaqJnq_hrm1",children:(0,v.jsx)("button",{className:"gHAsFI_hrm1 dqnOfN jUrKkb",onClick:n,children:(0,v.jsx)("span",{className:" jaqJnq_hrm1",children:a})})})},f=function(e){var n,a,o,u=e.data,h=e.confirm,f=(e.type,e.init,"add_category_frm"),g=(0,s.useState)(1),_=(0,r.Z)(g,2),b=(_[0],_[1]),j=function(){var e=(0,t.Z)((0,i.Z)().mark((function e(){var n,a,t,r,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=(0,d.bh)(f)).categoryId=(0,d.M5)(),(r=(0,l.Z)({},null===(n=(0,d.bh)((0,d.hQ)()))||void 0===n?void 0:n.add_categapp)).params={businessId:null===(a=(0,d.bh)("profileUser"))||void 0===a?void 0:a.businessId},r.form=t,s=(0,d.I7)(r),e.next=8,s;case 8:e.sent&&((0,d.Rz)(f,{}),h&&h(),w());case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){(null===u||void 0===u?void 0:u.modalID)&&(0,c.CloseModal)({id:null===u||void 0===u?void 0:u.modalID})},y=function(e,n){var a=(0,d.bh)(f)||{};a[e]=n,(0,d.Rz)(f,a),b((0,d.M5)())};return(0,v.jsxs)("div",{style:{height:"80vh",width:"90vw",overflow:"auto",background:"var(--dark-800)",borderRadius:13,padding:"20px"},children:[(0,v.jsxs)("div",{className:"_dsplFlx ",children:[(0,v.jsx)("p",{className:"form_title blue30",style:{margin:"10px"},children:"Agregar Categoria"}),(0,v.jsx)("div",{className:"flexSpace"}),(0,v.jsx)("div",{className:"",children:(0,v.jsx)(x,{label:"Salvar",clickHandler:j})})]}),(0,v.jsxs)("div",{className:"",style:{margin:"30px 0"},children:[(0,v.jsx)("div",{className:"lbl_dtls",children:(0,v.jsx)(m,{init:null===(n=(0,d.bh)(f))||void 0===n?void 0:n.name,width:"68vw",label:"Nombre",updChanges:function(e){return y("name",e)}})}),(0,v.jsx)("div",{className:"lbl_dtls",children:(0,v.jsx)(m,{init:null===(a=(0,d.bh)(f))||void 0===a?void 0:a.description,width:"68vw",label:"Description",updChanges:function(e){return y("description",e)}})}),(0,v.jsxs)("div",{className:"_dsplFlx ",style:{padding:"48px 10px 10px"},children:[(0,v.jsx)("div",{className:"flexSpace"}),(0,v.jsx)(p,{data:[{label:"Expenses",id:"expenses"},{label:"Incomes",id:"incomes"}],active:null===(o=(0,d.bh)(f))||void 0===o?void 0:o.type,updSelect:function(e){return y("type",e)},colors:{"--base-ck-primary-color":"var(--primary-blue--backg-30)","--base-ck-primary-backcolor":"var(--primary-blue--color-30)"}})]})]})]})}},9927:function(e,n,a){a.r(n),a.d(n,{default:function(){return k}});var i=a(1413),l=a(4165),t=a(5861),r=a(9439),s=a(2791),c=a(2647),o=a(7689),d=a(2350),u=a(5143),v=a(9760),m=a(2825),p=a(6514),h=a(9138),x=a(8965),f=a(7984),g=a(9018),_=a(184),b=(0,c.Np)(),j=(0,c.PU)(),w=(0,c.tW)(),y=((0,c.pz)(),(0,c.LA)()),N=(0,d.Ks)()+"_add",k=function(e){var n,a,i=e.data,l=(e.description,e.confirm),t=(0,s.useState)(1),c=(0,r.Z)(t,2),u=(c[0],c[1],(0,s.useState)(1)),m=(0,r.Z)(u,2),p=m[0],h=m[1],x=(0,o.TH)(),f=((0,o.s0)(),null===(n=x.search)||void 0===n||null===(a=n.split("?"))||void 0===a?void 0:a[1]),g=(0,d.mB)(f),b=null===g||void 0===g?void 0:g.cId;(0,s.useEffect)((function(){}),[b]);var w=function(){(0,d.Ey)(l)&&l(),(null===i||void 0===i?void 0:i.modalID)&&(0,v.CloseModal)({id:null===i||void 0===i?void 0:i.modalID})},y=function(e){h(e)};return(0,_.jsx)("div",{style:{height:(0,d.bh)("isOS")?"89vh":"94vh",marginTop:(0,d.bh)("isOS")?"9vh":"6vh",width:"99vw",overflow:"auto",background:"var(--dark-800)",borderRadius:13,padding:"10px 6px"},children:(0,_.jsxs)("div",{className:" ",children:[(0,_.jsxs)("div",{className:"h23g9woI",children:[(0,_.jsxs)("div",{className:"jKZvHt ",onClick:w,children:[(0,_.jsx)(j,{name:"arrowBack",size:22,color:"var(--light-200)"}),(0,_.jsx)("div",{className:"eULkqP"})]}),(0,_.jsx)("div",{className:"flexSpace"}),(0,_.jsx)("div",{className:"icon_action ".concat(1===p?"active":""," "),onClick:function(){return y(1)},children:(0,_.jsx)(j,{name:"image_outline",color:"var(--light-200)"})}),(0,_.jsx)("div",{className:"icon_action ".concat(2===p?"active":""," "),onClick:function(){return y(2)},children:(0,_.jsx)(j,{name:"list_form",color:"var(--light-200)"})})]}),(0,_.jsx)("div",{style:{paddingTop:4}}),(0,_.jsx)(S,{viewId:1,activeView:p,children:(0,_.jsx)(Z,{close:w})}),(0,_.jsx)(S,{viewId:2,activeView:p,children:(0,_.jsx)(C,{close:w})})]})})},z={ES:{1:"Escoja una Imagen",2:"Subir",3:"Escanear",4:"Imagen a Revisar",5:"Texto a Copiar:",12:"Rotar",13:"Recortar",20:"Comprimiendo imagen",21:"Subiendo imagen",22:"Escaneando imagen",23:"Recortando image",24:"Reconociendo Texto en Imagen",28:"Enviando a revision manual"},EN:{1:"Choose File",2:"Upload",3:"Scan",4:"Image to Revision",5:"Text to Copy:",12:"Rotate",13:"Crop",20:"Compressing image",21:"Uploading image",22:"Scanning image",23:"Cropping image",24:"Detecting Text on Image",28:"Sending to revision"}},R="ES",Z=function(e){e.activeView;var n=e.close,a=(0,s.useState)(1),c=(0,r.Z)(a,2)[1],o=(0,s.useState)(""),m=(0,r.Z)(o,2),h=m[0],g=m[1],b=(0,s.useRef)(null),k=(0,s.useRef)(null),Z=(0,s.useRef)(null),C=function(e){var n;null===Z||void 0===Z||null===(n=Z.current)||void 0===n||n.setAttribute("show",e)},S=(0,x.g)(!1,(function(e){var n,a;null===b||void 0===b||null===(n=b.current)||void 0===n||n.setAttribute("show",e),null===k||void 0===k||null===(a=k.current)||void 0===a||a.setAttribute("loading",e)})),M=(0,x.w)("",{shallowRender:!0}),D=(0,x.w)("",{shallowRender:!0}),O=function(){c((0,d.M5)())},H=function(e){(0,d.Rz)("image__text_detect_locale",e.locale),(0,d.Rz)("image__text_detect",e),(0,d.Rz)("image_mov_add_text",e.textAnnotations);var n=function(e){var n,a={},i={},l=null===e||void 0===e||null===(n=e[0])||void 0===n?void 0:n.description;return e.map((function(e,n){n>0&&(0,d.H4)(l,e.description).map((function(n){a[e.description]||i[n]||(a[e.description]=n,i[n]=e.description)}))})),a}(e.textAnnotations);(0,d.Rz)("lineDetectedText",n),(0,d.Rz)("loading_image_text",!1),O()},A=function(e,n){var a=(0,d.bh)(N)||{};a[e]=n,(0,d.Rz)(N,a),c((0,d.M5)())},E=function(){var e=(0,t.Z)((0,l.Z)().mark((function e(n){var a,i,t,r;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,d.Rz)("loading_image_upload",!0),c((0,d.M5)()),a=n.target.files[0],i={maxSizeMB:1,maxWidthOrHeight:1920},e.prev=4,e.next=7,(0,f.Z)(a,i);case 7:t=e.sent,(r=new FileReader).addEventListener("load",(function(){(0,d.Rz)("preview_src_before_upload",r.result),(0,d.Rz)("loading_image_upload",!1),c((0,d.M5)())}),!1),a&&r.readAsDataURL(t),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(n){return e.apply(this,arguments)}}(),V=function(){var e=(0,t.Z)((0,l.Z)().mark((function e(n,a){var i;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M.value=z[R][21]+" ...",(0,u.Rh)(n,a,(function(e){(0,u.Dr)(e,n,(function(){A("imagePath",a),P(a)}))}),null===(i=(0,d.bh)("profileUser"))||void 0===i?void 0:i.businessId);case 2:case"end":return e.stop()}}),e)})));return function(n,a){return e.apply(this,arguments)}}(),U=function(){var e=(0,t.Z)((0,l.Z)().mark((function e(){var n,a,i,t,r;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,d.bh)("canvas_advanced-cropper"),n=(0,d.bh)("preview_src_before_upload"),a=(0,d.M5)()+"_"+(0,d.M5)()+".png",e.next=6,(0,d.Mi)(n,"image/png");case 6:return i=e.sent,t={maxSizeMB:1,maxWidthOrHeight:1920},e.prev=8,e.next=11,(0,f.Z)(i,t);case 11:r=e.sent,V(r,a),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=(0,t.Z)((0,l.Z)().mark((function e(){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S.value||(S.value=!0,M.value=z[R][20]+" ...",(0,d.Rz)("loading_upload_crop",!0),U());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=(0,t.Z)((0,l.Z)().mark((function e(n,a){var i;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.Em)(n,a);case 2:i=e.sent,(0,d.Rz)("image_url_mov_add",n),(0,d.Rz)("image_preview_mov_add",i),W(i);case 6:case"end":return e.stop()}}),e)})));return function(n,a){return e.apply(this,arguments)}}(),q=function(){var e=(0,t.Z)((0,l.Z)().mark((function e(n,a,i){var t,r;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M.value=z[R][24]+" ...",r=null===(t=(0,d.bh)(N))||void 0===t?void 0:t.imagePath.split(".png")[0],(0,u.sV)(r+".png",(function(e){L(n,a),H(e)})),setTimeout((function(){(0,u.JG)(n,i,(function(){(0,u.sV)(r+".webp",(function(){}))}))}),500);case 4:case"end":return e.stop()}}),e)})));return function(n,a,i){return e.apply(this,arguments)}}(),P=function(e){var n=(0,d.LH)(e);(0,u.Qq)(e,(function(a){return q(a,n,e)}))},W=function(e){var n=new Image;n.onload=function(){var e={oh:n.height,ow:n.width,h:n.height,w:n.width};(0,d.Rz)("preview_mov_dmz_add",e),(0,d.Rz)("loading_image_upload",!1),(0,d.Rz)("loading_upload_crop",!1),S.value=!1,M.value="",O()},e&&(n.src=e)},G=function(){var e=(0,t.Z)((0,l.Z)().mark((function e(a){var i,t;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,d.I7)(a),e.next=3,i;case 3:(t=e.sent)&&!t.error&&((0,d.Rz)("loading_image_2revision",!1),(0,d.Rz)("preview_src_before_upload",null),(0,d.Rz)("canvas_advanced-cropper",null),(0,d.Rz)("image_url_mov_add",null),(0,d.Rz)("preview_mov_dmz_add",null),(0,d.Rz)("canvas_advanc",null),n(!0));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),J=function(e){A("date",e.initDate+800)},K=function(e){var n,a={zIndex:950,height:"80vh",props:{minHeight:"1vh",overlay:!0}};a.content=(0,_.jsx)(y,{onConfirm:J,colors:{"--calendar-primary-color":"var(--primary-blue--backg-30)","--calendar-primary-backcolor":"var(--primary-blue--hover-back-30)","--calendar-selected_lbl_color":"var(--primary-blue--color-30)","--calendar-light-backcolor":"var(--dark-800)","--calendar-primary-hover-backcolor":"var(--hrm_palette-blue-purple_100)","--calendar-light-300":"var(--light-300)","--calendar-light-200":"var(--light-200)","--calendar-light-100":"var(--light-100)","--calendar-dark-800":"var(dark-800)","--calendar-white-100":"var(--primary-blue--color-30)","--calendar-white":"var(--white)"},init:null===(n=(0,d.bh)(N))||void 0===n?void 0:n.date}),(0,v.OpenModal)(a)},Y=function(){var e=(0,t.Z)((0,l.Z)().mark((function e(){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,d.bh)(N).date?Q():K();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=(0,t.Z)((0,l.Z)().mark((function e(){var n,a,t,r,s;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,d.Rz)("loading_image_2revision",!0),c((0,d.M5)()),(t=(0,d.bh)(N)).movementId=(0,d.M5)(),t.date?t.date=new Date(t.date).getTime():t.date=(new Date).getTime()+800,r=(0,d.bh)("movement_type"),t.movementType=r.slice(0,r.length-1),t.inManualRevision=!0,(s=(0,i.Z)({},null===(n=(0,d.bh)((0,d.hQ)()))||void 0===n?void 0:n.add__incms_expns)).params={businessId:null===(a=(0,d.bh)("profileUser"))||void 0===a?void 0:a.businessId},s.form=t,G(s);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){D.value="",g(null),C(!1)};return(0,_.jsxs)("div",{style:{maxWidth:560,padding:"5px!important"},children:[(0,d.bh)("preview_mov_dmz_add")?null:(0,_.jsxs)("div",{className:"_dsplFlx ",style:{padding:9},children:[(0,_.jsx)("div",{style:{marginBottom:10},children:(0,d.bh)("loading_image_upload")?(0,_.jsxs)("div",{className:"icon_compr _dsplFlx",style:{marginTop:10},children:[(0,_.jsx)("div",{className:"lbl_saving ",children:"Loading image ..."}),(0,_.jsx)(w,{stroke:"var(--partial-success)",size:24,strokeW:8})]}):(0,_.jsxs)("div",{className:"_dsplFlx upl",style:{margin:"6px 6px 5px"},children:[(0,_.jsx)("div",{className:"lbl_saving ",style:{margin:"4px 20px 0 0"},children:z[R][1]}),(0,_.jsxs)("div",{className:"btn_icon",children:[(0,_.jsx)("div",{className:"icon_absol inside ",children:(0,_.jsx)(j,{name:"image_outline",color:"var(--light-300)",size:20})}),(0,_.jsx)("div",{className:"icon_absol ",children:(0,_.jsx)(j,{name:"scan-helper",color:"var(--partial-success)",size:28})})]}),(0,_.jsx)("input",{id:"fileupload",type:"file",accept:"image/*,capture=camera",onChange:E})]})}),(0,_.jsx)("div",{className:"flexSpace"}),(0,_.jsx)("div",{style:{marginBottom:10},children:(0,d.bh)("preview_src_before_upload")?(0,_.jsxs)("div",{className:"_dsplFlx",style:{margin:"6px 20px 5px"},onClick:B,children:[(0,_.jsx)("div",{className:"lbl_saving ",style:{margin:"4px 20px 0 0"},children:z[R][2]}),(0,_.jsxs)("div",{className:"btn_icon",children:[(0,_.jsx)("div",{className:"icon_absol inside ",children:(0,_.jsx)(j,{name:"arrow_up_large",color:"var(--light-300)",size:20})}),(0,_.jsx)("div",{className:"icon_absol ",children:(0,_.jsx)(j,{name:"scan-helper",color:"var(--partial-success)",size:28})})]})]}):null})]}),(0,d.bh)("image_url_mov_add")?(0,_.jsx)("div",{className:"_dsplFlx",children:(0,_.jsx)("div",{style:{margin:"20px 10px"},children:(0,_.jsxs)("div",{className:"_dsplFlx",style:{margin:"6px 20px 5px"},onClick:Y,children:[(0,_.jsx)("div",{className:"lbl_saving ",style:{margin:"4px 20px 0 0"},children:z[R][4]}),(0,_.jsxs)("div",{className:"btn_icon",children:[(0,_.jsx)("div",{className:"icon_absol inside ",children:(0,_.jsx)(j,{name:"search",color:"var(--light-300)",size:20})}),(0,_.jsx)("div",{className:"icon_absol ",children:(0,_.jsx)(j,{name:"scan-helper",color:"var(--partial-success)",size:28})})]})]})})}):null,h?(0,_.jsxs)("div",{className:"imagePreview",children:[(0,_.jsxs)("div",{className:"",onClick:X,children:[(0,_.jsx)("div",{className:"lbl_dtls",children:z[R][5]}),(0,_.jsx)("div",{className:"text2link",children:h})]}),(0,_.jsx)(T,{title:"Title:",frmNm:N,keyfld:"title",updObs:O,newValue:h,confirm:X,join:" "}),(0,_.jsx)(T,{title:"Amount:",frmNm:N,keyfld:"amount",updObs:O,newValue:h,confirm:X,replace:!0}),(0,_.jsx)(T,{title:"Descripcion:",frmNm:N,keyfld:"description",updObs:O,newValue:h,confirm:X,join:" "}),(0,_.jsx)(T,{title:"Document:",frmNm:N,keyfld:"document",updObs:O,newValue:h,confirm:X,join:" "})]}):(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("div",{className:"text2Copy_container _dsplFlx",ref:Z,children:(0,_.jsxs)("div",{className:"",style:{width:"100%"},children:[(0,_.jsxs)("div",{className:"_dsplFlx",children:[(0,_.jsx)("div",{className:"lbl_dtls",style:{marginBottom:12},children:z[R][5]}),(0,_.jsx)("div",{className:"flexSpace"}),(0,_.jsx)("div",{className:"icon_absol inside ",onClick:function(){return D.value=""},children:(0,_.jsx)(j,{name:"cancel",color:"var(--light-300)",size:20})})]}),(0,_.jsx)("div",{className:"text2link",onClick:function(){return g(D.value)},children:D.referenceRender})]})}),(0,_.jsxs)("div",{className:"loading_animation_container _dsplFlx",style:{marginTop:112},ref:b,children:[(0,_.jsx)("div",{className:"flexSpace"}),(0,_.jsxs)("div",{className:"icon_compr _dsplFlx loadingFit",style:{marginTop:10},children:[(0,_.jsx)("div",{className:"lbl_saving ",children:M.referenceRender}),(0,_.jsx)(w,{stroke:"var(--partial-success)",size:32,strokeW:8})]}),(0,_.jsx)("div",{className:"flexSpace"})]}),(0,_.jsx)("div",{className:"imagePreview image_container",ref:k,children:(0,d.bh)("preview_mov_dmz_add")?(0,_.jsx)(p.d$,{children:(0,_.jsx)(p.Uv,{children:(0,_.jsx)(F,{image:(0,d.bh)("image_preview_mov_add"),updTxt:function(e){D.value=D.value+" "+e,C(!0)}})})}):(0,_.jsx)(I,{handleChange:O,loadingCrop:function(e){S.value=e,M.value=z[R][23]+" ..."}})})]})]})},I=function(e){var n=e.loadingCrop,a=(0,s.useState)(1),i=(0,r.Z)(a,2)[1],c=(0,s.useState)(0),o=(0,r.Z)(c,2),u=o[0],v=o[1],m=(0,s.useRef)(null),p=(0,s.useRef)(null),f=(0,x.g)(!1,(function(e){var n;null===p||void 0===p||null===(n=p.current)||void 0===n||n.setAttribute("show",e)})),g=function(){var e=(0,t.Z)((0,l.Z)().mark((function e(){var a,t,r,s;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,d.Rz)("canvas_cropping",!0),a=(0,d.bh)("canvas_advanced-cropper"),t=a.toDataURL(),e.next=5,(0,d.Mi)(t,"application/png");case 5:r=e.sent,s=URL.createObjectURL(r),(0,d.Rz)("preview_src_before_upload",s),(0,d.Rz)("canvas_cropping",!1),f.value=!1,setTimeout((function(){(0,d.Rz)("canvas_advanced-cropper",null),i((0,d.M5)()),f.value=!1,n(!1)}),150);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=(0,t.Z)((0,l.Z)().mark((function e(){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(!0),setTimeout((function(){g()}),100);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,_.jsxs)("div",{children:[(0,d.bh)("preview_src_before_upload")?(0,_.jsxs)("div",{className:"image_options",children:[(0,_.jsx)("div",{className:"flexSpace"}),(0,_.jsxs)("div",{className:"_dsplFlx",onClick:function(){var e=u+90;e>350&&(e=0),m.current&&(v(e),m.current.rotateImage(45))},children:[(0,_.jsx)("div",{className:"",children:z[R][12]}),(0,_.jsx)("div",{className:" ",children:(0,_.jsx)(j,{name:"rotate-left",color:"var(--partial-success)",size:28})})]}),(0,_.jsx)("div",{className:"flexSpace"}),(0,_.jsxs)("div",{className:"_dsplFlx crop_imag_btn",onClick:b,ref:p,children:[(0,_.jsx)("div",{className:"",children:z[R][13]}),(0,_.jsx)("div",{className:" ",children:(0,_.jsx)(j,{name:"crop",color:"var(--partial-success)",size:28})})]}),(0,_.jsx)("div",{className:"flexSpace"})]}):null,(0,_.jsx)("div",{className:"cropper_container",style:{opacity:(0,d.bh)("canvas_cropping")?0:1},children:(0,_.jsx)(h.fle,{src:(0,d.bh)("preview_src_before_upload"),onChange:function(e){var n=e.getCanvas();(0,d.bh)("canvas_advanced-cropper")?f.value=!0:f.value=!1,(0,d.Rz)("canvas_advanced-cropper",n)},className:"cropper",ref:m,defaultSize:function(e){var n=e.imageSize,a=e.visibleArea;return{width:(a||n).width,height:(a||n).height}}})})]})},C=function(e){e.activeView;var n,a,c,o,u,p=e.close,h=(0,d.bh)("movement_type"),x=(0,s.useState)(1),f=(0,r.Z)(x,2),b=(f[0],f[1]),j=function(){b((0,d.M5)())},w=(0,d.vy)(["title","description","document","amount","categoryId"],(0,d.bh)(N),(0,d.bh)(N+"_bck")),k=function(){var e=(0,t.Z)((0,l.Z)().mark((function e(n){var a,i;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,d.I7)(n),e.next=3,a;case 3:(i=e.sent)&&!i.error&&((0,d.Rz)("preview_src_before_upload",null),(0,d.Rz)("canvas_advanced-cropper",null),(0,d.Rz)("image_url_mov_add",null),(0,d.Rz)("preview_mov_dmz_add",null),(0,d.Rz)("canvas_advanc",null),p(!0),(0,d.Rz)(N,null));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),z=function(){var e=(0,t.Z)((0,l.Z)().mark((function e(){var n,a,t,r;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=(0,d.bh)(N)).movementId=(0,d.M5)(),t.date?t.date=new Date(t.date).getTime():t.date=(new Date).getTime()+800,t.movementType=h.slice(0,h.length-1),(r=(0,i.Z)({},null===(n=(0,d.bh)((0,d.hQ)()))||void 0===n?void 0:n.add__incms_expns)).params={businessId:null===(a=(0,d.bh)("profileUser"))||void 0===a?void 0:a.businessId},r.form=t,k(r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(e,n){var a=(0,d.bh)(N)||{};a[e]=n,(0,d.Rz)(N,a),b((0,d.M5)())},Z=function(e){R("date",e.initDate+800)},I=function(e){R("categoryId",e)},C=null!==(n=(0,d.bh)(N))&&void 0!==n&&n.date?(0,d.sG)(null===(a=(0,d.bh)(N))||void 0===a?void 0:a.date):(0,d.sG)(new Date),S=null===(c=(0,d.bh)("categories_ids"))||void 0===c||null===(o=c[null===(u=(0,d.bh)(N))||void 0===u?void 0:u.categoryId])||void 0===o?void 0:o.name;return(0,_.jsxs)("div",{style:{maxWidth:560,height:"98vmin",padding:"5px!important"},children:[(0,_.jsxs)("div",{className:"_dsplFlx ",style:{padding:9},children:[(0,_.jsx)("div",{className:"flexSpace"}),w.hasChange?(0,_.jsx)("div",{className:"",children:(0,_.jsx)(D,{label:"Guardar",clickHandler:z})}):null]}),(0,_.jsxs)("div",{className:"scollVh min88",children:[(0,_.jsxs)("div",{className:"_dsplFlx  spaceAround flxWrp",children:[(0,_.jsx)(g.Z,{icon:"calendar",label:"Date",value:C||"click to type",handleClick:function(e){var n,a={zIndex:950,height:"80vh",props:{minHeight:"1vh",overlay:!0}};a.content=(0,_.jsx)(y,{onConfirm:Z,colors:{"--calendar-primary-color":"var(--primary-blue--backg-30)","--calendar-primary-backcolor":"var(--primary-blue--hover-back-30)","--calendar-selected_lbl_color":"var(--primary-blue--color-30)","--calendar-light-backcolor":"var(--dark-800)","--calendar-primary-hover-backcolor":"var(--hrm_palette-blue-purple_100)","--calendar-light-300":"var(--light-300)","--calendar-light-200":"var(--light-200)","--calendar-light-100":"var(--light-100)","--calendar-dark-800":"var(dark-800)","--calendar-white-100":"var(--primary-blue--color-30)","--calendar-white":"var(--white)"},init:null===(n=(0,d.bh)(N))||void 0===n?void 0:n.date}),(0,v.OpenModal)(a)}}),(0,_.jsx)(g.Z,{icon:"groups",label:"Categories",value:S||"choose one",handleClick:function(e){var n,a={zIndex:480,props:{minHeight:"1vh",overlay:!0}};a.content=(0,_.jsx)(m.Z,{type:h,confirm:I,init:null===(n=(0,d.bh)(N))||void 0===n?void 0:n.categoryId}),(0,v.OpenModal)(a)}})]}),(0,_.jsxs)("div",{className:"_dsplFlx  spaceAround flxWrp",children:[(0,_.jsx)(M,{title:"Title:",frmNm:N,keyfld:"title",updObs:j}),(0,_.jsx)(M,{title:"Amount:",frmNm:N,keyfld:"amount",updObs:j}),(0,_.jsx)(M,{title:"Descripcion:",frmNm:N,keyfld:"description",updObs:j}),(0,_.jsx)(M,{title:"Document:",frmNm:N,keyfld:"document",updObs:j})]})]})]})},S=function(e){var n=e.viewId,a=e.activeView,i=e.children;return(0,_.jsx)("div",{className:"opacityView",style:{opacity:n===a?1:0,marginTop:2},children:n===a?i:null})},M=function(e){var n,a=e.title,i=e.keyfld,l=e.updObs,t=e.frmNm,c=(0,s.useState)(1),o=(0,r.Z)(c,2)[1],u=null===(n=(0,d.bh)(t))||void 0===n?void 0:n[i];return(0,_.jsxs)("div",{className:" dtls minhh",children:[(0,_.jsx)("div",{className:"lbl_h_dtls",style:{marginTop:8,textAlign:"left"},children:a}),(0,_.jsx)("div",{className:"_dsplFlx",children:(0,_.jsx)("div",{className:"lbl_dtls",children:(0,_.jsx)(b,{init:u,width:"68vw",updChanges:function(e){return function(e,n){var a=(0,d.bh)(t)||{};a[e]=n,(0,d.Rz)(t,a),o((0,d.M5)())}(i,e)},onEnter:function(){l&&l()}})})})]})},T=function(e){var n,a=e.title,i=e.keyfld,l=e.replace,t=e.frmNm,c=e.newValue,o=e.confirm,u=e.join,v=(0,s.useState)(1),m=(0,r.Z)(v,2),p=(m[0],m[1]),h=function(){!function(e,n){var a=(0,d.bh)(t)||{};a[e]=n||(0,d.fY)(a[e])+u+c,(0,d.Rz)(t,a),p((0,d.M5)())}(i,l?c:null),(0,d.Ey)(o)&&o()},x=null===(n=(0,d.bh)(t))||void 0===n?void 0:n[i];return(0,_.jsxs)("div",{className:" dtls minhh",onClick:function(){return h()},children:[(0,_.jsx)("div",{className:"lbl_h_dtls",style:{marginTop:8,textAlign:"left"},children:a}),(0,_.jsx)("div",{className:"lbl_dtls",style:{marginTop:8,textAlign:"left"},children:x||"click to associate"}),"}"]})},D=function(e){var n=e.clickHandler,a=e.label;return(0,_.jsx)("div",{className:" jaqJnq_hrm1",children:(0,_.jsx)("button",{className:"gHAsFI_hrm1 dqnOfN jUrKkb",onClick:n,children:(0,_.jsx)("span",{className:" jaqJnq_hrm1",children:a})})})},F=function(e){var n,a=e.image,i=e.updTxt,l=(0,d.bh)("preview_mov_dmz_add");return(0,_.jsxs)("svg",{id:"ssg_business_card_front",xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 ".concat(null===l||void 0===l?void 0:l.w," ").concat(null===l||void 0===l?void 0:l.h),preserveAspectRatio:"xMidYMid meet",children:[(0,_.jsx)("style",{type:"text/css",children:'@font-face {\n\t\t\t\tfont-family: "Google Sans";\n\t\t\t\tsrc: url(http://fonts.gstatic.com/s/googlesans/v14/4UabrENHsxJlGDuGo1OIlLU94YtzCwY.woff2)\n\n\t\t\t}'}),(0,_.jsx)("rect",{width:null===l||void 0===l?void 0:l.w,height:null===l||void 0===l?void 0:l.h,fill:"#ffffff"}),(0,_.jsx)("image",{width:null===l||void 0===l?void 0:l.w,height:null===l||void 0===l?void 0:l.h,x:0,y:0,xmlnsXlink:"http://www.w3.org/1999/xlink",xlinkHref:a}),null===(n=(0,d.bh)("image_mov_add_text"))||void 0===n?void 0:n.map((function(e,n){return(0,_.jsx)(O,{idKey:n+"_tann",item:e,index:n,updTxt:i},n+"_tann")}))]})},O=function(e){var n,a,i,l,t,r,s=e.item,c=e.index,o=(e.idKey,e.updTxt),u=s.description,v=s.boundingPoly,m=null===v||void 0===v?void 0:v.vertices,p=(null===m||void 0===m||null===(n=m[3])||void 0===n?void 0:n.y)-(null===m||void 0===m||null===(a=m[0])||void 0===a?void 0:a.y),h=(null===m||void 0===m||null===(i=m[1])||void 0===i?void 0:i.x)-(null===m||void 0===m||null===(l=m[0])||void 0===l?void 0:l.x);return 0!==c&&null!==m&&void 0!==m&&m[1]?(0,_.jsx)("rect",{onClick:function(e){e.stopPropagation(),e.preventDefault(),o(u),(0,d.vQ)(u,1)},onContextMenu:function(e){e.stopPropagation(),e.preventDefault()},onH:!0,width:h,height:p,fill:"#646cff",fillOpacity:"50%",x:null===m||void 0===m||null===(t=m[0])||void 0===t?void 0:t.x,y:null===m||void 0===m||null===(r=m[0])||void 0===r?void 0:r.y}):null}},8965:function(e,n,a){a.d(n,{g:function(){return d},w:function(){return o}});var i=a(1413),l=a(9439),t=a(2791),r=a(184),s=(0,t.forwardRef)((function(e,n){var a=e.initValue,i=(0,t.useState)(a),s=(0,l.Z)(i,2),c=s[0],o=s[1];return(0,t.useImperativeHandle)(n,(function(){return{refresh:function(e){o(e)}}})),(0,r.jsxs)(r.Fragment,{children:[" ",c]})})),c="referenceRender",o=function(e,n){var a=(0,t.useState)(e),o=(0,l.Z)(a,2)[1],d=(0,t.useRef)(null),u=(0,t.useRef)(new Proxy({value:e},{get:function(e,a){return n.shallowRender&&a===c?(0,r.jsx)(s,{initValue:e.value,ref:d}):e[a]?e[a]:Reflect.get.apply(Reflect,arguments)},set:function(e,a,l){var t;e[a]!==l&&(e[a]=l,n.shallowRender?null===d||void 0===d||null===(t=d.current)||void 0===t||t.refresh(l):o((0,i.Z)({},e)));return!0}}));return u.current},d=function(e,n,a){var r=(0,t.useState)(e),s=(0,l.Z)(r,2)[1];return(0,t.useRef)(new Proxy({value:e},{get:function(e,n){if(e[n])return e[n]},set:function(e,l,t){return e[l]!==t&&(e[l]=t,n&&n(e[l]),null!==a&&void 0!==a&&a.deep&&s((0,i.Z)({},e))),!0}})).current}}}]);
//# sourceMappingURL=9927.08d9464c.chunk.js.map