"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[9927],{8037:(e,l,a)=>{a.d(l,{N:()=>r});var i=a(2647),s=a(2350),n=a(184);const t=(0,i.PU)(),r=e=>{let{clickHandler:l,label:a,theme:i,width:r,icon:d,color:c}=e,o={"--btn_bg_hrm2":"var(--btn_bg_hrm1_".concat(i,")"),"--btn_bg_hover_hrm2":"var(--btn_bg_hover_hrm1_".concat(i,")"),"--btn_text_hrm2":"var(--btn_text_hrm1_".concat(i,")")};if(c){let{r:e,g:l,b:a}=(0,s.wK)(c);o={"--btn_bg_hrm2":"rgba("+[e,l,a].join(",")+", 0.11 )","--btn_bg_hover_hrm2":"rgba("+[e,l,a].join(",")+", 0.21 )","--btn_text_hrm2":c}}return r&&(o.width=r),(0,n.jsx)("div",{className:" jaqJnq_hrm1",style:o,children:(0,n.jsxs)("button",{className:"gHAsFI_hrm1 dqnOfN jUrKkb ".concat(i),onClick:l,children:[d?(0,n.jsx)("div",{style:{padding:"5px 10px 0 0",cursor:"pointer"},children:(0,n.jsx)(t,{name:d,color:"var(--btn_text_hrm2)"})}):null,(0,n.jsx)("span",{className:" jaqJnq_hrm1",children:a})]})})}},9018:(e,l,a)=>{a.d(l,{Z:()=>t});a(2791);var i=a(2647),s=a(184);const n=(0,i.PU)(),t=e=>{let{icon:l,iconColor:a="var(--light-200)",label:i,handleClick:t,value:r}=e;return(0,s.jsxs)("div",{className:" _dsplFlx dtls minhh card_dark",onClick:t,children:[(0,s.jsx)("div",{className:"iconBx ",children:(0,s.jsx)(n,{name:l,size:32,color:a})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"lbl_dtls",style:{marginTop:8,textAlign:"left"},children:i}),(0,s.jsx)("div",{className:"lbl_h_dtls ",style:{marginTop:8,textAlign:"left"},children:r})]})]})}},2825:(e,l,a)=>{a.d(l,{Z:()=>m});var i=a(2791),s=a(9760),n=a(2647),t=a(2350),r=a(8037),d=a(5143),c=a(184);const o=(0,n.Np)(),v=(0,n.tL)(),m=e=>{var l;let{data:a,confirm:n,type:o,init:v}=e;const[m,u]=(0,i.useState)(!1),[,x]=(0,i.useState)(1),_=()=>{x((0,t.M5)())};(0,i.useEffect)((()=>{m||(u(!0),x((0,t.M5)()),(0,d.bM)(_))}));const g=e=>{x((0,t.M5)()),(0,t.Ey)(n)&&(b(),n(e))},b=()=>{(null===a||void 0===a?void 0:a.modalID)&&(0,s.CloseModal)({id:null===a||void 0===a?void 0:a.modalID})};let j=(0,t.bh)("categories_list");return(0,c.jsxs)("div",{style:{height:"80vh",width:"90vw",overflow:"auto",background:"var(--dark-800)",borderRadius:13,padding:"20px"},children:[(0,c.jsxs)("div",{className:"_dsplFlx ",children:[(0,c.jsx)("p",{className:"form_title blue30",style:{margin:"10px"},children:(0,d.mU)(54)}),(0,c.jsx)("div",{className:"flexSpace"}),(0,c.jsx)("div",{className:"",children:(0,c.jsx)(r.N,{color:"#007bfc",label:(0,d.mU)(46),clickHandler:e=>{let l={zIndex:480,props:{minHeight:"1vh",overlay:!0}};l.content=(0,c.jsx)(p,{}),(0,s.OpenModal)(l)}})})]}),(0,c.jsx)("div",{className:" spaceAround flxWrp scollVh",style:{marginTop:20,maxHeight:"calc( 78vh - 70px)"},children:j&&(null===(l=(0,t._2)(j))||void 0===l?void 0:l.map((e=>(0,c.jsx)(h,{data:j[e],elmId:j[e].categoryId,label:j[e].name,clickHandler:g,active:v,type:o},j[e].categoryId))))})]})},h=e=>{let{clickHandler:l,label:a,active:i,elmId:s,data:n,type:t}=e,r=i===s?null:s;return n.type!==t?null:(0,c.jsx)("div",{className:" btn_filter itmMrg ".concat(i===s?"active":""," "),onClick:()=>l(r),children:a})},p=e=>{var l,a,n;let{data:m,confirm:h,type:p,init:u}=e;const x="add_category_frm",[_,g]=(0,i.useState)(1),b=()=>{(null===m||void 0===m?void 0:m.modalID)&&(0,s.CloseModal)({id:null===m||void 0===m?void 0:m.modalID})},j=(e,l)=>{let a=(0,t.bh)(x)||{};a[e]=l,(0,t.Rz)(x,a),g((0,t.M5)())};return(0,c.jsxs)("div",{style:{height:"80vh",width:"90vw",overflow:"auto",background:"var(--dark-800)",borderRadius:13,padding:"20px"},children:[(0,c.jsxs)("div",{className:"_dsplFlx ",children:[(0,c.jsxs)("p",{className:"form_title blue30",style:{margin:"10px"},children:[(0,d.mU)(46)," ",(0,d.mU)(54)]}),(0,c.jsx)("div",{className:"flexSpace"}),(0,c.jsx)("div",{className:"",children:(0,c.jsx)(r.N,{color:"#007bfc",label:(0,d.mU)(43),clickHandler:async()=>{var e,l;let a=(0,t.bh)(x);a.categoryId=(0,t.M5)();let i={...null===(e=(0,t.bh)((0,t.hQ)()))||void 0===e?void 0:e.add_categapp};i.params={businessId:null===(l=(0,t.bh)("profileUser"))||void 0===l?void 0:l.businessId},i.form=a;const s=(0,t.I7)(i);await s&&((0,t.Rz)(x,{}),h&&h(),b())}})})]}),(0,c.jsxs)("div",{className:"",style:{margin:"30px 0"},children:[(0,c.jsx)("div",{className:"lbl_dtls",children:(0,c.jsx)(o,{init:null===(l=(0,t.bh)(x))||void 0===l?void 0:l.name,width:"68vw",label:(0,d.mU)(56),updChanges:e=>j("name",e)})}),(0,c.jsx)("div",{className:"lbl_dtls",children:(0,c.jsx)(o,{init:null===(a=(0,t.bh)(x))||void 0===a?void 0:a.description,width:"68vw",label:(0,d.mU)(53),updChanges:e=>j("description",e)})}),(0,c.jsxs)("div",{className:"_dsplFlx ",style:{padding:"48px 10px 10px"},children:[(0,c.jsx)("div",{className:"flexSpace"}),(0,c.jsx)(v,{data:[{label:(0,d.mU)(40),id:"expenses"},{label:(0,d.mU)(42),id:"incomes"}],active:null===(n=(0,t.bh)(x))||void 0===n?void 0:n.type,updSelect:e=>j("type",e),colors:{"--base-ck-primary-color":"var(--primary-blue--backg-30)","--base-ck-primary-backcolor":"var(--primary-blue--color-30)"}})]})]})]})}},9927:(e,l,a)=>{a.r(l),a.d(l,{SVGImg:()=>T,SvgTextAnnotationItem:()=>F,default:()=>R});var i=a(2791),s=a(2647),n=a(7689),t=a(2350),r=a(5143),d=a(9760),c=a(8037),o=a(2825),v=a(6514),m=a(9138),h=a(8965),p=a(7984),u=a(9018),x=a(184);const _=(0,s.Np)(),g=(0,s.Zg)(),b=(0,s.PU)(),j=(0,s.tW)(),f=((0,s.pz)(),(0,s.LA)()),y="preview_2mov_dmz_add",w="loading_2image_upload",N="loading_image_revision",k=(0,t.Ks)()+"_add",R=e=>{var l,a;let{data:s,description:c,confirm:o}=e;const[v,m]=(0,i.useState)(1),[h,p]=(0,i.useState)(1);let u=(0,n.TH)();(0,n.s0)();const _=null===(l=u.search)||void 0===l||null===(a=l.split("?"))||void 0===a?void 0:a[1],g=(0,t.mB)(_);let j=null===g||void 0===g?void 0:g.cId;(0,i.useEffect)((()=>{}),[j]);const f=()=>{(0,t.Ey)(o)&&o(),(null===s||void 0===s?void 0:s.modalID)&&(0,d.CloseModal)({id:null===s||void 0===s?void 0:s.modalID})},y=e=>{p(e)};let w="incomes"===(0,t.bh)("movement_type")?42:40;return(0,x.jsx)("div",{style:{height:(0,t.bh)("isOS")?"89vh":"94vh",marginTop:(0,t.bh)("isOS")?"9vh":"6vh",width:"99vw",overflow:"auto",background:"var(--dark-800)",borderRadius:13,padding:"10px 6px"},children:(0,x.jsxs)("div",{className:" ",children:[(0,x.jsxs)("div",{className:"h23g9woI",children:[(0,x.jsxs)("div",{className:"jKZvHt ",onClick:f,children:[(0,x.jsx)(b,{name:"arrowBack",size:22,color:"var(--light-200)"}),(0,x.jsx)("div",{className:"eULkqP"})]}),(0,x.jsx)("div",{className:"flexSpace"}),(0,x.jsx)("div",{className:"typeBxPick lh-default ".concat("expenses"===(0,t.bh)("movement_type")?"red_orangered":"blue_30"),children:(0,x.jsx)("div",{className:"IssueLabel hrm_labelColor hrm_label_14lh",onClick:e=>{let l="incomes"===(0,t.bh)("movement_type")?"expenses":"incomes";(0,t.Rz)("movement_type",l),m((0,t.M5)())},children:(0,r.mU)(w)})}),(0,x.jsx)("div",{className:"typeBxPick icon_action ".concat(1===h?"active":""," "),onClick:()=>y(1),children:(0,x.jsx)(b,{name:"image_outline",color:"var(--light-200)"})}),(0,x.jsx)("div",{className:"typeBxPick icon_action ".concat(2===h?"active":""," "),onClick:()=>y(2),children:(0,x.jsx)(b,{name:"list_form",color:"var(--light-200)"})})]}),(0,x.jsx)("div",{style:{paddingTop:4}}),(0,x.jsx)(C,{viewId:1,activeView:h,children:(0,x.jsx)(z,{close:f})}),(0,x.jsx)(C,{viewId:2,activeView:h,children:(0,x.jsx)(I,{close:f})})]})})},z=e=>{let{activeView:l,close:a}=e;const[,s]=(0,i.useState)(1),[n,c]=(0,i.useState)(""),o=(0,i.useRef)(null),m=(0,i.useRef)(null),u=(0,i.useRef)(null),_=e=>{var l;null===u||void 0===u||null===(l=u.current)||void 0===l||l.setAttribute("show",e)},g=(0,h.g)(!1,(e=>{var l,a;null===o||void 0===o||null===(l=o.current)||void 0===l||l.setAttribute("show",e),null===m||void 0===m||null===(a=m.current)||void 0===a||a.setAttribute("loading",e)})),R=(0,h.w)("",{shallowRender:!0}),z=(0,h.w)("",{shallowRender:!0}),I=()=>{s((0,t.M5)())},C=(e,l)=>{let a=(0,t.bh)(k)||{};a[e]=l,(0,t.Rz)(k,a),s((0,t.M5)())},S=async()=>{(0,t.bh)("canvas_advanced-cropper");var e=(0,t.bh)("preview_src_before_upload");let l=(0,t.M5)()+"_"+(0,t.M5)()+".png";var a=await(0,t.Mi)(e,"image/png");const i={maxSizeMB:1,maxWidthOrHeight:1920};try{(async(e,l)=>{var a;R.value=(0,r.mU)(21)+" ...",(0,r.Rh)(e,l,(a=>{(0,r.Dr)(a,e,(()=>{C("imagePath",l),A(l)}))}),null===(a=(0,t.bh)("profileUser"))||void 0===a?void 0:a.businessId)})(await(0,p.Z)(a,i),l)}catch(s){console.log(s)}},F=async(e,l,a)=>{var i;R.value=(0,r.mU)(24)+" ...";let s=null===(i=(0,t.bh)(k))||void 0===i?void 0:i.imagePath.split(".png")[0];H(s+".png"),(0,r.sV)(s+".png",(a=>{(async(e,l)=>{var a=await(0,t.Em)(e,l);(0,t.Rz)("image_url_mov_add",e),(0,t.Rz)("image_preview_mov_add",a),V(a)})(e,l),(e=>{(0,t.Rz)("image__text_detect_locale",e.locale),(0,t.Rz)("image__text_detect",e),(0,t.Rz)("image_mov_add_text",e.Blocks),(0,t.Rz)("loading_image_text",!1),I()})(a)})),setTimeout((()=>{(0,r.JG)(e,a,(()=>{(0,r.sV)(s+".webp",(()=>{}))}))}),500)},O=e=>{if(null!==e&&void 0!==e&&e.ExpenseDocuments){let l=(0,r.Tb)(null===e||void 0===e?void 0:e.ExpenseDocuments);(0,t.Rz)(k,l),I()}},D=async e=>{let l=await(0,r.yO)(e);O(l)},H=e=>{(0,t.CO)(e)&&(0,r.Qq)(e+"_receipt.json",(async l=>{if(l){var a=await fetch(l),i=await a.json();null!==i&&void 0!==i&&i.ExpenseDocuments?O(i):D(e)}else D(e)}))},A=e=>{let l=(0,t.LH)(e);(0,r.Qq)(e,(a=>F(a,l,e)))},V=e=>{var l=new Image;l.onload=function(){let e={oh:l.height,ow:l.width,h:l.height,w:l.width};(0,t.Rz)(y,e),(0,t.Rz)(w,!1),(0,t.Rz)("loading_upload_crop",!1),g.value=!1,R.value="",I()},e&&(l.src=e)},B=e=>{C("date",e.initDate+800)},P=async()=>{var e,l;(0,t.Rz)(N,!0),s((0,t.M5)());let i=(0,t.bh)(k);i.movementId=(0,t.M5)(),i.date?i.date=new Date(i.date).getTime():i.date=(new Date).getTime()+800;let n=(0,t.bh)("movement_type");i.movementType=n.slice(0,n.length-1),i.inManualRevision=!0;let r={...null===(e=(0,t.bh)((0,t.hQ)()))||void 0===e?void 0:e.add__incms_expns};r.params={businessId:null===(l=(0,t.bh)("profileUser"))||void 0===l?void 0:l.businessId,year:(0,t.bh)("date_current_year")},r.form=i,(async e=>{const l=(0,t.I7)(e),i=await l;i&&!i.error&&((0,t.Rz)(N,!1),(0,t.Rz)("preview_src_before_upload",null),(0,t.Rz)("canvas_advanced-cropper",null),(0,t.Rz)("image_url_mov_add",null),(0,t.Rz)(y,null),(0,t.Rz)("canvas_advanc",null),a(!0))})(r)},E=()=>{z.value="",c(null),_(!1)};return(0,x.jsxs)("div",{style:{maxWidth:560,padding:"5px!important"},children:[(0,t.bh)(y)?null:(0,x.jsxs)("div",{className:"_dsplFlx ",style:{padding:9},children:[(0,x.jsx)("div",{style:{marginBottom:10},children:(0,t.bh)(w)?(0,x.jsxs)("div",{className:"icon_compr _dsplFlx",style:{marginTop:10},children:[(0,x.jsxs)("div",{className:"lbl_saving ",children:[(0,r.mU)(21)," ..."]}),(0,x.jsx)(j,{stroke:"var(--partial-success)",size:24,strokeW:8})]}):(0,x.jsxs)("div",{className:"_dsplFlx upl",style:{margin:"6px 6px 5px"},children:[(0,x.jsx)("div",{className:"lbl_saving ",style:{margin:"4px 20px 0 0"},children:(0,r.mU)(1)}),(0,x.jsxs)("div",{className:"btn_icon",children:[(0,x.jsx)("div",{className:"icon_absol inside ",children:(0,x.jsx)(b,{name:"image_outline",color:"var(--light-300)",size:20})}),(0,x.jsx)("div",{className:"icon_absol ",children:(0,x.jsx)(b,{name:"scan-helper",color:"var(--partial-success)",size:28})})]}),(0,x.jsx)("input",{id:"fileupload",type:"file",accept:"image/*,capture=camera",onChange:async e=>{(0,t.Rz)(w,!0),s((0,t.M5)());const l=e.target.files[0],a={maxSizeMB:1,maxWidthOrHeight:1920};try{const e=await(0,p.Z)(l,a),i=new FileReader;i.addEventListener("load",(()=>{(0,t.Rz)("preview_src_before_upload",i.result),(0,t.Rz)(w,!1),s((0,t.M5)())}),!1),l&&i.readAsDataURL(e)}catch(i){console.log(i)}}})]})}),(0,x.jsx)("div",{className:"flexSpace"}),(0,x.jsx)("div",{style:{marginBottom:10},children:(0,t.bh)("preview_src_before_upload")?(0,x.jsxs)("div",{className:"_dsplFlx",style:{margin:"6px 20px 5px"},onClick:async()=>{g.value||(g.value=!0,R.value=(0,r.mU)(20)+" ...",(0,t.Rz)("loading_upload_crop",!0),S())},children:[(0,x.jsx)("div",{className:"lbl_saving ",style:{margin:"4px 20px 0 0"},children:(0,r.mU)(2)}),(0,x.jsxs)("div",{className:"btn_icon",children:[(0,x.jsx)("div",{className:"icon_absol inside ",children:(0,x.jsx)(b,{name:"arrow_up_large",color:"var(--light-300)",size:20})}),(0,x.jsx)("div",{className:"icon_absol ",children:(0,x.jsx)(b,{name:"scan-helper",color:"var(--partial-success)",size:28})})]})]}):null})]}),(0,t.bh)("image_url_mov_add")?(0,x.jsx)("div",{className:"_dsplFlx",children:(0,x.jsx)("div",{style:{margin:"20px 10px"},children:(0,x.jsxs)("div",{className:"_dsplFlx",style:{margin:"6px 20px 5px"},onClick:async()=>{(0,t.bh)(k).date?P():(e=>{var l;let a={zIndex:950,height:"80vh",props:{minHeight:"1vh",overlay:!0}};a.content=(0,x.jsx)(f,{onConfirm:B,colors:{"--calendar-primary-color":"var(--primary-blue--backg-30)","--calendar-primary-backcolor":"var(--primary-blue--hover-back-30)","--calendar-selected_lbl_color":"var(--primary-blue--color-30)","--calendar-light-backcolor":"var(--dark-800)","--calendar-primary-hover-backcolor":"var(--hrm_palette-blue-purple_100)","--calendar-light-300":"var(--light-300)","--calendar-light-200":"var(--light-200)","--calendar-light-100":"var(--light-100)","--calendar-dark-800":"var(dark-800)","--calendar-white-100":"var(--primary-blue--color-30)","--calendar-white":"var(--white)"},init:null===(l=(0,t.bh)(k))||void 0===l?void 0:l.date}),(0,d.OpenModal)(a)})()},children:[(0,x.jsx)("div",{className:"lbl_saving ",style:{margin:"4px 20px 0 0"},children:(0,r.mU)(4)}),(0,x.jsxs)("div",{className:"btn_icon",children:[(0,x.jsx)("div",{className:"icon_absol inside ",children:(0,x.jsx)(b,{name:"search",color:"var(--light-300)",size:20})}),(0,x.jsx)("div",{className:"icon_absol ",children:(0,x.jsx)(b,{name:"scan-helper",color:"var(--partial-success)",size:28})})]})]})})}):null,n?(0,x.jsxs)("div",{className:"imagePreview",children:[(0,x.jsxs)("div",{className:"",onClick:E,children:[(0,x.jsx)("div",{className:"lbl_dtls",children:(0,r.mU)(5)}),(0,x.jsx)("div",{className:"text2link",children:n})]}),(0,x.jsx)(M,{icon:"market",title:(0,r.mU)(50),frmNm:k,keyfld:"title",updObs:I,newValue:n,confirm:E,join:" "}),(0,x.jsx)(M,{icon:"money_outline",title:(0,r.mU)(51),frmNm:k,keyfld:"amount",updObs:I,newValue:n,confirm:E,replace:!0}),(0,x.jsx)(M,{icon:"text",title:(0,r.mU)(52),frmNm:k,keyfld:"document",updObs:I,newValue:n,confirm:E,join:" "}),(0,x.jsx)(M,{icon:"info",title:(0,r.mU)(53),frmNm:k,keyfld:"description",updObs:I,newValue:n,confirm:E,join:" "})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"text2Copy_container _dsplFlx",ref:u,children:(0,x.jsxs)("div",{className:"",style:{width:"100%"},children:[(0,x.jsxs)("div",{className:"_dsplFlx",children:[(0,x.jsx)("div",{className:"lbl_dtls",style:{marginBottom:12},children:(0,r.mU)(5)}),(0,x.jsx)("div",{className:"flexSpace"}),(0,x.jsx)("div",{className:"icon_absol inside ",onClick:()=>z.value="",children:(0,x.jsx)(b,{name:"cancel",color:"var(--light-300)",size:20})})]}),(0,x.jsx)("div",{className:"text2link",onClick:()=>c(z.value),children:z.referenceRender})]})}),(0,x.jsxs)("div",{className:"loading_animation_container _dsplFlx",style:{marginTop:112},ref:o,children:[(0,x.jsx)("div",{className:"flexSpace"}),(0,x.jsxs)("div",{className:"icon_compr _dsplFlx loadingFit",style:{marginTop:10},children:[(0,x.jsx)("div",{className:"lbl_saving ",children:R.referenceRender}),(0,x.jsx)(j,{stroke:"var(--partial-success)",size:32,strokeW:8})]}),(0,x.jsx)("div",{className:"flexSpace"})]}),(0,x.jsx)("div",{className:"imagePreview image_container",ref:m,children:(0,t.bh)(y)?(0,x.jsx)(v.d$,{children:(0,x.jsx)(v.Uv,{children:(0,x.jsx)(T,{image:(0,t.bh)("image_preview_mov_add"),updTxt:e=>{z.value=z.value+" "+e,_(!0)},vectors:(0,t.bh)("image_mov_add_text")})})}):(0,x.jsx)(U,{handleChange:I,loadingCrop:e=>{g.value=e,R.value=(0,r.mU)(23)+" ..."}})})]})]})},U=e=>{let{loadingCrop:l}=e;const[,a]=(0,i.useState)(1),[s,n]=(0,i.useState)(0),d=(0,i.useRef)(null),c=(0,i.useRef)(null),o=(0,h.g)(!1,(e=>{var l;null===c||void 0===c||null===(l=c.current)||void 0===l||l.setAttribute("show",e)}));return(0,x.jsxs)("div",{children:[(0,t.bh)("preview_src_before_upload")?(0,x.jsxs)("div",{className:"image_options",children:[(0,x.jsx)("div",{className:"flexSpace"}),(0,x.jsxs)("div",{className:"_dsplFlx",onClick:()=>{let e=s+90;e>350&&(e=0),d.current&&(n(e),d.current.rotateImage(45))},children:[(0,x.jsx)("div",{className:"",children:(0,r.mU)(12)}),(0,x.jsx)("div",{className:" ",children:(0,x.jsx)(b,{name:"rotate-left",color:"var(--partial-success)",size:28})})]}),(0,x.jsx)("div",{className:"flexSpace"}),(0,x.jsxs)("div",{className:"_dsplFlx crop_imag_btn",onClick:async()=>{l(!0),setTimeout((()=>{(async()=>{(0,t.Rz)("canvas_cropping",!0);var e=(0,t.bh)("canvas_advanced-cropper").toDataURL(),i=await(0,t.Mi)(e,"application/png");let s=URL.createObjectURL(i);(0,t.Rz)("preview_src_before_upload",s),(0,t.Rz)("canvas_cropping",!1),o.value=!1,setTimeout((()=>{(0,t.Rz)("canvas_advanced-cropper",null),a((0,t.M5)()),o.value=!1,l(!1)}),150)})()}),100)},ref:c,children:[(0,x.jsx)("div",{className:"",children:(0,r.mU)(13)}),(0,x.jsx)("div",{className:" ",children:(0,x.jsx)(b,{name:"crop",color:"var(--partial-success)",size:28})})]}),(0,x.jsx)("div",{className:"flexSpace"})]}):null,(0,x.jsx)("div",{className:"cropper_container",style:{opacity:(0,t.bh)("canvas_cropping")?0:1},children:(0,x.jsx)(m.fle,{src:(0,t.bh)("preview_src_before_upload"),onChange:e=>{let l=e.getCanvas();(0,t.bh)("canvas_advanced-cropper")?o.value=!0:o.value=!1,(0,t.Rz)("canvas_advanced-cropper",l)},className:"cropper",ref:d,defaultSize:e=>{let{imageSize:l,visibleArea:a}=e;return{width:(a||l).width,height:(a||l).height}}})})]})},I=e=>{var l,a,s,n,v;let{activeView:m,close:h}=e,p=(0,t.bh)("movement_type");const[_,g]=(0,i.useState)(1),b=()=>{g((0,t.M5)())};let j=(0,t.vy)(["title","description","document","amount","categoryId"],(0,t.bh)(k),(0,t.bh)(k+"_bck"));console.log(j);const w=(e,l)=>{let a=(0,t.bh)(k)||{};a[e]=l,(0,t.Rz)(k,a),g((0,t.M5)())},N=e=>{w("date",e.initDate+800)},R=e=>{w("categoryId",e)};let z=null!==(l=(0,t.bh)(k))&&void 0!==l&&l.date?(0,t.sG)(null===(a=(0,t.bh)(k))||void 0===a?void 0:a.date):(0,t.sG)(new Date),U=null===(s=(0,t.bh)("categories_ids"))||void 0===s||null===(n=s[null===(v=(0,t.bh)(k))||void 0===v?void 0:v.categoryId])||void 0===n?void 0:n.name;return(0,x.jsxs)("div",{style:{maxWidth:560,height:"98vmin",padding:"5px!important"},children:[(0,x.jsxs)("div",{className:"_dsplFlx ",style:{padding:9},children:[(0,x.jsx)("div",{className:"flexSpace"}),j.hasChange?(0,x.jsx)("div",{className:"",children:(0,x.jsx)(c.N,{color:"#007bfc",label:(0,r.mU)(43),clickHandler:async()=>{var e,l;let a=(0,t.bh)(k);a.movementId=(0,t.M5)(),a.date?a.date=new Date(a.date).getTime():a.date=(new Date).getTime()+800,a.movementType=p.slice(0,p.length-1),console.log(a);let i={...null===(e=(0,t.bh)((0,t.hQ)()))||void 0===e?void 0:e.add__incms_expns};i.params={businessId:null===(l=(0,t.bh)("profileUser"))||void 0===l?void 0:l.businessId,year:(0,t.bh)("date_current_year")},i.form=a,(async e=>{const l=(0,t.I7)(e),a=await l;a&&!a.error&&((0,t.Rz)("preview_src_before_upload",null),(0,t.Rz)("canvas_advanced-cropper",null),(0,t.Rz)("image_url_mov_add",null),(0,t.Rz)(y,null),(0,t.Rz)("canvas_advanc",null),h(!0),(0,t.Rz)(k,null))})(i)}})}):null]}),(0,x.jsxs)("div",{className:"scollVh min88 ",children:[(0,x.jsxs)("div",{className:"_dsplFlx  spaceAround flxWrp",children:[(0,x.jsx)(u.Z,{icon:"calendar",label:(0,r.mU)(55),value:z||(0,r.mU)(45),handleClick:e=>{var l;let a={zIndex:950,height:"80vh",props:{minHeight:"1vh",overlay:!0}};a.content=(0,x.jsx)(f,{onConfirm:N,colors:{"--calendar-primary-color":"var(--primary-blue--backg-30)","--calendar-primary-backcolor":"var(--primary-blue--hover-back-30)","--calendar-selected_lbl_color":"var(--primary-blue--color-30)","--calendar-light-backcolor":"var(--dark-800)","--calendar-primary-hover-backcolor":"var(--hrm_palette-blue-purple_100)","--calendar-light-300":"var(--light-300)","--calendar-light-200":"var(--light-200)","--calendar-light-100":"var(--light-100)","--calendar-dark-800":"var(dark-800)","--calendar-white-100":"var(--primary-blue--color-30)","--calendar-white":"var(--white)"},init:null===(l=(0,t.bh)(k))||void 0===l?void 0:l.date}),(0,d.OpenModal)(a)}}),(0,x.jsx)(u.Z,{icon:"groups",label:(0,r.mU)(54),value:U||(0,r.mU)(45),handleClick:e=>{var l;let a={zIndex:480,props:{minHeight:"1vh",overlay:!0}};a.content=(0,x.jsx)(o.Z,{type:p,confirm:R,init:null===(l=(0,t.bh)(k))||void 0===l?void 0:l.categoryId}),(0,d.OpenModal)(a)}})]}),(0,x.jsxs)("div",{className:"_dsplFlx  spaceAround flxWrp",children:[(0,x.jsx)(S,{title:(0,r.mU)(50),frmNm:k,keyfld:"title",updObs:b}),(0,x.jsx)(S,{title:(0,r.mU)(51),frmNm:k,keyfld:"amount",updObs:b}),(0,x.jsx)(S,{title:(0,r.mU)(52),frmNm:k,keyfld:"document",updObs:b}),(0,x.jsx)(S,{title:(0,r.mU)(53),frmNm:k,keyfld:"description",updObs:b,isTxtArea:!0})]})]})]})},C=e=>{let{viewId:l,activeView:a,children:i}=e;return(0,x.jsx)("div",{className:"opacityView",style:{opacity:l===a?1:0,marginTop:2},children:l===a?i:null})},S=e=>{var l;let{title:a,keyfld:s,updObs:n,frmNm:r,isTxtArea:d}=e;const[,c]=(0,i.useState)(1),o=(e,l)=>{let a=(0,t.bh)(r)||{};a[e]=l,(0,t.Rz)(r,a),n()};let v=null===(l=(0,t.bh)(r))||void 0===l?void 0:l[s];return(0,x.jsxs)("div",{className:" dtls minhh",children:[(0,x.jsx)("div",{className:"lbl_h_dtls",style:{marginTop:8,textAlign:"left"},children:a}),(0,x.jsx)("div",{className:"_dsplFlx",children:d?(0,x.jsx)("div",{className:"lbl_dtls txt2lp",children:(0,x.jsx)(g,{init:v,width:"86vw",updChanges:e=>o(s,e)})}):(0,x.jsx)("div",{className:"lbl_dtls txt2lp",children:(0,x.jsx)(_,{init:v,width:"86vw",updChanges:e=>o(s,e),onEnter:()=>{n&&n()}})})})]})},M=e=>{var l;let{title:a,keyfld:s,replace:n,frmNm:r,newValue:d,confirm:c,join:o,icon:v}=e;const[,m]=(0,i.useState)(1);let h=null===(l=(0,t.bh)(r))||void 0===l?void 0:l[s];return(0,x.jsx)(u.Z,{icon:v,label:a,value:h||"click to associate",handleClick:()=>{((e,l)=>{let a=(0,t.bh)(r)||{};a[e]=l?l.trim():((0,t.fY)(a[e])+o+d).trim(),(0,t.Rz)(r,a),m((0,t.M5)())})(s,n?d:null),(0,t.Ey)(c)&&c()}})},T=e=>{var l,a,i,s,n,r;let{image:d,vectors:c,updTxt:o}=e;return(0,x.jsxs)("svg",{id:"ssg_business_card_front",xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 ".concat(null===(l=(0,t.bh)(y))||void 0===l?void 0:l.w," ").concat(null===(a=(0,t.bh)(y))||void 0===a?void 0:a.h),preserveAspectRatio:"xMidYMid meet",children:[(0,x.jsx)("style",{type:"text/css",children:'@font-face {\n\t\t\t\tfont-family: "Google Sans";\n\t\t\t\tsrc: url(http://fonts.gstatic.com/s/googlesans/v14/4UabrENHsxJlGDuGo1OIlLU94YtzCwY.woff2)\n\n\t\t\t}'}),(0,x.jsx)("rect",{width:null===(i=(0,t.bh)(y))||void 0===i?void 0:i.w,height:null===(s=(0,t.bh)(y))||void 0===s?void 0:s.h,fill:"#ffffff"}),(0,x.jsx)("image",{width:null===(n=(0,t.bh)(y))||void 0===n?void 0:n.w,height:null===(r=(0,t.bh)(y))||void 0===r?void 0:r.h,x:0,y:0,xmlnsXlink:"http://www.w3.org/1999/xlink",xlinkHref:d}),null===c||void 0===c?void 0:c.map(((e,l)=>(0,x.jsx)(F,{idKey:l+"_tann",item:e,index:l,updTxt:o},l+"_tann")))]})},F=e=>{let{item:l,index:a,updTxt:i}=e;const{Text:s,Geometry:n,boundingPoly:r,BlockType:d}=l;if("WORD"!==d)return null;let c=null===r||void 0===r?void 0:r.vertices,o=s,v=n.BoundingBox,m=(0,t.bh)(y),h=(null===v||void 0===v?void 0:v.Height)*m.h,p=(null===v||void 0===v?void 0:v.Width)*m.w,u=(null===v||void 0===v?void 0:v.Left)*m.w,_=(null===v||void 0===v?void 0:v.Top)*m.h;return 0===a||null===c||void 0===c||c[1],(0,x.jsx)("rect",{onClick:e=>{e.stopPropagation(),e.preventDefault(),i(o),(0,t.vQ)(o)},onContextMenu:e=>{e.stopPropagation(),e.preventDefault()},width:p,height:h,fill:"#646cff",fillOpacity:"50%",x:u,y:_})}},8965:(e,l,a)=>{a.d(l,{g:()=>d,w:()=>r});var i=a(2791),s=a(184);const n=(0,i.forwardRef)(((e,l)=>{let{initValue:a}=e;const[n,t]=(0,i.useState)(a);return(0,i.useImperativeHandle)(l,(()=>({refresh(e){t(e)}}))),(0,s.jsxs)(s.Fragment,{children:[" ",n]})})),t="referenceRender",r=(e,l)=>{const[,a]=(0,i.useState)(e),r=(0,i.useRef)(null);return(0,i.useRef)(new Proxy({value:e},{get:function(e,a){return l.shallowRender&&a===t?(0,s.jsx)(n,{initValue:e.value,ref:r}):e[a]?e[a]:Reflect.get(...arguments)},set:function(e,i,s){var n;e[i]!==s&&(e[i]=s,l.shallowRender?null===r||void 0===r||null===(n=r.current)||void 0===n||n.refresh(s):a({...e}));return!0}})).current},d=(e,l,a)=>{const[,s]=(0,i.useState)(e);return(0,i.useRef)(new Proxy({value:e},{get:function(e,l){if(e[l])return e[l]},set:function(e,i,n){return e[i]!==n&&(e[i]=n,l&&l(e[i]),null!==a&&void 0!==a&&a.deep&&s({...e})),!0}})).current}}}]);
//# sourceMappingURL=9927.93494843.chunk.js.map