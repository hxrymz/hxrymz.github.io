"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[9927,9760],{9760:(e,l,a)=>{a.r(l),a.d(l,{CloseModal:()=>o,OpenModal:()=>c,default:()=>r});var i=a(2791),s=a(5408),n=a(2350),t=a(184);const d="listDialog_mdh392",r=()=>{const e=(0,n.bh)("listDialog")||{};(0,s.Z)(d);let l=Object.keys(e);return(0,t.jsx)(t.Fragment,{children:l.map(((l,a)=>{let s=e[l];if(s&&s.visible){let e={};s.height&&(e.heigth=s.height),s.width,s.zIndex&&(e.zIndex=s.zIndex-1);let a={zIndex:s.zIndex},n=null,d=s.data;return s.content&&(n=i.cloneElement(s.content,{data:d})),(0,t.jsxs)("div",{className:"ltr-1kbnjow",style:e,children:[(0,t.jsx)("div",{className:"ltr-hoe9xz",children:(0,t.jsx)("div",{className:"ltr-1wao6ny",style:a,id:l,children:n})}),s.data.overlay?(0,t.jsx)("div",{className:"DialogHRMOverlay ".concat(s.visible?"active":""),onClick:()=>{var e;e=l,document.getElementsByTagName("html")[0].classList.remove("has-level-two"),o({id:e})}}):null]},l)}}))})},c=e=>{let l=(0,n.bh)("listDialog")||{},a=(0,n.M5)();l[a]||(l[a]={}),l[a].visible=!0;let i={};e.props?(i=e.props,i.modalID=a):i.modalID=a;let s=document.getElementsByTagName("body")[0];null!==s&&void 0!==s&&s.style&&(s.style.overflowY="hidden"),l[a].isView=e.isView,l[a].observeResize=e.observeResize,l[a].observeResize&&(l[a].observeInterval=setInterval((()=>{let e=document.querySelector("[dialog-key-id='".concat(a,"']")),i=e&&e.getBoundingClientRect();i&&(i.width===l[a].width&&i.height===l[a].height||(l[a].height=i.height+10,l[a].width=i.width,(0,n.Rz)("listDialog",l),(0,n.wt)(d)))}),200)),l[a].display=!0,e.zIndex&&(l[a].zIndex=e.zIndex),e.height&&(l[a].height=e.height),e.width&&(l[a].width=e.width),e.content&&(l[a].content=e.content),l[a].data=i,(0,n.Rz)("listDialog",l),(0,n.wt)(d),setTimeout((()=>{document.getElementsByTagName("html")[0].classList.add("has-level-two"),(0,n.Rz)("modalOpen",a),(0,n.wt)(d)}),125)},o=e=>{let l=(0,n.bh)("listDialog")||{},a=e.id;if(l[a]){var i,s,t;l[a].observeResize&&l[a].observeInterval&&clearInterval(l[a].observeInterval),l[a].display=!1,null===(i=l[a])||void 0===i||null===(s=i.data)||void 0===s||null===(t=s.closeEvent)||void 0===t||t.call(s),(0,n.Rz)("listDialog",l),delete l[a],document.getElementsByTagName("body")[0].style.overflowY=null,(0,n.wt)(d),setTimeout((()=>{delete l[a],document.getElementsByTagName("html")[0].classList.remove("has-level-two"),(0,n.Rz)("modalOpen",null)}),750)}}},9018:(e,l,a)=>{a.d(l,{Z:()=>t});a(2791);var i=a(2647),s=a(184);const n=(0,i.PU)(),t=e=>{let{icon:l,iconColor:a="var(--light-200)",label:i,handleClick:t,value:d}=e;return(0,s.jsxs)("div",{className:" _dsplFlx dtls minhh card_dark",onClick:t,children:[(0,s.jsx)("div",{className:"iconBx ",children:(0,s.jsx)(n,{name:l,size:32,color:a})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"lbl_dtls",style:{marginTop:8,textAlign:"left"},children:i}),(0,s.jsx)("div",{className:"lbl_h_dtls ",style:{marginTop:8,textAlign:"left"},children:d})]})]})}},2825:(e,l,a)=>{a.d(l,{Z:()=>v});var i=a(2791),s=a(9760),n=a(2647),t=a(2350),d=a(5143),r=a(184);const c=(0,n.Np)(),o=(0,n.tL)(),v=e=>{var l;let{data:a,confirm:n,type:c,init:o}=e;const[v,p]=(0,i.useState)(!1),[,x]=(0,i.useState)(1),g=()=>{x((0,t.M5)())};(0,i.useEffect)((()=>{v||(p(!0),x((0,t.M5)()),(0,d.bM)(g))}));const _=e=>{x((0,t.M5)()),(0,t.Ey)(n)&&(b(),n(e))},b=()=>{(null===a||void 0===a?void 0:a.modalID)&&(0,s.CloseModal)({id:null===a||void 0===a?void 0:a.modalID})};let j=(0,t.bh)("categories_list");return(0,r.jsxs)("div",{style:{height:"80vh",width:"90vw",overflow:"auto",background:"var(--dark-800)",borderRadius:13,padding:"20px"},children:[(0,r.jsxs)("div",{className:"_dsplFlx ",children:[(0,r.jsx)("p",{className:"form_title blue30",style:{margin:"10px"},children:(0,d.mU)(54)}),(0,r.jsx)("div",{className:"flexSpace"}),(0,r.jsx)("div",{className:"",children:(0,r.jsx)(h,{label:(0,d.mU)(46),clickHandler:e=>{let l={zIndex:480,props:{minHeight:"1vh",overlay:!0}};l.content=(0,r.jsx)(u,{}),(0,s.OpenModal)(l)}})})]}),(0,r.jsx)("div",{className:" spaceAround flxWrp scollVh",style:{marginTop:20,maxHeight:"calc( 78vh - 70px)"},children:j&&(null===(l=(0,t._2)(j))||void 0===l?void 0:l.map((e=>(0,r.jsx)(m,{data:j[e],elmId:j[e].categoryId,label:j[e].name,clickHandler:_,active:o,type:c},j[e].categoryId))))})]})},m=e=>{let{clickHandler:l,label:a,active:i,elmId:s,data:n,type:t}=e,d=i===s?null:s;return n.type!==t?null:(0,r.jsx)("div",{className:" btn_filter itmMrg ".concat(i===s?"active":""," "),onClick:()=>l(d),children:a})},h=e=>{let{clickHandler:l,label:a}=e;return(0,r.jsx)("div",{className:" jaqJnq_hrm1",children:(0,r.jsx)("button",{className:"gHAsFI_hrm1 dqnOfN jUrKkb",onClick:l,children:(0,r.jsx)("span",{className:" jaqJnq_hrm1",children:a})})})},u=e=>{var l,a,n;let{data:v,confirm:m,type:u,init:p}=e;const x="add_category_frm",[g,_]=(0,i.useState)(1),b=()=>{(null===v||void 0===v?void 0:v.modalID)&&(0,s.CloseModal)({id:null===v||void 0===v?void 0:v.modalID})},j=(e,l)=>{let a=(0,t.bh)(x)||{};a[e]=l,(0,t.Rz)(x,a),_((0,t.M5)())};return(0,r.jsxs)("div",{style:{height:"80vh",width:"90vw",overflow:"auto",background:"var(--dark-800)",borderRadius:13,padding:"20px"},children:[(0,r.jsxs)("div",{className:"_dsplFlx ",children:[(0,r.jsxs)("p",{className:"form_title blue30",style:{margin:"10px"},children:[(0,d.mU)(46)," ",(0,d.mU)(54)]}),(0,r.jsx)("div",{className:"flexSpace"}),(0,r.jsx)("div",{className:"",children:(0,r.jsx)(h,{label:(0,d.mU)(43),clickHandler:async()=>{var e,l;let a=(0,t.bh)(x);a.categoryId=(0,t.M5)();let i={...null===(e=(0,t.bh)((0,t.hQ)()))||void 0===e?void 0:e.add_categapp};i.params={businessId:null===(l=(0,t.bh)("profileUser"))||void 0===l?void 0:l.businessId},i.form=a;const s=(0,t.I7)(i);await s&&((0,t.Rz)(x,{}),m&&m(),b())}})})]}),(0,r.jsxs)("div",{className:"",style:{margin:"30px 0"},children:[(0,r.jsx)("div",{className:"lbl_dtls",children:(0,r.jsx)(c,{init:null===(l=(0,t.bh)(x))||void 0===l?void 0:l.name,width:"68vw",label:(0,d.mU)(56),updChanges:e=>j("name",e)})}),(0,r.jsx)("div",{className:"lbl_dtls",children:(0,r.jsx)(c,{init:null===(a=(0,t.bh)(x))||void 0===a?void 0:a.description,width:"68vw",label:(0,d.mU)(53),updChanges:e=>j("description",e)})}),(0,r.jsxs)("div",{className:"_dsplFlx ",style:{padding:"48px 10px 10px"},children:[(0,r.jsx)("div",{className:"flexSpace"}),(0,r.jsx)(o,{data:[{label:(0,d.mU)(40),id:"expenses"},{label:(0,d.mU)(42),id:"incomes"}],active:null===(n=(0,t.bh)(x))||void 0===n?void 0:n.type,updSelect:e=>j("type",e),colors:{"--base-ck-primary-color":"var(--primary-blue--backg-30)","--base-ck-primary-backcolor":"var(--primary-blue--color-30)"}})]})]})]})}},9927:(e,l,a)=>{a.r(l),a.d(l,{default:()=>f});var i=a(2791),s=a(2647),n=a(7689),t=a(2350),d=a(5143),r=a(9760),c=a(2825),o=a(6514),v=a(9138),m=a(8965),h=a(7984),u=a(9018),p=a(184);const x=(0,s.Np)(),g=(0,s.Zg)(),_=(0,s.PU)(),b=(0,s.tW)(),j=((0,s.pz)(),(0,s.LA)()),y=(0,t.Ks)()+"_add",f=e=>{var l,a;let{data:s,description:c,confirm:o}=e;const[v,m]=(0,i.useState)(1),[h,u]=(0,i.useState)(1);let x=(0,n.TH)();(0,n.s0)();const g=null===(l=x.search)||void 0===l||null===(a=l.split("?"))||void 0===a?void 0:a[1],b=(0,t.mB)(g);let j=null===b||void 0===b?void 0:b.cId;(0,i.useEffect)((()=>{}),[j]);const y=()=>{(0,t.Ey)(o)&&o(),(null===s||void 0===s?void 0:s.modalID)&&(0,r.CloseModal)({id:null===s||void 0===s?void 0:s.modalID})},f=e=>{u(e)};let N="incomes"===(0,t.bh)("movement_type")?42:40;return(0,p.jsx)("div",{style:{height:(0,t.bh)("isOS")?"89vh":"94vh",marginTop:(0,t.bh)("isOS")?"9vh":"6vh",width:"99vw",overflow:"auto",background:"var(--dark-800)",borderRadius:13,padding:"10px 6px"},children:(0,p.jsxs)("div",{className:" ",children:[(0,p.jsxs)("div",{className:"h23g9woI",children:[(0,p.jsxs)("div",{className:"jKZvHt ",onClick:y,children:[(0,p.jsx)(_,{name:"arrowBack",size:22,color:"var(--light-200)"}),(0,p.jsx)("div",{className:"eULkqP"})]}),(0,p.jsx)("div",{className:"flexSpace"}),(0,p.jsx)("div",{className:"typeBxPick lh-default ".concat("expenses"===(0,t.bh)("movement_type")?"red_orangered":"blue_30"),children:(0,p.jsx)("div",{className:"IssueLabel hrm_labelColor hrm_label_14lh",onClick:e=>{let l="incomes"===(0,t.bh)("movement_type")?"expenses":"incomes";(0,t.Rz)("movement_type",l),m((0,t.M5)())},children:(0,d.mU)(N)})}),(0,p.jsx)("div",{className:"typeBxPick icon_action ".concat(1===h?"active":""," "),onClick:()=>f(1),children:(0,p.jsx)(_,{name:"image_outline",color:"var(--light-200)"})}),(0,p.jsx)("div",{className:"typeBxPick icon_action ".concat(2===h?"active":""," "),onClick:()=>f(2),children:(0,p.jsx)(_,{name:"list_form",color:"var(--light-200)"})})]}),(0,p.jsx)("div",{style:{paddingTop:4}}),(0,p.jsx)(z,{viewId:1,activeView:h,children:(0,p.jsx)(w,{close:y})}),(0,p.jsx)(z,{viewId:2,activeView:h,children:(0,p.jsx)(k,{close:y})})]})})},w=e=>{let{activeView:l,close:a}=e;const[,s]=(0,i.useState)(1),[n,c]=(0,i.useState)(""),v=(0,i.useRef)(null),u=(0,i.useRef)(null),x=(0,i.useRef)(null),g=e=>{var l;null===x||void 0===x||null===(l=x.current)||void 0===l||l.setAttribute("show",e)},f=(0,m.g)(!1,(e=>{var l,a;null===v||void 0===v||null===(l=v.current)||void 0===l||l.setAttribute("show",e),null===u||void 0===u||null===(a=u.current)||void 0===a||a.setAttribute("loading",e)})),w=(0,m.w)("",{shallowRender:!0}),k=(0,m.w)("",{shallowRender:!0}),z=()=>{s((0,t.M5)())},R=e=>{(0,t.Rz)("image__text_detect_locale",e.locale),(0,t.Rz)("image__text_detect",e),(0,t.Rz)("image_mov_add_text",e.textAnnotations);let l=(e=>{var l;let a={},i={},s=null===e||void 0===e||null===(l=e[0])||void 0===l?void 0:l.description;return e.map(((e,l)=>{l>0&&(0,t.H4)(s,e.description).map((l=>{a[e.description]||i[l]||(a[e.description]=l,i[l]=e.description)}))})),a})(e.textAnnotations);(0,t.Rz)("lineDetectedText",l),(0,t.Rz)("loading_image_text",!1),z()},U=(e,l)=>{let a=(0,t.bh)(y)||{};a[e]=l,(0,t.Rz)(y,a),s((0,t.M5)())},M=async()=>{(0,t.bh)("canvas_advanced-cropper");var e=(0,t.bh)("preview_src_before_upload");let l=(0,t.M5)()+"_"+(0,t.M5)()+".png";var a=await(0,t.Mi)(e,"image/png");const i={maxSizeMB:1,maxWidthOrHeight:1920};try{(async(e,l)=>{var a;w.value=(0,d.mU)(21)+" ...",(0,d.Rh)(e,l,(a=>{(0,d.Dr)(a,e,(()=>{U("imagePath",l),T(l)}))}),null===(a=(0,t.bh)("profileUser"))||void 0===a?void 0:a.businessId)})(await(0,h.Z)(a,i),l)}catch(s){console.log(s)}},S=async(e,l,a)=>{var i;w.value=(0,d.mU)(24)+" ...";let s=null===(i=(0,t.bh)(y))||void 0===i?void 0:i.imagePath.split(".png")[0];(0,d.sV)(s+".png",(a=>{(async(e,l)=>{var a=await(0,t.Em)(e,l);(0,t.Rz)("image_url_mov_add",e),(0,t.Rz)("image_preview_mov_add",a),D(a)})(e,l),R(a)})),setTimeout((()=>{(0,d.JG)(e,a,(()=>{(0,d.sV)(s+".webp",(()=>{}))}))}),500)},T=e=>{let l=(0,t.LH)(e);(0,d.Qq)(e,(a=>S(a,l,e)))},D=e=>{var l=new Image;l.onload=function(){let e={oh:l.height,ow:l.width,h:l.height,w:l.width};(0,t.Rz)("preview_mov_dmz_add",e),(0,t.Rz)("loading_image_upload",!1),(0,t.Rz)("loading_upload_crop",!1),f.value=!1,w.value="",z()},e&&(l.src=e)},F=e=>{U("date",e.initDate+800)},O=async()=>{var e,l;(0,t.Rz)("loading_image_2revision",!0),s((0,t.M5)());let i=(0,t.bh)(y);i.movementId=(0,t.M5)(),i.date?i.date=new Date(i.date).getTime():i.date=(new Date).getTime()+800;let n=(0,t.bh)("movement_type");i.movementType=n.slice(0,n.length-1),i.inManualRevision=!0;let d={...null===(e=(0,t.bh)((0,t.hQ)()))||void 0===e?void 0:e.add__incms_expns};d.params={businessId:null===(l=(0,t.bh)("profileUser"))||void 0===l?void 0:l.businessId},d.form=i,(async e=>{const l=(0,t.I7)(e),i=await l;i&&!i.error&&((0,t.Rz)("loading_image_2revision",!1),(0,t.Rz)("preview_src_before_upload",null),(0,t.Rz)("canvas_advanced-cropper",null),(0,t.Rz)("image_url_mov_add",null),(0,t.Rz)("preview_mov_dmz_add",null),(0,t.Rz)("canvas_advanc",null),a(!0))})(d)},H=()=>{k.value="",c(null),g(!1)};return(0,p.jsxs)("div",{style:{maxWidth:560,padding:"5px!important"},children:[(0,t.bh)("preview_mov_dmz_add")?null:(0,p.jsxs)("div",{className:"_dsplFlx ",style:{padding:9},children:[(0,p.jsx)("div",{style:{marginBottom:10},children:(0,t.bh)("loading_image_upload")?(0,p.jsxs)("div",{className:"icon_compr _dsplFlx",style:{marginTop:10},children:[(0,p.jsxs)("div",{className:"lbl_saving ",children:[(0,d.mU)(21)," ..."]}),(0,p.jsx)(b,{stroke:"var(--partial-success)",size:24,strokeW:8})]}):(0,p.jsxs)("div",{className:"_dsplFlx upl",style:{margin:"6px 6px 5px"},children:[(0,p.jsx)("div",{className:"lbl_saving ",style:{margin:"4px 20px 0 0"},children:(0,d.mU)(1)}),(0,p.jsxs)("div",{className:"btn_icon",children:[(0,p.jsx)("div",{className:"icon_absol inside ",children:(0,p.jsx)(_,{name:"image_outline",color:"var(--light-300)",size:20})}),(0,p.jsx)("div",{className:"icon_absol ",children:(0,p.jsx)(_,{name:"scan-helper",color:"var(--partial-success)",size:28})})]}),(0,p.jsx)("input",{id:"fileupload",type:"file",accept:"image/*,capture=camera",onChange:async e=>{(0,t.Rz)("loading_image_upload",!0),s((0,t.M5)());const l=e.target.files[0],a={maxSizeMB:1,maxWidthOrHeight:1920};try{const e=await(0,h.Z)(l,a),i=new FileReader;i.addEventListener("load",(()=>{(0,t.Rz)("preview_src_before_upload",i.result),(0,t.Rz)("loading_image_upload",!1),s((0,t.M5)())}),!1),l&&i.readAsDataURL(e)}catch(i){console.log(i)}}})]})}),(0,p.jsx)("div",{className:"flexSpace"}),(0,p.jsx)("div",{style:{marginBottom:10},children:(0,t.bh)("preview_src_before_upload")?(0,p.jsxs)("div",{className:"_dsplFlx",style:{margin:"6px 20px 5px"},onClick:async()=>{f.value||(f.value=!0,w.value=(0,d.mU)(20)+" ...",(0,t.Rz)("loading_upload_crop",!0),M())},children:[(0,p.jsx)("div",{className:"lbl_saving ",style:{margin:"4px 20px 0 0"},children:(0,d.mU)(2)}),(0,p.jsxs)("div",{className:"btn_icon",children:[(0,p.jsx)("div",{className:"icon_absol inside ",children:(0,p.jsx)(_,{name:"arrow_up_large",color:"var(--light-300)",size:20})}),(0,p.jsx)("div",{className:"icon_absol ",children:(0,p.jsx)(_,{name:"scan-helper",color:"var(--partial-success)",size:28})})]})]}):null})]}),(0,t.bh)("image_url_mov_add")?(0,p.jsx)("div",{className:"_dsplFlx",children:(0,p.jsx)("div",{style:{margin:"20px 10px"},children:(0,p.jsxs)("div",{className:"_dsplFlx",style:{margin:"6px 20px 5px"},onClick:async()=>{(0,t.bh)(y).date?O():(e=>{var l;let a={zIndex:950,height:"80vh",props:{minHeight:"1vh",overlay:!0}};a.content=(0,p.jsx)(j,{onConfirm:F,colors:{"--calendar-primary-color":"var(--primary-blue--backg-30)","--calendar-primary-backcolor":"var(--primary-blue--hover-back-30)","--calendar-selected_lbl_color":"var(--primary-blue--color-30)","--calendar-light-backcolor":"var(--dark-800)","--calendar-primary-hover-backcolor":"var(--hrm_palette-blue-purple_100)","--calendar-light-300":"var(--light-300)","--calendar-light-200":"var(--light-200)","--calendar-light-100":"var(--light-100)","--calendar-dark-800":"var(dark-800)","--calendar-white-100":"var(--primary-blue--color-30)","--calendar-white":"var(--white)"},init:null===(l=(0,t.bh)(y))||void 0===l?void 0:l.date}),(0,r.OpenModal)(a)})()},children:[(0,p.jsx)("div",{className:"lbl_saving ",style:{margin:"4px 20px 0 0"},children:(0,d.mU)(4)}),(0,p.jsxs)("div",{className:"btn_icon",children:[(0,p.jsx)("div",{className:"icon_absol inside ",children:(0,p.jsx)(_,{name:"search",color:"var(--light-300)",size:20})}),(0,p.jsx)("div",{className:"icon_absol ",children:(0,p.jsx)(_,{name:"scan-helper",color:"var(--partial-success)",size:28})})]})]})})}):null,n?(0,p.jsxs)("div",{className:"imagePreview",children:[(0,p.jsxs)("div",{className:"",onClick:H,children:[(0,p.jsx)("div",{className:"lbl_dtls",children:(0,d.mU)(5)}),(0,p.jsx)("div",{className:"text2link",children:n})]}),(0,p.jsx)(I,{icon:"market",title:(0,d.mU)(50),frmNm:y,keyfld:"title",updObs:z,newValue:n,confirm:H,join:" "}),(0,p.jsx)(I,{icon:"money_outline",title:(0,d.mU)(51),frmNm:y,keyfld:"amount",updObs:z,newValue:n,confirm:H,replace:!0}),(0,p.jsx)(I,{icon:"text",title:(0,d.mU)(52),frmNm:y,keyfld:"document",updObs:z,newValue:n,confirm:H,join:" "}),(0,p.jsx)(I,{icon:"info",title:(0,d.mU)(53),frmNm:y,keyfld:"description",updObs:z,newValue:n,confirm:H,join:" "})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:"text2Copy_container _dsplFlx",ref:x,children:(0,p.jsxs)("div",{className:"",style:{width:"100%"},children:[(0,p.jsxs)("div",{className:"_dsplFlx",children:[(0,p.jsx)("div",{className:"lbl_dtls",style:{marginBottom:12},children:(0,d.mU)(5)}),(0,p.jsx)("div",{className:"flexSpace"}),(0,p.jsx)("div",{className:"icon_absol inside ",onClick:()=>k.value="",children:(0,p.jsx)(_,{name:"cancel",color:"var(--light-300)",size:20})})]}),(0,p.jsx)("div",{className:"text2link",onClick:()=>c(k.value),children:k.referenceRender})]})}),(0,p.jsxs)("div",{className:"loading_animation_container _dsplFlx",style:{marginTop:112},ref:v,children:[(0,p.jsx)("div",{className:"flexSpace"}),(0,p.jsxs)("div",{className:"icon_compr _dsplFlx loadingFit",style:{marginTop:10},children:[(0,p.jsx)("div",{className:"lbl_saving ",children:w.referenceRender}),(0,p.jsx)(b,{stroke:"var(--partial-success)",size:32,strokeW:8})]}),(0,p.jsx)("div",{className:"flexSpace"})]}),(0,p.jsx)("div",{className:"imagePreview image_container",ref:u,children:(0,t.bh)("preview_mov_dmz_add")?(0,p.jsx)(o.d$,{children:(0,p.jsx)(o.Uv,{children:(0,p.jsx)(C,{image:(0,t.bh)("image_preview_mov_add"),updTxt:e=>{k.value=k.value+" "+e,g(!0)}})})}):(0,p.jsx)(N,{handleChange:z,loadingCrop:e=>{f.value=e,w.value=(0,d.mU)(23)+" ..."}})})]})]})},N=e=>{let{loadingCrop:l}=e;const[,a]=(0,i.useState)(1),[s,n]=(0,i.useState)(0),r=(0,i.useRef)(null),c=(0,i.useRef)(null),o=(0,m.g)(!1,(e=>{var l;null===c||void 0===c||null===(l=c.current)||void 0===l||l.setAttribute("show",e)}));return(0,p.jsxs)("div",{children:[(0,t.bh)("preview_src_before_upload")?(0,p.jsxs)("div",{className:"image_options",children:[(0,p.jsx)("div",{className:"flexSpace"}),(0,p.jsxs)("div",{className:"_dsplFlx",onClick:()=>{let e=s+90;e>350&&(e=0),r.current&&(n(e),r.current.rotateImage(45))},children:[(0,p.jsx)("div",{className:"",children:(0,d.mU)(12)}),(0,p.jsx)("div",{className:" ",children:(0,p.jsx)(_,{name:"rotate-left",color:"var(--partial-success)",size:28})})]}),(0,p.jsx)("div",{className:"flexSpace"}),(0,p.jsxs)("div",{className:"_dsplFlx crop_imag_btn",onClick:async()=>{l(!0),setTimeout((()=>{(async()=>{(0,t.Rz)("canvas_cropping",!0);var e=(0,t.bh)("canvas_advanced-cropper").toDataURL(),i=await(0,t.Mi)(e,"application/png");let s=URL.createObjectURL(i);(0,t.Rz)("preview_src_before_upload",s),(0,t.Rz)("canvas_cropping",!1),o.value=!1,setTimeout((()=>{(0,t.Rz)("canvas_advanced-cropper",null),a((0,t.M5)()),o.value=!1,l(!1)}),150)})()}),100)},ref:c,children:[(0,p.jsx)("div",{className:"",children:(0,d.mU)(13)}),(0,p.jsx)("div",{className:" ",children:(0,p.jsx)(_,{name:"crop",color:"var(--partial-success)",size:28})})]}),(0,p.jsx)("div",{className:"flexSpace"})]}):null,(0,p.jsx)("div",{className:"cropper_container",style:{opacity:(0,t.bh)("canvas_cropping")?0:1},children:(0,p.jsx)(v.fle,{src:(0,t.bh)("preview_src_before_upload"),onChange:e=>{let l=e.getCanvas();(0,t.bh)("canvas_advanced-cropper")?o.value=!0:o.value=!1,(0,t.Rz)("canvas_advanced-cropper",l)},className:"cropper",ref:r,defaultSize:e=>{let{imageSize:l,visibleArea:a}=e;return{width:(a||l).width,height:(a||l).height}}})})]})},k=e=>{var l,a,s,n,o;let{activeView:v,close:m}=e,h=(0,t.bh)("movement_type");const[x,g]=(0,i.useState)(1),_=()=>{g((0,t.M5)())};let b=(0,t.vy)(["title","description","document","amount","categoryId"],(0,t.bh)(y),(0,t.bh)(y+"_bck"));const f=(e,l)=>{let a=(0,t.bh)(y)||{};a[e]=l,(0,t.Rz)(y,a),g((0,t.M5)())},w=e=>{f("date",e.initDate+800)},N=e=>{f("categoryId",e)};let k=null!==(l=(0,t.bh)(y))&&void 0!==l&&l.date?(0,t.sG)(null===(a=(0,t.bh)(y))||void 0===a?void 0:a.date):(0,t.sG)(new Date),z=null===(s=(0,t.bh)("categories_ids"))||void 0===s||null===(n=s[null===(o=(0,t.bh)(y))||void 0===o?void 0:o.categoryId])||void 0===n?void 0:n.name;return(0,p.jsxs)("div",{style:{maxWidth:560,height:"98vmin",padding:"5px!important"},children:[(0,p.jsxs)("div",{className:"_dsplFlx ",style:{padding:9},children:[(0,p.jsx)("div",{className:"flexSpace"}),b.hasChange?(0,p.jsx)("div",{className:"",children:(0,p.jsx)(U,{label:(0,d.mU)(43),clickHandler:async()=>{var e,l;let a=(0,t.bh)(y);a.movementId=(0,t.M5)(),a.date?a.date=new Date(a.date).getTime():a.date=(new Date).getTime()+800,a.movementType=h.slice(0,h.length-1);let i={...null===(e=(0,t.bh)((0,t.hQ)()))||void 0===e?void 0:e.add__incms_expns};i.params={businessId:null===(l=(0,t.bh)("profileUser"))||void 0===l?void 0:l.businessId},i.form=a,(async e=>{const l=(0,t.I7)(e),a=await l;a&&!a.error&&((0,t.Rz)("preview_src_before_upload",null),(0,t.Rz)("canvas_advanced-cropper",null),(0,t.Rz)("image_url_mov_add",null),(0,t.Rz)("preview_mov_dmz_add",null),(0,t.Rz)("canvas_advanc",null),m(!0),(0,t.Rz)(y,null))})(i)}})}):null]}),(0,p.jsxs)("div",{className:"scollVh min88 ",children:[(0,p.jsxs)("div",{className:"_dsplFlx  spaceAround flxWrp",children:[(0,p.jsx)(u.Z,{icon:"calendar",label:(0,d.mU)(55),value:k||(0,d.mU)(45),handleClick:e=>{var l;let a={zIndex:950,height:"80vh",props:{minHeight:"1vh",overlay:!0}};a.content=(0,p.jsx)(j,{onConfirm:w,colors:{"--calendar-primary-color":"var(--primary-blue--backg-30)","--calendar-primary-backcolor":"var(--primary-blue--hover-back-30)","--calendar-selected_lbl_color":"var(--primary-blue--color-30)","--calendar-light-backcolor":"var(--dark-800)","--calendar-primary-hover-backcolor":"var(--hrm_palette-blue-purple_100)","--calendar-light-300":"var(--light-300)","--calendar-light-200":"var(--light-200)","--calendar-light-100":"var(--light-100)","--calendar-dark-800":"var(dark-800)","--calendar-white-100":"var(--primary-blue--color-30)","--calendar-white":"var(--white)"},init:null===(l=(0,t.bh)(y))||void 0===l?void 0:l.date}),(0,r.OpenModal)(a)}}),(0,p.jsx)(u.Z,{icon:"groups",label:(0,d.mU)(54),value:z||(0,d.mU)(45),handleClick:e=>{var l;let a={zIndex:480,props:{minHeight:"1vh",overlay:!0}};a.content=(0,p.jsx)(c.Z,{type:h,confirm:N,init:null===(l=(0,t.bh)(y))||void 0===l?void 0:l.categoryId}),(0,r.OpenModal)(a)}})]}),(0,p.jsxs)("div",{className:"_dsplFlx  spaceAround flxWrp",children:[(0,p.jsx)(R,{title:(0,d.mU)(50),frmNm:y,keyfld:"title",updObs:_}),(0,p.jsx)(R,{title:(0,d.mU)(51),frmNm:y,keyfld:"amount",updObs:_}),(0,p.jsx)(R,{title:(0,d.mU)(52),frmNm:y,keyfld:"document",updObs:_}),(0,p.jsx)(R,{title:(0,d.mU)(53),frmNm:y,keyfld:"description",updObs:_,isTxtArea:!0})]})]})]})},z=e=>{let{viewId:l,activeView:a,children:i}=e;return(0,p.jsx)("div",{className:"opacityView",style:{opacity:l===a?1:0,marginTop:2},children:l===a?i:null})},R=e=>{var l;let{title:a,keyfld:s,updObs:n,frmNm:d,isTxtArea:r}=e;const[,c]=(0,i.useState)(1),o=(e,l)=>{let a=(0,t.bh)(d)||{};a[e]=l,(0,t.Rz)(d,a),c((0,t.M5)())};let v=null===(l=(0,t.bh)(d))||void 0===l?void 0:l[s];return(0,p.jsxs)("div",{className:" dtls minhh",children:[(0,p.jsx)("div",{className:"lbl_h_dtls",style:{marginTop:8,textAlign:"left"},children:a}),(0,p.jsx)("div",{className:"_dsplFlx",children:r?(0,p.jsx)("div",{className:"lbl_dtls txt2lp",children:(0,p.jsx)(g,{init:v,width:"86vw",updChanges:e=>o(s,e)})}):(0,p.jsx)("div",{className:"lbl_dtls txt2lp",children:(0,p.jsx)(x,{init:v,width:"86vw",updChanges:e=>o(s,e),onEnter:()=>{n&&n()}})})})]})},I=e=>{var l;let{title:a,keyfld:s,replace:n,frmNm:d,newValue:r,confirm:c,join:o,icon:v}=e;const[,m]=(0,i.useState)(1);let h=null===(l=(0,t.bh)(d))||void 0===l?void 0:l[s];return(0,p.jsx)(u.Z,{icon:v,label:a,value:h||"click to associate",handleClick:()=>{((e,l)=>{let a=(0,t.bh)(d)||{};a[e]=l?l.trim():((0,t.fY)(a[e])+o+r).trim(),(0,t.Rz)(d,a),m((0,t.M5)())})(s,n?r:null),(0,t.Ey)(c)&&c()}})},U=e=>{let{clickHandler:l,label:a}=e;return(0,p.jsx)("div",{className:" jaqJnq_hrm1",children:(0,p.jsx)("button",{className:"gHAsFI_hrm1 dqnOfN jUrKkb",onClick:l,children:(0,p.jsx)("span",{className:" jaqJnq_hrm1",children:a})})})},C=e=>{var l;let{image:a,updTxt:i}=e,s=(0,t.bh)("preview_mov_dmz_add");return(0,p.jsxs)("svg",{id:"ssg_business_card_front",xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 ".concat(null===s||void 0===s?void 0:s.w," ").concat(null===s||void 0===s?void 0:s.h),preserveAspectRatio:"xMidYMid meet",children:[(0,p.jsx)("style",{type:"text/css",children:'@font-face {\n\t\t\t\tfont-family: "Google Sans";\n\t\t\t\tsrc: url(http://fonts.gstatic.com/s/googlesans/v14/4UabrENHsxJlGDuGo1OIlLU94YtzCwY.woff2)\n\n\t\t\t}'}),(0,p.jsx)("rect",{width:null===s||void 0===s?void 0:s.w,height:null===s||void 0===s?void 0:s.h,fill:"#ffffff"}),(0,p.jsx)("image",{width:null===s||void 0===s?void 0:s.w,height:null===s||void 0===s?void 0:s.h,x:0,y:0,xmlnsXlink:"http://www.w3.org/1999/xlink",xlinkHref:a}),null===(l=(0,t.bh)("image_mov_add_text"))||void 0===l?void 0:l.map(((e,l)=>(0,p.jsx)(M,{idKey:l+"_tann",item:e,index:l,updTxt:i},l+"_tann")))]})},M=e=>{var l,a,i,s,n,d;let{item:r,index:c,idKey:o,updTxt:v}=e;const{description:m,boundingPoly:h}=r;let u=null===h||void 0===h?void 0:h.vertices,x=(null===u||void 0===u||null===(l=u[3])||void 0===l?void 0:l.y)-(null===u||void 0===u||null===(a=u[0])||void 0===a?void 0:a.y),g=(null===u||void 0===u||null===(i=u[1])||void 0===i?void 0:i.x)-(null===u||void 0===u||null===(s=u[0])||void 0===s?void 0:s.x);return 0!==c&&null!==u&&void 0!==u&&u[1]?(0,p.jsx)("rect",{onClick:e=>{e.stopPropagation(),e.preventDefault(),v(m),(0,t.vQ)(m,1)},onContextMenu:e=>{e.stopPropagation(),e.preventDefault()},onH:!0,width:g,height:x,fill:"#646cff",fillOpacity:"50%",x:null===u||void 0===u||null===(n=u[0])||void 0===n?void 0:n.x,y:null===u||void 0===u||null===(d=u[0])||void 0===d?void 0:d.y}):null}},8965:(e,l,a)=>{a.d(l,{g:()=>r,w:()=>d});var i=a(2791),s=a(184);const n=(0,i.forwardRef)(((e,l)=>{let{initValue:a}=e;const[n,t]=(0,i.useState)(a);return(0,i.useImperativeHandle)(l,(()=>({refresh(e){t(e)}}))),(0,s.jsxs)(s.Fragment,{children:[" ",n]})})),t="referenceRender",d=(e,l)=>{const[,a]=(0,i.useState)(e),d=(0,i.useRef)(null);return(0,i.useRef)(new Proxy({value:e},{get:function(e,a){return l.shallowRender&&a===t?(0,s.jsx)(n,{initValue:e.value,ref:d}):e[a]?e[a]:Reflect.get(...arguments)},set:function(e,i,s){var n;e[i]!==s&&(e[i]=s,l.shallowRender?null===d||void 0===d||null===(n=d.current)||void 0===n||n.refresh(s):a({...e}));return!0}})).current},r=(e,l,a)=>{const[,s]=(0,i.useState)(e);return(0,i.useRef)(new Proxy({value:e},{get:function(e,l){if(e[l])return e[l]},set:function(e,i,n){return e[i]!==n&&(e[i]=n,l&&l(e[i]),null!==a&&void 0!==a&&a.deep&&s({...e})),!0}})).current}}}]);
//# sourceMappingURL=9927.d32c71a2.chunk.js.map