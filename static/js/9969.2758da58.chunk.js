"use strict";(self.webpackChunkhrmfinance=self.webpackChunkhrmfinance||[]).push([[9969,5194],{1106:(i,e,o)=>{o.r(e),o.d(e,{default:()=>v});var n=o(2791),t=o(2350),a=(o(4536),o(9760)),d=o(6695),s=o(2647),c=(o(1839),o(184));var l=o(8291);o(713),o(1792);(0,s.PU)();const r=(0,l.mX)(),v=i=>{var e;let{data:o,index:s,handleRefreshAll:l,show:v}=i;const[u,m]=(0,n.useState)(!1),[p,_]=(0,n.useState)(0);if((0,n.useEffect)((()=>{u||(m(!0),_((0,t.M5)()))})),!v)return null;const h=()=>{_((0,t.M5)())},b=()=>{(0,d.p9)(h)};(0,d.Hy)(null===(e=(0,t.bh)("sub_invoice_group"))||void 0===e?void 0:e[o.invoiceId],"subInvoice");return 1*(null===o||void 0===o?void 0:o.sales)===0?null:(0,c.jsx)("div",{className:"item_acc amzn_itm ".concat(s),children:(0,c.jsxs)("div",{className:"_dsplFlx item_box invoice_header",onClick:i=>{let e={zIndex:450,height:"80vh",props:{minHeight:"1vh",overlay:!0}};e.content=(0,c.jsx)(r,{confirm:b,item:o}),(0,a.OpenModal)(e)},children:[(0,c.jsx)("div",{className:"name tr_bar_10",children:null===o||void 0===o?void 0:o.asin}),(0,c.jsx)("div",{className:"title tr_bar_60",style:{marginLeft:15,fontSize:12},children:null===o||void 0===o?void 0:o.title}),(0,c.jsx)("div",{className:"amount tr_bar_7_5 "}),(0,c.jsx)("div",{className:"amount tr_bar_7_5 ",children:(1*(null===o||void 0===o?void 0:o.shipped)).toFixed(2)}),(0,c.jsxs)("div",{className:"amount tr_bar_7_5 ",children:["$",(1*(null===o||void 0===o?void 0:o.sales)).toFixed(2)]}),(0,c.jsxs)("div",{className:"amount tr_bar_7_5 ",children:["$",(1*(null===o||void 0===o?void 0:o.cost)).toFixed(2)]})]})})}},6695:(i,e,o)=>{o.d(e,{Hy:()=>a,S$:()=>d,p9:()=>t});var n=o(2350);const t=async i=>{let e=(0,n.bh)("getall_invoice_last")||0;if(Date.now()>e){var o,t;(0,n.Rz)("getall_invoice_last",Date.now()+190);let e={...null===(o=(0,n.bh)((0,n.hQ)()))||void 0===o?void 0:o.all_invoices};e.params={businessId:null===(t=(0,n.bh)("profileUser"))||void 0===t?void 0:t.businessId};const d=(0,n.I7)(e),s=await d;s&&((0,n.Rz)("invoices_list",a(s,"date")),(0,n.Rz)("invoices_ids",(0,n.ME)((0,n.jQ)(s),"invoiceId")),i&&i())}},a=(i,e)=>(0,n.MV)("sortInvoices",[i],(()=>i&&i.sort(((i,o)=>{let n=i[e],t=o[e];return n<t?-1:n>t?1:0})))),d=async i=>{var e,o;let t={...null===(e=(0,n.bh)((0,n.hQ)()))||void 0===e?void 0:e.all_invoices};t.params={businessId:null===(o=(0,n.bh)("profileUser"))||void 0===o?void 0:o.businessId};const a=(0,n.I7)(t),d=await a;d&&((0,n.Rz)("invoiceCmp",d),s("SSJsgB2uUqcuoagD",(()=>{s("v5MkYLwPAbgci3wW",(()=>{let e=c();(0,n.Rz)("invoiceCmpDocs",e),i&&i()}))})))},s=async(i,e)=>{var o,t;let a={...null===(o=(0,n.bh)((0,n.hQ)()))||void 0===o?void 0:o.filter_search_opera};a.params={businessId:null===(t=(0,n.bh)("profileUser"))||void 0===t?void 0:t.businessId,year:(0,n.bh)("date_current_year"),":account":i};const d=(0,n.I7)(a),s=await d;s&&!s.error?((0,n.Rz)("invoiceCmp"+i,s),e&&e()):e&&e()},c=()=>{let i=(0,n.bh)("invoiceCmp"),e=(0,n.bh)("invoiceCmpSSJsgB2uUqcuoagD"),o=(0,n.bh)("invoiceCmpv5MkYLwPAbgci3wW"),t={};return(0,n._2)(i).map((e=>{let o=i[e].document.trim();var n,a;t[o]||(t[o]={document:o,invoiceId:null===(n=i[e])||void 0===n?void 0:n.invoiceId,invoiceLinkConfirmed:null===(a=i[e])||void 0===a?void 0:a.invoiceLinkConfirmed,amount:0,saldo:0,hasAnticipo:0,cc_c:0,cc_d:0,comprobanteIds:{}});t[o].amount+=i[e].amount,t[o].saldo+=1*i[e].amount,t[o].date=i[e].date})),(0,n._2)(e).map((i=>{var o,n,a;let d=e[i].document.trim();t[d]||(t[d]={document:d,amount:0,saldo:0,hasAnticipo:0,cc_c:0,cc_d:0,comprobanteIds:{}}),t[d].cc_d+="debit"===(null===(o=e[i])||void 0===o?void 0:o.type)?1*e[i].amount:0,t[d].cc_c+="credit"===(null===(n=e[i])||void 0===n?void 0:n.type)?1*e[i].amount:0,t[d].saldo+="credit"===(null===(a=e[i])||void 0===a?void 0:a.type)?-1*e[i].amount:0,t[d].comprobanteIds[e[i].comprobanteId]={date:e[i].date,description:e[i].description}})),(0,n._2)(o).map((i=>{var e,n;let a=o[i].document.trim();a.indexOf("A-")>=0&&(a=a.split("A-")[1]),t[a]||(t[a]={document:a,amount:0,hasAnticipo:0,cc_c:0,cc_d:0,saldo:0,comprobanteIds:{}}),t[a].hasAnticipo+="credit"===(null===(e=o[i])||void 0===e?void 0:e.type)?1*o[i].amount:-1*o[i].amount,t[a].saldo+=-1*("credit"===(null===(n=o[i])||void 0===n?void 0:n.type)?1*o[i].amount:-1*o[i].amount),t[a].comprobanteIds[o[i].comprobanteId]={date:o[i].date,description:o[i].description}})),t}},4536:()=>{}}]);
//# sourceMappingURL=9969.2758da58.chunk.js.map